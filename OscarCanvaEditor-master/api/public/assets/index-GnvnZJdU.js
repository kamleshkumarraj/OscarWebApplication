function CU(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function f_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var d_={exports:{}},Ay={},p_={exports:{}},fn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g2=Symbol.for("react.element"),kU=Symbol.for("react.portal"),EU=Symbol.for("react.fragment"),AU=Symbol.for("react.strict_mode"),NU=Symbol.for("react.profiler"),LU=Symbol.for("react.provider"),_U=Symbol.for("react.context"),OU=Symbol.for("react.forward_ref"),PU=Symbol.for("react.suspense"),TU=Symbol.for("react.memo"),MU=Symbol.for("react.lazy"),pk=Symbol.iterator;function RU(e){return e===null||typeof e!="object"?null:(e=pk&&e[pk]||e["@@iterator"],typeof e=="function"?e:null)}var g_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m_=Object.assign,v_={};function Pg(e,t,n){this.props=e,this.context=t,this.refs=v_,this.updater=n||g_}Pg.prototype.isReactComponent={};Pg.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pg.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function y_(){}y_.prototype=Pg.prototype;function xS(e,t,n){this.props=e,this.context=t,this.refs=v_,this.updater=n||g_}var SS=xS.prototype=new y_;SS.constructor=xS;m_(SS,Pg.prototype);SS.isPureReactComponent=!0;var gk=Array.isArray,w_=Object.prototype.hasOwnProperty,CS={current:null},b_={key:!0,ref:!0,__self:!0,__source:!0};function x_(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)w_.call(t,r)&&!b_.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:g2,type:e,key:o,ref:s,props:i,_owner:CS.current}}function DU(e,t){return{$$typeof:g2,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kS(e){return typeof e=="object"&&e!==null&&e.$$typeof===g2}function IU(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var mk=/\/+/g;function Hb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?IU(""+e.key):t.toString(36)}function wv(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case g2:case kU:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Hb(s,0):r,gk(i)?(n="",e!=null&&(n=e.replace(mk,"$&/")+"/"),wv(i,t,n,"",function(c){return c})):i!=null&&(kS(i)&&(i=DU(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(mk,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",gk(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+Hb(o,a);s+=wv(o,t,n,l,i)}else if(l=RU(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+Hb(o,a++),s+=wv(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function L1(e,t,n){if(e==null)return e;var r=[],i=0;return wv(e,r,"","",function(o){return t.call(n,o,i++)}),r}function zU(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Io={current:null},bv={transition:null},FU={ReactCurrentDispatcher:Io,ReactCurrentBatchConfig:bv,ReactCurrentOwner:CS};fn.Children={map:L1,forEach:function(e,t,n){L1(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return L1(e,function(){t++}),t},toArray:function(e){return L1(e,function(t){return t})||[]},only:function(e){if(!kS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fn.Component=Pg;fn.Fragment=EU;fn.Profiler=NU;fn.PureComponent=xS;fn.StrictMode=AU;fn.Suspense=PU;fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FU;fn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=m_({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=CS.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)w_.call(t,l)&&!b_.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:g2,type:e.type,key:i,ref:o,props:r,_owner:s}};fn.createContext=function(e){return e={$$typeof:_U,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:LU,_context:e},e.Consumer=e};fn.createElement=x_;fn.createFactory=function(e){var t=x_.bind(null,e);return t.type=e,t};fn.createRef=function(){return{current:null}};fn.forwardRef=function(e){return{$$typeof:OU,render:e}};fn.isValidElement=kS;fn.lazy=function(e){return{$$typeof:MU,_payload:{_status:-1,_result:e},_init:zU}};fn.memo=function(e,t){return{$$typeof:TU,type:e,compare:t===void 0?null:t}};fn.startTransition=function(e){var t=bv.transition;bv.transition={};try{e()}finally{bv.transition=t}};fn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};fn.useCallback=function(e,t){return Io.current.useCallback(e,t)};fn.useContext=function(e){return Io.current.useContext(e)};fn.useDebugValue=function(){};fn.useDeferredValue=function(e){return Io.current.useDeferredValue(e)};fn.useEffect=function(e,t){return Io.current.useEffect(e,t)};fn.useId=function(){return Io.current.useId()};fn.useImperativeHandle=function(e,t,n){return Io.current.useImperativeHandle(e,t,n)};fn.useInsertionEffect=function(e,t){return Io.current.useInsertionEffect(e,t)};fn.useLayoutEffect=function(e,t){return Io.current.useLayoutEffect(e,t)};fn.useMemo=function(e,t){return Io.current.useMemo(e,t)};fn.useReducer=function(e,t,n){return Io.current.useReducer(e,t,n)};fn.useRef=function(e){return Io.current.useRef(e)};fn.useState=function(e){return Io.current.useState(e)};fn.useSyncExternalStore=function(e,t,n){return Io.current.useSyncExternalStore(e,t,n)};fn.useTransition=function(){return Io.current.useTransition()};fn.version="18.2.0";p_.exports=fn;var M=p_.exports;const Un=f_(M),vk=CU({__proto__:null,default:Un},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jU=M,BU=Symbol.for("react.element"),$U=Symbol.for("react.fragment"),VU=Object.prototype.hasOwnProperty,UU=jU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qU={key:!0,ref:!0,__self:!0,__source:!0};function S_(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)VU.call(t,r)&&!qU.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:BU,type:e,key:o,ref:s,props:i,_owner:UU.current}}Ay.Fragment=$U;Ay.jsx=S_;Ay.jsxs=S_;d_.exports=Ay;var yk=d_.exports;function WU(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function HU(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var GU=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(HU(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=WU(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),to="-ms-",i5="-moz-",Mn="-webkit-",C_="comm",ES="rule",AS="decl",KU="@import",k_="@keyframes",YU="@layer",JU=Math.abs,Ny=String.fromCharCode,XU=Object.assign;function QU(e,t){return zi(e,0)^45?(((t<<2^zi(e,0))<<2^zi(e,1))<<2^zi(e,2))<<2^zi(e,3):0}function E_(e){return e.trim()}function ZU(e,t){return(e=t.exec(e))?e[0]:e}function Dn(e,t,n){return e.replace(t,n)}function K4(e,t){return e.indexOf(t)}function zi(e,t){return e.charCodeAt(t)|0}function y0(e,t,n){return e.slice(t,n)}function bl(e){return e.length}function NS(e){return e.length}function _1(e,t){return t.push(e),e}function eq(e,t){return e.map(t).join("")}var Ly=1,rg=1,A_=0,ns=0,ei=0,Tg="";function _y(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:Ly,column:rg,length:s,return:""}}function mm(e,t){return XU(_y("",null,null,"",null,null,0),e,{length:-e.length},t)}function tq(){return ei}function nq(){return ei=ns>0?zi(Tg,--ns):0,rg--,ei===10&&(rg=1,Ly--),ei}function Es(){return ei=ns<A_?zi(Tg,ns++):0,rg++,ei===10&&(rg=1,Ly++),ei}function Tl(){return zi(Tg,ns)}function xv(){return ns}function m2(e,t){return y0(Tg,e,t)}function w0(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function N_(e){return Ly=rg=1,A_=bl(Tg=e),ns=0,[]}function L_(e){return Tg="",e}function Sv(e){return E_(m2(ns-1,Y4(e===91?e+2:e===40?e+1:e)))}function rq(e){for(;(ei=Tl())&&ei<33;)Es();return w0(e)>2||w0(ei)>3?"":" "}function iq(e,t){for(;--t&&Es()&&!(ei<48||ei>102||ei>57&&ei<65||ei>70&&ei<97););return m2(e,xv()+(t<6&&Tl()==32&&Es()==32))}function Y4(e){for(;Es();)switch(ei){case e:return ns;case 34:case 39:e!==34&&e!==39&&Y4(ei);break;case 40:e===41&&Y4(e);break;case 92:Es();break}return ns}function oq(e,t){for(;Es()&&e+ei!==57;)if(e+ei===84&&Tl()===47)break;return"/*"+m2(t,ns-1)+"*"+Ny(e===47?e:Es())}function sq(e){for(;!w0(Tl());)Es();return m2(e,ns)}function aq(e){return L_(Cv("",null,null,null,[""],e=N_(e),0,[0],e))}function Cv(e,t,n,r,i,o,s,a,l){for(var c=0,h=0,f=s,g=0,d=0,m=0,y=1,C=1,x=1,w=0,E="",N=i,_=o,D=r,P=E;C;)switch(m=w,w=Es()){case 40:if(m!=108&&zi(P,f-1)==58){K4(P+=Dn(Sv(w),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:P+=Sv(w);break;case 9:case 10:case 13:case 32:P+=rq(m);break;case 92:P+=iq(xv()-1,7);continue;case 47:switch(Tl()){case 42:case 47:_1(lq(oq(Es(),xv()),t,n),l);break;default:P+="/"}break;case 123*y:a[c++]=bl(P)*x;case 125*y:case 59:case 0:switch(w){case 0:case 125:C=0;case 59+h:x==-1&&(P=Dn(P,/\f/g,"")),d>0&&bl(P)-f&&_1(d>32?bk(P+";",r,n,f-1):bk(Dn(P," ","")+";",r,n,f-2),l);break;case 59:P+=";";default:if(_1(D=wk(P,t,n,c,h,i,a,E,N=[],_=[],f),o),w===123)if(h===0)Cv(P,t,D,D,N,o,f,a,_);else switch(g===99&&zi(P,3)===110?100:g){case 100:case 108:case 109:case 115:Cv(e,D,D,r&&_1(wk(e,D,D,0,0,i,a,E,i,N=[],f),_),i,_,f,a,r?N:_);break;default:Cv(P,D,D,D,[""],_,0,a,_)}}c=h=d=0,y=x=1,E=P="",f=s;break;case 58:f=1+bl(P),d=m;default:if(y<1){if(w==123)--y;else if(w==125&&y++==0&&nq()==125)continue}switch(P+=Ny(w),w*y){case 38:x=h>0?1:(P+="\f",-1);break;case 44:a[c++]=(bl(P)-1)*x,x=1;break;case 64:Tl()===45&&(P+=Sv(Es())),g=Tl(),h=f=bl(E=P+=sq(xv())),w++;break;case 45:m===45&&bl(P)==2&&(y=0)}}return o}function wk(e,t,n,r,i,o,s,a,l,c,h){for(var f=i-1,g=i===0?o:[""],d=NS(g),m=0,y=0,C=0;m<r;++m)for(var x=0,w=y0(e,f+1,f=JU(y=s[m])),E=e;x<d;++x)(E=E_(y>0?g[x]+" "+w:Dn(w,/&\f/g,g[x])))&&(l[C++]=E);return _y(e,t,n,i===0?ES:a,l,c,h)}function lq(e,t,n){return _y(e,t,n,C_,Ny(tq()),y0(e,2,-2),0)}function bk(e,t,n,r){return _y(e,t,n,AS,y0(e,0,r),y0(e,r+1,-1),r)}function zp(e,t){for(var n="",r=NS(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function cq(e,t,n,r){switch(e.type){case YU:if(e.children.length)break;case KU:case AS:return e.return=e.return||e.value;case C_:return"";case k_:return e.return=e.value+"{"+zp(e.children,r)+"}";case ES:e.value=e.props.join(",")}return bl(n=zp(e.children,r))?e.return=e.value+"{"+n+"}":""}function uq(e){var t=NS(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function hq(e){return function(t){t.root||(t=t.return)&&e(t)}}function fq(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var dq=function(t,n,r){for(var i=0,o=0;i=o,o=Tl(),i===38&&o===12&&(n[r]=1),!w0(o);)Es();return m2(t,ns)},pq=function(t,n){var r=-1,i=44;do switch(w0(i)){case 0:i===38&&Tl()===12&&(n[r]=1),t[r]+=dq(ns-1,n,r);break;case 2:t[r]+=Sv(i);break;case 4:if(i===44){t[++r]=Tl()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Ny(i)}while(i=Es());return t},gq=function(t,n){return L_(pq(N_(t),n))},xk=new WeakMap,mq=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!xk.get(r))&&!i){xk.set(t,!0);for(var o=[],s=gq(n,o),a=r.props,l=0,c=0;l<s.length;l++)for(var h=0;h<a.length;h++,c++)t.props[c]=o[l]?s[l].replace(/&\f/g,a[h]):a[h]+" "+s[l]}}},vq=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function __(e,t){switch(QU(e,t)){case 5103:return Mn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Mn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Mn+e+i5+e+to+e+e;case 6828:case 4268:return Mn+e+to+e+e;case 6165:return Mn+e+to+"flex-"+e+e;case 5187:return Mn+e+Dn(e,/(\w+).+(:[^]+)/,Mn+"box-$1$2"+to+"flex-$1$2")+e;case 5443:return Mn+e+to+"flex-item-"+Dn(e,/flex-|-self/,"")+e;case 4675:return Mn+e+to+"flex-line-pack"+Dn(e,/align-content|flex-|-self/,"")+e;case 5548:return Mn+e+to+Dn(e,"shrink","negative")+e;case 5292:return Mn+e+to+Dn(e,"basis","preferred-size")+e;case 6060:return Mn+"box-"+Dn(e,"-grow","")+Mn+e+to+Dn(e,"grow","positive")+e;case 4554:return Mn+Dn(e,/([^-])(transform)/g,"$1"+Mn+"$2")+e;case 6187:return Dn(Dn(Dn(e,/(zoom-|grab)/,Mn+"$1"),/(image-set)/,Mn+"$1"),e,"")+e;case 5495:case 3959:return Dn(e,/(image-set\([^]*)/,Mn+"$1$`$1");case 4968:return Dn(Dn(e,/(.+:)(flex-)?(.*)/,Mn+"box-pack:$3"+to+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Mn+e+e;case 4095:case 3583:case 4068:case 2532:return Dn(e,/(.+)-inline(.+)/,Mn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(bl(e)-1-t>6)switch(zi(e,t+1)){case 109:if(zi(e,t+4)!==45)break;case 102:return Dn(e,/(.+:)(.+)-([^]+)/,"$1"+Mn+"$2-$3$1"+i5+(zi(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~K4(e,"stretch")?__(Dn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(zi(e,t+1)!==115)break;case 6444:switch(zi(e,bl(e)-3-(~K4(e,"!important")&&10))){case 107:return Dn(e,":",":"+Mn)+e;case 101:return Dn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Mn+(zi(e,14)===45?"inline-":"")+"box$3$1"+Mn+"$2$3$1"+to+"$2box$3")+e}break;case 5936:switch(zi(e,t+11)){case 114:return Mn+e+to+Dn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Mn+e+to+Dn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Mn+e+to+Dn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Mn+e+to+e+e}return e}var yq=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case AS:t.return=__(t.value,t.length);break;case k_:return zp([mm(t,{value:Dn(t.value,"@","@"+Mn)})],i);case ES:if(t.length)return eq(t.props,function(o){switch(ZU(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return zp([mm(t,{props:[Dn(o,/:(read-\w+)/,":"+i5+"$1")]})],i);case"::placeholder":return zp([mm(t,{props:[Dn(o,/:(plac\w+)/,":"+Mn+"input-$1")]}),mm(t,{props:[Dn(o,/:(plac\w+)/,":"+i5+"$1")]}),mm(t,{props:[Dn(o,/:(plac\w+)/,to+"input-$1")]})],i)}return""})}},wq=[yq],bq=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var C=y.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=t.stylisPlugins||wq,o={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var C=y.getAttribute("data-emotion").split(" "),x=1;x<C.length;x++)o[C[x]]=!0;a.push(y)});var l,c=[mq,vq];{var h,f=[cq,hq(function(y){h.insert(y)})],g=uq(c.concat(i,f)),d=function(C){return zp(aq(C),g)};l=function(C,x,w,E){h=w,d(C?C+"{"+x.styles+"}":x.styles),E&&(m.inserted[x.name]=!0)}}var m={key:n,sheet:new GU({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return m.sheet.hydrate(a),m},O_={exports:{}},Kn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ai=typeof Symbol=="function"&&Symbol.for,LS=Ai?Symbol.for("react.element"):60103,_S=Ai?Symbol.for("react.portal"):60106,Oy=Ai?Symbol.for("react.fragment"):60107,Py=Ai?Symbol.for("react.strict_mode"):60108,Ty=Ai?Symbol.for("react.profiler"):60114,My=Ai?Symbol.for("react.provider"):60109,Ry=Ai?Symbol.for("react.context"):60110,OS=Ai?Symbol.for("react.async_mode"):60111,Dy=Ai?Symbol.for("react.concurrent_mode"):60111,Iy=Ai?Symbol.for("react.forward_ref"):60112,zy=Ai?Symbol.for("react.suspense"):60113,xq=Ai?Symbol.for("react.suspense_list"):60120,Fy=Ai?Symbol.for("react.memo"):60115,jy=Ai?Symbol.for("react.lazy"):60116,Sq=Ai?Symbol.for("react.block"):60121,Cq=Ai?Symbol.for("react.fundamental"):60117,kq=Ai?Symbol.for("react.responder"):60118,Eq=Ai?Symbol.for("react.scope"):60119;function Rs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case LS:switch(e=e.type,e){case OS:case Dy:case Oy:case Ty:case Py:case zy:return e;default:switch(e=e&&e.$$typeof,e){case Ry:case Iy:case jy:case Fy:case My:return e;default:return t}}case _S:return t}}}function P_(e){return Rs(e)===Dy}Kn.AsyncMode=OS;Kn.ConcurrentMode=Dy;Kn.ContextConsumer=Ry;Kn.ContextProvider=My;Kn.Element=LS;Kn.ForwardRef=Iy;Kn.Fragment=Oy;Kn.Lazy=jy;Kn.Memo=Fy;Kn.Portal=_S;Kn.Profiler=Ty;Kn.StrictMode=Py;Kn.Suspense=zy;Kn.isAsyncMode=function(e){return P_(e)||Rs(e)===OS};Kn.isConcurrentMode=P_;Kn.isContextConsumer=function(e){return Rs(e)===Ry};Kn.isContextProvider=function(e){return Rs(e)===My};Kn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===LS};Kn.isForwardRef=function(e){return Rs(e)===Iy};Kn.isFragment=function(e){return Rs(e)===Oy};Kn.isLazy=function(e){return Rs(e)===jy};Kn.isMemo=function(e){return Rs(e)===Fy};Kn.isPortal=function(e){return Rs(e)===_S};Kn.isProfiler=function(e){return Rs(e)===Ty};Kn.isStrictMode=function(e){return Rs(e)===Py};Kn.isSuspense=function(e){return Rs(e)===zy};Kn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Oy||e===Dy||e===Ty||e===Py||e===zy||e===xq||typeof e=="object"&&e!==null&&(e.$$typeof===jy||e.$$typeof===Fy||e.$$typeof===My||e.$$typeof===Ry||e.$$typeof===Iy||e.$$typeof===Cq||e.$$typeof===kq||e.$$typeof===Eq||e.$$typeof===Sq)};Kn.typeOf=Rs;O_.exports=Kn;var Aq=O_.exports,T_=Aq,Nq={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Lq={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},M_={};M_[T_.ForwardRef]=Nq;M_[T_.Memo]=Lq;var _q=!0;function Oq(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var R_=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||_q===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},Pq=function(t,n,r){R_(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function Tq(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Mq={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Rq=/[A-Z]|^ms/g,Dq=/_EMO_([^_]+?)_([^]*?)_EMO_/g,D_=function(t){return t.charCodeAt(1)===45},Sk=function(t){return t!=null&&typeof t!="boolean"},Gb=fq(function(e){return D_(e)?e:e.replace(Rq,"-$&").toLowerCase()}),Ck=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(Dq,function(r,i,o){return xl={name:i,styles:o,next:xl},i})}return Mq[t]!==1&&!D_(t)&&typeof n=="number"&&n!==0?n+"px":n};function b0(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return xl={name:n.name,styles:n.styles,next:xl},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)xl={name:r.name,styles:r.styles,next:xl},r=r.next;var i=n.styles+";";return i}return Iq(e,t,n)}case"function":{if(e!==void 0){var o=xl,s=n(e);return xl=o,b0(e,t,s)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function Iq(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=b0(e,t,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")t!=null&&t[s]!==void 0?r+=o+"{"+t[s]+"}":Sk(s)&&(r+=Gb(o)+":"+Ck(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var a=0;a<s.length;a++)Sk(s[a])&&(r+=Gb(o)+":"+Ck(o,s[a])+";");else{var l=b0(e,t,s);switch(o){case"animation":case"animationName":{r+=Gb(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var kk=/label:\s*([^\s;\n{]+)\s*(;|$)/g,xl,zq=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";xl=void 0;var s=t[0];s==null||s.raw===void 0?(i=!1,o+=b0(r,n,s)):o+=s[0];for(var a=1;a<t.length;a++)o+=b0(r,n,t[a]),i&&(o+=s[a]);kk.lastIndex=0;for(var l="",c;(c=kk.exec(o))!==null;)l+="-"+c[1];var h=Tq(o)+l;return{name:h,styles:o,next:xl}},Fq=function(t){return t()},jq=vk.useInsertionEffect?vk.useInsertionEffect:!1,Bq=jq||Fq,PS={}.hasOwnProperty,I_=M.createContext(typeof HTMLElement<"u"?bq({key:"css"}):null);I_.Provider;var $q=function(t){return M.forwardRef(function(n,r){var i=M.useContext(I_);return t(n,i,r)})},Vq=M.createContext({}),J4="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Uq=function(t,n){var r={};for(var i in n)PS.call(n,i)&&(r[i]=n[i]);return r[J4]=t,r},qq=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return R_(n,r,i),Bq(function(){return Pq(n,r,i)}),null},Wq=$q(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[J4],o=[r],s="";typeof e.className=="string"?s=Oq(t.registered,o,e.className):e.className!=null&&(s=e.className+" ");var a=zq(o,void 0,M.useContext(Vq));s+=t.key+"-"+a.name;var l={};for(var c in e)PS.call(e,c)&&c!=="css"&&c!==J4&&(l[c]=e[c]);return l.ref=n,l.className=s,M.createElement(M.Fragment,null,M.createElement(qq,{cache:t,serialized:a,isStringTag:typeof i=="string"}),M.createElement(i,l))}),Hq=Wq;function TS(e,t,n){return PS.call(t,"css")?yk.jsx(Hq,Uq(e,t),n):yk.jsx(e,t,n)}var X4={},z_={exports:{}},Ds={},F_={exports:{}},j_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Z,le){var ue=Z.length;Z.push(le);e:for(;0<ue;){var ge=ue-1>>>1,F=Z[ge];if(0<i(F,le))Z[ge]=le,Z[ue]=F,ue=ge;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var le=Z[0],ue=Z.pop();if(ue!==le){Z[0]=ue;e:for(var ge=0,F=Z.length,Q=F>>>1;ge<Q;){var re=2*(ge+1)-1,he=Z[re],pe=re+1,Se=Z[pe];if(0>i(he,ue))pe<F&&0>i(Se,he)?(Z[ge]=Se,Z[pe]=ue,ge=pe):(Z[ge]=he,Z[re]=ue,ge=re);else if(pe<F&&0>i(Se,ue))Z[ge]=Se,Z[pe]=ue,ge=pe;else break e}}return le}function i(Z,le){var ue=Z.sortIndex-le.sortIndex;return ue!==0?ue:Z.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],h=1,f=null,g=3,d=!1,m=!1,y=!1,C=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(Z){for(var le=n(c);le!==null;){if(le.callback===null)r(c);else if(le.startTime<=Z)r(c),le.sortIndex=le.expirationTime,t(l,le);else break;le=n(c)}}function N(Z){if(y=!1,E(Z),!m)if(n(l)!==null)m=!0,se(_);else{var le=n(c);le!==null&&ae(N,le.startTime-Z)}}function _(Z,le){m=!1,y&&(y=!1,x(I),I=-1),d=!0;var ue=g;try{for(E(le),f=n(l);f!==null&&(!(f.expirationTime>le)||Z&&!O());){var ge=f.callback;if(typeof ge=="function"){f.callback=null,g=f.priorityLevel;var F=ge(f.expirationTime<=le);le=e.unstable_now(),typeof F=="function"?f.callback=F:f===n(l)&&r(l),E(le)}else r(l);f=n(l)}if(f!==null)var Q=!0;else{var re=n(c);re!==null&&ae(N,re.startTime-le),Q=!1}return Q}finally{f=null,g=ue,d=!1}}var D=!1,P=null,I=-1,W=5,G=-1;function O(){return!(e.unstable_now()-G<W)}function z(){if(P!==null){var Z=e.unstable_now();G=Z;var le=!0;try{le=P(!0,Z)}finally{le?U():(D=!1,P=null)}}else D=!1}var U;if(typeof w=="function")U=function(){w(z)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ne=$.port2;$.port1.onmessage=z,U=function(){ne.postMessage(null)}}else U=function(){C(z,0)};function se(Z){P=Z,D||(D=!0,U())}function ae(Z,le){I=C(function(){Z(e.unstable_now())},le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){m||d||(m=!0,se(_))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(Z){switch(g){case 1:case 2:case 3:var le=3;break;default:le=g}var ue=g;g=le;try{return Z()}finally{g=ue}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,le){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ue=g;g=Z;try{return le()}finally{g=ue}},e.unstable_scheduleCallback=function(Z,le,ue){var ge=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ge+ue:ge):ue=ge,Z){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ue+F,Z={id:h++,callback:le,priorityLevel:Z,startTime:ue,expirationTime:F,sortIndex:-1},ue>ge?(Z.sortIndex=ue,t(c,Z),n(l)===null&&Z===n(c)&&(y?(x(I),I=-1):y=!0,ae(N,ue-ge))):(Z.sortIndex=F,t(l,Z),m||d||(m=!0,se(_))),Z},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(Z){var le=g;return function(){var ue=g;g=le;try{return Z.apply(this,arguments)}finally{g=ue}}}})(j_);F_.exports=j_;var Gq=F_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_=M,Os=Gq;function rt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $_=new Set,x0={};function ud(e,t){ig(e,t),ig(e+"Capture",t)}function ig(e,t){for(x0[e]=t,e=0;e<t.length;e++)$_.add(t[e])}var Nc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Q4=Object.prototype.hasOwnProperty,Kq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ek={},Ak={};function Yq(e){return Q4.call(Ak,e)?!0:Q4.call(Ek,e)?!1:Kq.test(e)?Ak[e]=!0:(Ek[e]=!0,!1)}function Jq(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Xq(e,t,n,r){if(t===null||typeof t>"u"||Jq(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function zo(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var $i={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$i[e]=new zo(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$i[t]=new zo(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$i[e]=new zo(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$i[e]=new zo(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$i[e]=new zo(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$i[e]=new zo(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$i[e]=new zo(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$i[e]=new zo(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$i[e]=new zo(e,5,!1,e.toLowerCase(),null,!1,!1)});var MS=/[\-:]([a-z])/g;function RS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(MS,RS);$i[t]=new zo(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(MS,RS);$i[t]=new zo(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(MS,RS);$i[t]=new zo(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$i[e]=new zo(e,1,!1,e.toLowerCase(),null,!1,!1)});$i.xlinkHref=new zo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$i[e]=new zo(e,1,!1,e.toLowerCase(),null,!0,!0)});function DS(e,t,n,r){var i=$i.hasOwnProperty(t)?$i[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Xq(t,n,i,r)&&(n=null),r||i===null?Yq(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ic=B_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O1=Symbol.for("react.element"),gp=Symbol.for("react.portal"),mp=Symbol.for("react.fragment"),IS=Symbol.for("react.strict_mode"),Z4=Symbol.for("react.profiler"),V_=Symbol.for("react.provider"),U_=Symbol.for("react.context"),zS=Symbol.for("react.forward_ref"),e3=Symbol.for("react.suspense"),t3=Symbol.for("react.suspense_list"),FS=Symbol.for("react.memo"),zu=Symbol.for("react.lazy"),q_=Symbol.for("react.offscreen"),Nk=Symbol.iterator;function vm(e){return e===null||typeof e!="object"?null:(e=Nk&&e[Nk]||e["@@iterator"],typeof e=="function"?e:null)}var Lr=Object.assign,Kb;function zm(e){if(Kb===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Kb=t&&t[1]||""}return`
`+Kb+e}var Yb=!1;function Jb(e,t){if(!e||Yb)return"";Yb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Yb=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?zm(e):""}function Qq(e){switch(e.tag){case 5:return zm(e.type);case 16:return zm("Lazy");case 13:return zm("Suspense");case 19:return zm("SuspenseList");case 0:case 2:case 15:return e=Jb(e.type,!1),e;case 11:return e=Jb(e.type.render,!1),e;case 1:return e=Jb(e.type,!0),e;default:return""}}function n3(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mp:return"Fragment";case gp:return"Portal";case Z4:return"Profiler";case IS:return"StrictMode";case e3:return"Suspense";case t3:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case U_:return(e.displayName||"Context")+".Consumer";case V_:return(e._context.displayName||"Context")+".Provider";case zS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case FS:return t=e.displayName||null,t!==null?t:n3(e.type)||"Memo";case zu:t=e._payload,e=e._init;try{return n3(e(t))}catch{}}return null}function Zq(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return n3(t);case 8:return t===IS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function dh(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function W_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function eW(e){var t=W_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function P1(e){e._valueTracker||(e._valueTracker=eW(e))}function H_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function o5(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function r3(e,t){var n=t.checked;return Lr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Lk(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=dh(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function G_(e,t){t=t.checked,t!=null&&DS(e,"checked",t,!1)}function i3(e,t){G_(e,t);var n=dh(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?o3(e,t.type,n):t.hasOwnProperty("defaultValue")&&o3(e,t.type,dh(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _k(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function o3(e,t,n){(t!=="number"||o5(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Fm=Array.isArray;function Fp(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dh(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function s3(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(rt(91));return Lr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ok(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(rt(92));if(Fm(n)){if(1<n.length)throw Error(rt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:dh(n)}}function K_(e,t){var n=dh(t.value),r=dh(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Pk(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Y_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function a3(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Y_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var T1,J_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(T1=T1||document.createElement("div"),T1.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=T1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function S0(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Jm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tW=["Webkit","ms","Moz","O"];Object.keys(Jm).forEach(function(e){tW.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jm[t]=Jm[e]})});function X_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Jm.hasOwnProperty(e)&&Jm[e]?(""+t).trim():t+"px"}function Q_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=X_(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var nW=Lr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function l3(e,t){if(t){if(nW[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(rt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(rt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(rt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(rt(62))}}function c3(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var u3=null;function jS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var h3=null,jp=null,Bp=null;function Tk(e){if(e=w2(e)){if(typeof h3!="function")throw Error(rt(280));var t=e.stateNode;t&&(t=qy(t),h3(e.stateNode,e.type,t))}}function Z_(e){jp?Bp?Bp.push(e):Bp=[e]:jp=e}function eO(){if(jp){var e=jp,t=Bp;if(Bp=jp=null,Tk(e),t)for(e=0;e<t.length;e++)Tk(t[e])}}function tO(e,t){return e(t)}function nO(){}var Xb=!1;function rO(e,t,n){if(Xb)return e(t,n);Xb=!0;try{return tO(e,t,n)}finally{Xb=!1,(jp!==null||Bp!==null)&&(nO(),eO())}}function C0(e,t){var n=e.stateNode;if(n===null)return null;var r=qy(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(rt(231,t,typeof n));return n}var f3=!1;if(Nc)try{var ym={};Object.defineProperty(ym,"passive",{get:function(){f3=!0}}),window.addEventListener("test",ym,ym),window.removeEventListener("test",ym,ym)}catch{f3=!1}function rW(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(h){this.onError(h)}}var Xm=!1,s5=null,a5=!1,d3=null,iW={onError:function(e){Xm=!0,s5=e}};function oW(e,t,n,r,i,o,s,a,l){Xm=!1,s5=null,rW.apply(iW,arguments)}function sW(e,t,n,r,i,o,s,a,l){if(oW.apply(this,arguments),Xm){if(Xm){var c=s5;Xm=!1,s5=null}else throw Error(rt(198));a5||(a5=!0,d3=c)}}function hd(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function iO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Mk(e){if(hd(e)!==e)throw Error(rt(188))}function aW(e){var t=e.alternate;if(!t){if(t=hd(e),t===null)throw Error(rt(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Mk(i),e;if(o===r)return Mk(i),t;o=o.sibling}throw Error(rt(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(rt(189))}}if(n.alternate!==r)throw Error(rt(190))}if(n.tag!==3)throw Error(rt(188));return n.stateNode.current===n?e:t}function oO(e){return e=aW(e),e!==null?sO(e):null}function sO(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sO(e);if(t!==null)return t;e=e.sibling}return null}var aO=Os.unstable_scheduleCallback,Rk=Os.unstable_cancelCallback,lW=Os.unstable_shouldYield,cW=Os.unstable_requestPaint,qr=Os.unstable_now,uW=Os.unstable_getCurrentPriorityLevel,BS=Os.unstable_ImmediatePriority,lO=Os.unstable_UserBlockingPriority,l5=Os.unstable_NormalPriority,hW=Os.unstable_LowPriority,cO=Os.unstable_IdlePriority,By=null,Ml=null;function fW(e){if(Ml&&typeof Ml.onCommitFiberRoot=="function")try{Ml.onCommitFiberRoot(By,e,void 0,(e.current.flags&128)===128)}catch{}}var Fa=Math.clz32?Math.clz32:gW,dW=Math.log,pW=Math.LN2;function gW(e){return e>>>=0,e===0?32:31-(dW(e)/pW|0)|0}var M1=64,R1=4194304;function jm(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function c5(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=jm(a):(o&=s,o!==0&&(r=jm(o)))}else s=n&~i,s!==0?r=jm(s):o!==0&&(r=jm(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Fa(t),i=1<<n,r|=e[n],t&=~i;return r}function mW(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vW(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Fa(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=mW(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function p3(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uO(){var e=M1;return M1<<=1,!(M1&4194240)&&(M1=64),e}function Qb(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function v2(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Fa(t),e[t]=n}function yW(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Fa(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function $S(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Fa(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Gn=0;function hO(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fO,VS,dO,pO,gO,g3=!1,D1=[],Xu=null,Qu=null,Zu=null,k0=new Map,E0=new Map,Vu=[],wW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dk(e,t){switch(e){case"focusin":case"focusout":Xu=null;break;case"dragenter":case"dragleave":Qu=null;break;case"mouseover":case"mouseout":Zu=null;break;case"pointerover":case"pointerout":k0.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":E0.delete(t.pointerId)}}function wm(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=w2(t),t!==null&&VS(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function bW(e,t,n,r,i){switch(t){case"focusin":return Xu=wm(Xu,e,t,n,r,i),!0;case"dragenter":return Qu=wm(Qu,e,t,n,r,i),!0;case"mouseover":return Zu=wm(Zu,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return k0.set(o,wm(k0.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,E0.set(o,wm(E0.get(o)||null,e,t,n,r,i)),!0}return!1}function mO(e){var t=kf(e.target);if(t!==null){var n=hd(t);if(n!==null){if(t=n.tag,t===13){if(t=iO(n),t!==null){e.blockedOn=t,gO(e.priority,function(){dO(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=m3(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);u3=r,n.target.dispatchEvent(r),u3=null}else return t=w2(n),t!==null&&VS(t),e.blockedOn=n,!1;t.shift()}return!0}function Ik(e,t,n){kv(e)&&n.delete(t)}function xW(){g3=!1,Xu!==null&&kv(Xu)&&(Xu=null),Qu!==null&&kv(Qu)&&(Qu=null),Zu!==null&&kv(Zu)&&(Zu=null),k0.forEach(Ik),E0.forEach(Ik)}function bm(e,t){e.blockedOn===t&&(e.blockedOn=null,g3||(g3=!0,Os.unstable_scheduleCallback(Os.unstable_NormalPriority,xW)))}function A0(e){function t(i){return bm(i,e)}if(0<D1.length){bm(D1[0],e);for(var n=1;n<D1.length;n++){var r=D1[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Xu!==null&&bm(Xu,e),Qu!==null&&bm(Qu,e),Zu!==null&&bm(Zu,e),k0.forEach(t),E0.forEach(t),n=0;n<Vu.length;n++)r=Vu[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Vu.length&&(n=Vu[0],n.blockedOn===null);)mO(n),n.blockedOn===null&&Vu.shift()}var $p=Ic.ReactCurrentBatchConfig,u5=!0;function SW(e,t,n,r){var i=Gn,o=$p.transition;$p.transition=null;try{Gn=1,US(e,t,n,r)}finally{Gn=i,$p.transition=o}}function CW(e,t,n,r){var i=Gn,o=$p.transition;$p.transition=null;try{Gn=4,US(e,t,n,r)}finally{Gn=i,$p.transition=o}}function US(e,t,n,r){if(u5){var i=m3(e,t,n,r);if(i===null)lx(e,t,r,h5,n),Dk(e,r);else if(bW(i,e,t,n,r))r.stopPropagation();else if(Dk(e,r),t&4&&-1<wW.indexOf(e)){for(;i!==null;){var o=w2(i);if(o!==null&&fO(o),o=m3(e,t,n,r),o===null&&lx(e,t,r,h5,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else lx(e,t,r,null,n)}}var h5=null;function m3(e,t,n,r){if(h5=null,e=jS(r),e=kf(e),e!==null)if(t=hd(e),t===null)e=null;else if(n=t.tag,n===13){if(e=iO(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return h5=e,null}function vO(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uW()){case BS:return 1;case lO:return 4;case l5:case hW:return 16;case cO:return 536870912;default:return 16}default:return 16}}var Wu=null,qS=null,Ev=null;function yO(){if(Ev)return Ev;var e,t=qS,n=t.length,r,i="value"in Wu?Wu.value:Wu.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Ev=i.slice(e,1<r?1-r:void 0)}function Av(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function I1(){return!0}function zk(){return!1}function Is(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?I1:zk,this.isPropagationStopped=zk,this}return Lr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=I1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=I1)},persist:function(){},isPersistent:I1}),t}var Mg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},WS=Is(Mg),y2=Lr({},Mg,{view:0,detail:0}),kW=Is(y2),Zb,ex,xm,$y=Lr({},y2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:HS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xm&&(xm&&e.type==="mousemove"?(Zb=e.screenX-xm.screenX,ex=e.screenY-xm.screenY):ex=Zb=0,xm=e),Zb)},movementY:function(e){return"movementY"in e?e.movementY:ex}}),Fk=Is($y),EW=Lr({},$y,{dataTransfer:0}),AW=Is(EW),NW=Lr({},y2,{relatedTarget:0}),tx=Is(NW),LW=Lr({},Mg,{animationName:0,elapsedTime:0,pseudoElement:0}),_W=Is(LW),OW=Lr({},Mg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),PW=Is(OW),TW=Lr({},Mg,{data:0}),jk=Is(TW),MW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IW(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=DW[e])?!!t[e]:!1}function HS(){return IW}var zW=Lr({},y2,{key:function(e){if(e.key){var t=MW[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Av(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?RW[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:HS,charCode:function(e){return e.type==="keypress"?Av(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Av(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),FW=Is(zW),jW=Lr({},$y,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bk=Is(jW),BW=Lr({},y2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:HS}),$W=Is(BW),VW=Lr({},Mg,{propertyName:0,elapsedTime:0,pseudoElement:0}),UW=Is(VW),qW=Lr({},$y,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),WW=Is(qW),HW=[9,13,27,32],GS=Nc&&"CompositionEvent"in window,Qm=null;Nc&&"documentMode"in document&&(Qm=document.documentMode);var GW=Nc&&"TextEvent"in window&&!Qm,wO=Nc&&(!GS||Qm&&8<Qm&&11>=Qm),$k=" ",Vk=!1;function bO(e,t){switch(e){case"keyup":return HW.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vp=!1;function KW(e,t){switch(e){case"compositionend":return xO(t);case"keypress":return t.which!==32?null:(Vk=!0,$k);case"textInput":return e=t.data,e===$k&&Vk?null:e;default:return null}}function YW(e,t){if(vp)return e==="compositionend"||!GS&&bO(e,t)?(e=yO(),Ev=qS=Wu=null,vp=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wO&&t.locale!=="ko"?null:t.data;default:return null}}var JW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!JW[e.type]:t==="textarea"}function SO(e,t,n,r){Z_(r),t=f5(t,"onChange"),0<t.length&&(n=new WS("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Zm=null,N0=null;function XW(e){MO(e,0)}function Vy(e){var t=bp(e);if(H_(t))return e}function QW(e,t){if(e==="change")return t}var CO=!1;if(Nc){var nx;if(Nc){var rx="oninput"in document;if(!rx){var qk=document.createElement("div");qk.setAttribute("oninput","return;"),rx=typeof qk.oninput=="function"}nx=rx}else nx=!1;CO=nx&&(!document.documentMode||9<document.documentMode)}function Wk(){Zm&&(Zm.detachEvent("onpropertychange",kO),N0=Zm=null)}function kO(e){if(e.propertyName==="value"&&Vy(N0)){var t=[];SO(t,N0,e,jS(e)),rO(XW,t)}}function ZW(e,t,n){e==="focusin"?(Wk(),Zm=t,N0=n,Zm.attachEvent("onpropertychange",kO)):e==="focusout"&&Wk()}function eH(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vy(N0)}function tH(e,t){if(e==="click")return Vy(t)}function nH(e,t){if(e==="input"||e==="change")return Vy(t)}function rH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $a=typeof Object.is=="function"?Object.is:rH;function L0(e,t){if($a(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Q4.call(t,i)||!$a(e[i],t[i]))return!1}return!0}function Hk(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gk(e,t){var n=Hk(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hk(n)}}function EO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?EO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function AO(){for(var e=window,t=o5();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=o5(e.document)}return t}function KS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function iH(e){var t=AO(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&EO(n.ownerDocument.documentElement,n)){if(r!==null&&KS(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Gk(n,o);var s=Gk(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var oH=Nc&&"documentMode"in document&&11>=document.documentMode,yp=null,v3=null,e0=null,y3=!1;function Kk(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;y3||yp==null||yp!==o5(r)||(r=yp,"selectionStart"in r&&KS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),e0&&L0(e0,r)||(e0=r,r=f5(v3,"onSelect"),0<r.length&&(t=new WS("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yp)))}function z1(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wp={animationend:z1("Animation","AnimationEnd"),animationiteration:z1("Animation","AnimationIteration"),animationstart:z1("Animation","AnimationStart"),transitionend:z1("Transition","TransitionEnd")},ix={},NO={};Nc&&(NO=document.createElement("div").style,"AnimationEvent"in window||(delete wp.animationend.animation,delete wp.animationiteration.animation,delete wp.animationstart.animation),"TransitionEvent"in window||delete wp.transitionend.transition);function Uy(e){if(ix[e])return ix[e];if(!wp[e])return e;var t=wp[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in NO)return ix[e]=t[n];return e}var LO=Uy("animationend"),_O=Uy("animationiteration"),OO=Uy("animationstart"),PO=Uy("transitionend"),TO=new Map,Yk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kh(e,t){TO.set(e,t),ud(t,[e])}for(var ox=0;ox<Yk.length;ox++){var sx=Yk[ox],sH=sx.toLowerCase(),aH=sx[0].toUpperCase()+sx.slice(1);kh(sH,"on"+aH)}kh(LO,"onAnimationEnd");kh(_O,"onAnimationIteration");kh(OO,"onAnimationStart");kh("dblclick","onDoubleClick");kh("focusin","onFocus");kh("focusout","onBlur");kh(PO,"onTransitionEnd");ig("onMouseEnter",["mouseout","mouseover"]);ig("onMouseLeave",["mouseout","mouseover"]);ig("onPointerEnter",["pointerout","pointerover"]);ig("onPointerLeave",["pointerout","pointerover"]);ud("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ud("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ud("onBeforeInput",["compositionend","keypress","textInput","paste"]);ud("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ud("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ud("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lH=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bm));function Jk(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,sW(r,t,void 0,e),e.currentTarget=null}function MO(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Jk(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Jk(i,a,c),o=l}}}if(a5)throw e=d3,a5=!1,d3=null,e}function ur(e,t){var n=t[C3];n===void 0&&(n=t[C3]=new Set);var r=e+"__bubble";n.has(r)||(RO(t,e,2,!1),n.add(r))}function ax(e,t,n){var r=0;t&&(r|=4),RO(n,e,r,t)}var F1="_reactListening"+Math.random().toString(36).slice(2);function _0(e){if(!e[F1]){e[F1]=!0,$_.forEach(function(n){n!=="selectionchange"&&(lH.has(n)||ax(n,!1,e),ax(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[F1]||(t[F1]=!0,ax("selectionchange",!1,t))}}function RO(e,t,n,r){switch(vO(t)){case 1:var i=SW;break;case 4:i=CW;break;default:i=US}n=i.bind(null,t,n,e),i=void 0,!f3||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function lx(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=kf(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}rO(function(){var c=o,h=jS(n),f=[];e:{var g=TO.get(e);if(g!==void 0){var d=WS,m=e;switch(e){case"keypress":if(Av(n)===0)break e;case"keydown":case"keyup":d=FW;break;case"focusin":m="focus",d=tx;break;case"focusout":m="blur",d=tx;break;case"beforeblur":case"afterblur":d=tx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Fk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=AW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=$W;break;case LO:case _O:case OO:d=_W;break;case PO:d=UW;break;case"scroll":d=kW;break;case"wheel":d=WW;break;case"copy":case"cut":case"paste":d=PW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Bk}var y=(t&4)!==0,C=!y&&e==="scroll",x=y?g!==null?g+"Capture":null:g;y=[];for(var w=c,E;w!==null;){E=w;var N=E.stateNode;if(E.tag===5&&N!==null&&(E=N,x!==null&&(N=C0(w,x),N!=null&&y.push(O0(w,N,E)))),C)break;w=w.return}0<y.length&&(g=new d(g,m,null,n,h),f.push({event:g,listeners:y}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",g&&n!==u3&&(m=n.relatedTarget||n.fromElement)&&(kf(m)||m[Lc]))break e;if((d||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,d?(m=n.relatedTarget||n.toElement,d=c,m=m?kf(m):null,m!==null&&(C=hd(m),m!==C||m.tag!==5&&m.tag!==6)&&(m=null)):(d=null,m=c),d!==m)){if(y=Fk,N="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(y=Bk,N="onPointerLeave",x="onPointerEnter",w="pointer"),C=d==null?g:bp(d),E=m==null?g:bp(m),g=new y(N,w+"leave",d,n,h),g.target=C,g.relatedTarget=E,N=null,kf(h)===c&&(y=new y(x,w+"enter",m,n,h),y.target=E,y.relatedTarget=C,N=y),C=N,d&&m)t:{for(y=d,x=m,w=0,E=y;E;E=np(E))w++;for(E=0,N=x;N;N=np(N))E++;for(;0<w-E;)y=np(y),w--;for(;0<E-w;)x=np(x),E--;for(;w--;){if(y===x||x!==null&&y===x.alternate)break t;y=np(y),x=np(x)}y=null}else y=null;d!==null&&Xk(f,g,d,y,!1),m!==null&&C!==null&&Xk(f,C,m,y,!0)}}e:{if(g=c?bp(c):window,d=g.nodeName&&g.nodeName.toLowerCase(),d==="select"||d==="input"&&g.type==="file")var _=QW;else if(Uk(g))if(CO)_=nH;else{_=eH;var D=ZW}else(d=g.nodeName)&&d.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(_=tH);if(_&&(_=_(e,c))){SO(f,_,n,h);break e}D&&D(e,g,c),e==="focusout"&&(D=g._wrapperState)&&D.controlled&&g.type==="number"&&o3(g,"number",g.value)}switch(D=c?bp(c):window,e){case"focusin":(Uk(D)||D.contentEditable==="true")&&(yp=D,v3=c,e0=null);break;case"focusout":e0=v3=yp=null;break;case"mousedown":y3=!0;break;case"contextmenu":case"mouseup":case"dragend":y3=!1,Kk(f,n,h);break;case"selectionchange":if(oH)break;case"keydown":case"keyup":Kk(f,n,h)}var P;if(GS)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else vp?bO(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(wO&&n.locale!=="ko"&&(vp||I!=="onCompositionStart"?I==="onCompositionEnd"&&vp&&(P=yO()):(Wu=h,qS="value"in Wu?Wu.value:Wu.textContent,vp=!0)),D=f5(c,I),0<D.length&&(I=new jk(I,e,null,n,h),f.push({event:I,listeners:D}),P?I.data=P:(P=xO(n),P!==null&&(I.data=P)))),(P=GW?KW(e,n):YW(e,n))&&(c=f5(c,"onBeforeInput"),0<c.length&&(h=new jk("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=P))}MO(f,t)})}function O0(e,t,n){return{instance:e,listener:t,currentTarget:n}}function f5(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=C0(e,n),o!=null&&r.unshift(O0(e,o,i)),o=C0(e,t),o!=null&&r.push(O0(e,o,i))),e=e.return}return r}function np(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xk(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=C0(n,o),l!=null&&s.unshift(O0(n,l,a))):i||(l=C0(n,o),l!=null&&s.push(O0(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var cH=/\r\n?/g,uH=/\u0000|\uFFFD/g;function Qk(e){return(typeof e=="string"?e:""+e).replace(cH,`
`).replace(uH,"")}function j1(e,t,n){if(t=Qk(t),Qk(e)!==t&&n)throw Error(rt(425))}function d5(){}var w3=null,b3=null;function x3(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var S3=typeof setTimeout=="function"?setTimeout:void 0,hH=typeof clearTimeout=="function"?clearTimeout:void 0,Zk=typeof Promise=="function"?Promise:void 0,fH=typeof queueMicrotask=="function"?queueMicrotask:typeof Zk<"u"?function(e){return Zk.resolve(null).then(e).catch(dH)}:S3;function dH(e){setTimeout(function(){throw e})}function cx(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),A0(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);A0(t)}function eh(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function eE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Rg=Math.random().toString(36).slice(2),El="__reactFiber$"+Rg,P0="__reactProps$"+Rg,Lc="__reactContainer$"+Rg,C3="__reactEvents$"+Rg,pH="__reactListeners$"+Rg,gH="__reactHandles$"+Rg;function kf(e){var t=e[El];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Lc]||n[El]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=eE(e);e!==null;){if(n=e[El])return n;e=eE(e)}return t}e=n,n=e.parentNode}return null}function w2(e){return e=e[El]||e[Lc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bp(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(rt(33))}function qy(e){return e[P0]||null}var k3=[],xp=-1;function Eh(e){return{current:e}}function pr(e){0>xp||(e.current=k3[xp],k3[xp]=null,xp--)}function ir(e,t){xp++,k3[xp]=e.current,e.current=t}var ph={},go=Eh(ph),Xo=Eh(!1),Wf=ph;function og(e,t){var n=e.type.contextTypes;if(!n)return ph;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Qo(e){return e=e.childContextTypes,e!=null}function p5(){pr(Xo),pr(go)}function tE(e,t,n){if(go.current!==ph)throw Error(rt(168));ir(go,t),ir(Xo,n)}function DO(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(rt(108,Zq(e)||"Unknown",i));return Lr({},n,r)}function g5(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ph,Wf=go.current,ir(go,e),ir(Xo,Xo.current),!0}function nE(e,t,n){var r=e.stateNode;if(!r)throw Error(rt(169));n?(e=DO(e,t,Wf),r.__reactInternalMemoizedMergedChildContext=e,pr(Xo),pr(go),ir(go,e)):pr(Xo),ir(Xo,n)}var mc=null,Wy=!1,ux=!1;function IO(e){mc===null?mc=[e]:mc.push(e)}function mH(e){Wy=!0,IO(e)}function Ah(){if(!ux&&mc!==null){ux=!0;var e=0,t=Gn;try{var n=mc;for(Gn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}mc=null,Wy=!1}catch(i){throw mc!==null&&(mc=mc.slice(e+1)),aO(BS,Ah),i}finally{Gn=t,ux=!1}}return null}var Sp=[],Cp=0,m5=null,v5=0,ea=[],ta=0,Hf=null,yc=1,wc="";function df(e,t){Sp[Cp++]=v5,Sp[Cp++]=m5,m5=e,v5=t}function zO(e,t,n){ea[ta++]=yc,ea[ta++]=wc,ea[ta++]=Hf,Hf=e;var r=yc;e=wc;var i=32-Fa(r)-1;r&=~(1<<i),n+=1;var o=32-Fa(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,yc=1<<32-Fa(t)+i|n<<i|r,wc=o+e}else yc=1<<o|n<<i|r,wc=e}function YS(e){e.return!==null&&(df(e,1),zO(e,1,0))}function JS(e){for(;e===m5;)m5=Sp[--Cp],Sp[Cp]=null,v5=Sp[--Cp],Sp[Cp]=null;for(;e===Hf;)Hf=ea[--ta],ea[ta]=null,wc=ea[--ta],ea[ta]=null,yc=ea[--ta],ea[ta]=null}var As=null,Cs=null,br=!1,Da=null;function FO(e,t){var n=na(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function rE(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,As=e,Cs=eh(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,As=e,Cs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Hf!==null?{id:yc,overflow:wc}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=na(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,As=e,Cs=null,!0):!1;default:return!1}}function E3(e){return(e.mode&1)!==0&&(e.flags&128)===0}function A3(e){if(br){var t=Cs;if(t){var n=t;if(!rE(e,t)){if(E3(e))throw Error(rt(418));t=eh(n.nextSibling);var r=As;t&&rE(e,t)?FO(r,n):(e.flags=e.flags&-4097|2,br=!1,As=e)}}else{if(E3(e))throw Error(rt(418));e.flags=e.flags&-4097|2,br=!1,As=e}}}function iE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;As=e}function B1(e){if(e!==As)return!1;if(!br)return iE(e),br=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!x3(e.type,e.memoizedProps)),t&&(t=Cs)){if(E3(e))throw jO(),Error(rt(418));for(;t;)FO(e,t),t=eh(t.nextSibling)}if(iE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(rt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Cs=eh(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Cs=null}}else Cs=As?eh(e.stateNode.nextSibling):null;return!0}function jO(){for(var e=Cs;e;)e=eh(e.nextSibling)}function sg(){Cs=As=null,br=!1}function XS(e){Da===null?Da=[e]:Da.push(e)}var vH=Ic.ReactCurrentBatchConfig;function Ma(e,t){if(e&&e.defaultProps){t=Lr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var y5=Eh(null),w5=null,kp=null,QS=null;function ZS(){QS=kp=w5=null}function e7(e){var t=y5.current;pr(y5),e._currentValue=t}function N3(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Vp(e,t){w5=e,QS=kp=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Jo=!0),e.firstContext=null)}function aa(e){var t=e._currentValue;if(QS!==e)if(e={context:e,memoizedValue:t,next:null},kp===null){if(w5===null)throw Error(rt(308));kp=e,w5.dependencies={lanes:0,firstContext:e}}else kp=kp.next=e;return t}var Ef=null;function t7(e){Ef===null?Ef=[e]:Ef.push(e)}function BO(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,t7(t)):(n.next=i.next,i.next=n),t.interleaved=n,_c(e,r)}function _c(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Fu=!1;function n7(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $O(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Sc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function th(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,kn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,_c(e,n)}return i=r.interleaved,i===null?(t.next=t,t7(r)):(t.next=i.next,i.next=t),r.interleaved=t,_c(e,n)}function Nv(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$S(e,n)}}function oE(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function b5(e,t,n,r){var i=e.updateQueue;Fu=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var h=e.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==s&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,h=c=l=null,a=o;do{var g=a.lane,d=a.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,y=a;switch(g=t,d=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){f=m.call(d,f,g);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,g=typeof m=="function"?m.call(d,f,g):m,g==null)break e;f=Lr({},f,g);break e;case 2:Fu=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else d={eventTime:d,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=d,l=f):h=h.next=d,s|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Kf|=s,e.lanes=s,e.memoizedState=f}}function sE(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(rt(191,i));i.call(r)}}}var VO=new B_.Component().refs;function L3(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Lr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hy={isMounted:function(e){return(e=e._reactInternals)?hd(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=To(),i=rh(e),o=Sc(r,i);o.payload=t,n!=null&&(o.callback=n),t=th(e,o,i),t!==null&&(ja(t,e,i,r),Nv(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=To(),i=rh(e),o=Sc(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=th(e,o,i),t!==null&&(ja(t,e,i,r),Nv(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=To(),r=rh(e),i=Sc(n,r);i.tag=2,t!=null&&(i.callback=t),t=th(e,i,r),t!==null&&(ja(t,e,r,n),Nv(t,e,r))}};function aE(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!L0(n,r)||!L0(i,o):!0}function UO(e,t,n){var r=!1,i=ph,o=t.contextType;return typeof o=="object"&&o!==null?o=aa(o):(i=Qo(t)?Wf:go.current,r=t.contextTypes,o=(r=r!=null)?og(e,i):ph),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hy,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function lE(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Hy.enqueueReplaceState(t,t.state,null)}function _3(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=VO,n7(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=aa(o):(o=Qo(t)?Wf:go.current,i.context=og(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(L3(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Hy.enqueueReplaceState(i,i.state,null),b5(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Sm(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(rt(309));var r=n.stateNode}if(!r)throw Error(rt(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===VO&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(rt(284));if(!n._owner)throw Error(rt(290,e))}return e}function $1(e,t){throw e=Object.prototype.toString.call(t),Error(rt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function cE(e){var t=e._init;return t(e._payload)}function qO(e){function t(x,w){if(e){var E=x.deletions;E===null?(x.deletions=[w],x.flags|=16):E.push(w)}}function n(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=ih(x,w),x.index=0,x.sibling=null,x}function o(x,w,E){return x.index=E,e?(E=x.alternate,E!==null?(E=E.index,E<w?(x.flags|=2,w):E):(x.flags|=2,w)):(x.flags|=1048576,w)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,w,E,N){return w===null||w.tag!==6?(w=vx(E,x.mode,N),w.return=x,w):(w=i(w,E),w.return=x,w)}function l(x,w,E,N){var _=E.type;return _===mp?h(x,w,E.props.children,N,E.key):w!==null&&(w.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===zu&&cE(_)===w.type)?(N=i(w,E.props),N.ref=Sm(x,w,E),N.return=x,N):(N=Mv(E.type,E.key,E.props,null,x.mode,N),N.ref=Sm(x,w,E),N.return=x,N)}function c(x,w,E,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=yx(E,x.mode,N),w.return=x,w):(w=i(w,E.children||[]),w.return=x,w)}function h(x,w,E,N,_){return w===null||w.tag!==7?(w=Mf(E,x.mode,N,_),w.return=x,w):(w=i(w,E),w.return=x,w)}function f(x,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=vx(""+w,x.mode,E),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case O1:return E=Mv(w.type,w.key,w.props,null,x.mode,E),E.ref=Sm(x,null,w),E.return=x,E;case gp:return w=yx(w,x.mode,E),w.return=x,w;case zu:var N=w._init;return f(x,N(w._payload),E)}if(Fm(w)||vm(w))return w=Mf(w,x.mode,E,null),w.return=x,w;$1(x,w)}return null}function g(x,w,E,N){var _=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return _!==null?null:a(x,w,""+E,N);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case O1:return E.key===_?l(x,w,E,N):null;case gp:return E.key===_?c(x,w,E,N):null;case zu:return _=E._init,g(x,w,_(E._payload),N)}if(Fm(E)||vm(E))return _!==null?null:h(x,w,E,N,null);$1(x,E)}return null}function d(x,w,E,N,_){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(E)||null,a(w,x,""+N,_);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case O1:return x=x.get(N.key===null?E:N.key)||null,l(w,x,N,_);case gp:return x=x.get(N.key===null?E:N.key)||null,c(w,x,N,_);case zu:var D=N._init;return d(x,w,E,D(N._payload),_)}if(Fm(N)||vm(N))return x=x.get(E)||null,h(w,x,N,_,null);$1(w,N)}return null}function m(x,w,E,N){for(var _=null,D=null,P=w,I=w=0,W=null;P!==null&&I<E.length;I++){P.index>I?(W=P,P=null):W=P.sibling;var G=g(x,P,E[I],N);if(G===null){P===null&&(P=W);break}e&&P&&G.alternate===null&&t(x,P),w=o(G,w,I),D===null?_=G:D.sibling=G,D=G,P=W}if(I===E.length)return n(x,P),br&&df(x,I),_;if(P===null){for(;I<E.length;I++)P=f(x,E[I],N),P!==null&&(w=o(P,w,I),D===null?_=P:D.sibling=P,D=P);return br&&df(x,I),_}for(P=r(x,P);I<E.length;I++)W=d(P,x,I,E[I],N),W!==null&&(e&&W.alternate!==null&&P.delete(W.key===null?I:W.key),w=o(W,w,I),D===null?_=W:D.sibling=W,D=W);return e&&P.forEach(function(O){return t(x,O)}),br&&df(x,I),_}function y(x,w,E,N){var _=vm(E);if(typeof _!="function")throw Error(rt(150));if(E=_.call(E),E==null)throw Error(rt(151));for(var D=_=null,P=w,I=w=0,W=null,G=E.next();P!==null&&!G.done;I++,G=E.next()){P.index>I?(W=P,P=null):W=P.sibling;var O=g(x,P,G.value,N);if(O===null){P===null&&(P=W);break}e&&P&&O.alternate===null&&t(x,P),w=o(O,w,I),D===null?_=O:D.sibling=O,D=O,P=W}if(G.done)return n(x,P),br&&df(x,I),_;if(P===null){for(;!G.done;I++,G=E.next())G=f(x,G.value,N),G!==null&&(w=o(G,w,I),D===null?_=G:D.sibling=G,D=G);return br&&df(x,I),_}for(P=r(x,P);!G.done;I++,G=E.next())G=d(P,x,I,G.value,N),G!==null&&(e&&G.alternate!==null&&P.delete(G.key===null?I:G.key),w=o(G,w,I),D===null?_=G:D.sibling=G,D=G);return e&&P.forEach(function(z){return t(x,z)}),br&&df(x,I),_}function C(x,w,E,N){if(typeof E=="object"&&E!==null&&E.type===mp&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case O1:e:{for(var _=E.key,D=w;D!==null;){if(D.key===_){if(_=E.type,_===mp){if(D.tag===7){n(x,D.sibling),w=i(D,E.props.children),w.return=x,x=w;break e}}else if(D.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===zu&&cE(_)===D.type){n(x,D.sibling),w=i(D,E.props),w.ref=Sm(x,D,E),w.return=x,x=w;break e}n(x,D);break}else t(x,D);D=D.sibling}E.type===mp?(w=Mf(E.props.children,x.mode,N,E.key),w.return=x,x=w):(N=Mv(E.type,E.key,E.props,null,x.mode,N),N.ref=Sm(x,w,E),N.return=x,x=N)}return s(x);case gp:e:{for(D=E.key;w!==null;){if(w.key===D)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){n(x,w.sibling),w=i(w,E.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else t(x,w);w=w.sibling}w=yx(E,x.mode,N),w.return=x,x=w}return s(x);case zu:return D=E._init,C(x,w,D(E._payload),N)}if(Fm(E))return m(x,w,E,N);if(vm(E))return y(x,w,E,N);$1(x,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,E),w.return=x,x=w):(n(x,w),w=vx(E,x.mode,N),w.return=x,x=w),s(x)):n(x,w)}return C}var ag=qO(!0),WO=qO(!1),b2={},Rl=Eh(b2),T0=Eh(b2),M0=Eh(b2);function Af(e){if(e===b2)throw Error(rt(174));return e}function r7(e,t){switch(ir(M0,t),ir(T0,e),ir(Rl,b2),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:a3(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=a3(t,e)}pr(Rl),ir(Rl,t)}function lg(){pr(Rl),pr(T0),pr(M0)}function HO(e){Af(M0.current);var t=Af(Rl.current),n=a3(t,e.type);t!==n&&(ir(T0,e),ir(Rl,n))}function i7(e){T0.current===e&&(pr(Rl),pr(T0))}var Er=Eh(0);function x5(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hx=[];function o7(){for(var e=0;e<hx.length;e++)hx[e]._workInProgressVersionPrimary=null;hx.length=0}var Lv=Ic.ReactCurrentDispatcher,fx=Ic.ReactCurrentBatchConfig,Gf=0,Nr=null,li=null,xi=null,S5=!1,t0=!1,R0=0,yH=0;function Yi(){throw Error(rt(321))}function s7(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$a(e[n],t[n]))return!1;return!0}function a7(e,t,n,r,i,o){if(Gf=o,Nr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Lv.current=e===null||e.memoizedState===null?SH:CH,e=n(r,i),t0){o=0;do{if(t0=!1,R0=0,25<=o)throw Error(rt(301));o+=1,xi=li=null,t.updateQueue=null,Lv.current=kH,e=n(r,i)}while(t0)}if(Lv.current=C5,t=li!==null&&li.next!==null,Gf=0,xi=li=Nr=null,S5=!1,t)throw Error(rt(300));return e}function l7(){var e=R0!==0;return R0=0,e}function gl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xi===null?Nr.memoizedState=xi=e:xi=xi.next=e,xi}function la(){if(li===null){var e=Nr.alternate;e=e!==null?e.memoizedState:null}else e=li.next;var t=xi===null?Nr.memoizedState:xi.next;if(t!==null)xi=t,li=e;else{if(e===null)throw Error(rt(310));li=e,e={memoizedState:li.memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},xi===null?Nr.memoizedState=xi=e:xi=xi.next=e}return xi}function D0(e,t){return typeof t=="function"?t(e):t}function dx(e){var t=la(),n=t.queue;if(n===null)throw Error(rt(311));n.lastRenderedReducer=e;var r=li,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var h=c.lane;if((Gf&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Nr.lanes|=h,Kf|=h}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,$a(r,t.memoizedState)||(Jo=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Nr.lanes|=o,Kf|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function px(e){var t=la(),n=t.queue;if(n===null)throw Error(rt(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);$a(o,t.memoizedState)||(Jo=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function GO(){}function KO(e,t){var n=Nr,r=la(),i=t(),o=!$a(r.memoizedState,i);if(o&&(r.memoizedState=i,Jo=!0),r=r.queue,c7(XO.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||xi!==null&&xi.memoizedState.tag&1){if(n.flags|=2048,I0(9,JO.bind(null,n,r,i,t),void 0,null),ki===null)throw Error(rt(349));Gf&30||YO(n,t,i)}return i}function YO(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Nr.updateQueue,t===null?(t={lastEffect:null,stores:null},Nr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function JO(e,t,n,r){t.value=n,t.getSnapshot=r,QO(t)&&ZO(e)}function XO(e,t,n){return n(function(){QO(t)&&ZO(e)})}function QO(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$a(e,n)}catch{return!0}}function ZO(e){var t=_c(e,1);t!==null&&ja(t,e,1,-1)}function uE(e){var t=gl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:D0,lastRenderedState:e},t.queue=e,e=e.dispatch=xH.bind(null,Nr,e),[t.memoizedState,e]}function I0(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Nr.updateQueue,t===null?(t={lastEffect:null,stores:null},Nr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function eP(){return la().memoizedState}function _v(e,t,n,r){var i=gl();Nr.flags|=e,i.memoizedState=I0(1|t,n,void 0,r===void 0?null:r)}function Gy(e,t,n,r){var i=la();r=r===void 0?null:r;var o=void 0;if(li!==null){var s=li.memoizedState;if(o=s.destroy,r!==null&&s7(r,s.deps)){i.memoizedState=I0(t,n,o,r);return}}Nr.flags|=e,i.memoizedState=I0(1|t,n,o,r)}function hE(e,t){return _v(8390656,8,e,t)}function c7(e,t){return Gy(2048,8,e,t)}function tP(e,t){return Gy(4,2,e,t)}function nP(e,t){return Gy(4,4,e,t)}function rP(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function iP(e,t,n){return n=n!=null?n.concat([e]):null,Gy(4,4,rP.bind(null,t,e),n)}function u7(){}function oP(e,t){var n=la();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&s7(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sP(e,t){var n=la();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&s7(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function aP(e,t,n){return Gf&21?($a(n,t)||(n=uO(),Nr.lanes|=n,Kf|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Jo=!0),e.memoizedState=n)}function wH(e,t){var n=Gn;Gn=n!==0&&4>n?n:4,e(!0);var r=fx.transition;fx.transition={};try{e(!1),t()}finally{Gn=n,fx.transition=r}}function lP(){return la().memoizedState}function bH(e,t,n){var r=rh(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cP(e))uP(t,n);else if(n=BO(e,t,n,r),n!==null){var i=To();ja(n,e,r,i),hP(n,t,r)}}function xH(e,t,n){var r=rh(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cP(e))uP(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,$a(a,s)){var l=t.interleaved;l===null?(i.next=i,t7(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=BO(e,t,i,r),n!==null&&(i=To(),ja(n,e,r,i),hP(n,t,r))}}function cP(e){var t=e.alternate;return e===Nr||t!==null&&t===Nr}function uP(e,t){t0=S5=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hP(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$S(e,n)}}var C5={readContext:aa,useCallback:Yi,useContext:Yi,useEffect:Yi,useImperativeHandle:Yi,useInsertionEffect:Yi,useLayoutEffect:Yi,useMemo:Yi,useReducer:Yi,useRef:Yi,useState:Yi,useDebugValue:Yi,useDeferredValue:Yi,useTransition:Yi,useMutableSource:Yi,useSyncExternalStore:Yi,useId:Yi,unstable_isNewReconciler:!1},SH={readContext:aa,useCallback:function(e,t){return gl().memoizedState=[e,t===void 0?null:t],e},useContext:aa,useEffect:hE,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,_v(4194308,4,rP.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _v(4194308,4,e,t)},useInsertionEffect:function(e,t){return _v(4,2,e,t)},useMemo:function(e,t){var n=gl();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gl();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=bH.bind(null,Nr,e),[r.memoizedState,e]},useRef:function(e){var t=gl();return e={current:e},t.memoizedState=e},useState:uE,useDebugValue:u7,useDeferredValue:function(e){return gl().memoizedState=e},useTransition:function(){var e=uE(!1),t=e[0];return e=wH.bind(null,e[1]),gl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Nr,i=gl();if(br){if(n===void 0)throw Error(rt(407));n=n()}else{if(n=t(),ki===null)throw Error(rt(349));Gf&30||YO(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,hE(XO.bind(null,r,o,e),[e]),r.flags|=2048,I0(9,JO.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=gl(),t=ki.identifierPrefix;if(br){var n=wc,r=yc;n=(r&~(1<<32-Fa(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=R0++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=yH++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},CH={readContext:aa,useCallback:oP,useContext:aa,useEffect:c7,useImperativeHandle:iP,useInsertionEffect:tP,useLayoutEffect:nP,useMemo:sP,useReducer:dx,useRef:eP,useState:function(){return dx(D0)},useDebugValue:u7,useDeferredValue:function(e){var t=la();return aP(t,li.memoizedState,e)},useTransition:function(){var e=dx(D0)[0],t=la().memoizedState;return[e,t]},useMutableSource:GO,useSyncExternalStore:KO,useId:lP,unstable_isNewReconciler:!1},kH={readContext:aa,useCallback:oP,useContext:aa,useEffect:c7,useImperativeHandle:iP,useInsertionEffect:tP,useLayoutEffect:nP,useMemo:sP,useReducer:px,useRef:eP,useState:function(){return px(D0)},useDebugValue:u7,useDeferredValue:function(e){var t=la();return li===null?t.memoizedState=e:aP(t,li.memoizedState,e)},useTransition:function(){var e=px(D0)[0],t=la().memoizedState;return[e,t]},useMutableSource:GO,useSyncExternalStore:KO,useId:lP,unstable_isNewReconciler:!1};function cg(e,t){try{var n="",r=t;do n+=Qq(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function gx(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function O3(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var EH=typeof WeakMap=="function"?WeakMap:Map;function fP(e,t,n){n=Sc(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){E5||(E5=!0,B3=r),O3(e,t)},n}function dP(e,t,n){n=Sc(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){O3(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){O3(e,t),typeof r!="function"&&(nh===null?nh=new Set([this]):nh.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function fE(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new EH;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=jH.bind(null,e,t,n),t.then(e,e))}function dE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function pE(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Sc(-1,1),t.tag=2,th(n,t,1))),n.lanes|=1),e)}var AH=Ic.ReactCurrentOwner,Jo=!1;function Lo(e,t,n,r){t.child=e===null?WO(t,null,n,r):ag(t,e.child,n,r)}function gE(e,t,n,r,i){n=n.render;var o=t.ref;return Vp(t,i),r=a7(e,t,n,r,o,i),n=l7(),e!==null&&!Jo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Oc(e,t,i)):(br&&n&&YS(t),t.flags|=1,Lo(e,t,r,i),t.child)}function mE(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!y7(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,pP(e,t,o,r,i)):(e=Mv(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:L0,n(s,r)&&e.ref===t.ref)return Oc(e,t,i)}return t.flags|=1,e=ih(o,r),e.ref=t.ref,e.return=t,t.child=e}function pP(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(L0(o,r)&&e.ref===t.ref)if(Jo=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Jo=!0);else return t.lanes=e.lanes,Oc(e,t,i)}return P3(e,t,n,r,i)}function gP(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ir(Ap,xs),xs|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ir(Ap,xs),xs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ir(Ap,xs),xs|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ir(Ap,xs),xs|=r;return Lo(e,t,i,n),t.child}function mP(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function P3(e,t,n,r,i){var o=Qo(n)?Wf:go.current;return o=og(t,o),Vp(t,i),n=a7(e,t,n,r,o,i),r=l7(),e!==null&&!Jo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Oc(e,t,i)):(br&&r&&YS(t),t.flags|=1,Lo(e,t,n,i),t.child)}function vE(e,t,n,r,i){if(Qo(n)){var o=!0;g5(t)}else o=!1;if(Vp(t,i),t.stateNode===null)Ov(e,t),UO(t,n,r),_3(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=aa(c):(c=Qo(n)?Wf:go.current,c=og(t,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&lE(t,s,r,c),Fu=!1;var g=t.memoizedState;s.state=g,b5(t,r,s,i),l=t.memoizedState,a!==r||g!==l||Xo.current||Fu?(typeof h=="function"&&(L3(t,n,h,r),l=t.memoizedState),(a=Fu||aE(t,n,a,r,g,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,$O(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Ma(t.type,a),s.props=c,f=t.pendingProps,g=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=aa(l):(l=Qo(n)?Wf:go.current,l=og(t,l));var d=n.getDerivedStateFromProps;(h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||g!==l)&&lE(t,s,r,l),Fu=!1,g=t.memoizedState,s.state=g,b5(t,r,s,i);var m=t.memoizedState;a!==f||g!==m||Xo.current||Fu?(typeof d=="function"&&(L3(t,n,d,r),m=t.memoizedState),(c=Fu||aE(t,n,c,r,g,m,l)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return T3(e,t,n,r,o,i)}function T3(e,t,n,r,i,o){mP(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&nE(t,n,!1),Oc(e,t,o);r=t.stateNode,AH.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=ag(t,e.child,null,o),t.child=ag(t,null,a,o)):Lo(e,t,a,o),t.memoizedState=r.state,i&&nE(t,n,!0),t.child}function vP(e){var t=e.stateNode;t.pendingContext?tE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tE(e,t.context,!1),r7(e,t.containerInfo)}function yE(e,t,n,r,i){return sg(),XS(i),t.flags|=256,Lo(e,t,n,r),t.child}var M3={dehydrated:null,treeContext:null,retryLane:0};function R3(e){return{baseLanes:e,cachePool:null,transitions:null}}function yP(e,t,n){var r=t.pendingProps,i=Er.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ir(Er,i&1),e===null)return A3(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Jy(s,r,0,null),e=Mf(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=R3(n),t.memoizedState=M3,e):h7(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return NH(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ih(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=ih(a,o):(o=Mf(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?R3(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=M3,r}return o=e.child,e=o.sibling,r=ih(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function h7(e,t){return t=Jy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function V1(e,t,n,r){return r!==null&&XS(r),ag(t,e.child,null,n),e=h7(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function NH(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=gx(Error(rt(422))),V1(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Jy({mode:"visible",children:r.children},i,0,null),o=Mf(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ag(t,e.child,null,s),t.child.memoizedState=R3(s),t.memoizedState=M3,o);if(!(t.mode&1))return V1(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(rt(419)),r=gx(o,r,void 0),V1(e,t,s,r)}if(a=(s&e.childLanes)!==0,Jo||a){if(r=ki,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,_c(e,i),ja(r,e,i,-1))}return v7(),r=gx(Error(rt(421))),V1(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=BH.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Cs=eh(i.nextSibling),As=t,br=!0,Da=null,e!==null&&(ea[ta++]=yc,ea[ta++]=wc,ea[ta++]=Hf,yc=e.id,wc=e.overflow,Hf=t),t=h7(t,r.children),t.flags|=4096,t)}function wE(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),N3(e.return,t,n)}function mx(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function wP(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Lo(e,t,r.children,n),r=Er.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wE(e,n,t);else if(e.tag===19)wE(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ir(Er,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&x5(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),mx(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&x5(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}mx(t,!0,n,null,o);break;case"together":mx(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ov(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Oc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kf|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(rt(153));if(t.child!==null){for(e=t.child,n=ih(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ih(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function LH(e,t,n){switch(t.tag){case 3:vP(t),sg();break;case 5:HO(t);break;case 1:Qo(t.type)&&g5(t);break;case 4:r7(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ir(y5,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ir(Er,Er.current&1),t.flags|=128,null):n&t.child.childLanes?yP(e,t,n):(ir(Er,Er.current&1),e=Oc(e,t,n),e!==null?e.sibling:null);ir(Er,Er.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return wP(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ir(Er,Er.current),r)break;return null;case 22:case 23:return t.lanes=0,gP(e,t,n)}return Oc(e,t,n)}var bP,D3,xP,SP;bP=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};D3=function(){};xP=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Af(Rl.current);var o=null;switch(n){case"input":i=r3(e,i),r=r3(e,r),o=[];break;case"select":i=Lr({},i,{value:void 0}),r=Lr({},r,{value:void 0}),o=[];break;case"textarea":i=s3(e,i),r=s3(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=d5)}l3(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(x0.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(x0.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ur("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};SP=function(e,t,n,r){n!==r&&(t.flags|=4)};function Cm(e,t){if(!br)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ji(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function _H(e,t,n){var r=t.pendingProps;switch(JS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ji(t),null;case 1:return Qo(t.type)&&p5(),Ji(t),null;case 3:return r=t.stateNode,lg(),pr(Xo),pr(go),o7(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(B1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Da!==null&&(U3(Da),Da=null))),D3(e,t),Ji(t),null;case 5:i7(t);var i=Af(M0.current);if(n=t.type,e!==null&&t.stateNode!=null)xP(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(rt(166));return Ji(t),null}if(e=Af(Rl.current),B1(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[El]=t,r[P0]=o,e=(t.mode&1)!==0,n){case"dialog":ur("cancel",r),ur("close",r);break;case"iframe":case"object":case"embed":ur("load",r);break;case"video":case"audio":for(i=0;i<Bm.length;i++)ur(Bm[i],r);break;case"source":ur("error",r);break;case"img":case"image":case"link":ur("error",r),ur("load",r);break;case"details":ur("toggle",r);break;case"input":Lk(r,o),ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ur("invalid",r);break;case"textarea":Ok(r,o),ur("invalid",r)}l3(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&j1(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&j1(r.textContent,a,e),i=["children",""+a]):x0.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ur("scroll",r)}switch(n){case"input":P1(r),_k(r,o,!0);break;case"textarea":P1(r),Pk(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=d5)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Y_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[El]=t,e[P0]=r,bP(e,t,!1,!1),t.stateNode=e;e:{switch(s=c3(n,r),n){case"dialog":ur("cancel",e),ur("close",e),i=r;break;case"iframe":case"object":case"embed":ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Bm.length;i++)ur(Bm[i],e);i=r;break;case"source":ur("error",e),i=r;break;case"img":case"image":case"link":ur("error",e),ur("load",e),i=r;break;case"details":ur("toggle",e),i=r;break;case"input":Lk(e,r),i=r3(e,r),ur("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Lr({},r,{value:void 0}),ur("invalid",e);break;case"textarea":Ok(e,r),i=s3(e,r),ur("invalid",e);break;default:i=r}l3(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Q_(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&J_(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&S0(e,l):typeof l=="number"&&S0(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(x0.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ur("scroll",e):l!=null&&DS(e,o,l,s))}switch(n){case"input":P1(e),_k(e,r,!1);break;case"textarea":P1(e),Pk(e);break;case"option":r.value!=null&&e.setAttribute("value",""+dh(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Fp(e,!!r.multiple,o,!1):r.defaultValue!=null&&Fp(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=d5)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ji(t),null;case 6:if(e&&t.stateNode!=null)SP(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(rt(166));if(n=Af(M0.current),Af(Rl.current),B1(t)){if(r=t.stateNode,n=t.memoizedProps,r[El]=t,(o=r.nodeValue!==n)&&(e=As,e!==null))switch(e.tag){case 3:j1(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&j1(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[El]=t,t.stateNode=r}return Ji(t),null;case 13:if(pr(Er),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(br&&Cs!==null&&t.mode&1&&!(t.flags&128))jO(),sg(),t.flags|=98560,o=!1;else if(o=B1(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(rt(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(rt(317));o[El]=t}else sg(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ji(t),o=!1}else Da!==null&&(U3(Da),Da=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Er.current&1?ui===0&&(ui=3):v7())),t.updateQueue!==null&&(t.flags|=4),Ji(t),null);case 4:return lg(),D3(e,t),e===null&&_0(t.stateNode.containerInfo),Ji(t),null;case 10:return e7(t.type._context),Ji(t),null;case 17:return Qo(t.type)&&p5(),Ji(t),null;case 19:if(pr(Er),o=t.memoizedState,o===null)return Ji(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Cm(o,!1);else{if(ui!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=x5(e),s!==null){for(t.flags|=128,Cm(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ir(Er,Er.current&1|2),t.child}e=e.sibling}o.tail!==null&&qr()>ug&&(t.flags|=128,r=!0,Cm(o,!1),t.lanes=4194304)}else{if(!r)if(e=x5(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Cm(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!br)return Ji(t),null}else 2*qr()-o.renderingStartTime>ug&&n!==1073741824&&(t.flags|=128,r=!0,Cm(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=qr(),t.sibling=null,n=Er.current,ir(Er,r?n&1|2:n&1),t):(Ji(t),null);case 22:case 23:return m7(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?xs&1073741824&&(Ji(t),t.subtreeFlags&6&&(t.flags|=8192)):Ji(t),null;case 24:return null;case 25:return null}throw Error(rt(156,t.tag))}function OH(e,t){switch(JS(t),t.tag){case 1:return Qo(t.type)&&p5(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return lg(),pr(Xo),pr(go),o7(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return i7(t),null;case 13:if(pr(Er),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(rt(340));sg()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pr(Er),null;case 4:return lg(),null;case 10:return e7(t.type._context),null;case 22:case 23:return m7(),null;case 24:return null;default:return null}}var U1=!1,so=!1,PH=typeof WeakSet=="function"?WeakSet:Set,wt=null;function Ep(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Dr(e,t,r)}else n.current=null}function I3(e,t,n){try{n()}catch(r){Dr(e,t,r)}}var bE=!1;function TH(e,t){if(w3=u5,e=AO(),KS(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,h=0,f=e,g=null;t:for(;;){for(var d;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(d=f.firstChild)!==null;)g=f,f=d;for(;;){if(f===e)break t;if(g===n&&++c===i&&(a=s),g===o&&++h===r&&(l=s),(d=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(b3={focusedElem:e,selectionRange:n},u5=!1,wt=t;wt!==null;)if(t=wt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,wt=e;else for(;wt!==null;){t=wt;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,C=m.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ma(t.type,y),C);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(rt(163))}}catch(N){Dr(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,wt=e;break}wt=t.return}return m=bE,bE=!1,m}function n0(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&I3(t,n,o)}i=i.next}while(i!==r)}}function Ky(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function z3(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function CP(e){var t=e.alternate;t!==null&&(e.alternate=null,CP(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[El],delete t[P0],delete t[C3],delete t[pH],delete t[gH])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kP(e){return e.tag===5||e.tag===3||e.tag===4}function xE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kP(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function F3(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=d5));else if(r!==4&&(e=e.child,e!==null))for(F3(e,t,n),e=e.sibling;e!==null;)F3(e,t,n),e=e.sibling}function j3(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(j3(e,t,n),e=e.sibling;e!==null;)j3(e,t,n),e=e.sibling}var Di=null,Ra=!1;function Au(e,t,n){for(n=n.child;n!==null;)EP(e,t,n),n=n.sibling}function EP(e,t,n){if(Ml&&typeof Ml.onCommitFiberUnmount=="function")try{Ml.onCommitFiberUnmount(By,n)}catch{}switch(n.tag){case 5:so||Ep(n,t);case 6:var r=Di,i=Ra;Di=null,Au(e,t,n),Di=r,Ra=i,Di!==null&&(Ra?(e=Di,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Di.removeChild(n.stateNode));break;case 18:Di!==null&&(Ra?(e=Di,n=n.stateNode,e.nodeType===8?cx(e.parentNode,n):e.nodeType===1&&cx(e,n),A0(e)):cx(Di,n.stateNode));break;case 4:r=Di,i=Ra,Di=n.stateNode.containerInfo,Ra=!0,Au(e,t,n),Di=r,Ra=i;break;case 0:case 11:case 14:case 15:if(!so&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&I3(n,t,s),i=i.next}while(i!==r)}Au(e,t,n);break;case 1:if(!so&&(Ep(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Dr(n,t,a)}Au(e,t,n);break;case 21:Au(e,t,n);break;case 22:n.mode&1?(so=(r=so)||n.memoizedState!==null,Au(e,t,n),so=r):Au(e,t,n);break;default:Au(e,t,n)}}function SE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new PH),t.forEach(function(r){var i=$H.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _a(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Di=a.stateNode,Ra=!1;break e;case 3:Di=a.stateNode.containerInfo,Ra=!0;break e;case 4:Di=a.stateNode.containerInfo,Ra=!0;break e}a=a.return}if(Di===null)throw Error(rt(160));EP(o,s,i),Di=null,Ra=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Dr(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)AP(t,e),t=t.sibling}function AP(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_a(t,e),fl(e),r&4){try{n0(3,e,e.return),Ky(3,e)}catch(y){Dr(e,e.return,y)}try{n0(5,e,e.return)}catch(y){Dr(e,e.return,y)}}break;case 1:_a(t,e),fl(e),r&512&&n!==null&&Ep(n,n.return);break;case 5:if(_a(t,e),fl(e),r&512&&n!==null&&Ep(n,n.return),e.flags&32){var i=e.stateNode;try{S0(i,"")}catch(y){Dr(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&G_(i,o),c3(a,s);var c=c3(a,o);for(s=0;s<l.length;s+=2){var h=l[s],f=l[s+1];h==="style"?Q_(i,f):h==="dangerouslySetInnerHTML"?J_(i,f):h==="children"?S0(i,f):DS(i,h,f,c)}switch(a){case"input":i3(i,o);break;case"textarea":K_(i,o);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var d=o.value;d!=null?Fp(i,!!o.multiple,d,!1):g!==!!o.multiple&&(o.defaultValue!=null?Fp(i,!!o.multiple,o.defaultValue,!0):Fp(i,!!o.multiple,o.multiple?[]:"",!1))}i[P0]=o}catch(y){Dr(e,e.return,y)}}break;case 6:if(_a(t,e),fl(e),r&4){if(e.stateNode===null)throw Error(rt(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Dr(e,e.return,y)}}break;case 3:if(_a(t,e),fl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{A0(t.containerInfo)}catch(y){Dr(e,e.return,y)}break;case 4:_a(t,e),fl(e);break;case 13:_a(t,e),fl(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(p7=qr())),r&4&&SE(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(so=(c=so)||h,_a(t,e),so=c):_a(t,e),fl(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!h&&e.mode&1)for(wt=e,h=e.child;h!==null;){for(f=wt=h;wt!==null;){switch(g=wt,d=g.child,g.tag){case 0:case 11:case 14:case 15:n0(4,g,g.return);break;case 1:Ep(g,g.return);var m=g.stateNode;if(typeof m.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(y){Dr(r,n,y)}}break;case 5:Ep(g,g.return);break;case 22:if(g.memoizedState!==null){kE(f);continue}}d!==null?(d.return=g,wt=d):kE(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=X_("display",s))}catch(y){Dr(e,e.return,y)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){Dr(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:_a(t,e),fl(e),r&4&&SE(e);break;case 21:break;default:_a(t,e),fl(e)}}function fl(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(kP(n)){var r=n;break e}n=n.return}throw Error(rt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(S0(i,""),r.flags&=-33);var o=xE(e);j3(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=xE(e);F3(e,a,s);break;default:throw Error(rt(161))}}catch(l){Dr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function MH(e,t,n){wt=e,NP(e)}function NP(e,t,n){for(var r=(e.mode&1)!==0;wt!==null;){var i=wt,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||U1;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||so;a=U1;var c=so;if(U1=s,(so=l)&&!c)for(wt=i;wt!==null;)s=wt,l=s.child,s.tag===22&&s.memoizedState!==null?EE(i):l!==null?(l.return=s,wt=l):EE(i);for(;o!==null;)wt=o,NP(o),o=o.sibling;wt=i,U1=a,so=c}CE(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,wt=o):CE(e)}}function CE(e){for(;wt!==null;){var t=wt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:so||Ky(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!so)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&sE(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}sE(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&A0(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(rt(163))}so||t.flags&512&&z3(t)}catch(g){Dr(t,t.return,g)}}if(t===e){wt=null;break}if(n=t.sibling,n!==null){n.return=t.return,wt=n;break}wt=t.return}}function kE(e){for(;wt!==null;){var t=wt;if(t===e){wt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,wt=n;break}wt=t.return}}function EE(e){for(;wt!==null;){var t=wt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ky(4,t)}catch(l){Dr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Dr(t,i,l)}}var o=t.return;try{z3(t)}catch(l){Dr(t,o,l)}break;case 5:var s=t.return;try{z3(t)}catch(l){Dr(t,s,l)}}}catch(l){Dr(t,t.return,l)}if(t===e){wt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,wt=a;break}wt=t.return}}var RH=Math.ceil,k5=Ic.ReactCurrentDispatcher,f7=Ic.ReactCurrentOwner,ia=Ic.ReactCurrentBatchConfig,kn=0,ki=null,ri=null,Bi=0,xs=0,Ap=Eh(0),ui=0,z0=null,Kf=0,Yy=0,d7=0,r0=null,Yo=null,p7=0,ug=1/0,dc=null,E5=!1,B3=null,nh=null,q1=!1,Hu=null,A5=0,i0=0,$3=null,Pv=-1,Tv=0;function To(){return kn&6?qr():Pv!==-1?Pv:Pv=qr()}function rh(e){return e.mode&1?kn&2&&Bi!==0?Bi&-Bi:vH.transition!==null?(Tv===0&&(Tv=uO()),Tv):(e=Gn,e!==0||(e=window.event,e=e===void 0?16:vO(e.type)),e):1}function ja(e,t,n,r){if(50<i0)throw i0=0,$3=null,Error(rt(185));v2(e,n,r),(!(kn&2)||e!==ki)&&(e===ki&&(!(kn&2)&&(Yy|=n),ui===4&&Uu(e,Bi)),Zo(e,r),n===1&&kn===0&&!(t.mode&1)&&(ug=qr()+500,Wy&&Ah()))}function Zo(e,t){var n=e.callbackNode;vW(e,t);var r=c5(e,e===ki?Bi:0);if(r===0)n!==null&&Rk(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Rk(n),t===1)e.tag===0?mH(AE.bind(null,e)):IO(AE.bind(null,e)),fH(function(){!(kn&6)&&Ah()}),n=null;else{switch(hO(r)){case 1:n=BS;break;case 4:n=lO;break;case 16:n=l5;break;case 536870912:n=cO;break;default:n=l5}n=DP(n,LP.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function LP(e,t){if(Pv=-1,Tv=0,kn&6)throw Error(rt(327));var n=e.callbackNode;if(Up()&&e.callbackNode!==n)return null;var r=c5(e,e===ki?Bi:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=N5(e,r);else{t=r;var i=kn;kn|=2;var o=OP();(ki!==e||Bi!==t)&&(dc=null,ug=qr()+500,Tf(e,t));do try{zH();break}catch(a){_P(e,a)}while(!0);ZS(),k5.current=o,kn=i,ri!==null?t=0:(ki=null,Bi=0,t=ui)}if(t!==0){if(t===2&&(i=p3(e),i!==0&&(r=i,t=V3(e,i))),t===1)throw n=z0,Tf(e,0),Uu(e,r),Zo(e,qr()),n;if(t===6)Uu(e,r);else{if(i=e.current.alternate,!(r&30)&&!DH(i)&&(t=N5(e,r),t===2&&(o=p3(e),o!==0&&(r=o,t=V3(e,o))),t===1))throw n=z0,Tf(e,0),Uu(e,r),Zo(e,qr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(rt(345));case 2:pf(e,Yo,dc);break;case 3:if(Uu(e,r),(r&130023424)===r&&(t=p7+500-qr(),10<t)){if(c5(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){To(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=S3(pf.bind(null,e,Yo,dc),t);break}pf(e,Yo,dc);break;case 4:if(Uu(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Fa(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=qr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*RH(r/1960))-r,10<r){e.timeoutHandle=S3(pf.bind(null,e,Yo,dc),r);break}pf(e,Yo,dc);break;case 5:pf(e,Yo,dc);break;default:throw Error(rt(329))}}}return Zo(e,qr()),e.callbackNode===n?LP.bind(null,e):null}function V3(e,t){var n=r0;return e.current.memoizedState.isDehydrated&&(Tf(e,t).flags|=256),e=N5(e,t),e!==2&&(t=Yo,Yo=n,t!==null&&U3(t)),e}function U3(e){Yo===null?Yo=e:Yo.push.apply(Yo,e)}function DH(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!$a(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uu(e,t){for(t&=~d7,t&=~Yy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Fa(t),r=1<<n;e[n]=-1,t&=~r}}function AE(e){if(kn&6)throw Error(rt(327));Up();var t=c5(e,0);if(!(t&1))return Zo(e,qr()),null;var n=N5(e,t);if(e.tag!==0&&n===2){var r=p3(e);r!==0&&(t=r,n=V3(e,r))}if(n===1)throw n=z0,Tf(e,0),Uu(e,t),Zo(e,qr()),n;if(n===6)throw Error(rt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,pf(e,Yo,dc),Zo(e,qr()),null}function g7(e,t){var n=kn;kn|=1;try{return e(t)}finally{kn=n,kn===0&&(ug=qr()+500,Wy&&Ah())}}function Yf(e){Hu!==null&&Hu.tag===0&&!(kn&6)&&Up();var t=kn;kn|=1;var n=ia.transition,r=Gn;try{if(ia.transition=null,Gn=1,e)return e()}finally{Gn=r,ia.transition=n,kn=t,!(kn&6)&&Ah()}}function m7(){xs=Ap.current,pr(Ap)}function Tf(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,hH(n)),ri!==null)for(n=ri.return;n!==null;){var r=n;switch(JS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&p5();break;case 3:lg(),pr(Xo),pr(go),o7();break;case 5:i7(r);break;case 4:lg();break;case 13:pr(Er);break;case 19:pr(Er);break;case 10:e7(r.type._context);break;case 22:case 23:m7()}n=n.return}if(ki=e,ri=e=ih(e.current,null),Bi=xs=t,ui=0,z0=null,d7=Yy=Kf=0,Yo=r0=null,Ef!==null){for(t=0;t<Ef.length;t++)if(n=Ef[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Ef=null}return e}function _P(e,t){do{var n=ri;try{if(ZS(),Lv.current=C5,S5){for(var r=Nr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}S5=!1}if(Gf=0,xi=li=Nr=null,t0=!1,R0=0,f7.current=null,n===null||n.return===null){ui=1,z0=t,ri=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Bi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var d=dE(s);if(d!==null){d.flags&=-257,pE(d,s,a,o,t),d.mode&1&&fE(o,c,t),t=d,l=c;var m=t.updateQueue;if(m===null){var y=new Set;y.add(l),t.updateQueue=y}else m.add(l);break e}else{if(!(t&1)){fE(o,c,t),v7();break e}l=Error(rt(426))}}else if(br&&a.mode&1){var C=dE(s);if(C!==null){!(C.flags&65536)&&(C.flags|=256),pE(C,s,a,o,t),XS(cg(l,a));break e}}o=l=cg(l,a),ui!==4&&(ui=2),r0===null?r0=[o]:r0.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var x=fP(o,l,t);oE(o,x);break e;case 1:a=l;var w=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(nh===null||!nh.has(E)))){o.flags|=65536,t&=-t,o.lanes|=t;var N=dP(o,a,t);oE(o,N);break e}}o=o.return}while(o!==null)}TP(n)}catch(_){t=_,ri===n&&n!==null&&(ri=n=n.return);continue}break}while(!0)}function OP(){var e=k5.current;return k5.current=C5,e===null?C5:e}function v7(){(ui===0||ui===3||ui===2)&&(ui=4),ki===null||!(Kf&268435455)&&!(Yy&268435455)||Uu(ki,Bi)}function N5(e,t){var n=kn;kn|=2;var r=OP();(ki!==e||Bi!==t)&&(dc=null,Tf(e,t));do try{IH();break}catch(i){_P(e,i)}while(!0);if(ZS(),kn=n,k5.current=r,ri!==null)throw Error(rt(261));return ki=null,Bi=0,ui}function IH(){for(;ri!==null;)PP(ri)}function zH(){for(;ri!==null&&!lW();)PP(ri)}function PP(e){var t=RP(e.alternate,e,xs);e.memoizedProps=e.pendingProps,t===null?TP(e):ri=t,f7.current=null}function TP(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=OH(n,t),n!==null){n.flags&=32767,ri=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ui=6,ri=null;return}}else if(n=_H(n,t,xs),n!==null){ri=n;return}if(t=t.sibling,t!==null){ri=t;return}ri=t=e}while(t!==null);ui===0&&(ui=5)}function pf(e,t,n){var r=Gn,i=ia.transition;try{ia.transition=null,Gn=1,FH(e,t,n,r)}finally{ia.transition=i,Gn=r}return null}function FH(e,t,n,r){do Up();while(Hu!==null);if(kn&6)throw Error(rt(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(rt(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(yW(e,o),e===ki&&(ri=ki=null,Bi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||q1||(q1=!0,DP(l5,function(){return Up(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ia.transition,ia.transition=null;var s=Gn;Gn=1;var a=kn;kn|=4,f7.current=null,TH(e,n),AP(n,e),iH(b3),u5=!!w3,b3=w3=null,e.current=n,MH(n),cW(),kn=a,Gn=s,ia.transition=o}else e.current=n;if(q1&&(q1=!1,Hu=e,A5=i),o=e.pendingLanes,o===0&&(nh=null),fW(n.stateNode),Zo(e,qr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(E5)throw E5=!1,e=B3,B3=null,e;return A5&1&&e.tag!==0&&Up(),o=e.pendingLanes,o&1?e===$3?i0++:(i0=0,$3=e):i0=0,Ah(),null}function Up(){if(Hu!==null){var e=hO(A5),t=ia.transition,n=Gn;try{if(ia.transition=null,Gn=16>e?16:e,Hu===null)var r=!1;else{if(e=Hu,Hu=null,A5=0,kn&6)throw Error(rt(331));var i=kn;for(kn|=4,wt=e.current;wt!==null;){var o=wt,s=o.child;if(wt.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(wt=c;wt!==null;){var h=wt;switch(h.tag){case 0:case 11:case 15:n0(8,h,o)}var f=h.child;if(f!==null)f.return=h,wt=f;else for(;wt!==null;){h=wt;var g=h.sibling,d=h.return;if(CP(h),h===c){wt=null;break}if(g!==null){g.return=d,wt=g;break}wt=d}}}var m=o.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var C=y.sibling;y.sibling=null,y=C}while(y!==null)}}wt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,wt=s;else e:for(;wt!==null;){if(o=wt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:n0(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,wt=x;break e}wt=o.return}}var w=e.current;for(wt=w;wt!==null;){s=wt;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,wt=E;else e:for(s=w;wt!==null;){if(a=wt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ky(9,a)}}catch(_){Dr(a,a.return,_)}if(a===s){wt=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,wt=N;break e}wt=a.return}}if(kn=i,Ah(),Ml&&typeof Ml.onPostCommitFiberRoot=="function")try{Ml.onPostCommitFiberRoot(By,e)}catch{}r=!0}return r}finally{Gn=n,ia.transition=t}}return!1}function NE(e,t,n){t=cg(n,t),t=fP(e,t,1),e=th(e,t,1),t=To(),e!==null&&(v2(e,1,t),Zo(e,t))}function Dr(e,t,n){if(e.tag===3)NE(e,e,n);else for(;t!==null;){if(t.tag===3){NE(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nh===null||!nh.has(r))){e=cg(n,e),e=dP(t,e,1),t=th(t,e,1),e=To(),t!==null&&(v2(t,1,e),Zo(t,e));break}}t=t.return}}function jH(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=To(),e.pingedLanes|=e.suspendedLanes&n,ki===e&&(Bi&n)===n&&(ui===4||ui===3&&(Bi&130023424)===Bi&&500>qr()-p7?Tf(e,0):d7|=n),Zo(e,t)}function MP(e,t){t===0&&(e.mode&1?(t=R1,R1<<=1,!(R1&130023424)&&(R1=4194304)):t=1);var n=To();e=_c(e,t),e!==null&&(v2(e,t,n),Zo(e,n))}function BH(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),MP(e,n)}function $H(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(rt(314))}r!==null&&r.delete(t),MP(e,n)}var RP;RP=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xo.current)Jo=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Jo=!1,LH(e,t,n);Jo=!!(e.flags&131072)}else Jo=!1,br&&t.flags&1048576&&zO(t,v5,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ov(e,t),e=t.pendingProps;var i=og(t,go.current);Vp(t,n),i=a7(null,t,r,e,i,n);var o=l7();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qo(r)?(o=!0,g5(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,n7(t),i.updater=Hy,t.stateNode=i,i._reactInternals=t,_3(t,r,e,n),t=T3(null,t,r,!0,o,n)):(t.tag=0,br&&o&&YS(t),Lo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ov(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=UH(r),e=Ma(r,e),i){case 0:t=P3(null,t,r,e,n);break e;case 1:t=vE(null,t,r,e,n);break e;case 11:t=gE(null,t,r,e,n);break e;case 14:t=mE(null,t,r,Ma(r.type,e),n);break e}throw Error(rt(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ma(r,i),P3(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ma(r,i),vE(e,t,r,i,n);case 3:e:{if(vP(t),e===null)throw Error(rt(387));r=t.pendingProps,o=t.memoizedState,i=o.element,$O(e,t),b5(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=cg(Error(rt(423)),t),t=yE(e,t,r,n,i);break e}else if(r!==i){i=cg(Error(rt(424)),t),t=yE(e,t,r,n,i);break e}else for(Cs=eh(t.stateNode.containerInfo.firstChild),As=t,br=!0,Da=null,n=WO(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sg(),r===i){t=Oc(e,t,n);break e}Lo(e,t,r,n)}t=t.child}return t;case 5:return HO(t),e===null&&A3(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,x3(r,i)?s=null:o!==null&&x3(r,o)&&(t.flags|=32),mP(e,t),Lo(e,t,s,n),t.child;case 6:return e===null&&A3(t),null;case 13:return yP(e,t,n);case 4:return r7(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ag(t,null,r,n):Lo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ma(r,i),gE(e,t,r,i,n);case 7:return Lo(e,t,t.pendingProps,n),t.child;case 8:return Lo(e,t,t.pendingProps.children,n),t.child;case 12:return Lo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,ir(y5,r._currentValue),r._currentValue=s,o!==null)if($a(o.value,s)){if(o.children===i.children&&!Xo.current){t=Oc(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Sc(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),N3(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(rt(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),N3(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Lo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Vp(t,n),i=aa(i),r=r(i),t.flags|=1,Lo(e,t,r,n),t.child;case 14:return r=t.type,i=Ma(r,t.pendingProps),i=Ma(r.type,i),mE(e,t,r,i,n);case 15:return pP(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ma(r,i),Ov(e,t),t.tag=1,Qo(r)?(e=!0,g5(t)):e=!1,Vp(t,n),UO(t,r,i),_3(t,r,i,n),T3(null,t,r,!0,e,n);case 19:return wP(e,t,n);case 22:return gP(e,t,n)}throw Error(rt(156,t.tag))};function DP(e,t){return aO(e,t)}function VH(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function na(e,t,n,r){return new VH(e,t,n,r)}function y7(e){return e=e.prototype,!(!e||!e.isReactComponent)}function UH(e){if(typeof e=="function")return y7(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zS)return 11;if(e===FS)return 14}return 2}function ih(e,t){var n=e.alternate;return n===null?(n=na(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mv(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")y7(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case mp:return Mf(n.children,i,o,t);case IS:s=8,i|=8;break;case Z4:return e=na(12,n,t,i|2),e.elementType=Z4,e.lanes=o,e;case e3:return e=na(13,n,t,i),e.elementType=e3,e.lanes=o,e;case t3:return e=na(19,n,t,i),e.elementType=t3,e.lanes=o,e;case q_:return Jy(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V_:s=10;break e;case U_:s=9;break e;case zS:s=11;break e;case FS:s=14;break e;case zu:s=16,r=null;break e}throw Error(rt(130,e==null?e:typeof e,""))}return t=na(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Mf(e,t,n,r){return e=na(7,e,r,t),e.lanes=n,e}function Jy(e,t,n,r){return e=na(22,e,r,t),e.elementType=q_,e.lanes=n,e.stateNode={isHidden:!1},e}function vx(e,t,n){return e=na(6,e,null,t),e.lanes=n,e}function yx(e,t,n){return t=na(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qH(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qb(0),this.expirationTimes=Qb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function w7(e,t,n,r,i,o,s,a,l){return e=new qH(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=na(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},n7(o),e}function WH(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gp,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function IP(e){if(!e)return ph;e=e._reactInternals;e:{if(hd(e)!==e||e.tag!==1)throw Error(rt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(rt(171))}if(e.tag===1){var n=e.type;if(Qo(n))return DO(e,n,t)}return t}function zP(e,t,n,r,i,o,s,a,l){return e=w7(n,r,!0,e,i,o,s,a,l),e.context=IP(null),n=e.current,r=To(),i=rh(n),o=Sc(r,i),o.callback=t??null,th(n,o,i),e.current.lanes=i,v2(e,i,r),Zo(e,r),e}function Xy(e,t,n,r){var i=t.current,o=To(),s=rh(i);return n=IP(n),t.context===null?t.context=n:t.pendingContext=n,t=Sc(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=th(i,t,s),e!==null&&(ja(e,i,s,o),Nv(e,i,s)),s}function L5(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function LE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function b7(e,t){LE(e,t),(e=e.alternate)&&LE(e,t)}function HH(){return null}var FP=typeof reportError=="function"?reportError:function(e){console.error(e)};function x7(e){this._internalRoot=e}Qy.prototype.render=x7.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(rt(409));Xy(e,t,null,null)};Qy.prototype.unmount=x7.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yf(function(){Xy(null,e,null,null)}),t[Lc]=null}};function Qy(e){this._internalRoot=e}Qy.prototype.unstable_scheduleHydration=function(e){if(e){var t=pO();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Vu.length&&t!==0&&t<Vu[n].priority;n++);Vu.splice(n,0,e),n===0&&mO(e)}};function S7(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _E(){}function GH(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=L5(s);o.call(c)}}var s=zP(t,r,e,0,null,!1,!1,"",_E);return e._reactRootContainer=s,e[Lc]=s.current,_0(e.nodeType===8?e.parentNode:e),Yf(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=L5(l);a.call(c)}}var l=w7(e,0,!1,null,null,!1,!1,"",_E);return e._reactRootContainer=l,e[Lc]=l.current,_0(e.nodeType===8?e.parentNode:e),Yf(function(){Xy(t,l,n,r)}),l}function ew(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=L5(s);a.call(l)}}Xy(t,s,e,i)}else s=GH(n,t,e,i,r);return L5(s)}fO=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=jm(t.pendingLanes);n!==0&&($S(t,n|1),Zo(t,qr()),!(kn&6)&&(ug=qr()+500,Ah()))}break;case 13:Yf(function(){var r=_c(e,1);if(r!==null){var i=To();ja(r,e,1,i)}}),b7(e,1)}};VS=function(e){if(e.tag===13){var t=_c(e,134217728);if(t!==null){var n=To();ja(t,e,134217728,n)}b7(e,134217728)}};dO=function(e){if(e.tag===13){var t=rh(e),n=_c(e,t);if(n!==null){var r=To();ja(n,e,t,r)}b7(e,t)}};pO=function(){return Gn};gO=function(e,t){var n=Gn;try{return Gn=e,t()}finally{Gn=n}};h3=function(e,t,n){switch(t){case"input":if(i3(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=qy(r);if(!i)throw Error(rt(90));H_(r),i3(r,i)}}}break;case"textarea":K_(e,n);break;case"select":t=n.value,t!=null&&Fp(e,!!n.multiple,t,!1)}};tO=g7;nO=Yf;var KH={usingClientEntryPoint:!1,Events:[w2,bp,qy,Z_,eO,g7]},km={findFiberByHostInstance:kf,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},YH={bundleType:km.bundleType,version:km.version,rendererPackageName:km.rendererPackageName,rendererConfig:km.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ic.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=oO(e),e===null?null:e.stateNode},findFiberByHostInstance:km.findFiberByHostInstance||HH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var W1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!W1.isDisabled&&W1.supportsFiber)try{By=W1.inject(YH),Ml=W1}catch{}}Ds.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KH;Ds.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!S7(t))throw Error(rt(200));return WH(e,t,null,n)};Ds.createRoot=function(e,t){if(!S7(e))throw Error(rt(299));var n=!1,r="",i=FP;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=w7(e,1,!1,null,null,n,!1,r,i),e[Lc]=t.current,_0(e.nodeType===8?e.parentNode:e),new x7(t)};Ds.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(rt(188)):(e=Object.keys(e).join(","),Error(rt(268,e)));return e=oO(t),e=e===null?null:e.stateNode,e};Ds.flushSync=function(e){return Yf(e)};Ds.hydrate=function(e,t,n){if(!Zy(t))throw Error(rt(200));return ew(null,e,t,!0,n)};Ds.hydrateRoot=function(e,t,n){if(!S7(e))throw Error(rt(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=FP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=zP(t,null,e,1,n??null,i,!1,o,s),e[Lc]=t.current,_0(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qy(t)};Ds.render=function(e,t,n){if(!Zy(t))throw Error(rt(200));return ew(null,e,t,!1,n)};Ds.unmountComponentAtNode=function(e){if(!Zy(e))throw Error(rt(40));return e._reactRootContainer?(Yf(function(){ew(null,null,e,!1,function(){e._reactRootContainer=null,e[Lc]=null})}),!0):!1};Ds.unstable_batchedUpdates=g7;Ds.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zy(n))throw Error(rt(200));if(e==null||e._reactInternals===void 0)throw Error(rt(38));return ew(e,t,n,!1,r)};Ds.version="18.2.0-next-9e3b772b8-20220608";function jP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jP)}catch(e){console.error(e)}}jP(),z_.exports=Ds;var x2=z_.exports;const tw=f_(x2);var OE=x2;X4.createRoot=OE.createRoot,X4.hydrateRoot=OE.hydrateRoot;const JH="modulepreload",XH=function(e){return"/"+e},PE={},q3=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=XH(o),o in PE)return;PE[o]=!0;const s=o.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let h=i.length-1;h>=0;h--){const f=i[h];if(f.href===o&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":JH,s||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),s)return new Promise((h,f)=>{c.addEventListener("load",h),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};var bs={},QH=Object.defineProperty,ZH=(e,t,n)=>t in e?QH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_n=(e,t,n)=>(ZH(e,typeof t!="symbol"?t+"":t,n),n),Al=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var BP={exports:{}},Em={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function eG(){if(TE)return Em;TE=1;var e=Un,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(a,l,c){var h,f={},g=null,d=null;c!==void 0&&(g=""+c),l.key!==void 0&&(g=""+l.key),l.ref!==void 0&&(d=l.ref);for(h in l)r.call(l,h)&&!o.hasOwnProperty(h)&&(f[h]=l[h]);if(a&&a.defaultProps)for(h in l=a.defaultProps,l)f[h]===void 0&&(f[h]=l[h]);return{$$typeof:t,type:a,key:g,ref:d,props:f,_owner:i.current}}return Em.Fragment=n,Em.jsx=s,Em.jsxs=s,Em}BP.exports=eG();var F0=BP.exports;function tG(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function nG(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var rG=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(nG(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=tG(r);try{i.insertRule(n,i.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}(),no="-ms-",_5="-moz-",Rn="-webkit-",$P="comm",C7="rule",k7="decl",iG="@import",VP="@keyframes",oG="@layer",sG=Math.abs,rw=String.fromCharCode,aG=Object.assign;function lG(e,t){return Fi(e,0)^45?(((t<<2^Fi(e,0))<<2^Fi(e,1))<<2^Fi(e,2))<<2^Fi(e,3):0}function UP(e){return e.trim()}function cG(e,t){return(e=t.exec(e))?e[0]:e}function In(e,t,n){return e.replace(t,n)}function W3(e,t){return e.indexOf(t)}function Fi(e,t){return e.charCodeAt(t)|0}function j0(e,t,n){return e.slice(t,n)}function Sl(e){return e.length}function E7(e){return e.length}function H1(e,t){return t.push(e),e}function uG(e,t){return e.map(t).join("")}var iw=1,hg=1,qP=0,rs=0,ti=0,Dg="";function ow(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:iw,column:hg,length:s,return:""}}function Am(e,t){return aG(ow("",null,null,"",null,null,0),e,{length:-e.length},t)}function hG(){return ti}function fG(){return ti=rs>0?Fi(Dg,--rs):0,hg--,ti===10&&(hg=1,iw--),ti}function Ns(){return ti=rs<qP?Fi(Dg,rs++):0,hg++,ti===10&&(hg=1,iw++),ti}function Dl(){return Fi(Dg,rs)}function Rv(){return rs}function S2(e,t){return j0(Dg,e,t)}function B0(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function WP(e){return iw=hg=1,qP=Sl(Dg=e),rs=0,[]}function HP(e){return Dg="",e}function Dv(e){return UP(S2(rs-1,H3(e===91?e+2:e===40?e+1:e)))}function dG(e){for(;(ti=Dl())&&ti<33;)Ns();return B0(e)>2||B0(ti)>3?"":" "}function pG(e,t){for(;--t&&Ns()&&!(ti<48||ti>102||ti>57&&ti<65||ti>70&&ti<97););return S2(e,Rv()+(t<6&&Dl()==32&&Ns()==32))}function H3(e){for(;Ns();)switch(ti){case e:return rs;case 34:case 39:e!==34&&e!==39&&H3(ti);break;case 40:e===41&&H3(e);break;case 92:Ns();break}return rs}function gG(e,t){for(;Ns()&&e+ti!==57&&!(e+ti===84&&Dl()===47););return"/*"+S2(t,rs-1)+"*"+rw(e===47?e:Ns())}function mG(e){for(;!B0(Dl());)Ns();return S2(e,rs)}function vG(e){return HP(Iv("",null,null,null,[""],e=WP(e),0,[0],e))}function Iv(e,t,n,r,i,o,s,a,l){for(var c=0,h=0,f=s,g=0,d=0,m=0,y=1,C=1,x=1,w=0,E="",N=i,_=o,D=r,P=E;C;)switch(m=w,w=Ns()){case 40:if(m!=108&&Fi(P,f-1)==58){W3(P+=In(Dv(w),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:P+=Dv(w);break;case 9:case 10:case 13:case 32:P+=dG(m);break;case 92:P+=pG(Rv()-1,7);continue;case 47:switch(Dl()){case 42:case 47:H1(yG(gG(Ns(),Rv()),t,n),l);break;default:P+="/"}break;case 123*y:a[c++]=Sl(P)*x;case 125*y:case 59:case 0:switch(w){case 0:case 125:C=0;case 59+h:x==-1&&(P=In(P,/\f/g,"")),d>0&&Sl(P)-f&&H1(d>32?RE(P+";",r,n,f-1):RE(In(P," ","")+";",r,n,f-2),l);break;case 59:P+=";";default:if(H1(D=ME(P,t,n,c,h,i,a,E,N=[],_=[],f),o),w===123)if(h===0)Iv(P,t,D,D,N,o,f,a,_);else switch(g===99&&Fi(P,3)===110?100:g){case 100:case 108:case 109:case 115:Iv(e,D,D,r&&H1(ME(e,D,D,0,0,i,a,E,i,N=[],f),_),i,_,f,a,r?N:_);break;default:Iv(P,D,D,D,[""],_,0,a,_)}}c=h=d=0,y=x=1,E=P="",f=s;break;case 58:f=1+Sl(P),d=m;default:if(y<1){if(w==123)--y;else if(w==125&&y++==0&&fG()==125)continue}switch(P+=rw(w),w*y){case 38:x=h>0?1:(P+="\f",-1);break;case 44:a[c++]=(Sl(P)-1)*x,x=1;break;case 64:Dl()===45&&(P+=Dv(Ns())),g=Dl(),h=f=Sl(E=P+=mG(Rv())),w++;break;case 45:m===45&&Sl(P)==2&&(y=0)}}return o}function ME(e,t,n,r,i,o,s,a,l,c,h){for(var f=i-1,g=i===0?o:[""],d=E7(g),m=0,y=0,C=0;m<r;++m)for(var x=0,w=j0(e,f+1,f=sG(y=s[m])),E=e;x<d;++x)(E=UP(y>0?g[x]+" "+w:In(w,/&\f/g,g[x])))&&(l[C++]=E);return ow(e,t,n,i===0?C7:a,l,c,h)}function yG(e,t,n){return ow(e,t,n,$P,rw(hG()),j0(e,2,-2),0)}function RE(e,t,n,r){return ow(e,t,n,k7,j0(e,0,r),j0(e,r+1,-1),r)}function qp(e,t){for(var n="",r=E7(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function wG(e,t,n,r){switch(e.type){case oG:if(e.children.length)break;case iG:case k7:return e.return=e.return||e.value;case $P:return"";case VP:return e.return=e.value+"{"+qp(e.children,r)+"}";case C7:e.value=e.props.join(",")}return Sl(n=qp(e.children,r))?e.return=e.value+"{"+n+"}":""}function bG(e){var t=E7(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function xG(e){return function(t){t.root||(t=t.return)&&e(t)}}function GP(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var SG=function(e,t,n){for(var r=0,i=0;r=i,i=Dl(),r===38&&i===12&&(t[n]=1),!B0(i);)Ns();return S2(e,rs)},CG=function(e,t){var n=-1,r=44;do switch(B0(r)){case 0:r===38&&Dl()===12&&(t[n]=1),e[n]+=SG(rs-1,t,n);break;case 2:e[n]+=Dv(r);break;case 4:if(r===44){e[++n]=Dl()===58?"&\f":"",t[n]=e[n].length;break}default:e[n]+=rw(r)}while(r=Ns());return e},kG=function(e,t){return HP(CG(WP(e),t))},DE=new WeakMap,EG=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!DE.get(n))&&!r){DE.set(e,!0);for(var i=[],o=kG(t,i),s=n.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},AG=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function KP(e,t){switch(lG(e,t)){case 5103:return Rn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Rn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Rn+e+_5+e+no+e+e;case 6828:case 4268:return Rn+e+no+e+e;case 6165:return Rn+e+no+"flex-"+e+e;case 5187:return Rn+e+In(e,/(\w+).+(:[^]+)/,Rn+"box-$1$2"+no+"flex-$1$2")+e;case 5443:return Rn+e+no+"flex-item-"+In(e,/flex-|-self/,"")+e;case 4675:return Rn+e+no+"flex-line-pack"+In(e,/align-content|flex-|-self/,"")+e;case 5548:return Rn+e+no+In(e,"shrink","negative")+e;case 5292:return Rn+e+no+In(e,"basis","preferred-size")+e;case 6060:return Rn+"box-"+In(e,"-grow","")+Rn+e+no+In(e,"grow","positive")+e;case 4554:return Rn+In(e,/([^-])(transform)/g,"$1"+Rn+"$2")+e;case 6187:return In(In(In(e,/(zoom-|grab)/,Rn+"$1"),/(image-set)/,Rn+"$1"),e,"")+e;case 5495:case 3959:return In(e,/(image-set\([^]*)/,Rn+"$1$`$1");case 4968:return In(In(e,/(.+:)(flex-)?(.*)/,Rn+"box-pack:$3"+no+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Rn+e+e;case 4095:case 3583:case 4068:case 2532:return In(e,/(.+)-inline(.+)/,Rn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Sl(e)-1-t>6)switch(Fi(e,t+1)){case 109:if(Fi(e,t+4)!==45)break;case 102:return In(e,/(.+:)(.+)-([^]+)/,"$1"+Rn+"$2-$3$1"+_5+(Fi(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~W3(e,"stretch")?KP(In(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Fi(e,t+1)!==115)break;case 6444:switch(Fi(e,Sl(e)-3-(~W3(e,"!important")&&10))){case 107:return In(e,":",":"+Rn)+e;case 101:return In(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Rn+(Fi(e,14)===45?"inline-":"")+"box$3$1"+Rn+"$2$3$1"+no+"$2box$3")+e}break;case 5936:switch(Fi(e,t+11)){case 114:return Rn+e+no+In(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Rn+e+no+In(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Rn+e+no+In(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Rn+e+no+e+e}return e}var NG=function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case k7:e.return=KP(e.value,e.length);break;case VP:return qp([Am(e,{value:In(e.value,"@","@"+Rn)})],r);case C7:if(e.length)return uG(e.props,function(i){switch(cG(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return qp([Am(e,{props:[In(i,/:(read-\w+)/,":"+_5+"$1")]})],r);case"::placeholder":return qp([Am(e,{props:[In(i,/:(plac\w+)/,":"+Rn+"input-$1")]}),Am(e,{props:[In(i,/:(plac\w+)/,":"+_5+"$1")]}),Am(e,{props:[In(i,/:(plac\w+)/,no+"input-$1")]})],r)}return""})}},LG=[NG],_G=function(e){var t=e.key;if(t==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(m){var y=m.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var r=e.stylisPlugins||LG,i={},o,s=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(m){for(var y=m.getAttribute("data-emotion").split(" "),C=1;C<y.length;C++)i[y[C]]=!0;s.push(m)});var a,l=[EG,AG];{var c,h=[wG,xG(function(m){c.insert(m)})],f=bG(l.concat(r,h)),g=function(m){return qp(vG(m),f)};a=function(m,y,C,x){c=C,g(m?m+"{"+y.styles+"}":y.styles),x&&(d.inserted[y.name]=!0)}}var d={key:t,sheet:new rG({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:a};return d.sheet.hydrate(s),d};function G3(){return G3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G3.apply(this,arguments)}var YP={exports:{}},$n={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE;function OG(){if(IE)return $n;IE=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,a=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,g=e?Symbol.for("react.suspense_list"):60120,d=e?Symbol.for("react.memo"):60115,m=e?Symbol.for("react.lazy"):60116,y=e?Symbol.for("react.block"):60121,C=e?Symbol.for("react.fundamental"):60117,x=e?Symbol.for("react.responder"):60118,w=e?Symbol.for("react.scope"):60119;function E(_){if(typeof _=="object"&&_!==null){var D=_.$$typeof;switch(D){case t:switch(_=_.type,_){case l:case c:case r:case o:case i:case f:return _;default:switch(_=_&&_.$$typeof,_){case a:case h:case m:case d:case s:return _;default:return D}}case n:return D}}}function N(_){return E(_)===c}return $n.AsyncMode=l,$n.ConcurrentMode=c,$n.ContextConsumer=a,$n.ContextProvider=s,$n.Element=t,$n.ForwardRef=h,$n.Fragment=r,$n.Lazy=m,$n.Memo=d,$n.Portal=n,$n.Profiler=o,$n.StrictMode=i,$n.Suspense=f,$n.isAsyncMode=function(_){return N(_)||E(_)===l},$n.isConcurrentMode=N,$n.isContextConsumer=function(_){return E(_)===a},$n.isContextProvider=function(_){return E(_)===s},$n.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===t},$n.isForwardRef=function(_){return E(_)===h},$n.isFragment=function(_){return E(_)===r},$n.isLazy=function(_){return E(_)===m},$n.isMemo=function(_){return E(_)===d},$n.isPortal=function(_){return E(_)===n},$n.isProfiler=function(_){return E(_)===o},$n.isStrictMode=function(_){return E(_)===i},$n.isSuspense=function(_){return E(_)===f},$n.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===c||_===o||_===i||_===f||_===g||typeof _=="object"&&_!==null&&(_.$$typeof===m||_.$$typeof===d||_.$$typeof===s||_.$$typeof===a||_.$$typeof===h||_.$$typeof===C||_.$$typeof===x||_.$$typeof===w||_.$$typeof===y)},$n.typeOf=E,$n}YP.exports=OG();var PG=YP.exports,JP=PG,TG={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MG={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},XP={};XP[JP.ForwardRef]=TG;XP[JP.Memo]=MG;var RG=!0;function QP(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var A7=function(e,t,n){var r=e.key+"-"+t.name;(n===!1||RG===!1)&&e.registered[r]===void 0&&(e.registered[r]=t.styles)},N7=function(e,t,n){A7(e,t,n);var r=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var i=t;do e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function DG(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var IG={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},zG=/[A-Z]|^ms/g,FG=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ZP=function(e){return e.charCodeAt(1)===45},zE=function(e){return e!=null&&typeof e!="boolean"},wx=GP(function(e){return ZP(e)?e:e.replace(zG,"-$&").toLowerCase()}),FE=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(FG,function(n,r,i){return Cl={name:r,styles:i,next:Cl},r})}return IG[e]!==1&&!ZP(e)&&typeof t=="number"&&t!==0?t+"px":t};function $0(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Cl={name:n.name,styles:n.styles,next:Cl},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Cl={name:r.name,styles:r.styles,next:Cl},r=r.next;var i=n.styles+";";return i}return jG(e,t,n)}case"function":{if(e!==void 0){var o=Cl,s=n(e);return Cl=o,$0(e,t,s)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function jG(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=$0(e,t,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")t!=null&&t[s]!==void 0?r+=o+"{"+t[s]+"}":zE(s)&&(r+=wx(o)+":"+FE(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var a=0;a<s.length;a++)zE(s[a])&&(r+=wx(o)+":"+FE(o,s[a])+";");else{var l=$0(e,t,s);switch(o){case"animation":case"animationName":{r+=wx(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var jE=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Cl,sw=function(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";Cl=void 0;var o=e[0];o==null||o.raw===void 0?(r=!1,i+=$0(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++)i+=$0(n,t,e[s]),r&&(i+=o[s]);jE.lastIndex=0;for(var a="",l;(l=jE.exec(i))!==null;)a+="-"+l[1];var c=DG(i)+a;return{name:c,styles:i,next:Cl}},BG=function(e){return e()},eT=M.useInsertionEffect?M.useInsertionEffect:!1,tT=eT||BG,BE=eT||M.useLayoutEffect,aw={}.hasOwnProperty,nT=M.createContext(typeof HTMLElement<"u"?_G({key:"css"}):null);nT.Provider;var L7=function(e){return M.forwardRef(function(t,n){var r=M.useContext(nT);return e(t,r,n)})},_7=M.createContext({}),K3="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",rT=function(e,t){var n={};for(var r in t)aw.call(t,r)&&(n[r]=t[r]);return n[K3]=e,n},$G=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return A7(t,n,r),tT(function(){return N7(t,n,r)}),null},VG=L7(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[K3],o=[r],s="";typeof e.className=="string"?s=QP(t.registered,o,e.className):e.className!=null&&(s=e.className+" ");var a=sw(o,void 0,M.useContext(_7));s+=t.key+"-"+a.name;var l={};for(var c in e)aw.call(e,c)&&c!=="css"&&c!==K3&&(l[c]=e[c]);return l.ref=n,l.className=s,M.createElement(M.Fragment,null,M.createElement($G,{cache:t,serialized:a,isStringTag:typeof i=="string"}),M.createElement(i,l))}),iT=VG,jl=F0.Fragment;function S(e,t,n){return aw.call(t,"css")?F0.jsx(iT,rT(e,t),n):F0.jsx(e,t,n)}function me(e,t,n){return aw.call(t,"css")?F0.jsxs(iT,rT(e,t),n):F0.jsxs(e,t,n)}const fd=M.createContext({}),oT=M.createContext({}),sT=({id:e,children:t})=>S(oT.Provider,{value:{id:e},children:t}),UG=(e,t)=>e.split(" ").map(n=>n.match(/^[+-]?\d+(\.\d+)?$/)?parseFloat(n)*t:n).join(" "),$E=({h:e,s:t,l:n,a:r})=>(t*=(n<50?n:100-n)/100,{h:e,s:t>0?2*t/(n+t)*100:0,v:n+t,a:r}),V0=e=>(e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Math.round(parseInt(e[3]+e[3],16)/255*100)/100:1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?Math.round(parseInt(e.substring(6,8),16)/255*100)/100:1}),Y3=e=>{const{r:t,g:n,b:r,a:i}=V0(e);return i===1?`rgb(${t}, ${n}, ${r})`:`rgba(${t}, ${n}, ${r}, ${i})`},O7=({r:e,g:t,b:n,a:r})=>{let i,o=0,s=0;const a=Math.max(e,t,n),l=Math.min(e,t,n),c=a-l;return c===0?i=0:e===a?i=(t-n)/c%6:t===a?i=(n-e)/c+2:i=(e-t)/c+4,i=i*60,i<0&&(i+=360),o=(a===0?0:c/a)*100,s=a/255*100,{h:i,s:o,v:s,a:r}},J3=e=>{const t=V0(e);return O7(t)},X3=({h:e,s:t,v:n,a:r})=>{t=t/100,n=n/100;let i=[];const o=n*t,s=e/60,a=o*(1-Math.abs(s%2-1)),l=n-o;return s>=0&&s<1?i=[o,a,0]:s>=1&&s<2?i=[a,o,0]:s>=2&&s<3?i=[0,o,a]:e>=3&&s<4?i=[0,a,o]:e>=4&&s<5?i=[a,0,o]:e>=5&&s<=6?i=[o,0,a]:i=[0,0,0],{r:Math.round(255*(i[0]+l)),g:Math.round(255*(i[1]+l)),b:Math.round(255*(i[2]+l)),a:r}},G1=e=>{const t=e.toString(16);return t.length===1?"0"+t:t},qG=({r:e,g:t,b:n,a:r})=>{const i=r<1?G1(Math.round(r*255)):"";return"#"+[G1(e),G1(t),G1(n),i].join("")},P7=({h:e,s:t,v:n,a:r})=>{const i=X3({h:e,s:t,v:n,a:r});return qG(i)},aT=({h:e,s:t,v:n,a:r})=>{const i=(200-t)*n/100;return{h:e,s:i>0&&i<200?t*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:r}},O5=({h:e,s:t,v:n,a:r})=>{const i=aT({h:e,s:t,v:n,a:r});return`hsl(${i.h}, ${i.s}%, ${i.l}%, ${i.a})`},WG=e=>Object.keys(e).every(t=>["r","g","b","a"].includes(t)),HG=e=>Object.keys(e).every(t=>["h","s","l","a"].includes(t)),GG=({h:e,s:t,v:n})=>({h:e,w:(100-t)*n/100,b:100-n}),VE=({h:e,w:t,b:n},r)=>({h:e,s:Math.max(0,Math.min(100,n===100?0:100-t/(100-n)*100)),v:100-n,a:r}),KG=e=>{try{let t;if(lT.test(e)?t=YG(e):JG.test(e)&&(t=XG(e)),t)return O7(t)}catch{console.warn(`Cannot parse ${e}`)}return{h:0,s:0,v:0,a:1}},lT=/rgba?\((?<r>[.\d]+)[, ]+(?<g>[.\d]+)[, ]+(?<b>[.\d]+)(?:\s?[,\/]\s?(?<a>[.\d]+%?))?\)/i,YG=e=>{const t=lT.exec(e);if(t!=null&&t.groups)return{r:parseInt(t.groups.r,10),g:parseInt(t.groups.g,10),b:parseInt(t.groups.b,10),a:typeof t.groups.a<"u"?parseInt(t.groups.a):1}},JG=/^#[0-9A-F]{3,6}[0-9a-f]{0,2}$/i,XG=e=>V0(e);class xr{constructor(t){if(_n(this,"_color"),_n(this,"_alpha"),typeof t=="string"){const n=KG(t);this._color=n,this._alpha=n.a||1}else WG(t)?(this._color=O7(t),this._alpha=t.a||1):HG(t)?(this._color=$E(t),this._alpha=t.a||1):(this._color=t,this._alpha=t.a||1)}alpha(t){return this._alpha=t,this}white(){return this.toHwb().w}darken(t){const n=this.toHsl();return n.l=Math.min(100,Math.max(n.l-n.l*t,0)),this._color=$E(n),this}whiten(t){const n=this.toHwb();return n.w=Math.min(100,Math.max(n.w+n.w*t,0)),this._color=VE(n,this._alpha),this}shadeHexColor(t){const n=X3({...this._color,a:this._alpha});var r=t<0?0:255,i=t<0?t*-1:t;return"rgb("+(Math.round((r-n.r)*i)+n.r)+","+(Math.round((r-n.g)*i)+n.g)+","+(Math.round((r-n.b)*i)+n.b)+")"}blacken(t){const n=this.toHwb();return n.b=Math.min(100,Math.max(n.b+n.b*t,0)),this._color=VE(n,this._alpha),this}toHwb(){return GG(this._color)}toHsl(){return aT({...this._color,a:this._alpha})}toRgbString(){const t=X3({...this._color,a:this._alpha});return`rgb${t.a!==1?"a":""}(${t.r}, ${t.g}, ${t.b}${t.a!==1?`, ${t.a}`:""})`}toHex(){return P7({...this._color,a:this._alpha})}isLight(){return this._color.v>50}lightness(){return this._color.v}lighten(t){const n=this._color;return n.v=Math.min(100,Math.max(n.v+n.v*t,0)),this._color=n,this}}function QG(e){for(var t="",n=0;n<e;n++){var r=n*2*Math.PI/e,i=Math.round(1e4*Math.cos(r))/1e4,o=Math.round(1e4*Math.sin(r))/1e4;t+="calc(var(--stroke-width) * "+i+") calc(var(--stroke-width) * "+o+") 0 var(--stroke-color),"}return t.slice(0,-1)}const P5=(e,t,n,r)=>{const i={};switch(e){case"shadow":{const o=new xr(t.color),s=(t.direction||0)*Math.PI/180,a=(t.offset||0)*.00183334*r*Math.sin(s),l=(t.offset||0)*.00183334*r*Math.cos(s);i.textShadow=`${o.alpha((t.transparency||0)/100).toRgbString()} ${a}px ${l}px ${t.blur}px`;break}case"lift":{const o=new xr(t.color);o.alpha(.05+((t==null?void 0:t.intensity)||0)*.005),i.textShadow=`${o.toRgbString()} 0px ${Math.max(.45,r*.05)}px ${Math.max(.45,r*.05)+((t==null?void 0:t.intensity)||0)*.065}px; filter: opacity(1)`;break}case"hollow":{i.caretColor=n,i.WebkitTextFillColor="transparent",i.WebkitTextStroke=`${(.0091666+833325e-9*((t==null?void 0:t.thickness)||0))*r}px ${n}`;break}case"splice":{i.caretColor=n,i.WebkitTextFillColor="transparent";const o=(t==null?void 0:t.thickness)||0;i.WebkitTextStroke=`${Math.max(8,r)*.00916666+.00166666/2*r*o}px ${n}`;const s=((t==null?void 0:t.direction)||0)*Math.PI/180,a=((t==null?void 0:t.offset)||0)*.00183334*r*Math.sin(s),l=((t==null?void 0:t.offset)||0)*.00183334*r*Math.cos(s);i.textShadow=`${t.color} ${a}px ${l}px 0px`;break}case"outline":{const o=((t==null?void 0:t.thickness)||1)*6/200;i.color=n,i["--stroke-color"]=t.color,i["--stroke-width"]=o+"px",i.letterSpacing="var(--stroke-width)",i.textShadow=QG(16);break}case"echo":{const o=new xr(t.color),s=((t==null?void 0:t.direction)||0)*Math.PI/180,a=((t==null?void 0:t.offset)||0)*.00166666*r*Math.sin(s),l=((t==null?void 0:t.offset)||0)*.00166666*r*Math.cos(s);i.textShadow=`${o.alpha(.5).toRgbString()} ${a}px ${l}px 0px, ${o.alpha(.3).toRgbString()} ${a*2}px ${l*2}px 0px`;break}case"neon":{const o=new xr(n),s=.016766*r+.001004*((t==null?void 0:t.intensity)||0)-.001004,a=o.isLight()?o.darken(Math.min(Math.max(2,100-o.lightness()),10)*.02).toRgbString():o.lighten(Math.min(Math.max(2,o.lightness()),10)*.02).toRgbString(),l=o.isLight()?o.darken(Math.min(Math.max(2,100-o.lightness()),10)*.01).toRgbString():o.lighten(Math.min(Math.max(2,o.lightness()),10)*.01).toRgbString();i.filter=`drop-shadow(${a} 0px 0px ${s}px) drop-shadow(${l} 0px 0px ${s*5}px) drop-shadow(${l} 0px 0px ${s*15}px)`,i["--color-override"]=o.shadeHexColor(((t==null?void 0:t.intensity)||1)/100),i.span={color:"var(--color-override)!important"};break}case"glitch":{const o=((t==null?void 0:t.direction)||0)*Math.PI/180,s=(t==null?void 0:t.offset)||0,a=s*.00183334*r*Math.sin(o),l=s*.00183334*r*Math.cos(o);i.textShadow=`rgb(0, 255, 255) ${a}px ${l}px 0px, 
                   rgb(255, 0, 255) ${a*-1}px ${l*-1}px 0px`,i["--color-override"]=n,i.span={color:"var(--color-override)!important"};break}}return i},gn=e=>{const t=[];return e.position&&t.push(`translate(${e.position.x}px, ${e.position.y}px)`),e.scale&&t.push(`scale(${e.scale})`),e.rotate&&t.push(`rotate(${e.rotate}deg)`),t.join(" ")};var T5={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */T5.exports;(function(e,t){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,h="__lodash_placeholder__",f=1,g=2,d=4,m=1,y=2,C=1,x=2,w=4,E=8,N=16,_=32,D=64,P=128,I=256,W=512,G=30,O="...",z=800,U=16,$=1,ne=2,se=3,ae=1/0,Z=9007199254740991,le=17976931348623157e292,ue=NaN,ge=4294967295,F=ge-1,Q=ge>>>1,re=[["ary",P],["bind",C],["bindKey",x],["curry",E],["curryRight",N],["flip",W],["partial",_],["partialRight",D],["rearg",I]],he="[object Arguments]",pe="[object Array]",Se="[object AsyncFunction]",xe="[object Boolean]",Ee="[object Date]",Ge="[object DOMException]",Be="[object Error]",Ke="[object Function]",it="[object GeneratorFunction]",at="[object Map]",Re="[object Number]",fe="[object Null]",vt="[object Object]",De="[object Promise]",ze="[object Proxy]",je="[object RegExp]",oe="[object Set]",ee="[object String]",te="[object Symbol]",Ne="[object Undefined]",Oe="[object WeakMap]",qe="[object WeakSet]",Qe="[object ArrayBuffer]",nt="[object DataView]",lt="[object Float32Array]",xt="[object Float64Array]",Ve="[object Int8Array]",ot="[object Int16Array]",Et="[object Int32Array]",mn="[object Uint8Array]",Jt="[object Uint8ClampedArray]",Rt="[object Uint16Array]",qn="[object Uint32Array]",ht=/\b__p \+= '';/g,Xn=/\b(__p \+=) '' \+/g,Sn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,yt=/&(?:amp|lt|gt|quot|#39);/g,ln=/[&<>"']/g,Dt=RegExp(yt.source),Pt=RegExp(ln.source),It=/<%-([\s\S]+?)%>/g,Fr=/<%([\s\S]+?)%>/g,dn=/<%=([\s\S]+?)%>/g,ar=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,On=/^\w*$/,At=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Li=/[\\^$.*+?()[\]{}|]/g,Fo=RegExp(Li.source),jr=/^\s+/,gr=/\s/,lr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,fi=/\{\n\/\* \[wrapped with (.+)\] \*/,Wn=/,? & /,Yr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,_i=/[()=,{}\[\]\/\s]/,di=/\\(\\)?/g,yo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Vi=/\w*$/,jo=/^[-+]0x[0-9a-f]+$/i,Fs=/^0b[01]+$/i,Kl=/^\[object .+?Constructor\]$/,Fc=/^0o[0-7]+$/i,jc=/^(?:0|[1-9]\d*)$/,Bc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,fa=/($^)/,yd=/['\n\r\u2028\u2029\\]/g,$c="\\ud800-\\udfff",Vg="\\u0300-\\u036f",Vc="\\ufe20-\\ufe2f",wd="\\u20d0-\\u20ff",bd=Vg+Vc+wd,Uc="\\u2700-\\u27bf",xd="a-z\\xdf-\\xf6\\xf8-\\xff",Sd="\\xac\\xb1\\xd7\\xf7",Ug="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",qc="\\u2000-\\u206f",qg=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",mr="A-Z\\xc0-\\xd6\\xd8-\\xde",Th="\\ufe0e\\ufe0f",Mh=Sd+Ug+qc+qg,Wc="[']",Rh="["+$c+"]",Cd="["+Mh+"]",Ui="["+bd+"]",Yl="\\d+",qi="["+Uc+"]",Hc="["+xd+"]",Dh="[^"+$c+Mh+Yl+Uc+xd+mr+"]",Ih="\\ud83c[\\udffb-\\udfff]",kd="(?:"+Ui+"|"+Ih+")",Ed="[^"+$c+"]",Gc="(?:\\ud83c[\\udde6-\\uddff]){2}",zh="[\\ud800-\\udbff][\\udc00-\\udfff]",js="["+mr+"]",Ad="\\u200d",Nd="(?:"+Hc+"|"+Dh+")",Wg="(?:"+js+"|"+Dh+")",Bs="(?:"+Wc+"(?:d|ll|m|re|s|t|ve))?",Jl="(?:"+Wc+"(?:D|LL|M|RE|S|T|VE))?",Xl=kd+"?",Fh="["+Th+"]?",pi="(?:"+Ad+"(?:"+[Ed,Gc,zh].join("|")+")"+Fh+Xl+")*",Hg="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ld="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",qt=Fh+Xl+pi,Gg="(?:"+[qi,Gc,zh].join("|")+")"+qt,Kg="(?:"+[Ed+Ui+"?",Ui,Gc,zh,Rh].join("|")+")",$s=RegExp(Wc,"g"),_d=RegExp(Ui,"g"),Kc=RegExp(Ih+"(?="+Ih+")|"+Kg+qt,"g"),Yc=RegExp([js+"?"+Hc+"+"+Bs+"(?="+[Cd,js,"$"].join("|")+")",Wg+"+"+Jl+"(?="+[Cd,js+Nd,"$"].join("|")+")",js+"?"+Nd+"+"+Bs,js+"+"+Jl,Ld,Hg,Yl,Gg].join("|"),"g"),jh=RegExp("["+Ad+$c+bd+Th+"]"),Yg=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Jg=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xg=-1,Pn={};Pn[lt]=Pn[xt]=Pn[Ve]=Pn[ot]=Pn[Et]=Pn[mn]=Pn[Jt]=Pn[Rt]=Pn[qn]=!0,Pn[he]=Pn[pe]=Pn[Qe]=Pn[xe]=Pn[nt]=Pn[Ee]=Pn[Be]=Pn[Ke]=Pn[at]=Pn[Re]=Pn[vt]=Pn[je]=Pn[oe]=Pn[ee]=Pn[Oe]=!1;var vn={};vn[he]=vn[pe]=vn[Qe]=vn[nt]=vn[xe]=vn[Ee]=vn[lt]=vn[xt]=vn[Ve]=vn[ot]=vn[Et]=vn[at]=vn[Re]=vn[vt]=vn[je]=vn[oe]=vn[ee]=vn[te]=vn[mn]=vn[Jt]=vn[Rt]=vn[qn]=!0,vn[Be]=vn[Ke]=vn[Oe]=!1;var Ha={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Qg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ql={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Bh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Jc=parseFloat,Od=parseInt,$h=typeof Al=="object"&&Al&&Al.Object===Object&&Al,Pd=typeof self=="object"&&self&&self.Object===Object&&self,Or=$h||Pd||Function("return this")(),ls=t&&!t.nodeType&&t,Wi=ls&&!0&&e&&!e.nodeType&&e,Td=Wi&&Wi.exports===ls,Vs=Td&&$h.process,vr=function(){try{var Ce=Wi&&Wi.require&&Wi.require("util").types;return Ce||Vs&&Vs.binding&&Vs.binding("util")}catch{}}(),Xc=vr&&vr.isArrayBuffer,Ga=vr&&vr.isDate,Md=vr&&vr.isMap,Zl=vr&&vr.isRegExp,Rd=vr&&vr.isSet,Qc=vr&&vr.isTypedArray;function si(Ce,$e,Me){switch(Me.length){case 0:return Ce.call($e);case 1:return Ce.call($e,Me[0]);case 2:return Ce.call($e,Me[0],Me[1]);case 3:return Ce.call($e,Me[0],Me[1],Me[2])}return Ce.apply($e,Me)}function Dd(Ce,$e,Me,ft){for(var _t=-1,tn=Ce==null?0:Ce.length;++_t<tn;){var Qn=Ce[_t];$e(ft,Qn,Me(Qn),Ce)}return ft}function ai(Ce,$e){for(var Me=-1,ft=Ce==null?0:Ce.length;++Me<ft&&$e(Ce[Me],Me,Ce)!==!1;);return Ce}function Vh(Ce,$e){for(var Me=Ce==null?0:Ce.length;Me--&&$e(Ce[Me],Me,Ce)!==!1;);return Ce}function Zc(Ce,$e){for(var Me=-1,ft=Ce==null?0:Ce.length;++Me<ft;)if(!$e(Ce[Me],Me,Ce))return!1;return!0}function cs(Ce,$e){for(var Me=-1,ft=Ce==null?0:Ce.length,_t=0,tn=[];++Me<ft;){var Qn=Ce[Me];$e(Qn,Me,Ce)&&(tn[_t++]=Qn)}return tn}function eu(Ce,$e){var Me=Ce==null?0:Ce.length;return!!Me&&et(Ce,$e,0)>-1}function Ka(Ce,$e,Me){for(var ft=-1,_t=Ce==null?0:Ce.length;++ft<_t;)if(Me($e,Ce[ft]))return!0;return!1}function An(Ce,$e){for(var Me=-1,ft=Ce==null?0:Ce.length,_t=Array(ft);++Me<ft;)_t[Me]=$e(Ce[Me],Me,Ce);return _t}function Bo(Ce,$e){for(var Me=-1,ft=$e.length,_t=Ce.length;++Me<ft;)Ce[_t+Me]=$e[Me];return Ce}function Us(Ce,$e,Me,ft){var _t=-1,tn=Ce==null?0:Ce.length;for(ft&&tn&&(Me=Ce[++_t]);++_t<tn;)Me=$e(Me,Ce[_t],_t,Ce);return Me}function Uh(Ce,$e,Me,ft){var _t=Ce==null?0:Ce.length;for(ft&&_t&&(Me=Ce[--_t]);_t--;)Me=$e(Me,Ce[_t],_t,Ce);return Me}function A(Ce,$e){for(var Me=-1,ft=Ce==null?0:Ce.length;++Me<ft;)if($e(Ce[Me],Me,Ce))return!0;return!1}var V=Xt("length");function ce(Ce){return Ce.split("")}function ve(Ce){return Ce.match(Yr)||[]}function _e(Ce,$e,Me){var ft;return Me(Ce,function(_t,tn,Qn){if($e(_t,tn,Qn))return ft=tn,!1}),ft}function Fe(Ce,$e,Me,ft){for(var _t=Ce.length,tn=Me+(ft?1:-1);ft?tn--:++tn<_t;)if($e(Ce[tn],tn,Ce))return tn;return-1}function et(Ce,$e,Me){return $e===$e?fs(Ce,$e,Me):Fe(Ce,Lt,Me)}function gt(Ce,$e,Me,ft){for(var _t=Me-1,tn=Ce.length;++_t<tn;)if(ft(Ce[_t],$e))return _t;return-1}function Lt(Ce){return Ce!==Ce}function Ht(Ce,$e){var Me=Ce==null?0:Ce.length;return Me?yr(Ce,$e)/Me:ue}function Xt(Ce){return function($e){return $e==null?n:$e[Ce]}}function cn(Ce){return function($e){return Ce==null?n:Ce[$e]}}function tr(Ce,$e,Me,ft,_t){return _t(Ce,function(tn,Qn,yn){Me=ft?(ft=!1,tn):$e(Me,tn,Qn,yn)}),Me}function Sr(Ce,$e){var Me=Ce.length;for(Ce.sort($e);Me--;)Ce[Me]=Ce[Me].value;return Ce}function yr(Ce,$e){for(var Me,ft=-1,_t=Ce.length;++ft<_t;){var tn=$e(Ce[ft]);tn!==n&&(Me=Me===n?tn:Me+tn)}return Me}function Jr(Ce,$e){for(var Me=-1,ft=Array(Ce);++Me<Ce;)ft[Me]=$e(Me);return ft}function Xr(Ce,$e){return An($e,function(Me){return[Me,Ce[Me]]})}function $o(Ce){return Ce&&Ce.slice(0,da(Ce)+1).replace(jr,"")}function nr(Ce){return function($e){return Ce($e)}}function us(Ce,$e){return An($e,function(Me){return Ce[Me]})}function Ya(Ce,$e){return Ce.has($e)}function tu(Ce,$e){for(var Me=-1,ft=Ce.length;++Me<ft&&et($e,Ce[Me],0)>-1;);return Me}function nu(Ce,$e){for(var Me=Ce.length;Me--&&et($e,Ce[Me],0)>-1;);return Me}function ru(Ce,$e){for(var Me=Ce.length,ft=0;Me--;)Ce[Me]===$e&&++ft;return ft}var qh=cn(Ha),Wh=cn(Qg);function iu(Ce){return"\\"+Bh[Ce]}function Hi(Ce,$e){return Ce==null?n:Ce[$e]}function hs(Ce){return jh.test(Ce)}function ou(Ce){return Yg.test(Ce)}function su(Ce){for(var $e,Me=[];!($e=Ce.next()).done;)Me.push($e.value);return Me}function ec(Ce){var $e=-1,Me=Array(Ce.size);return Ce.forEach(function(ft,_t){Me[++$e]=[_t,ft]}),Me}function Oi(Ce,$e){return function(Me){return Ce($e(Me))}}function qs(Ce,$e){for(var Me=-1,ft=Ce.length,_t=0,tn=[];++Me<ft;){var Qn=Ce[Me];(Qn===$e||Qn===h)&&(Ce[Me]=h,tn[_t++]=Me)}return tn}function Ja(Ce){var $e=-1,Me=Array(Ce.size);return Ce.forEach(function(ft){Me[++$e]=ft}),Me}function Id(Ce){var $e=-1,Me=Array(Ce.size);return Ce.forEach(function(ft){Me[++$e]=[ft,ft]}),Me}function fs(Ce,$e,Me){for(var ft=Me-1,_t=Ce.length;++ft<_t;)if(Ce[ft]===$e)return ft;return-1}function Hh(Ce,$e,Me){for(var ft=Me+1;ft--;)if(Ce[ft]===$e)return ft;return ft}function Xa(Ce){return hs(Ce)?ds(Ce):V(Ce)}function wo(Ce){return hs(Ce)?Qa(Ce):ce(Ce)}function da(Ce){for(var $e=Ce.length;$e--&&gr.test(Ce.charAt($e)););return $e}var Vo=cn(Ql);function ds(Ce){for(var $e=Kc.lastIndex=0;Kc.test(Ce);)++$e;return $e}function Qa(Ce){return Ce.match(Kc)||[]}function Ws(Ce){return Ce.match(Yc)||[]}var pa=function Ce($e){$e=$e==null?Or:ps.defaults(Or.Object(),$e,ps.pick(Or,Jg));var Me=$e.Array,ft=$e.Date,_t=$e.Error,tn=$e.Function,Qn=$e.Math,yn=$e.Object,ga=$e.RegExp,Za=$e.String,gi=$e.TypeError,Pi=Me.prototype,ma=tn.prototype,Cn=yn.prototype,Tn=$e["__core-js_shared__"],rr=ma.toString,jt=Cn.hasOwnProperty,va=0,ya=function(){var u=/[^.]+$/.exec(Tn&&Tn.keys&&Tn.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),wa=Cn.toString,zd=rr.call(yn),H2=Or._,G2=ga("^"+rr.call(jt).replace(Li,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Gh=Td?$e.Buffer:n,ba=$e.Symbol,Kh=$e.Uint8Array,Zg=Gh?Gh.allocUnsafe:n,au=Oi(yn.getPrototypeOf,yn),Yh=yn.create,Gi=Cn.propertyIsEnumerable,Ti=Pi.splice,Jh=ba?ba.isConcatSpreadable:n,el=ba?ba.iterator:n,tl=ba?ba.toStringTag:n,tc=function(){try{var u=sf(yn,"defineProperty");return u({},"",{}),u}catch{}}(),Fd=$e.clearTimeout!==Or.clearTimeout&&$e.clearTimeout,em=ft&&ft.now!==Or.Date.now&&ft.now,K2=$e.setTimeout!==Or.setTimeout&&$e.setTimeout,lu=Qn.ceil,cu=Qn.floor,uu=yn.getOwnPropertySymbols,tm=Gh?Gh.isBuffer:n,Y2=$e.isFinite,nb=Pi.join,J2=Oi(yn.keys,yn),Br=Qn.max,mi=Qn.min,rb=ft.now,ib=$e.parseInt,X2=Qn.random,nm=Pi.reverse,Xh=sf($e,"DataView"),xa=sf($e,"Map"),rm=sf($e,"Promise"),hu=sf($e,"Set"),fu=sf($e,"WeakMap"),Qh=sf(yn,"create"),jd=fu&&new fu,du={},ob=af(Xh),nl=af(xa),gs=af(rm),Sa=af(hu),sb=af(fu),Zh=ba?ba.prototype:n,Uo=Zh?Zh.valueOf:n,bo=Zh?Zh.toString:n;function Y(u){if(Tr(u)&&!Zt(u)&&!(u instanceof sn)){if(u instanceof xo)return u;if(jt.call(u,"__wrapped__"))return MC(u)}return new xo(u)}var pu=function(){function u(){}return function(p){if(!kr(p))return{};if(Yh)return Yh(p);u.prototype=p;var k=new u;return u.prototype=n,k}}();function ef(){}function xo(u,p){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=n}Y.templateSettings={escape:It,evaluate:Fr,interpolate:dn,variable:"",imports:{_:Y}},Y.prototype=ef.prototype,Y.prototype.constructor=Y,xo.prototype=pu(ef.prototype),xo.prototype.constructor=xo;function sn(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ge,this.__views__=[]}function Q2(){var u=new sn(this.__wrapped__);return u.__actions__=Wo(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Wo(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Wo(this.__views__),u}function ab(){if(this.__filtered__){var u=new sn(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function Bd(){var u=this.__wrapped__.value(),p=this.__dir__,k=Zt(u),T=p<0,B=k?u.length:0,X=JF(0,B,this.__views__),de=X.start,ye=X.end,Le=ye-de,Ye=T?ye:de-1,Je=this.__iteratees__,tt=Je.length,dt=0,Nt=mi(Le,this.__takeCount__);if(!k||!T&&B==Le&&Nt==Le)return of(u,this.__actions__);var zt=[];e:for(;Le--&&dt<Nt;){Ye+=p;for(var rn=-1,Ft=u[Ye];++rn<tt;){var hn=Je[rn],pn=hn.iteratee,ys=hn.type,Ao=pn(Ft);if(ys==ne)Ft=Ao;else if(!Ao){if(ys==$)continue e;break e}}zt[dt++]=Ft}return zt}sn.prototype=pu(ef.prototype),sn.prototype.constructor=sn;function Hs(u){var p=-1,k=u==null?0:u.length;for(this.clear();++p<k;){var T=u[p];this.set(T[0],T[1])}}function tf(){this.__data__=Qh?Qh(null):{},this.size=0}function im(u){var p=this.has(u)&&delete this.__data__[u];return this.size-=p?1:0,p}function Z2(u){var p=this.__data__;if(Qh){var k=p[u];return k===l?n:k}return jt.call(p,u)?p[u]:n}function lb(u){var p=this.__data__;return Qh?p[u]!==n:jt.call(p,u)}function e1(u,p){var k=this.__data__;return this.size+=this.has(u)?0:1,k[u]=Qh&&p===n?l:p,this}Hs.prototype.clear=tf,Hs.prototype.delete=im,Hs.prototype.get=Z2,Hs.prototype.has=lb,Hs.prototype.set=e1;function Ca(u){var p=-1,k=u==null?0:u.length;for(this.clear();++p<k;){var T=u[p];this.set(T[0],T[1])}}function cb(){this.__data__=[],this.size=0}function ub(u){var p=this.__data__,k=we(p,u);if(k<0)return!1;var T=p.length-1;return k==T?p.pop():Ti.call(p,k,1),--this.size,!0}function hb(u){var p=this.__data__,k=we(p,u);return k<0?n:p[k][1]}function fb(u){return we(this.__data__,u)>-1}function db(u,p){var k=this.__data__,T=we(k,u);return T<0?(++this.size,k.push([u,p])):k[T][1]=p,this}Ca.prototype.clear=cb,Ca.prototype.delete=ub,Ca.prototype.get=hb,Ca.prototype.has=fb,Ca.prototype.set=db;function Gs(u){var p=-1,k=u==null?0:u.length;for(this.clear();++p<k;){var T=u[p];this.set(T[0],T[1])}}function $d(){this.size=0,this.__data__={hash:new Hs,map:new(xa||Ca),string:new Hs}}function pb(u){var p=y1(this,u).delete(u);return this.size-=p?1:0,p}function gb(u){return y1(this,u).get(u)}function t1(u){return y1(this,u).has(u)}function v(u,p){var k=y1(this,u),T=k.size;return k.set(u,p),this.size+=k.size==T?0:1,this}Gs.prototype.clear=$d,Gs.prototype.delete=pb,Gs.prototype.get=gb,Gs.prototype.has=t1,Gs.prototype.set=v;function b(u){var p=-1,k=u==null?0:u.length;for(this.__data__=new Gs;++p<k;)this.add(u[p])}function L(u){return this.__data__.set(u,l),this}function R(u){return this.__data__.has(u)}b.prototype.add=b.prototype.push=L,b.prototype.has=R;function j(u){var p=this.__data__=new Ca(u);this.size=p.size}function q(){this.__data__=new Ca,this.size=0}function H(u){var p=this.__data__,k=p.delete(u);return this.size=p.size,k}function K(u){return this.__data__.get(u)}function J(u){return this.__data__.has(u)}function ie(u,p){var k=this.__data__;if(k instanceof Ca){var T=k.__data__;if(!xa||T.length<i-1)return T.push([u,p]),this.size=++k.size,this;k=this.__data__=new Gs(T)}return k.set(u,p),this.size=k.size,this}j.prototype.clear=q,j.prototype.delete=H,j.prototype.get=K,j.prototype.has=J,j.prototype.set=ie;function be(u,p){var k=Zt(u),T=!k&&lf(u),B=!k&&!T&&Eu(u),X=!k&&!T&&!B&&ep(u),de=k||T||B||X,ye=de?Jr(u.length,Za):[],Le=ye.length;for(var Ye in u)(p||jt.call(u,Ye))&&!(de&&(Ye=="length"||B&&(Ye=="offset"||Ye=="parent")||X&&(Ye=="buffer"||Ye=="byteLength"||Ye=="byteOffset")||ac(Ye,Le)))&&ye.push(Ye);return ye}function Pe(u){var p=u.length;return p?u[bu(0,p-1)]:n}function Te(u,p){return w1(Wo(u),st(p,0,u.length))}function Ae(u){return w1(Wo(u))}function He(u,p,k){(k!==n&&!Na(u[p],k)||k===n&&!(p in u))&&Ue(u,p,k)}function Ie(u,p,k){var T=u[p];(!(jt.call(u,p)&&Na(T,k))||k===n&&!(p in u))&&Ue(u,p,k)}function we(u,p){for(var k=u.length;k--;)if(Na(u[k][0],p))return k;return-1}function ke(u,p,k,T){return Kt(u,function(B,X,de){p(T,B,k(B),de)}),T}function We(u,p){return u&&ul(p,wi(p),u)}function Ze(u,p){return u&&ul(p,Go(p),u)}function Ue(u,p,k){p=="__proto__"&&tc?tc(u,p,{configurable:!0,enumerable:!0,value:k,writable:!0}):u[p]=k}function pt(u,p){for(var k=-1,T=p.length,B=Me(T),X=u==null;++k<T;)B[k]=X?n:zb(u,p[k]);return B}function st(u,p,k){return u===u&&(k!==n&&(u=u<=k?u:k),p!==n&&(u=u>=p?u:p)),u}function St(u,p,k,T,B,X){var de,ye=p&f,Le=p&g,Ye=p&d;if(k&&(de=B?k(u,T,B,X):k(u)),de!==n)return de;if(!kr(u))return u;var Je=Zt(u);if(Je){if(de=QF(u),!ye)return Wo(u,de)}else{var tt=Ki(u),dt=tt==Ke||tt==it;if(Eu(u))return Jd(u,ye);if(tt==vt||tt==he||dt&&!B){if(de=Le||dt?{}:kC(u),!ye)return Le?$F(u,Ze(de,u)):BF(u,We(de,u))}else{if(!vn[tt])return B?u:{};de=ZF(u,tt,ye)}}X||(X=new j);var Nt=X.get(u);if(Nt)return Nt;X.set(u,de),ZC(u)?u.forEach(function(Ft){de.add(St(Ft,p,k,Ft,u,X))}):XC(u)&&u.forEach(function(Ft,hn){de.set(hn,St(Ft,p,k,hn,u,X))});var zt=Ye?Le?Cb:Sb:Le?Go:wi,rn=Je?n:zt(u);return ai(rn||u,function(Ft,hn){rn&&(hn=Ft,Ft=u[hn]),Ie(de,hn,St(Ft,p,k,hn,u,X))}),de}function ct(u){var p=wi(u);return function(k){return wn(k,u,p)}}function wn(u,p,k){var T=k.length;if(u==null)return!T;for(u=yn(u);T--;){var B=k[T],X=p[B],de=u[B];if(de===n&&!(B in u)||!X(de))return!1}return!0}function Nn(u,p,k){if(typeof u!="function")throw new gi(s);return pm(function(){u.apply(n,k)},p)}function an(u,p,k,T){var B=-1,X=eu,de=!0,ye=u.length,Le=[],Ye=p.length;if(!ye)return Le;k&&(p=An(p,nr(k))),T?(X=Ka,de=!1):p.length>=i&&(X=Ya,de=!1,p=new b(p));e:for(;++B<ye;){var Je=u[B],tt=k==null?Je:k(Je);if(Je=T||Je!==0?Je:0,de&&tt===tt){for(var dt=Ye;dt--;)if(p[dt]===tt)continue e;Le.push(Je)}else X(p,tt,T)||Le.push(Je)}return Le}var Kt=uC(wr),Fn=uC(Ri,!0);function jn(u,p){var k=!0;return Kt(u,function(T,B,X){return k=!!p(T,B,X),k}),k}function Wt(u,p,k){for(var T=-1,B=u.length;++T<B;){var X=u[T],de=p(X);if(de!=null&&(ye===n?de===de&&!vs(de):k(de,ye)))var ye=de,Le=X}return Le}function Pr(u,p,k,T){var B=u.length;for(k=nn(k),k<0&&(k=-k>B?0:B+k),T=T===n||T>B?B:nn(T),T<0&&(T+=B),T=k>T?0:tk(T);k<T;)u[k++]=p;return u}function Mi(u,p){var k=[];return Kt(u,function(T,B,X){p(T,B,X)&&k.push(T)}),k}function un(u,p,k,T,B){var X=-1,de=u.length;for(k||(k=tj),B||(B=[]);++X<de;){var ye=u[X];p>0&&k(ye)?p>1?un(ye,p-1,k,T,B):Bo(B,ye):T||(B[B.length]=ye)}return B}var vi=hC(),Ln=hC(!0);function wr(u,p){return u&&vi(u,p,wi)}function Ri(u,p){return u&&Ln(u,p,wi)}function Cr(u,p){return cs(p,function(k){return lc(u[k])})}function cr(u,p){p=Ys(p,u);for(var k=0,T=p.length;u!=null&&k<T;)u=u[hl(p[k++])];return k&&k==T?u:n}function yi(u,p,k){var T=p(u);return Zt(u)?T:Bo(T,k(u))}function Yn(u){return u==null?u===n?Ne:fe:tl&&tl in yn(u)?YF(u):lj(u)}function qo(u,p){return u>p}function Qr(u,p){return u!=null&&jt.call(u,p)}function ka(u,p){return u!=null&&p in yn(u)}function nc(u,p,k){return u>=mi(p,k)&&u<Br(p,k)}function rl(u,p,k){for(var T=k?Ka:eu,B=u[0].length,X=u.length,de=X,ye=Me(X),Le=1/0,Ye=[];de--;){var Je=u[de];de&&p&&(Je=An(Je,nr(p))),Le=mi(Je.length,Le),ye[de]=!k&&(p||B>=120&&Je.length>=120)?new b(de&&Je):n}Je=u[0];var tt=-1,dt=ye[0];e:for(;++tt<B&&Ye.length<Le;){var Nt=Je[tt],zt=p?p(Nt):Nt;if(Nt=k||Nt!==0?Nt:0,!(dt?Ya(dt,zt):T(Ye,zt,k))){for(de=X;--de;){var rn=ye[de];if(!(rn?Ya(rn,zt):T(u[de],zt,k)))continue e}dt&&dt.push(zt),Ye.push(Nt)}}return Ye}function il(u,p,k,T){return wr(u,function(B,X,de){p(T,k(B),X,de)}),T}function Jn(u,p,k){p=Ys(p,u),u=LC(u,p);var T=u==null?u:u[hl(Js(p))];return T==null?n:si(T,u,k)}function Vd(u){return Tr(u)&&Yn(u)==he}function n1(u){return Tr(u)&&Yn(u)==Qe}function r1(u){return Tr(u)&&Yn(u)==Ee}function ol(u,p,k,T,B){return u===p?!0:u==null||p==null||!Tr(u)&&!Tr(p)?u!==u&&p!==p:nf(u,p,k,T,ol,B)}function nf(u,p,k,T,B,X){var de=Zt(u),ye=Zt(p),Le=de?pe:Ki(u),Ye=ye?pe:Ki(p);Le=Le==he?vt:Le,Ye=Ye==he?vt:Ye;var Je=Le==vt,tt=Ye==vt,dt=Le==Ye;if(dt&&Eu(u)){if(!Eu(p))return!1;de=!0,Je=!1}if(dt&&!Je)return X||(X=new j),de||ep(u)?xC(u,p,k,T,B,X):GF(u,p,Le,k,T,B,X);if(!(k&m)){var Nt=Je&&jt.call(u,"__wrapped__"),zt=tt&&jt.call(p,"__wrapped__");if(Nt||zt){var rn=Nt?u.value():u,Ft=zt?p.value():p;return X||(X=new j),B(rn,Ft,k,T,X)}}return dt?(X||(X=new j),KF(u,p,k,T,B,X)):!1}function Ud(u){return Tr(u)&&Ki(u)==at}function So(u,p,k,T){var B=k.length,X=B,de=!T;if(u==null)return!X;for(u=yn(u);B--;){var ye=k[B];if(de&&ye[2]?ye[1]!==u[ye[0]]:!(ye[0]in u))return!1}for(;++B<X;){ye=k[B];var Le=ye[0],Ye=u[Le],Je=ye[1];if(de&&ye[2]){if(Ye===n&&!(Le in u))return!1}else{var tt=new j;if(T)var dt=T(Ye,Je,Le,u,p,tt);if(!(dt===n?ol(Je,Ye,m|y,T,tt):dt))return!1}}return!0}function rc(u){if(!kr(u)||rj(u))return!1;var p=lc(u)?G2:Kl;return p.test(af(u))}function gu(u){return Tr(u)&&Yn(u)==je}function i1(u){return Tr(u)&&Ki(u)==oe}function qd(u){return Tr(u)&&E1(u.length)&&!!Pn[Yn(u)]}function om(u){return typeof u=="function"?u:u==null?Ko:typeof u=="object"?Zt(u)?s1(u[0],u[1]):o1(u):fk(u)}function mu(u){if(!dm(u))return J2(u);var p=[];for(var k in yn(u))jt.call(u,k)&&k!="constructor"&&p.push(k);return p}function sm(u){if(!kr(u))return aj(u);var p=dm(u),k=[];for(var T in u)T=="constructor"&&(p||!jt.call(u,T))||k.push(T);return k}function vu(u,p){return u<p}function yu(u,p){var k=-1,T=Ho(u)?Me(u.length):[];return Kt(u,function(B,X,de){T[++k]=p(B,X,de)}),T}function o1(u){var p=Eb(u);return p.length==1&&p[0][2]?AC(p[0][0],p[0][1]):function(k){return k===u||So(k,u,p)}}function s1(u,p){return Nb(u)&&EC(p)?AC(hl(u),p):function(k){var T=zb(k,u);return T===n&&T===p?Fb(k,u):ol(p,T,m|y)}}function wu(u,p,k,T,B){u!==p&&vi(p,function(X,de){if(B||(B=new j),kr(X))sl(u,p,de,k,wu,T,B);else{var ye=T?T(_b(u,de),X,de+"",u,p,B):n;ye===n&&(ye=X),He(u,de,ye)}},Go)}function sl(u,p,k,T,B,X,de){var ye=_b(u,k),Le=_b(p,k),Ye=de.get(Le);if(Ye){He(u,k,Ye);return}var Je=X?X(ye,Le,k+"",u,p,de):n,tt=Je===n;if(tt){var dt=Zt(Le),Nt=!dt&&Eu(Le),zt=!dt&&!Nt&&ep(Le);Je=Le,dt||Nt||zt?Zt(ye)?Je=ye:$r(ye)?Je=Wo(ye):Nt?(tt=!1,Je=Jd(Le,!0)):zt?(tt=!1,Je=sC(Le,!0)):Je=[]:gm(Le)||lf(Le)?(Je=ye,lf(ye)?Je=nk(ye):(!kr(ye)||lc(ye))&&(Je=kC(Le))):tt=!1}tt&&(de.set(Le,Je),B(Je,Le,T,X,de),de.delete(Le)),He(u,k,Je)}function a1(u,p){var k=u.length;if(k)return p+=p<0?k:0,ac(p,k)?u[p]:n}function l1(u,p,k){p.length?p=An(p,function(X){return Zt(X)?function(de){return cr(de,X.length===1?X[0]:X)}:X}):p=[Ko];var T=-1;p=An(p,nr(Tt()));var B=yu(u,function(X,de,ye){var Le=An(p,function(Ye){return Ye(X)});return{criteria:Le,index:++T,value:X}});return Sr(B,function(X,de){return jF(X,de,k)})}function mb(u,p){return am(u,p,function(k,T){return Fb(u,T)})}function am(u,p,k){for(var T=-1,B=p.length,X={};++T<B;){var de=p[T],ye=cr(u,de);k(ye,de)&&xu(X,Ys(de,u),ye)}return X}function Wd(u){return function(p){return cr(p,u)}}function Hd(u,p,k,T){var B=T?gt:et,X=-1,de=p.length,ye=u;for(u===p&&(p=Wo(p)),k&&(ye=An(u,nr(k)));++X<de;)for(var Le=0,Ye=p[X],Je=k?k(Ye):Ye;(Le=B(ye,Je,Le,T))>-1;)ye!==u&&Ti.call(ye,Le,1),Ti.call(u,Le,1);return u}function lm(u,p){for(var k=u?p.length:0,T=k-1;k--;){var B=p[k];if(k==T||B!==X){var X=B;ac(B)?Ti.call(u,B,1):hm(u,B)}}return u}function bu(u,p){return u+cu(X2()*(p-u+1))}function cm(u,p,k,T){for(var B=-1,X=Br(lu((p-u)/(k||1)),0),de=Me(X);X--;)de[T?X:++B]=u,u+=k;return de}function ic(u,p){var k="";if(!u||p<1||p>Z)return k;do p%2&&(k+=u),p=cu(p/2),p&&(u+=u);while(p);return k}function en(u,p){return Ob(NC(u,p,Ko),u+"")}function vb(u){return Pe(tp(u))}function Gd(u,p){var k=tp(u);return w1(k,st(p,0,k.length))}function xu(u,p,k,T){if(!kr(u))return u;p=Ys(p,u);for(var B=-1,X=p.length,de=X-1,ye=u;ye!=null&&++B<X;){var Le=hl(p[B]),Ye=k;if(Le==="__proto__"||Le==="constructor"||Le==="prototype")return u;if(B!=de){var Je=ye[Le];Ye=T?T(Je,Le,ye):n,Ye===n&&(Ye=kr(Je)?Je:ac(p[B+1])?[]:{})}Ie(ye,Le,Ye),ye=ye[Le]}return u}var Kd=jd?function(u,p){return jd.set(u,p),u}:Ko,al=tc?function(u,p){return tc(u,"toString",{configurable:!0,enumerable:!1,value:Bb(p),writable:!0})}:Ko;function c1(u){return w1(tp(u))}function Co(u,p,k){var T=-1,B=u.length;p<0&&(p=-p>B?0:B+p),k=k>B?B:k,k<0&&(k+=B),B=p>k?0:k-p>>>0,p>>>=0;for(var X=Me(B);++T<B;)X[T]=u[T+p];return X}function yb(u,p){var k;return Kt(u,function(T,B,X){return k=p(T,B,X),!k}),!!k}function rf(u,p,k){var T=0,B=u==null?T:u.length;if(typeof p=="number"&&p===p&&B<=Q){for(;T<B;){var X=T+B>>>1,de=u[X];de!==null&&!vs(de)&&(k?de<=p:de<p)?T=X+1:B=X}return B}return ll(u,p,Ko,k)}function ll(u,p,k,T){var B=0,X=u==null?0:u.length;if(X===0)return 0;p=k(p);for(var de=p!==p,ye=p===null,Le=vs(p),Ye=p===n;B<X;){var Je=cu((B+X)/2),tt=k(u[Je]),dt=tt!==n,Nt=tt===null,zt=tt===tt,rn=vs(tt);if(de)var Ft=T||zt;else Ye?Ft=zt&&(T||dt):ye?Ft=zt&&dt&&(T||!Nt):Le?Ft=zt&&dt&&!Nt&&(T||!rn):Nt||rn?Ft=!1:Ft=T?tt<=p:tt<p;Ft?B=Je+1:X=Je}return mi(X,F)}function u1(u,p){for(var k=-1,T=u.length,B=0,X=[];++k<T;){var de=u[k],ye=p?p(de):de;if(!k||!Na(ye,Le)){var Le=ye;X[B++]=de===0?0:de}}return X}function um(u){return typeof u=="number"?u:vs(u)?ue:+u}function ko(u){if(typeof u=="string")return u;if(Zt(u))return An(u,ko)+"";if(vs(u))return bo?bo.call(u):"";var p=u+"";return p=="0"&&1/u==-ae?"-0":p}function Ea(u,p,k){var T=-1,B=eu,X=u.length,de=!0,ye=[],Le=ye;if(k)de=!1,B=Ka;else if(X>=i){var Ye=p?null:WF(u);if(Ye)return Ja(Ye);de=!1,B=Ya,Le=new b}else Le=p?[]:ye;e:for(;++T<X;){var Je=u[T],tt=p?p(Je):Je;if(Je=k||Je!==0?Je:0,de&&tt===tt){for(var dt=Le.length;dt--;)if(Le[dt]===tt)continue e;p&&Le.push(tt),ye.push(Je)}else B(Le,tt,k)||(Le!==ye&&Le.push(tt),ye.push(Je))}return ye}function hm(u,p){return p=Ys(p,u),u=LC(u,p),u==null||delete u[hl(Js(p))]}function Su(u,p,k,T){return xu(u,p,k(cr(u,p)),T)}function Cu(u,p,k,T){for(var B=u.length,X=T?B:-1;(T?X--:++X<B)&&p(u[X],X,u););return k?Co(u,T?0:X,T?X+1:B):Co(u,T?X+1:0,T?B:X)}function of(u,p){var k=u;return k instanceof sn&&(k=k.value()),Us(p,function(T,B){return B.func.apply(B.thisArg,Bo([T],B.args))},k)}function ms(u,p,k){var T=u.length;if(T<2)return T?Ea(u[0]):[];for(var B=-1,X=Me(T);++B<T;)for(var de=u[B],ye=-1;++ye<T;)ye!=B&&(X[B]=an(X[B]||de,u[ye],p,k));return Ea(un(X,1),p,k)}function Aa(u,p,k){for(var T=-1,B=u.length,X=p.length,de={};++T<B;){var ye=T<X?p[T]:n;k(de,u[T],ye)}return de}function Ks(u){return $r(u)?u:[]}function ku(u){return typeof u=="function"?u:Ko}function Ys(u,p){return Zt(u)?u:Nb(u,p)?[u]:TC(Bn(u))}var h1=en;function cl(u,p,k){var T=u.length;return k=k===n?T:k,!p&&k>=T?u:Co(u,p,k)}var Yd=Fd||function(u){return Or.clearTimeout(u)};function Jd(u,p){if(p)return u.slice();var k=u.length,T=Zg?Zg(k):new u.constructor(k);return u.copy(T),T}function wb(u){var p=new u.constructor(u.byteLength);return new Kh(p).set(new Kh(u)),p}function IF(u,p){var k=p?wb(u.buffer):u.buffer;return new u.constructor(k,u.byteOffset,u.byteLength)}function zF(u){var p=new u.constructor(u.source,Vi.exec(u));return p.lastIndex=u.lastIndex,p}function FF(u){return Uo?yn(Uo.call(u)):{}}function sC(u,p){var k=p?wb(u.buffer):u.buffer;return new u.constructor(k,u.byteOffset,u.length)}function aC(u,p){if(u!==p){var k=u!==n,T=u===null,B=u===u,X=vs(u),de=p!==n,ye=p===null,Le=p===p,Ye=vs(p);if(!ye&&!Ye&&!X&&u>p||X&&de&&Le&&!ye&&!Ye||T&&de&&Le||!k&&Le||!B)return 1;if(!T&&!X&&!Ye&&u<p||Ye&&k&&B&&!T&&!X||ye&&k&&B||!de&&B||!Le)return-1}return 0}function jF(u,p,k){for(var T=-1,B=u.criteria,X=p.criteria,de=B.length,ye=k.length;++T<de;){var Le=aC(B[T],X[T]);if(Le){if(T>=ye)return Le;var Ye=k[T];return Le*(Ye=="desc"?-1:1)}}return u.index-p.index}function lC(u,p,k,T){for(var B=-1,X=u.length,de=k.length,ye=-1,Le=p.length,Ye=Br(X-de,0),Je=Me(Le+Ye),tt=!T;++ye<Le;)Je[ye]=p[ye];for(;++B<de;)(tt||B<X)&&(Je[k[B]]=u[B]);for(;Ye--;)Je[ye++]=u[B++];return Je}function cC(u,p,k,T){for(var B=-1,X=u.length,de=-1,ye=k.length,Le=-1,Ye=p.length,Je=Br(X-ye,0),tt=Me(Je+Ye),dt=!T;++B<Je;)tt[B]=u[B];for(var Nt=B;++Le<Ye;)tt[Nt+Le]=p[Le];for(;++de<ye;)(dt||B<X)&&(tt[Nt+k[de]]=u[B++]);return tt}function Wo(u,p){var k=-1,T=u.length;for(p||(p=Me(T));++k<T;)p[k]=u[k];return p}function ul(u,p,k,T){var B=!k;k||(k={});for(var X=-1,de=p.length;++X<de;){var ye=p[X],Le=T?T(k[ye],u[ye],ye,k,u):n;Le===n&&(Le=u[ye]),B?Ue(k,ye,Le):Ie(k,ye,Le)}return k}function BF(u,p){return ul(u,Ab(u),p)}function $F(u,p){return ul(u,SC(u),p)}function f1(u,p){return function(k,T){var B=Zt(k)?Dd:ke,X=p?p():{};return B(k,u,Tt(T,2),X)}}function Xd(u){return en(function(p,k){var T=-1,B=k.length,X=B>1?k[B-1]:n,de=B>2?k[2]:n;for(X=u.length>3&&typeof X=="function"?(B--,X):n,de&&Eo(k[0],k[1],de)&&(X=B<3?n:X,B=1),p=yn(p);++T<B;){var ye=k[T];ye&&u(p,ye,T,X)}return p})}function uC(u,p){return function(k,T){if(k==null)return k;if(!Ho(k))return u(k,T);for(var B=k.length,X=p?B:-1,de=yn(k);(p?X--:++X<B)&&T(de[X],X,de)!==!1;);return k}}function hC(u){return function(p,k,T){for(var B=-1,X=yn(p),de=T(p),ye=de.length;ye--;){var Le=de[u?ye:++B];if(k(X[Le],Le,X)===!1)break}return p}}function VF(u,p,k){var T=p&C,B=fm(u);function X(){var de=this&&this!==Or&&this instanceof X?B:u;return de.apply(T?k:this,arguments)}return X}function fC(u){return function(p){p=Bn(p);var k=hs(p)?wo(p):n,T=k?k[0]:p.charAt(0),B=k?cl(k,1).join(""):p.slice(1);return T[u]()+B}}function Qd(u){return function(p){return Us(uk(ck(p).replace($s,"")),u,"")}}function fm(u){return function(){var p=arguments;switch(p.length){case 0:return new u;case 1:return new u(p[0]);case 2:return new u(p[0],p[1]);case 3:return new u(p[0],p[1],p[2]);case 4:return new u(p[0],p[1],p[2],p[3]);case 5:return new u(p[0],p[1],p[2],p[3],p[4]);case 6:return new u(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new u(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var k=pu(u.prototype),T=u.apply(k,p);return kr(T)?T:k}}function UF(u,p,k){var T=fm(u);function B(){for(var X=arguments.length,de=Me(X),ye=X,Le=Zd(B);ye--;)de[ye]=arguments[ye];var Ye=X<3&&de[0]!==Le&&de[X-1]!==Le?[]:qs(de,Le);if(X-=Ye.length,X<k)return vC(u,p,d1,B.placeholder,n,de,Ye,n,n,k-X);var Je=this&&this!==Or&&this instanceof B?T:u;return si(Je,this,de)}return B}function dC(u){return function(p,k,T){var B=yn(p);if(!Ho(p)){var X=Tt(k,3);p=wi(p),k=function(ye){return X(B[ye],ye,B)}}var de=u(p,k,T);return de>-1?B[X?p[de]:de]:n}}function pC(u){return sc(function(p){var k=p.length,T=k,B=xo.prototype.thru;for(u&&p.reverse();T--;){var X=p[T];if(typeof X!="function")throw new gi(s);if(B&&!de&&v1(X)=="wrapper")var de=new xo([],!0)}for(T=de?T:k;++T<k;){X=p[T];var ye=v1(X),Le=ye=="wrapper"?kb(X):n;Le&&Lb(Le[0])&&Le[1]==(P|E|_|I)&&!Le[4].length&&Le[9]==1?de=de[v1(Le[0])].apply(de,Le[3]):de=X.length==1&&Lb(X)?de[ye]():de.thru(X)}return function(){var Ye=arguments,Je=Ye[0];if(de&&Ye.length==1&&Zt(Je))return de.plant(Je).value();for(var tt=0,dt=k?p[tt].apply(this,Ye):Je;++tt<k;)dt=p[tt].call(this,dt);return dt}})}function d1(u,p,k,T,B,X,de,ye,Le,Ye){var Je=p&P,tt=p&C,dt=p&x,Nt=p&(E|N),zt=p&W,rn=dt?n:fm(u);function Ft(){for(var hn=arguments.length,pn=Me(hn),ys=hn;ys--;)pn[ys]=arguments[ys];if(Nt)var Ao=Zd(Ft),ws=ru(pn,Ao);if(T&&(pn=lC(pn,T,B,Nt)),X&&(pn=cC(pn,X,de,Nt)),hn-=ws,Nt&&hn<Ye){var Vr=qs(pn,Ao);return vC(u,p,d1,Ft.placeholder,k,pn,Vr,ye,Le,Ye-hn)}var La=tt?k:this,uc=dt?La[u]:u;return hn=pn.length,ye?pn=cj(pn,ye):zt&&hn>1&&pn.reverse(),Je&&Le<hn&&(pn.length=Le),this&&this!==Or&&this instanceof Ft&&(uc=rn||fm(uc)),uc.apply(La,pn)}return Ft}function gC(u,p){return function(k,T){return il(k,u,p(T),{})}}function p1(u,p){return function(k,T){var B;if(k===n&&T===n)return p;if(k!==n&&(B=k),T!==n){if(B===n)return T;typeof k=="string"||typeof T=="string"?(k=ko(k),T=ko(T)):(k=um(k),T=um(T)),B=u(k,T)}return B}}function bb(u){return sc(function(p){return p=An(p,nr(Tt())),en(function(k){var T=this;return u(p,function(B){return si(B,T,k)})})})}function g1(u,p){p=p===n?" ":ko(p);var k=p.length;if(k<2)return k?ic(p,u):p;var T=ic(p,lu(u/Xa(p)));return hs(p)?cl(wo(T),0,u).join(""):T.slice(0,u)}function qF(u,p,k,T){var B=p&C,X=fm(u);function de(){for(var ye=-1,Le=arguments.length,Ye=-1,Je=T.length,tt=Me(Je+Le),dt=this&&this!==Or&&this instanceof de?X:u;++Ye<Je;)tt[Ye]=T[Ye];for(;Le--;)tt[Ye++]=arguments[++ye];return si(dt,B?k:this,tt)}return de}function mC(u){return function(p,k,T){return T&&typeof T!="number"&&Eo(p,k,T)&&(k=T=n),p=cc(p),k===n?(k=p,p=0):k=cc(k),T=T===n?p<k?1:-1:cc(T),cm(p,k,T,u)}}function m1(u){return function(p,k){return typeof p=="string"&&typeof k=="string"||(p=Xs(p),k=Xs(k)),u(p,k)}}function vC(u,p,k,T,B,X,de,ye,Le,Ye){var Je=p&E,tt=Je?de:n,dt=Je?n:de,Nt=Je?X:n,zt=Je?n:X;p|=Je?_:D,p&=~(Je?D:_),p&w||(p&=~(C|x));var rn=[u,p,B,Nt,tt,zt,dt,ye,Le,Ye],Ft=k.apply(n,rn);return Lb(u)&&_C(Ft,rn),Ft.placeholder=T,OC(Ft,u,p)}function xb(u){var p=Qn[u];return function(k,T){if(k=Xs(k),T=T==null?0:mi(nn(T),292),T&&Y2(k)){var B=(Bn(k)+"e").split("e"),X=p(B[0]+"e"+(+B[1]+T));return B=(Bn(X)+"e").split("e"),+(B[0]+"e"+(+B[1]-T))}return p(k)}}var WF=hu&&1/Ja(new hu([,-0]))[1]==ae?function(u){return new hu(u)}:Ub;function yC(u){return function(p){var k=Ki(p);return k==at?ec(p):k==oe?Id(p):Xr(p,u(p))}}function oc(u,p,k,T,B,X,de,ye){var Le=p&x;if(!Le&&typeof u!="function")throw new gi(s);var Ye=T?T.length:0;if(Ye||(p&=~(_|D),T=B=n),de=de===n?de:Br(nn(de),0),ye=ye===n?ye:nn(ye),Ye-=B?B.length:0,p&D){var Je=T,tt=B;T=B=n}var dt=Le?n:kb(u),Nt=[u,p,k,T,B,Je,tt,X,de,ye];if(dt&&sj(Nt,dt),u=Nt[0],p=Nt[1],k=Nt[2],T=Nt[3],B=Nt[4],ye=Nt[9]=Nt[9]===n?Le?0:u.length:Br(Nt[9]-Ye,0),!ye&&p&(E|N)&&(p&=~(E|N)),!p||p==C)var zt=VF(u,p,k);else p==E||p==N?zt=UF(u,p,ye):(p==_||p==(C|_))&&!B.length?zt=qF(u,p,k,T):zt=d1.apply(n,Nt);var rn=dt?Kd:_C;return OC(rn(zt,Nt),u,p)}function wC(u,p,k,T){return u===n||Na(u,Cn[k])&&!jt.call(T,k)?p:u}function bC(u,p,k,T,B,X){return kr(u)&&kr(p)&&(X.set(p,u),wu(u,p,n,bC,X),X.delete(p)),u}function HF(u){return gm(u)?n:u}function xC(u,p,k,T,B,X){var de=k&m,ye=u.length,Le=p.length;if(ye!=Le&&!(de&&Le>ye))return!1;var Ye=X.get(u),Je=X.get(p);if(Ye&&Je)return Ye==p&&Je==u;var tt=-1,dt=!0,Nt=k&y?new b:n;for(X.set(u,p),X.set(p,u);++tt<ye;){var zt=u[tt],rn=p[tt];if(T)var Ft=de?T(rn,zt,tt,p,u,X):T(zt,rn,tt,u,p,X);if(Ft!==n){if(Ft)continue;dt=!1;break}if(Nt){if(!A(p,function(hn,pn){if(!Ya(Nt,pn)&&(zt===hn||B(zt,hn,k,T,X)))return Nt.push(pn)})){dt=!1;break}}else if(!(zt===rn||B(zt,rn,k,T,X))){dt=!1;break}}return X.delete(u),X.delete(p),dt}function GF(u,p,k,T,B,X,de){switch(k){case nt:if(u.byteLength!=p.byteLength||u.byteOffset!=p.byteOffset)return!1;u=u.buffer,p=p.buffer;case Qe:return!(u.byteLength!=p.byteLength||!X(new Kh(u),new Kh(p)));case xe:case Ee:case Re:return Na(+u,+p);case Be:return u.name==p.name&&u.message==p.message;case je:case ee:return u==p+"";case at:var ye=ec;case oe:var Le=T&m;if(ye||(ye=Ja),u.size!=p.size&&!Le)return!1;var Ye=de.get(u);if(Ye)return Ye==p;T|=y,de.set(u,p);var Je=xC(ye(u),ye(p),T,B,X,de);return de.delete(u),Je;case te:if(Uo)return Uo.call(u)==Uo.call(p)}return!1}function KF(u,p,k,T,B,X){var de=k&m,ye=Sb(u),Le=ye.length,Ye=Sb(p),Je=Ye.length;if(Le!=Je&&!de)return!1;for(var tt=Le;tt--;){var dt=ye[tt];if(!(de?dt in p:jt.call(p,dt)))return!1}var Nt=X.get(u),zt=X.get(p);if(Nt&&zt)return Nt==p&&zt==u;var rn=!0;X.set(u,p),X.set(p,u);for(var Ft=de;++tt<Le;){dt=ye[tt];var hn=u[dt],pn=p[dt];if(T)var ys=de?T(pn,hn,dt,p,u,X):T(hn,pn,dt,u,p,X);if(!(ys===n?hn===pn||B(hn,pn,k,T,X):ys)){rn=!1;break}Ft||(Ft=dt=="constructor")}if(rn&&!Ft){var Ao=u.constructor,ws=p.constructor;Ao!=ws&&"constructor"in u&&"constructor"in p&&!(typeof Ao=="function"&&Ao instanceof Ao&&typeof ws=="function"&&ws instanceof ws)&&(rn=!1)}return X.delete(u),X.delete(p),rn}function sc(u){return Ob(NC(u,n,IC),u+"")}function Sb(u){return yi(u,wi,Ab)}function Cb(u){return yi(u,Go,SC)}var kb=jd?function(u){return jd.get(u)}:Ub;function v1(u){for(var p=u.name+"",k=du[p],T=jt.call(du,p)?k.length:0;T--;){var B=k[T],X=B.func;if(X==null||X==u)return B.name}return p}function Zd(u){var p=jt.call(Y,"placeholder")?Y:u;return p.placeholder}function Tt(){var u=Y.iteratee||$b;return u=u===$b?om:u,arguments.length?u(arguments[0],arguments[1]):u}function y1(u,p){var k=u.__data__;return nj(p)?k[typeof p=="string"?"string":"hash"]:k.map}function Eb(u){for(var p=wi(u),k=p.length;k--;){var T=p[k],B=u[T];p[k]=[T,B,EC(B)]}return p}function sf(u,p){var k=Hi(u,p);return rc(k)?k:n}function YF(u){var p=jt.call(u,tl),k=u[tl];try{u[tl]=n;var T=!0}catch{}var B=wa.call(u);return T&&(p?u[tl]=k:delete u[tl]),B}var Ab=uu?function(u){return u==null?[]:(u=yn(u),cs(uu(u),function(p){return Gi.call(u,p)}))}:qb,SC=uu?function(u){for(var p=[];u;)Bo(p,Ab(u)),u=au(u);return p}:qb,Ki=Yn;(Xh&&Ki(new Xh(new ArrayBuffer(1)))!=nt||xa&&Ki(new xa)!=at||rm&&Ki(rm.resolve())!=De||hu&&Ki(new hu)!=oe||fu&&Ki(new fu)!=Oe)&&(Ki=function(u){var p=Yn(u),k=p==vt?u.constructor:n,T=k?af(k):"";if(T)switch(T){case ob:return nt;case nl:return at;case gs:return De;case Sa:return oe;case sb:return Oe}return p});function JF(u,p,k){for(var T=-1,B=k.length;++T<B;){var X=k[T],de=X.size;switch(X.type){case"drop":u+=de;break;case"dropRight":p-=de;break;case"take":p=mi(p,u+de);break;case"takeRight":u=Br(u,p-de);break}}return{start:u,end:p}}function XF(u){var p=u.match(fi);return p?p[1].split(Wn):[]}function CC(u,p,k){p=Ys(p,u);for(var T=-1,B=p.length,X=!1;++T<B;){var de=hl(p[T]);if(!(X=u!=null&&k(u,de)))break;u=u[de]}return X||++T!=B?X:(B=u==null?0:u.length,!!B&&E1(B)&&ac(de,B)&&(Zt(u)||lf(u)))}function QF(u){var p=u.length,k=new u.constructor(p);return p&&typeof u[0]=="string"&&jt.call(u,"index")&&(k.index=u.index,k.input=u.input),k}function kC(u){return typeof u.constructor=="function"&&!dm(u)?pu(au(u)):{}}function ZF(u,p,k){var T=u.constructor;switch(p){case Qe:return wb(u);case xe:case Ee:return new T(+u);case nt:return IF(u,k);case lt:case xt:case Ve:case ot:case Et:case mn:case Jt:case Rt:case qn:return sC(u,k);case at:return new T;case Re:case ee:return new T(u);case je:return zF(u);case oe:return new T;case te:return FF(u)}}function ej(u,p){var k=p.length;if(!k)return u;var T=k-1;return p[T]=(k>1?"& ":"")+p[T],p=p.join(k>2?", ":" "),u.replace(lr,`{
/* [wrapped with `+p+`] */
`)}function tj(u){return Zt(u)||lf(u)||!!(Jh&&u&&u[Jh])}function ac(u,p){var k=typeof u;return p=p??Z,!!p&&(k=="number"||k!="symbol"&&jc.test(u))&&u>-1&&u%1==0&&u<p}function Eo(u,p,k){if(!kr(k))return!1;var T=typeof p;return(T=="number"?Ho(k)&&ac(p,k.length):T=="string"&&p in k)?Na(k[p],u):!1}function Nb(u,p){if(Zt(u))return!1;var k=typeof u;return k=="number"||k=="symbol"||k=="boolean"||u==null||vs(u)?!0:On.test(u)||!ar.test(u)||p!=null&&u in yn(p)}function nj(u){var p=typeof u;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?u!=="__proto__":u===null}function Lb(u){var p=v1(u),k=Y[p];if(typeof k!="function"||!(p in sn.prototype))return!1;if(u===k)return!0;var T=kb(k);return!!T&&u===T[0]}function rj(u){return!!ya&&ya in u}var ij=Tn?lc:Wb;function dm(u){var p=u&&u.constructor,k=typeof p=="function"&&p.prototype||Cn;return u===k}function EC(u){return u===u&&!kr(u)}function AC(u,p){return function(k){return k==null?!1:k[u]===p&&(p!==n||u in yn(k))}}function oj(u){var p=C1(u,function(T){return k.size===c&&k.clear(),T}),k=p.cache;return p}function sj(u,p){var k=u[1],T=p[1],B=k|T,X=B<(C|x|P),de=T==P&&k==E||T==P&&k==I&&u[7].length<=p[8]||T==(P|I)&&p[7].length<=p[8]&&k==E;if(!(X||de))return u;T&C&&(u[2]=p[2],B|=k&C?0:w);var ye=p[3];if(ye){var Le=u[3];u[3]=Le?lC(Le,ye,p[4]):ye,u[4]=Le?qs(u[3],h):p[4]}return ye=p[5],ye&&(Le=u[5],u[5]=Le?cC(Le,ye,p[6]):ye,u[6]=Le?qs(u[5],h):p[6]),ye=p[7],ye&&(u[7]=ye),T&P&&(u[8]=u[8]==null?p[8]:mi(u[8],p[8])),u[9]==null&&(u[9]=p[9]),u[0]=p[0],u[1]=B,u}function aj(u){var p=[];if(u!=null)for(var k in yn(u))p.push(k);return p}function lj(u){return wa.call(u)}function NC(u,p,k){return p=Br(p===n?u.length-1:p,0),function(){for(var T=arguments,B=-1,X=Br(T.length-p,0),de=Me(X);++B<X;)de[B]=T[p+B];B=-1;for(var ye=Me(p+1);++B<p;)ye[B]=T[B];return ye[p]=k(de),si(u,this,ye)}}function LC(u,p){return p.length<2?u:cr(u,Co(p,0,-1))}function cj(u,p){for(var k=u.length,T=mi(p.length,k),B=Wo(u);T--;){var X=p[T];u[T]=ac(X,k)?B[X]:n}return u}function _b(u,p){if(!(p==="constructor"&&typeof u[p]=="function")&&p!="__proto__")return u[p]}var _C=PC(Kd),pm=K2||function(u,p){return Or.setTimeout(u,p)},Ob=PC(al);function OC(u,p,k){var T=p+"";return Ob(u,ej(T,uj(XF(T),k)))}function PC(u){var p=0,k=0;return function(){var T=rb(),B=U-(T-k);if(k=T,B>0){if(++p>=z)return arguments[0]}else p=0;return u.apply(n,arguments)}}function w1(u,p){var k=-1,T=u.length,B=T-1;for(p=p===n?T:p;++k<p;){var X=bu(k,B),de=u[X];u[X]=u[k],u[k]=de}return u.length=p,u}var TC=oj(function(u){var p=[];return u.charCodeAt(0)===46&&p.push(""),u.replace(At,function(k,T,B,X){p.push(B?X.replace(di,"$1"):T||k)}),p});function hl(u){if(typeof u=="string"||vs(u))return u;var p=u+"";return p=="0"&&1/u==-ae?"-0":p}function af(u){if(u!=null){try{return rr.call(u)}catch{}try{return u+""}catch{}}return""}function uj(u,p){return ai(re,function(k){var T="_."+k[0];p&k[1]&&!eu(u,T)&&u.push(T)}),u.sort()}function MC(u){if(u instanceof sn)return u.clone();var p=new xo(u.__wrapped__,u.__chain__);return p.__actions__=Wo(u.__actions__),p.__index__=u.__index__,p.__values__=u.__values__,p}function hj(u,p,k){(k?Eo(u,p,k):p===n)?p=1:p=Br(nn(p),0);var T=u==null?0:u.length;if(!T||p<1)return[];for(var B=0,X=0,de=Me(lu(T/p));B<T;)de[X++]=Co(u,B,B+=p);return de}function fj(u){for(var p=-1,k=u==null?0:u.length,T=0,B=[];++p<k;){var X=u[p];X&&(B[T++]=X)}return B}function dj(){var u=arguments.length;if(!u)return[];for(var p=Me(u-1),k=arguments[0],T=u;T--;)p[T-1]=arguments[T];return Bo(Zt(k)?Wo(k):[k],un(p,1))}var pj=en(function(u,p){return $r(u)?an(u,un(p,1,$r,!0)):[]}),gj=en(function(u,p){var k=Js(p);return $r(k)&&(k=n),$r(u)?an(u,un(p,1,$r,!0),Tt(k,2)):[]}),mj=en(function(u,p){var k=Js(p);return $r(k)&&(k=n),$r(u)?an(u,un(p,1,$r,!0),n,k):[]});function vj(u,p,k){var T=u==null?0:u.length;return T?(p=k||p===n?1:nn(p),Co(u,p<0?0:p,T)):[]}function yj(u,p,k){var T=u==null?0:u.length;return T?(p=k||p===n?1:nn(p),p=T-p,Co(u,0,p<0?0:p)):[]}function wj(u,p){return u&&u.length?Cu(u,Tt(p,3),!0,!0):[]}function bj(u,p){return u&&u.length?Cu(u,Tt(p,3),!0):[]}function xj(u,p,k,T){var B=u==null?0:u.length;return B?(k&&typeof k!="number"&&Eo(u,p,k)&&(k=0,T=B),Pr(u,p,k,T)):[]}function RC(u,p,k){var T=u==null?0:u.length;if(!T)return-1;var B=k==null?0:nn(k);return B<0&&(B=Br(T+B,0)),Fe(u,Tt(p,3),B)}function DC(u,p,k){var T=u==null?0:u.length;if(!T)return-1;var B=T-1;return k!==n&&(B=nn(k),B=k<0?Br(T+B,0):mi(B,T-1)),Fe(u,Tt(p,3),B,!0)}function IC(u){var p=u==null?0:u.length;return p?un(u,1):[]}function Sj(u){var p=u==null?0:u.length;return p?un(u,ae):[]}function Cj(u,p){var k=u==null?0:u.length;return k?(p=p===n?1:nn(p),un(u,p)):[]}function kj(u){for(var p=-1,k=u==null?0:u.length,T={};++p<k;){var B=u[p];T[B[0]]=B[1]}return T}function zC(u){return u&&u.length?u[0]:n}function Ej(u,p,k){var T=u==null?0:u.length;if(!T)return-1;var B=k==null?0:nn(k);return B<0&&(B=Br(T+B,0)),et(u,p,B)}function Aj(u){var p=u==null?0:u.length;return p?Co(u,0,-1):[]}var Nj=en(function(u){var p=An(u,Ks);return p.length&&p[0]===u[0]?rl(p):[]}),Lj=en(function(u){var p=Js(u),k=An(u,Ks);return p===Js(k)?p=n:k.pop(),k.length&&k[0]===u[0]?rl(k,Tt(p,2)):[]}),_j=en(function(u){var p=Js(u),k=An(u,Ks);return p=typeof p=="function"?p:n,p&&k.pop(),k.length&&k[0]===u[0]?rl(k,n,p):[]});function Oj(u,p){return u==null?"":nb.call(u,p)}function Js(u){var p=u==null?0:u.length;return p?u[p-1]:n}function Pj(u,p,k){var T=u==null?0:u.length;if(!T)return-1;var B=T;return k!==n&&(B=nn(k),B=B<0?Br(T+B,0):mi(B,T-1)),p===p?Hh(u,p,B):Fe(u,Lt,B,!0)}function Tj(u,p){return u&&u.length?a1(u,nn(p)):n}var Mj=en(FC);function FC(u,p){return u&&u.length&&p&&p.length?Hd(u,p):u}function Rj(u,p,k){return u&&u.length&&p&&p.length?Hd(u,p,Tt(k,2)):u}function Dj(u,p,k){return u&&u.length&&p&&p.length?Hd(u,p,n,k):u}var Ij=sc(function(u,p){var k=u==null?0:u.length,T=pt(u,p);return lm(u,An(p,function(B){return ac(B,k)?+B:B}).sort(aC)),T});function zj(u,p){var k=[];if(!(u&&u.length))return k;var T=-1,B=[],X=u.length;for(p=Tt(p,3);++T<X;){var de=u[T];p(de,T,u)&&(k.push(de),B.push(T))}return lm(u,B),k}function Pb(u){return u==null?u:nm.call(u)}function Fj(u,p,k){var T=u==null?0:u.length;return T?(k&&typeof k!="number"&&Eo(u,p,k)?(p=0,k=T):(p=p==null?0:nn(p),k=k===n?T:nn(k)),Co(u,p,k)):[]}function jj(u,p){return rf(u,p)}function Bj(u,p,k){return ll(u,p,Tt(k,2))}function $j(u,p){var k=u==null?0:u.length;if(k){var T=rf(u,p);if(T<k&&Na(u[T],p))return T}return-1}function Vj(u,p){return rf(u,p,!0)}function Uj(u,p,k){return ll(u,p,Tt(k,2),!0)}function qj(u,p){var k=u==null?0:u.length;if(k){var T=rf(u,p,!0)-1;if(Na(u[T],p))return T}return-1}function Wj(u){return u&&u.length?u1(u):[]}function Hj(u,p){return u&&u.length?u1(u,Tt(p,2)):[]}function Gj(u){var p=u==null?0:u.length;return p?Co(u,1,p):[]}function Kj(u,p,k){return u&&u.length?(p=k||p===n?1:nn(p),Co(u,0,p<0?0:p)):[]}function Yj(u,p,k){var T=u==null?0:u.length;return T?(p=k||p===n?1:nn(p),p=T-p,Co(u,p<0?0:p,T)):[]}function Jj(u,p){return u&&u.length?Cu(u,Tt(p,3),!1,!0):[]}function Xj(u,p){return u&&u.length?Cu(u,Tt(p,3)):[]}var Qj=en(function(u){return Ea(un(u,1,$r,!0))}),Zj=en(function(u){var p=Js(u);return $r(p)&&(p=n),Ea(un(u,1,$r,!0),Tt(p,2))}),eB=en(function(u){var p=Js(u);return p=typeof p=="function"?p:n,Ea(un(u,1,$r,!0),n,p)});function tB(u){return u&&u.length?Ea(u):[]}function nB(u,p){return u&&u.length?Ea(u,Tt(p,2)):[]}function rB(u,p){return p=typeof p=="function"?p:n,u&&u.length?Ea(u,n,p):[]}function Tb(u){if(!(u&&u.length))return[];var p=0;return u=cs(u,function(k){if($r(k))return p=Br(k.length,p),!0}),Jr(p,function(k){return An(u,Xt(k))})}function jC(u,p){if(!(u&&u.length))return[];var k=Tb(u);return p==null?k:An(k,function(T){return si(p,n,T)})}var iB=en(function(u,p){return $r(u)?an(u,p):[]}),oB=en(function(u){return ms(cs(u,$r))}),sB=en(function(u){var p=Js(u);return $r(p)&&(p=n),ms(cs(u,$r),Tt(p,2))}),aB=en(function(u){var p=Js(u);return p=typeof p=="function"?p:n,ms(cs(u,$r),n,p)}),lB=en(Tb);function cB(u,p){return Aa(u||[],p||[],Ie)}function uB(u,p){return Aa(u||[],p||[],xu)}var hB=en(function(u){var p=u.length,k=p>1?u[p-1]:n;return k=typeof k=="function"?(u.pop(),k):n,jC(u,k)});function BC(u){var p=Y(u);return p.__chain__=!0,p}function fB(u,p){return p(u),u}function b1(u,p){return p(u)}var dB=sc(function(u){var p=u.length,k=p?u[0]:0,T=this.__wrapped__,B=function(X){return pt(X,u)};return p>1||this.__actions__.length||!(T instanceof sn)||!ac(k)?this.thru(B):(T=T.slice(k,+k+(p?1:0)),T.__actions__.push({func:b1,args:[B],thisArg:n}),new xo(T,this.__chain__).thru(function(X){return p&&!X.length&&X.push(n),X}))});function pB(){return BC(this)}function gB(){return new xo(this.value(),this.__chain__)}function mB(){this.__values__===n&&(this.__values__=ek(this.value()));var u=this.__index__>=this.__values__.length,p=u?n:this.__values__[this.__index__++];return{done:u,value:p}}function vB(){return this}function yB(u){for(var p,k=this;k instanceof ef;){var T=MC(k);T.__index__=0,T.__values__=n,p?B.__wrapped__=T:p=T;var B=T;k=k.__wrapped__}return B.__wrapped__=u,p}function wB(){var u=this.__wrapped__;if(u instanceof sn){var p=u;return this.__actions__.length&&(p=new sn(this)),p=p.reverse(),p.__actions__.push({func:b1,args:[Pb],thisArg:n}),new xo(p,this.__chain__)}return this.thru(Pb)}function bB(){return of(this.__wrapped__,this.__actions__)}var xB=f1(function(u,p,k){jt.call(u,k)?++u[k]:Ue(u,k,1)});function SB(u,p,k){var T=Zt(u)?Zc:jn;return k&&Eo(u,p,k)&&(p=n),T(u,Tt(p,3))}function CB(u,p){var k=Zt(u)?cs:Mi;return k(u,Tt(p,3))}var kB=dC(RC),EB=dC(DC);function AB(u,p){return un(x1(u,p),1)}function NB(u,p){return un(x1(u,p),ae)}function LB(u,p,k){return k=k===n?1:nn(k),un(x1(u,p),k)}function $C(u,p){var k=Zt(u)?ai:Kt;return k(u,Tt(p,3))}function VC(u,p){var k=Zt(u)?Vh:Fn;return k(u,Tt(p,3))}var _B=f1(function(u,p,k){jt.call(u,k)?u[k].push(p):Ue(u,k,[p])});function OB(u,p,k,T){u=Ho(u)?u:tp(u),k=k&&!T?nn(k):0;var B=u.length;return k<0&&(k=Br(B+k,0)),A1(u)?k<=B&&u.indexOf(p,k)>-1:!!B&&et(u,p,k)>-1}var PB=en(function(u,p,k){var T=-1,B=typeof p=="function",X=Ho(u)?Me(u.length):[];return Kt(u,function(de){X[++T]=B?si(p,de,k):Jn(de,p,k)}),X}),TB=f1(function(u,p,k){Ue(u,k,p)});function x1(u,p){var k=Zt(u)?An:yu;return k(u,Tt(p,3))}function MB(u,p,k,T){return u==null?[]:(Zt(p)||(p=p==null?[]:[p]),k=T?n:k,Zt(k)||(k=k==null?[]:[k]),l1(u,p,k))}var RB=f1(function(u,p,k){u[k?0:1].push(p)},function(){return[[],[]]});function DB(u,p,k){var T=Zt(u)?Us:tr,B=arguments.length<3;return T(u,Tt(p,4),k,B,Kt)}function IB(u,p,k){var T=Zt(u)?Uh:tr,B=arguments.length<3;return T(u,Tt(p,4),k,B,Fn)}function zB(u,p){var k=Zt(u)?cs:Mi;return k(u,k1(Tt(p,3)))}function FB(u){var p=Zt(u)?Pe:vb;return p(u)}function jB(u,p,k){(k?Eo(u,p,k):p===n)?p=1:p=nn(p);var T=Zt(u)?Te:Gd;return T(u,p)}function BB(u){var p=Zt(u)?Ae:c1;return p(u)}function $B(u){if(u==null)return 0;if(Ho(u))return A1(u)?Xa(u):u.length;var p=Ki(u);return p==at||p==oe?u.size:mu(u).length}function VB(u,p,k){var T=Zt(u)?A:yb;return k&&Eo(u,p,k)&&(p=n),T(u,Tt(p,3))}var UB=en(function(u,p){if(u==null)return[];var k=p.length;return k>1&&Eo(u,p[0],p[1])?p=[]:k>2&&Eo(p[0],p[1],p[2])&&(p=[p[0]]),l1(u,un(p,1),[])}),S1=em||function(){return Or.Date.now()};function qB(u,p){if(typeof p!="function")throw new gi(s);return u=nn(u),function(){if(--u<1)return p.apply(this,arguments)}}function UC(u,p,k){return p=k?n:p,p=u&&p==null?u.length:p,oc(u,P,n,n,n,n,p)}function qC(u,p){var k;if(typeof p!="function")throw new gi(s);return u=nn(u),function(){return--u>0&&(k=p.apply(this,arguments)),u<=1&&(p=n),k}}var Mb=en(function(u,p,k){var T=C;if(k.length){var B=qs(k,Zd(Mb));T|=_}return oc(u,T,p,k,B)}),WC=en(function(u,p,k){var T=C|x;if(k.length){var B=qs(k,Zd(WC));T|=_}return oc(p,T,u,k,B)});function HC(u,p,k){p=k?n:p;var T=oc(u,E,n,n,n,n,n,p);return T.placeholder=HC.placeholder,T}function GC(u,p,k){p=k?n:p;var T=oc(u,N,n,n,n,n,n,p);return T.placeholder=GC.placeholder,T}function KC(u,p,k){var T,B,X,de,ye,Le,Ye=0,Je=!1,tt=!1,dt=!0;if(typeof u!="function")throw new gi(s);p=Xs(p)||0,kr(k)&&(Je=!!k.leading,tt="maxWait"in k,X=tt?Br(Xs(k.maxWait)||0,p):X,dt="trailing"in k?!!k.trailing:dt);function Nt(Vr){var La=T,uc=B;return T=B=n,Ye=Vr,de=u.apply(uc,La),de}function zt(Vr){return Ye=Vr,ye=pm(hn,p),Je?Nt(Vr):de}function rn(Vr){var La=Vr-Le,uc=Vr-Ye,dk=p-La;return tt?mi(dk,X-uc):dk}function Ft(Vr){var La=Vr-Le,uc=Vr-Ye;return Le===n||La>=p||La<0||tt&&uc>=X}function hn(){var Vr=S1();if(Ft(Vr))return pn(Vr);ye=pm(hn,rn(Vr))}function pn(Vr){return ye=n,dt&&T?Nt(Vr):(T=B=n,de)}function ys(){ye!==n&&Yd(ye),Ye=0,T=Le=B=ye=n}function Ao(){return ye===n?de:pn(S1())}function ws(){var Vr=S1(),La=Ft(Vr);if(T=arguments,B=this,Le=Vr,La){if(ye===n)return zt(Le);if(tt)return Yd(ye),ye=pm(hn,p),Nt(Le)}return ye===n&&(ye=pm(hn,p)),de}return ws.cancel=ys,ws.flush=Ao,ws}var WB=en(function(u,p){return Nn(u,1,p)}),HB=en(function(u,p,k){return Nn(u,Xs(p)||0,k)});function GB(u){return oc(u,W)}function C1(u,p){if(typeof u!="function"||p!=null&&typeof p!="function")throw new gi(s);var k=function(){var T=arguments,B=p?p.apply(this,T):T[0],X=k.cache;if(X.has(B))return X.get(B);var de=u.apply(this,T);return k.cache=X.set(B,de)||X,de};return k.cache=new(C1.Cache||Gs),k}C1.Cache=Gs;function k1(u){if(typeof u!="function")throw new gi(s);return function(){var p=arguments;switch(p.length){case 0:return!u.call(this);case 1:return!u.call(this,p[0]);case 2:return!u.call(this,p[0],p[1]);case 3:return!u.call(this,p[0],p[1],p[2])}return!u.apply(this,p)}}function KB(u){return qC(2,u)}var YB=h1(function(u,p){p=p.length==1&&Zt(p[0])?An(p[0],nr(Tt())):An(un(p,1),nr(Tt()));var k=p.length;return en(function(T){for(var B=-1,X=mi(T.length,k);++B<X;)T[B]=p[B].call(this,T[B]);return si(u,this,T)})}),Rb=en(function(u,p){var k=qs(p,Zd(Rb));return oc(u,_,n,p,k)}),YC=en(function(u,p){var k=qs(p,Zd(YC));return oc(u,D,n,p,k)}),JB=sc(function(u,p){return oc(u,I,n,n,n,p)});function XB(u,p){if(typeof u!="function")throw new gi(s);return p=p===n?p:nn(p),en(u,p)}function QB(u,p){if(typeof u!="function")throw new gi(s);return p=p==null?0:Br(nn(p),0),en(function(k){var T=k[p],B=cl(k,0,p);return T&&Bo(B,T),si(u,this,B)})}function ZB(u,p,k){var T=!0,B=!0;if(typeof u!="function")throw new gi(s);return kr(k)&&(T="leading"in k?!!k.leading:T,B="trailing"in k?!!k.trailing:B),KC(u,p,{leading:T,maxWait:p,trailing:B})}function e$(u){return UC(u,1)}function t$(u,p){return Rb(ku(p),u)}function n$(){if(!arguments.length)return[];var u=arguments[0];return Zt(u)?u:[u]}function r$(u){return St(u,d)}function i$(u,p){return p=typeof p=="function"?p:n,St(u,d,p)}function o$(u){return St(u,f|d)}function s$(u,p){return p=typeof p=="function"?p:n,St(u,f|d,p)}function a$(u,p){return p==null||wn(u,p,wi(p))}function Na(u,p){return u===p||u!==u&&p!==p}var l$=m1(qo),c$=m1(function(u,p){return u>=p}),lf=Vd(function(){return arguments}())?Vd:function(u){return Tr(u)&&jt.call(u,"callee")&&!Gi.call(u,"callee")},Zt=Me.isArray,u$=Xc?nr(Xc):n1;function Ho(u){return u!=null&&E1(u.length)&&!lc(u)}function $r(u){return Tr(u)&&Ho(u)}function h$(u){return u===!0||u===!1||Tr(u)&&Yn(u)==xe}var Eu=tm||Wb,f$=Ga?nr(Ga):r1;function d$(u){return Tr(u)&&u.nodeType===1&&!gm(u)}function p$(u){if(u==null)return!0;if(Ho(u)&&(Zt(u)||typeof u=="string"||typeof u.splice=="function"||Eu(u)||ep(u)||lf(u)))return!u.length;var p=Ki(u);if(p==at||p==oe)return!u.size;if(dm(u))return!mu(u).length;for(var k in u)if(jt.call(u,k))return!1;return!0}function g$(u,p){return ol(u,p)}function m$(u,p,k){k=typeof k=="function"?k:n;var T=k?k(u,p):n;return T===n?ol(u,p,n,k):!!T}function Db(u){if(!Tr(u))return!1;var p=Yn(u);return p==Be||p==Ge||typeof u.message=="string"&&typeof u.name=="string"&&!gm(u)}function v$(u){return typeof u=="number"&&Y2(u)}function lc(u){if(!kr(u))return!1;var p=Yn(u);return p==Ke||p==it||p==Se||p==ze}function JC(u){return typeof u=="number"&&u==nn(u)}function E1(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=Z}function kr(u){var p=typeof u;return u!=null&&(p=="object"||p=="function")}function Tr(u){return u!=null&&typeof u=="object"}var XC=Md?nr(Md):Ud;function y$(u,p){return u===p||So(u,p,Eb(p))}function w$(u,p,k){return k=typeof k=="function"?k:n,So(u,p,Eb(p),k)}function b$(u){return QC(u)&&u!=+u}function x$(u){if(ij(u))throw new _t(o);return rc(u)}function S$(u){return u===null}function C$(u){return u==null}function QC(u){return typeof u=="number"||Tr(u)&&Yn(u)==Re}function gm(u){if(!Tr(u)||Yn(u)!=vt)return!1;var p=au(u);if(p===null)return!0;var k=jt.call(p,"constructor")&&p.constructor;return typeof k=="function"&&k instanceof k&&rr.call(k)==zd}var Ib=Zl?nr(Zl):gu;function k$(u){return JC(u)&&u>=-Z&&u<=Z}var ZC=Rd?nr(Rd):i1;function A1(u){return typeof u=="string"||!Zt(u)&&Tr(u)&&Yn(u)==ee}function vs(u){return typeof u=="symbol"||Tr(u)&&Yn(u)==te}var ep=Qc?nr(Qc):qd;function E$(u){return u===n}function A$(u){return Tr(u)&&Ki(u)==Oe}function N$(u){return Tr(u)&&Yn(u)==qe}var L$=m1(vu),_$=m1(function(u,p){return u<=p});function ek(u){if(!u)return[];if(Ho(u))return A1(u)?wo(u):Wo(u);if(el&&u[el])return su(u[el]());var p=Ki(u),k=p==at?ec:p==oe?Ja:tp;return k(u)}function cc(u){if(!u)return u===0?u:0;if(u=Xs(u),u===ae||u===-ae){var p=u<0?-1:1;return p*le}return u===u?u:0}function nn(u){var p=cc(u),k=p%1;return p===p?k?p-k:p:0}function tk(u){return u?st(nn(u),0,ge):0}function Xs(u){if(typeof u=="number")return u;if(vs(u))return ue;if(kr(u)){var p=typeof u.valueOf=="function"?u.valueOf():u;u=kr(p)?p+"":p}if(typeof u!="string")return u===0?u:+u;u=$o(u);var k=Fs.test(u);return k||Fc.test(u)?Od(u.slice(2),k?2:8):jo.test(u)?ue:+u}function nk(u){return ul(u,Go(u))}function O$(u){return u?st(nn(u),-Z,Z):u===0?u:0}function Bn(u){return u==null?"":ko(u)}var P$=Xd(function(u,p){if(dm(p)||Ho(p)){ul(p,wi(p),u);return}for(var k in p)jt.call(p,k)&&Ie(u,k,p[k])}),rk=Xd(function(u,p){ul(p,Go(p),u)}),N1=Xd(function(u,p,k,T){ul(p,Go(p),u,T)}),T$=Xd(function(u,p,k,T){ul(p,wi(p),u,T)}),M$=sc(pt);function R$(u,p){var k=pu(u);return p==null?k:We(k,p)}var D$=en(function(u,p){u=yn(u);var k=-1,T=p.length,B=T>2?p[2]:n;for(B&&Eo(p[0],p[1],B)&&(T=1);++k<T;)for(var X=p[k],de=Go(X),ye=-1,Le=de.length;++ye<Le;){var Ye=de[ye],Je=u[Ye];(Je===n||Na(Je,Cn[Ye])&&!jt.call(u,Ye))&&(u[Ye]=X[Ye])}return u}),I$=en(function(u){return u.push(n,bC),si(ik,n,u)});function z$(u,p){return _e(u,Tt(p,3),wr)}function F$(u,p){return _e(u,Tt(p,3),Ri)}function j$(u,p){return u==null?u:vi(u,Tt(p,3),Go)}function B$(u,p){return u==null?u:Ln(u,Tt(p,3),Go)}function $$(u,p){return u&&wr(u,Tt(p,3))}function V$(u,p){return u&&Ri(u,Tt(p,3))}function U$(u){return u==null?[]:Cr(u,wi(u))}function q$(u){return u==null?[]:Cr(u,Go(u))}function zb(u,p,k){var T=u==null?n:cr(u,p);return T===n?k:T}function W$(u,p){return u!=null&&CC(u,p,Qr)}function Fb(u,p){return u!=null&&CC(u,p,ka)}var H$=gC(function(u,p,k){p!=null&&typeof p.toString!="function"&&(p=wa.call(p)),u[p]=k},Bb(Ko)),G$=gC(function(u,p,k){p!=null&&typeof p.toString!="function"&&(p=wa.call(p)),jt.call(u,p)?u[p].push(k):u[p]=[k]},Tt),K$=en(Jn);function wi(u){return Ho(u)?be(u):mu(u)}function Go(u){return Ho(u)?be(u,!0):sm(u)}function Y$(u,p){var k={};return p=Tt(p,3),wr(u,function(T,B,X){Ue(k,p(T,B,X),T)}),k}function J$(u,p){var k={};return p=Tt(p,3),wr(u,function(T,B,X){Ue(k,B,p(T,B,X))}),k}var X$=Xd(function(u,p,k){wu(u,p,k)}),ik=Xd(function(u,p,k,T){wu(u,p,k,T)}),Q$=sc(function(u,p){var k={};if(u==null)return k;var T=!1;p=An(p,function(X){return X=Ys(X,u),T||(T=X.length>1),X}),ul(u,Cb(u),k),T&&(k=St(k,f|g|d,HF));for(var B=p.length;B--;)hm(k,p[B]);return k});function Z$(u,p){return ok(u,k1(Tt(p)))}var eV=sc(function(u,p){return u==null?{}:mb(u,p)});function ok(u,p){if(u==null)return{};var k=An(Cb(u),function(T){return[T]});return p=Tt(p),am(u,k,function(T,B){return p(T,B[0])})}function tV(u,p,k){p=Ys(p,u);var T=-1,B=p.length;for(B||(B=1,u=n);++T<B;){var X=u==null?n:u[hl(p[T])];X===n&&(T=B,X=k),u=lc(X)?X.call(u):X}return u}function nV(u,p,k){return u==null?u:xu(u,p,k)}function rV(u,p,k,T){return T=typeof T=="function"?T:n,u==null?u:xu(u,p,k,T)}var sk=yC(wi),ak=yC(Go);function iV(u,p,k){var T=Zt(u),B=T||Eu(u)||ep(u);if(p=Tt(p,4),k==null){var X=u&&u.constructor;B?k=T?new X:[]:kr(u)?k=lc(X)?pu(au(u)):{}:k={}}return(B?ai:wr)(u,function(de,ye,Le){return p(k,de,ye,Le)}),k}function oV(u,p){return u==null?!0:hm(u,p)}function sV(u,p,k){return u==null?u:Su(u,p,ku(k))}function aV(u,p,k,T){return T=typeof T=="function"?T:n,u==null?u:Su(u,p,ku(k),T)}function tp(u){return u==null?[]:us(u,wi(u))}function lV(u){return u==null?[]:us(u,Go(u))}function cV(u,p,k){return k===n&&(k=p,p=n),k!==n&&(k=Xs(k),k=k===k?k:0),p!==n&&(p=Xs(p),p=p===p?p:0),st(Xs(u),p,k)}function uV(u,p,k){return p=cc(p),k===n?(k=p,p=0):k=cc(k),u=Xs(u),nc(u,p,k)}function hV(u,p,k){if(k&&typeof k!="boolean"&&Eo(u,p,k)&&(p=k=n),k===n&&(typeof p=="boolean"?(k=p,p=n):typeof u=="boolean"&&(k=u,u=n)),u===n&&p===n?(u=0,p=1):(u=cc(u),p===n?(p=u,u=0):p=cc(p)),u>p){var T=u;u=p,p=T}if(k||u%1||p%1){var B=X2();return mi(u+B*(p-u+Jc("1e-"+((B+"").length-1))),p)}return bu(u,p)}var fV=Qd(function(u,p,k){return p=p.toLowerCase(),u+(k?lk(p):p)});function lk(u){return jb(Bn(u).toLowerCase())}function ck(u){return u=Bn(u),u&&u.replace(Bc,qh).replace(_d,"")}function dV(u,p,k){u=Bn(u),p=ko(p);var T=u.length;k=k===n?T:st(nn(k),0,T);var B=k;return k-=p.length,k>=0&&u.slice(k,B)==p}function pV(u){return u=Bn(u),u&&Pt.test(u)?u.replace(ln,Wh):u}function gV(u){return u=Bn(u),u&&Fo.test(u)?u.replace(Li,"\\$&"):u}var mV=Qd(function(u,p,k){return u+(k?"-":"")+p.toLowerCase()}),vV=Qd(function(u,p,k){return u+(k?" ":"")+p.toLowerCase()}),yV=fC("toLowerCase");function wV(u,p,k){u=Bn(u),p=nn(p);var T=p?Xa(u):0;if(!p||T>=p)return u;var B=(p-T)/2;return g1(cu(B),k)+u+g1(lu(B),k)}function bV(u,p,k){u=Bn(u),p=nn(p);var T=p?Xa(u):0;return p&&T<p?u+g1(p-T,k):u}function xV(u,p,k){u=Bn(u),p=nn(p);var T=p?Xa(u):0;return p&&T<p?g1(p-T,k)+u:u}function SV(u,p,k){return k||p==null?p=0:p&&(p=+p),ib(Bn(u).replace(jr,""),p||0)}function CV(u,p,k){return(k?Eo(u,p,k):p===n)?p=1:p=nn(p),ic(Bn(u),p)}function kV(){var u=arguments,p=Bn(u[0]);return u.length<3?p:p.replace(u[1],u[2])}var EV=Qd(function(u,p,k){return u+(k?"_":"")+p.toLowerCase()});function AV(u,p,k){return k&&typeof k!="number"&&Eo(u,p,k)&&(p=k=n),k=k===n?ge:k>>>0,k?(u=Bn(u),u&&(typeof p=="string"||p!=null&&!Ib(p))&&(p=ko(p),!p&&hs(u))?cl(wo(u),0,k):u.split(p,k)):[]}var NV=Qd(function(u,p,k){return u+(k?" ":"")+jb(p)});function LV(u,p,k){return u=Bn(u),k=k==null?0:st(nn(k),0,u.length),p=ko(p),u.slice(k,k+p.length)==p}function _V(u,p,k){var T=Y.templateSettings;k&&Eo(u,p,k)&&(p=n),u=Bn(u),p=N1({},p,T,wC);var B=N1({},p.imports,T.imports,wC),X=wi(B),de=us(B,X),ye,Le,Ye=0,Je=p.interpolate||fa,tt="__p += '",dt=ga((p.escape||fa).source+"|"+Je.source+"|"+(Je===dn?yo:fa).source+"|"+(p.evaluate||fa).source+"|$","g"),Nt="//# sourceURL="+(jt.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xg+"]")+`
`;u.replace(dt,function(Ft,hn,pn,ys,Ao,ws){return pn||(pn=ys),tt+=u.slice(Ye,ws).replace(yd,iu),hn&&(ye=!0,tt+=`' +
__e(`+hn+`) +
'`),Ao&&(Le=!0,tt+=`';
`+Ao+`;
__p += '`),pn&&(tt+=`' +
((__t = (`+pn+`)) == null ? '' : __t) +
'`),Ye=ws+Ft.length,Ft}),tt+=`';
`;var zt=jt.call(p,"variable")&&p.variable;if(!zt)tt=`with (obj) {
`+tt+`
}
`;else if(_i.test(zt))throw new _t(a);tt=(Le?tt.replace(ht,""):tt).replace(Xn,"$1").replace(Sn,"$1;"),tt="function("+(zt||"obj")+`) {
`+(zt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ye?", __e = _.escape":"")+(Le?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+tt+`return __p
}`;var rn=hk(function(){return tn(X,Nt+"return "+tt).apply(n,de)});if(rn.source=tt,Db(rn))throw rn;return rn}function OV(u){return Bn(u).toLowerCase()}function PV(u){return Bn(u).toUpperCase()}function TV(u,p,k){if(u=Bn(u),u&&(k||p===n))return $o(u);if(!u||!(p=ko(p)))return u;var T=wo(u),B=wo(p),X=tu(T,B),de=nu(T,B)+1;return cl(T,X,de).join("")}function MV(u,p,k){if(u=Bn(u),u&&(k||p===n))return u.slice(0,da(u)+1);if(!u||!(p=ko(p)))return u;var T=wo(u),B=nu(T,wo(p))+1;return cl(T,0,B).join("")}function RV(u,p,k){if(u=Bn(u),u&&(k||p===n))return u.replace(jr,"");if(!u||!(p=ko(p)))return u;var T=wo(u),B=tu(T,wo(p));return cl(T,B).join("")}function DV(u,p){var k=G,T=O;if(kr(p)){var B="separator"in p?p.separator:B;k="length"in p?nn(p.length):k,T="omission"in p?ko(p.omission):T}u=Bn(u);var X=u.length;if(hs(u)){var de=wo(u);X=de.length}if(k>=X)return u;var ye=k-Xa(T);if(ye<1)return T;var Le=de?cl(de,0,ye).join(""):u.slice(0,ye);if(B===n)return Le+T;if(de&&(ye+=Le.length-ye),Ib(B)){if(u.slice(ye).search(B)){var Ye,Je=Le;for(B.global||(B=ga(B.source,Bn(Vi.exec(B))+"g")),B.lastIndex=0;Ye=B.exec(Je);)var tt=Ye.index;Le=Le.slice(0,tt===n?ye:tt)}}else if(u.indexOf(ko(B),ye)!=ye){var dt=Le.lastIndexOf(B);dt>-1&&(Le=Le.slice(0,dt))}return Le+T}function IV(u){return u=Bn(u),u&&Dt.test(u)?u.replace(yt,Vo):u}var zV=Qd(function(u,p,k){return u+(k?" ":"")+p.toUpperCase()}),jb=fC("toUpperCase");function uk(u,p,k){return u=Bn(u),p=k?n:p,p===n?ou(u)?Ws(u):ve(u):u.match(p)||[]}var hk=en(function(u,p){try{return si(u,n,p)}catch(k){return Db(k)?k:new _t(k)}}),FV=sc(function(u,p){return ai(p,function(k){k=hl(k),Ue(u,k,Mb(u[k],u))}),u});function jV(u){var p=u==null?0:u.length,k=Tt();return u=p?An(u,function(T){if(typeof T[1]!="function")throw new gi(s);return[k(T[0]),T[1]]}):[],en(function(T){for(var B=-1;++B<p;){var X=u[B];if(si(X[0],this,T))return si(X[1],this,T)}})}function BV(u){return ct(St(u,f))}function Bb(u){return function(){return u}}function $V(u,p){return u==null||u!==u?p:u}var VV=pC(),UV=pC(!0);function Ko(u){return u}function $b(u){return om(typeof u=="function"?u:St(u,f))}function qV(u){return o1(St(u,f))}function WV(u,p){return s1(u,St(p,f))}var HV=en(function(u,p){return function(k){return Jn(k,u,p)}}),GV=en(function(u,p){return function(k){return Jn(u,k,p)}});function Vb(u,p,k){var T=wi(p),B=Cr(p,T);k==null&&!(kr(p)&&(B.length||!T.length))&&(k=p,p=u,u=this,B=Cr(p,wi(p)));var X=!(kr(k)&&"chain"in k)||!!k.chain,de=lc(u);return ai(B,function(ye){var Le=p[ye];u[ye]=Le,de&&(u.prototype[ye]=function(){var Ye=this.__chain__;if(X||Ye){var Je=u(this.__wrapped__),tt=Je.__actions__=Wo(this.__actions__);return tt.push({func:Le,args:arguments,thisArg:u}),Je.__chain__=Ye,Je}return Le.apply(u,Bo([this.value()],arguments))})}),u}function KV(){return Or._===this&&(Or._=H2),this}function Ub(){}function YV(u){return u=nn(u),en(function(p){return a1(p,u)})}var JV=bb(An),XV=bb(Zc),QV=bb(A);function fk(u){return Nb(u)?Xt(hl(u)):Wd(u)}function ZV(u){return function(p){return u==null?n:cr(u,p)}}var eU=mC(),tU=mC(!0);function qb(){return[]}function Wb(){return!1}function nU(){return{}}function rU(){return""}function iU(){return!0}function oU(u,p){if(u=nn(u),u<1||u>Z)return[];var k=ge,T=mi(u,ge);p=Tt(p),u-=ge;for(var B=Jr(T,p);++k<u;)p(k);return B}function sU(u){return Zt(u)?An(u,hl):vs(u)?[u]:Wo(TC(Bn(u)))}function aU(u){var p=++va;return Bn(u)+p}var lU=p1(function(u,p){return u+p},0),cU=xb("ceil"),uU=p1(function(u,p){return u/p},1),hU=xb("floor");function fU(u){return u&&u.length?Wt(u,Ko,qo):n}function dU(u,p){return u&&u.length?Wt(u,Tt(p,2),qo):n}function pU(u){return Ht(u,Ko)}function gU(u,p){return Ht(u,Tt(p,2))}function mU(u){return u&&u.length?Wt(u,Ko,vu):n}function vU(u,p){return u&&u.length?Wt(u,Tt(p,2),vu):n}var yU=p1(function(u,p){return u*p},1),wU=xb("round"),bU=p1(function(u,p){return u-p},0);function xU(u){return u&&u.length?yr(u,Ko):0}function SU(u,p){return u&&u.length?yr(u,Tt(p,2)):0}return Y.after=qB,Y.ary=UC,Y.assign=P$,Y.assignIn=rk,Y.assignInWith=N1,Y.assignWith=T$,Y.at=M$,Y.before=qC,Y.bind=Mb,Y.bindAll=FV,Y.bindKey=WC,Y.castArray=n$,Y.chain=BC,Y.chunk=hj,Y.compact=fj,Y.concat=dj,Y.cond=jV,Y.conforms=BV,Y.constant=Bb,Y.countBy=xB,Y.create=R$,Y.curry=HC,Y.curryRight=GC,Y.debounce=KC,Y.defaults=D$,Y.defaultsDeep=I$,Y.defer=WB,Y.delay=HB,Y.difference=pj,Y.differenceBy=gj,Y.differenceWith=mj,Y.drop=vj,Y.dropRight=yj,Y.dropRightWhile=wj,Y.dropWhile=bj,Y.fill=xj,Y.filter=CB,Y.flatMap=AB,Y.flatMapDeep=NB,Y.flatMapDepth=LB,Y.flatten=IC,Y.flattenDeep=Sj,Y.flattenDepth=Cj,Y.flip=GB,Y.flow=VV,Y.flowRight=UV,Y.fromPairs=kj,Y.functions=U$,Y.functionsIn=q$,Y.groupBy=_B,Y.initial=Aj,Y.intersection=Nj,Y.intersectionBy=Lj,Y.intersectionWith=_j,Y.invert=H$,Y.invertBy=G$,Y.invokeMap=PB,Y.iteratee=$b,Y.keyBy=TB,Y.keys=wi,Y.keysIn=Go,Y.map=x1,Y.mapKeys=Y$,Y.mapValues=J$,Y.matches=qV,Y.matchesProperty=WV,Y.memoize=C1,Y.merge=X$,Y.mergeWith=ik,Y.method=HV,Y.methodOf=GV,Y.mixin=Vb,Y.negate=k1,Y.nthArg=YV,Y.omit=Q$,Y.omitBy=Z$,Y.once=KB,Y.orderBy=MB,Y.over=JV,Y.overArgs=YB,Y.overEvery=XV,Y.overSome=QV,Y.partial=Rb,Y.partialRight=YC,Y.partition=RB,Y.pick=eV,Y.pickBy=ok,Y.property=fk,Y.propertyOf=ZV,Y.pull=Mj,Y.pullAll=FC,Y.pullAllBy=Rj,Y.pullAllWith=Dj,Y.pullAt=Ij,Y.range=eU,Y.rangeRight=tU,Y.rearg=JB,Y.reject=zB,Y.remove=zj,Y.rest=XB,Y.reverse=Pb,Y.sampleSize=jB,Y.set=nV,Y.setWith=rV,Y.shuffle=BB,Y.slice=Fj,Y.sortBy=UB,Y.sortedUniq=Wj,Y.sortedUniqBy=Hj,Y.split=AV,Y.spread=QB,Y.tail=Gj,Y.take=Kj,Y.takeRight=Yj,Y.takeRightWhile=Jj,Y.takeWhile=Xj,Y.tap=fB,Y.throttle=ZB,Y.thru=b1,Y.toArray=ek,Y.toPairs=sk,Y.toPairsIn=ak,Y.toPath=sU,Y.toPlainObject=nk,Y.transform=iV,Y.unary=e$,Y.union=Qj,Y.unionBy=Zj,Y.unionWith=eB,Y.uniq=tB,Y.uniqBy=nB,Y.uniqWith=rB,Y.unset=oV,Y.unzip=Tb,Y.unzipWith=jC,Y.update=sV,Y.updateWith=aV,Y.values=tp,Y.valuesIn=lV,Y.without=iB,Y.words=uk,Y.wrap=t$,Y.xor=oB,Y.xorBy=sB,Y.xorWith=aB,Y.zip=lB,Y.zipObject=cB,Y.zipObjectDeep=uB,Y.zipWith=hB,Y.entries=sk,Y.entriesIn=ak,Y.extend=rk,Y.extendWith=N1,Vb(Y,Y),Y.add=lU,Y.attempt=hk,Y.camelCase=fV,Y.capitalize=lk,Y.ceil=cU,Y.clamp=cV,Y.clone=r$,Y.cloneDeep=o$,Y.cloneDeepWith=s$,Y.cloneWith=i$,Y.conformsTo=a$,Y.deburr=ck,Y.defaultTo=$V,Y.divide=uU,Y.endsWith=dV,Y.eq=Na,Y.escape=pV,Y.escapeRegExp=gV,Y.every=SB,Y.find=kB,Y.findIndex=RC,Y.findKey=z$,Y.findLast=EB,Y.findLastIndex=DC,Y.findLastKey=F$,Y.floor=hU,Y.forEach=$C,Y.forEachRight=VC,Y.forIn=j$,Y.forInRight=B$,Y.forOwn=$$,Y.forOwnRight=V$,Y.get=zb,Y.gt=l$,Y.gte=c$,Y.has=W$,Y.hasIn=Fb,Y.head=zC,Y.identity=Ko,Y.includes=OB,Y.indexOf=Ej,Y.inRange=uV,Y.invoke=K$,Y.isArguments=lf,Y.isArray=Zt,Y.isArrayBuffer=u$,Y.isArrayLike=Ho,Y.isArrayLikeObject=$r,Y.isBoolean=h$,Y.isBuffer=Eu,Y.isDate=f$,Y.isElement=d$,Y.isEmpty=p$,Y.isEqual=g$,Y.isEqualWith=m$,Y.isError=Db,Y.isFinite=v$,Y.isFunction=lc,Y.isInteger=JC,Y.isLength=E1,Y.isMap=XC,Y.isMatch=y$,Y.isMatchWith=w$,Y.isNaN=b$,Y.isNative=x$,Y.isNil=C$,Y.isNull=S$,Y.isNumber=QC,Y.isObject=kr,Y.isObjectLike=Tr,Y.isPlainObject=gm,Y.isRegExp=Ib,Y.isSafeInteger=k$,Y.isSet=ZC,Y.isString=A1,Y.isSymbol=vs,Y.isTypedArray=ep,Y.isUndefined=E$,Y.isWeakMap=A$,Y.isWeakSet=N$,Y.join=Oj,Y.kebabCase=mV,Y.last=Js,Y.lastIndexOf=Pj,Y.lowerCase=vV,Y.lowerFirst=yV,Y.lt=L$,Y.lte=_$,Y.max=fU,Y.maxBy=dU,Y.mean=pU,Y.meanBy=gU,Y.min=mU,Y.minBy=vU,Y.stubArray=qb,Y.stubFalse=Wb,Y.stubObject=nU,Y.stubString=rU,Y.stubTrue=iU,Y.multiply=yU,Y.nth=Tj,Y.noConflict=KV,Y.noop=Ub,Y.now=S1,Y.pad=wV,Y.padEnd=bV,Y.padStart=xV,Y.parseInt=SV,Y.random=hV,Y.reduce=DB,Y.reduceRight=IB,Y.repeat=CV,Y.replace=kV,Y.result=tV,Y.round=wU,Y.runInContext=Ce,Y.sample=FB,Y.size=$B,Y.snakeCase=EV,Y.some=VB,Y.sortedIndex=jj,Y.sortedIndexBy=Bj,Y.sortedIndexOf=$j,Y.sortedLastIndex=Vj,Y.sortedLastIndexBy=Uj,Y.sortedLastIndexOf=qj,Y.startCase=NV,Y.startsWith=LV,Y.subtract=bU,Y.sum=xU,Y.sumBy=SU,Y.template=_V,Y.times=oU,Y.toFinite=cc,Y.toInteger=nn,Y.toLength=tk,Y.toLower=OV,Y.toNumber=Xs,Y.toSafeInteger=O$,Y.toString=Bn,Y.toUpper=PV,Y.trim=TV,Y.trimEnd=MV,Y.trimStart=RV,Y.truncate=DV,Y.unescape=IV,Y.uniqueId=aU,Y.upperCase=zV,Y.upperFirst=jb,Y.each=$C,Y.eachRight=VC,Y.first=zC,Vb(Y,function(){var u={};return wr(Y,function(p,k){jt.call(Y.prototype,k)||(u[k]=p)}),u}(),{chain:!1}),Y.VERSION=r,ai(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){Y[u].placeholder=Y}),ai(["drop","take"],function(u,p){sn.prototype[u]=function(k){k=k===n?1:Br(nn(k),0);var T=this.__filtered__&&!p?new sn(this):this.clone();return T.__filtered__?T.__takeCount__=mi(k,T.__takeCount__):T.__views__.push({size:mi(k,ge),type:u+(T.__dir__<0?"Right":"")}),T},sn.prototype[u+"Right"]=function(k){return this.reverse()[u](k).reverse()}}),ai(["filter","map","takeWhile"],function(u,p){var k=p+1,T=k==$||k==se;sn.prototype[u]=function(B){var X=this.clone();return X.__iteratees__.push({iteratee:Tt(B,3),type:k}),X.__filtered__=X.__filtered__||T,X}}),ai(["head","last"],function(u,p){var k="take"+(p?"Right":"");sn.prototype[u]=function(){return this[k](1).value()[0]}}),ai(["initial","tail"],function(u,p){var k="drop"+(p?"":"Right");sn.prototype[u]=function(){return this.__filtered__?new sn(this):this[k](1)}}),sn.prototype.compact=function(){return this.filter(Ko)},sn.prototype.find=function(u){return this.filter(u).head()},sn.prototype.findLast=function(u){return this.reverse().find(u)},sn.prototype.invokeMap=en(function(u,p){return typeof u=="function"?new sn(this):this.map(function(k){return Jn(k,u,p)})}),sn.prototype.reject=function(u){return this.filter(k1(Tt(u)))},sn.prototype.slice=function(u,p){u=nn(u);var k=this;return k.__filtered__&&(u>0||p<0)?new sn(k):(u<0?k=k.takeRight(-u):u&&(k=k.drop(u)),p!==n&&(p=nn(p),k=p<0?k.dropRight(-p):k.take(p-u)),k)},sn.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},sn.prototype.toArray=function(){return this.take(ge)},wr(sn.prototype,function(u,p){var k=/^(?:filter|find|map|reject)|While$/.test(p),T=/^(?:head|last)$/.test(p),B=Y[T?"take"+(p=="last"?"Right":""):p],X=T||/^find/.test(p);B&&(Y.prototype[p]=function(){var de=this.__wrapped__,ye=T?[1]:arguments,Le=de instanceof sn,Ye=ye[0],Je=Le||Zt(de),tt=function(hn){var pn=B.apply(Y,Bo([hn],ye));return T&&dt?pn[0]:pn};Je&&k&&typeof Ye=="function"&&Ye.length!=1&&(Le=Je=!1);var dt=this.__chain__,Nt=!!this.__actions__.length,zt=X&&!dt,rn=Le&&!Nt;if(!X&&Je){de=rn?de:new sn(this);var Ft=u.apply(de,ye);return Ft.__actions__.push({func:b1,args:[tt],thisArg:n}),new xo(Ft,dt)}return zt&&rn?u.apply(this,ye):(Ft=this.thru(tt),zt?T?Ft.value()[0]:Ft.value():Ft)})}),ai(["pop","push","shift","sort","splice","unshift"],function(u){var p=Pi[u],k=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",T=/^(?:pop|shift)$/.test(u);Y.prototype[u]=function(){var B=arguments;if(T&&!this.__chain__){var X=this.value();return p.apply(Zt(X)?X:[],B)}return this[k](function(de){return p.apply(Zt(de)?de:[],B)})}}),wr(sn.prototype,function(u,p){var k=Y[p];if(k){var T=k.name+"";jt.call(du,T)||(du[T]=[]),du[T].push({name:p,func:k})}}),du[d1(n,x).name]=[{name:"wrapper",func:n}],sn.prototype.clone=Q2,sn.prototype.reverse=ab,sn.prototype.value=Bd,Y.prototype.at=dB,Y.prototype.chain=pB,Y.prototype.commit=gB,Y.prototype.next=mB,Y.prototype.plant=yB,Y.prototype.reverse=wB,Y.prototype.toJSON=Y.prototype.valueOf=Y.prototype.value=bB,Y.prototype.first=Y.prototype.head,el&&(Y.prototype[el]=vB),Y},ps=pa();Wi?((Wi.exports=ps)._=ps,ls._=ps):Or._=ps}).call(Al)})(T5,T5.exports);var mt=T5.exports,T7=L7(function(e,t){var n=e.styles,r=sw([n],void 0,M.useContext(_7)),i=M.useRef();return BE(function(){var o=t.key+"-global",s=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[t]),BE(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&N7(t,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}t.insert("",r,s,!1)},[t,r.name]),null});function M7(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sw(t)}function ZG(e){return mt.chain(e).groupBy("family").map(t=>{if(t.length===1)return{...t[0],styles:t};const n=mt.find(t,r=>r.name.toLowerCase().includes("regular"));if(n){const{name:r,...i}=n,{styles:o,...s}=mt.omit(n,["name"]);return{family:s,name:r,...i,styles:t}}else return{...t[0],styles:t}}).value()}function cT(e){if(e==="regular")return"";const t=parseInt(e);if(e.includes("italic")){const n=`font-style: italic;
`;return t?`font-weight: ${t};
${n}`:n}return t?`font-weight: ${t};
`:""}function UE(e){switch(e){case 100:return"Thin";case 200:return"Extra Light";case 300:return"Light";case 400:return"Normal";case 500:return"Medium";case 600:return"Semi Bold";case 700:return"Bold";case 800:return"Extra Bold";case 900:return"Black";default:return"Unknown"}}function bx(e){if(e==="regular")return"Regular";const t=parseInt(e);return e.includes("italic")?t?`${UE(t)} + Italic`:"Italic":t?UE(t):"Regular"}const eK=({font:e})=>{const t=M.useMemo(()=>{const n=[];return n.push(`
            @font-face {
                font-family: '${e.name}';
                ${cT(e.style)}
                src: url(${e.url}) format('woff2');
                font-display: block;
            }
        `),n.join(`
`)},[e]);return S(T7,{styles:M7`
                ${t}
            `})},tK=Un.memo(eK),uT=({fonts:e,mode:t="view"})=>me(M.Fragment,{children:[S(T7,{styles:M7`
          ${`
        .canva-editor-text {
            counter-reset: list;
            p {
                margin-left: calc(var(--indent-level)*1.7em);

            }
            p:before {
                counter-increment: list;
                content: counter(list, var(--counter-list-marker)) ".";
                left: 0;
                padding-right: 0.1em;
                height: calc(var(--line-height))*1em;
                width: calc(var(--indent-level)*1em);
                position: absolute;
                margin: 0;
                padding: 0;
                white-space: nowrap;
            }
        }
    `}
          ${`
        * {
            -webkit-user-select: ${t==="editor"?"none":"text"}; /* Safari */
            -khtml-user-select: ${t==="editor"?"none":"text"}; /* Konqueror HTML */
            -moz-user-select: ${t==="editor"?"none":"text"}; /* Old versions of Firefox */
            -ms-user-select: ${t==="editor"?"none":"text"}; /* Internet Explorer/Edge */
            user-select: ${t==="editor"?"none":"text"};
            -webkit-user-drag: none;
             -webkit-touch-callout: none; /* iOS Safari */
        }
        @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }
          
          @-moz-keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }
          
          @-webkit-keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }
          
          @-o-keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }
          
          @-ms-keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }
    `}
        `}),e.map(n=>S(tK,{font:n},n.name))]}),oh=(e,t)=>{const n=100/(e.length-1),r=e.map((i,o)=>`${i} ${o*n}%`);switch(t){case"leftToRight":return`linear-gradient(90deg, ${r.join(", ")})`;case"topToBottom":return`linear-gradient(${r.join(", ")})`;case"topLeftToBottomRight":return`linear-gradient(135deg, ${r.join(", ")})`;case"circleCenter":return`radial-gradient(circle at 50% 50%, ${r.join(", ")})`;case"circleTopLeft":default:return`radial-gradient(circle at 0% 0%, ${r.join(", ")})`}},nK=({text:e,colors:t,fontSizes:n,effect:r})=>S("div",{className:"canva-editor-text",css:{p:{"&:before":{...P5((r==null?void 0:r.name)||"none",r==null?void 0:r.settings,t[0],n[0])}},...P5((r==null?void 0:r.name)||"none",r==null?void 0:r.settings,t[0],n[0])},dangerouslySetInnerHTML:{__html:e}}),hT=({image:e,boxSize:t})=>S("div",{css:{overflow:"hidden",pointerEvents:"auto",width:t.width,height:t.height},children:S("div",{css:{width:e.boxSize.width,height:e.boxSize.height,transform:gn({position:e.position,rotate:e.rotate}),position:"relative",userSelect:"none",opacity:e.transparency},children:S("img",{src:e.url,css:{objectFit:"fill",width:"100%",height:"100%",position:"absolute",pointerEvents:"none"}})})}),rK=(e,t)=>{switch(t.c){case"m":return{c:"M",x:e.x+t.dx,y:e.y+t.dy};case"z":return{c:"Z"};case"l":return{c:"L",x:e.x+t.dx,y:e.y+t.dy};case"h":return{c:"L",x:e.x+t.dx,y:e.y};case"v":return{c:"L",y:e.y+t.dy,x:e.x};case"H":return{c:"L",x:t.x,y:e.y};case"V":return{c:"L",y:t.y,x:e.x};case"c":return{c:"C",x1:e.x+t.dx1,y1:e.y+t.dy1,x2:e.x+t.dx2,y2:e.y+t.dy2,x:e.x+t.dx,y:e.y+t.dy};case"s":return{c:"S",x2:e.x+t.dx2,y2:e.y+t.dy2,x:e.x+t.dx,y:e.y+t.dy};case"q":return{c:"Q",x1:e.x+t.dx1,y1:e.y+t.dy1,x:e.x+t.dx,y:e.y+t.dy};case"t":return{c:"T",x:e.x+t.dx,y:e.y+t.dy};case"a":return{c:"A",rx:t.rx,ry:t.ry,xAxisRotation:t.xAxisRotation,largeArcFlag:t.largeArcFlag,sweepFlag:t.sweepFlag,x:e.x+t.dx,y:e.y+t.dy};default:return t}},M5=(e,t,n)=>{let r={dx:0,dy:0};if(n.c==="m")r=n;else if(n.c==="l")r=n;else if(n.c==="c")r=n;else if(n.c==="s")r=n;else if(n.c==="q")r=n;else if(n.c==="t")r=n;else if(n.c==="a")r=n;else if(n.c==="h")r={dx:n.dx,dy:0};else if(n.c==="v")r={dx:0,dy:n.dy};else if(n.c==="z")r={dx:t.x-e.x,dy:t.y-e.y};else return n.c==="V"?{x:e.x,y:n.y}:n.c==="H"?{x:n.x,y:e.y}:n.c==="Z"?t:n;return{x:e.x+r.dx,y:e.y+r.dy}},iK=e=>{let t={x:0,y:0},n={x:0,y:0};const r=[];for(let i=0;i<e.length;i++){const o=e[i],s=rK(n,o),a=M5(n,t,s);(!(s.c==="L"||s.c==="Z")||!zv(a,n))&&(r.push(s),n=a),s.c==="M"?t=s:s.c==="m"&&(t=M5(n,t,s))}return r},oK=e=>{if(e.length===0)return[];if(e[0].c!=="M"&&e[0].c!=="m")throw new Error(`Path must start with an "M" or "m" command, not "${e[0].c}" `);const t=[];let n=[],r={c:"M",x:0,y:0};return e.forEach(i=>{i.c==="M"?(n.length>0&&t.push(n),n=[i],r=i):i.c==="Z"?(n.push(i),t.push(n),n=[]):(n.length===0&&n.push(r),n.push(i))}),n.length>0&&t.push(n),t},sK=(e,t)=>{if(t.length<2)return!0;const n=t[t.length-1];return n.c==="Z"?!0:n.x===e.x&&n.y===e.y},zv=(e,t)=>e.x===t.x&&e.y===t.y,qE=(e,t,n)=>{const{x:r,y:i}=e,{x:o,y:s}=t,a=o-r,l=s-i,c=a-a*n,h=l-l*n;return{x:o-c,y:s-h}},aK=(e,t,n,r)=>{const{PI:i,sqrt:o,pow:s,acos:a,tan:l,min:c,max:h}=Math,{x:f,y:g}=e,{x:d,y:m}=t,{x:y,y:C}=n,x=o(s(d-f,2)+s(m-g,2)),w=o(s(y-d,2)+s(C-m,2)),E=o(s(y-f,2)+s(C-g,2)),N=(s(x,2)+s(w,2)-s(E,2))/(2*x*w),_=a(c(h(-1,N),1)),D=i/2-_/2,P=r*l(D),I=(x-P)/x,W=(w-P)/w;return[qE(e,t,I),qE(n,t,W)]},lK=(e,t)=>{if(e.length===0)throw new Error("Sub-path could not be empty (it should contain an M command at least");if(e.length<2)return e;const n=e[0];if(n.c!=="M")throw new Error(`Wrong sub-path data, first command should always by an 'M' command, not "${n.c}"`);let r=M5({x:0,y:0},{x:0,y:0},n);e=e.slice(1);const i=sK(r,e),o=[];let s=r;for(let a=0;a<e.length;a++){const l=e[a],c=e[(a+1)%e.length],h=a===e.length-1;if(!((l.c==="L"||l.c==="Z")&&(c.c==="L"||c.c==="Z")))o.push(l);else if(h&&!i)o.push(l);else{const f=s;let g=null,d=null;if(l.c==="L"?g={x:l.x,y:l.y}:l.c==="Z"&&(g=r),c.c==="L"?d={x:c.x,y:c.y}:c.c==="Z"&&(d=r),!f||!g||!d)throw new Error("Variables weren't initialized (some command combination cases weren't handled, this is an internal bug for sure)");if(zv(f,g)||zv(g,d)||zv(f,d))o.push(l);else{const[m,y]=aK(f,g,d,t);o.push({c:"L",x:m.x,y:m.y}),o.push({c:"Q",x1:g.x,y1:g.y,x:y.x,y:y.y}),h&&(r=y)}}s=M5(s,r,l)}return[{c:"M",x:r.x,y:r.y}].concat(o)},cK=(e,t=0)=>{const n=iK(e),r=oK(n).map(i=>lK(i,t));return[].concat(...r)},WE=15,Wp=(e,t,n)=>{const r=t.substr(0,n),i=t.charAt(n),o=t.length-n>WE?t.substr(n+1,WE)+"...":t.substr(n+1);return Error(`${e}; context (${n}): ${r}[${i}]${o} `)},xx=(e,t,n)=>{const r=Number(e);if(Number.isNaN(r))throw Wp(`Bad number format: "${e}"`,t,n);return r},uK=(e,t)=>{const n=[];let r=t,i="";for(;r<e.length;){const o=e[r];if(/\s/.test(o)||o===",")i!==""&&(n.push(xx(i,e,r)),i="");else if(/\d/.test(o))i+=o;else if(o==="-"){if(i==="-")throw Wp("Minus symbol in an unexpected place",e,r);i!==""?(n.push(xx(i,e,r)),i="-"):i+=o}else if(o===".")i+=o;else break;r++}return i!==""&&n.push(xx(i,e,r)),[n,r]},Wl=(e,t,n)=>{const[r,i]=uK(e,t);if(n===0){if(r.length!==0)throw Wp(`Wrong parameters count (${r.length}), should be ${n} per command`,e,t)}else{if(r.length===0)throw Wp(`Wrong parameters count (${r.length}), should be ${n} per command`,e,t);if(r.length%n!==0)throw Wp(`Wrong parameters count (${r.length}), should be ${n} per command`,e,t)}const o=[];for(let s=0;s<r.length;s+=n){const a=[];for(let l=0;l<n;l++)a.push(r[s+l]);o.push(a)}return[o,i]},HE=(e,t,n=!1)=>{const[r,i]=Wl(e,t,2),o=[];for(let s=0;s<r.length;++s)n?o.push({c:"m",dx:r[s][0],dy:r[s][1]}):o.push({c:"M",x:r[s][0],y:r[s][1]});return[o,i]},GE=(e,t,n=!1)=>{const[r,i]=Wl(e,t,0);return[[n?{c:"z"}:{c:"Z"}],i]},KE=(e,t,n=!1)=>{const[r,i]=Wl(e,t,2),o=[];for(let s=0;s<r.length;++s)n?o.push({c:"l",dx:r[s][0],dy:r[s][1]}):o.push({c:"L",x:r[s][0],y:r[s][1]});return[o,i]},YE=(e,t,n=!1)=>{const[r,i]=Wl(e,t,1),o=[];for(let s=0;s<r.length;++s)n?o.push({c:"h",dx:r[s][0]}):o.push({c:"H",x:r[s][0]});return[o,i]},JE=(e,t,n=!1)=>{const[r,i]=Wl(e,t,1),o=[];for(let s=0;s<r.length;++s)n?o.push({c:"v",dy:r[s][0]}):o.push({c:"V",y:r[s][0]});return[o,i]},XE=(e,t,n=!1)=>{const[r,i]=Wl(e,t,6),o=[];for(let s=0;s<r.length;++s)n?o.push({c:"c",dx1:r[s][0],dy1:r[s][1],dx2:r[s][2],dy2:r[s][3],dx:r[s][4],dy:r[s][5]}):o.push({c:"C",x1:r[s][0],y1:r[s][1],x2:r[s][2],y2:r[s][3],x:r[s][4],y:r[s][5]});return[o,i]},QE=(e,t,n=!1)=>{const[r,i]=Wl(e,t,4),o=[];for(let s=0;s<r.length;++s)n?o.push({c:"s",dx2:r[s][0],dy2:r[s][1],dx:r[s][2],dy:r[s][3]}):o.push({c:"S",x2:r[s][0],y2:r[s][1],x:r[s][2],y:r[s][3]});return[o,i]},ZE=(e,t,n=!1)=>{const[r,i]=Wl(e,t,4),o=[];for(let s=0;s<r.length;++s)n?o.push({c:"q",dx1:r[s][0],dy1:r[s][1],dx:r[s][2],dy:r[s][3]}):o.push({c:"Q",x1:r[s][0],y1:r[s][1],x:r[s][2],y:r[s][3]});return[o,i]},eA=(e,t,n=!1)=>{const[r,i]=Wl(e,t,2),o=[];for(let s=0;s<r.length;++s)n?o.push({c:"t",dx:r[s][0],dy:r[s][1]}):o.push({c:"T",x:r[s][0],y:r[s][1]});return[o,i]},tA=(e,t,n=!1)=>{const[r,i]=Wl(e,t,7),o=[];for(let s=0;s<r.length;++s)n?o.push({c:"a",rx:r[s][0],ry:r[s][1],xAxisRotation:r[s][2],largeArcFlag:r[s][3],sweepFlag:r[s][4],dx:r[s][5],dy:r[s][6]}):o.push({c:"A",rx:r[s][0],ry:r[s][1],xAxisRotation:r[s][2],largeArcFlag:r[s][3],sweepFlag:r[s][4],x:r[s][5],y:r[s][6]});return[o,i]},hK=(e,t)=>{const n=e[t],r=t+1;switch(n){case"M":return HE(e,r);case"m":return HE(e,r,!0);case"Z":return GE(e,r);case"z":return GE(e,r,!0);case"L":return KE(e,r);case"l":return KE(e,r,!0);case"H":return YE(e,r);case"h":return YE(e,r,!0);case"V":return JE(e,r);case"v":return JE(e,r,!0);case"C":return XE(e,r);case"c":return XE(e,r,!0);case"S":return QE(e,r);case"s":return QE(e,r,!0);case"Q":return ZE(e,r);case"q":return ZE(e,r,!0);case"T":return eA(e,r);case"t":return eA(e,r,!0);case"A":return tA(e,r);case"a":return tA(e,r,!0);default:throw Wp(`Unknown c: ${n}`,e,t)}},fK=e=>{const t=[];let n=0;for(;n<e.length;){const[r,i]=hK(e,n);t.push(...r),n=i}return t},dK=e=>e.map((t,n)=>t<0||n===0?`${t}`:` ${t}`).join(""),pK=e=>{switch(e.c){case"M":return[e.x,e.y];case"m":return[e.dx,e.dy];case"Z":return[];case"z":return[];case"L":return[e.x,e.y];case"l":return[e.dx,e.dy];case"H":return[e.x];case"h":return[e.dx];case"V":return[e.y];case"v":return[e.dy];case"C":return[e.x1,e.y1,e.x2,e.y2,e.x,e.y];case"c":return[e.dx1,e.dy1,e.dx2,e.dy2,e.dx,e.dy];case"S":return[e.x2,e.y2,e.x,e.y];case"s":return[e.dx2,e.dy2,e.dx,e.dy];case"Q":return[e.x1,e.y1,e.x,e.y];case"q":return[e.dx1,e.dy1,e.dx,e.dy];case"T":return[e.x,e.y];case"t":return[e.dx,e.dy];case"A":return[e.rx,e.ry,e.xAxisRotation,e.largeArcFlag,e.sweepFlag,e.x,e.y];case"a":return[e.rx,e.ry,e.xAxisRotation,e.largeArcFlag,e.sweepFlag,e.dx,e.dy];default:throw new Error(`Wrong c: ${e.c}`)}},gK=e=>{let t="";for(let n=0;n<e.length;n++){const r=e[n];t+=r.c;const i=[r];for(;n<e.length-1&&e[n+1].c===r.c;)i.push(e[n+1]),n++;const o=[].concat(...i.map(pK));t+=dK(o)}return t},mK=({clipPath:e,color:t,gradientBackground:n,boxSize:r,scale:i,border:o,roundedCorners:s,shapeSize:a})=>{const l=()=>{switch(o==null?void 0:o.style){case"longDashes":return`${o.weight*6}, ${o.weight}`;case"shortDashes":return`${o.weight*3}, ${o.weight}`;case"dots":return`${o.weight}, ${o.weight}`;default:return}},c=o!=null&&o.weight?(o==null?void 0:o.weight)/2:0,h=r.width/i-c,f=r.height/i-c,g=h/a.width,d=f/a.height,m=s>0?gK(cK(fK(e),s)):e;return me("div",{css:{position:"relative",width:r.width/i,height:r.height/i,overflow:"hidden"},children:[S("div",{css:{clipPath:`path("${m}")`,width:a.width+"px",height:a.height+"px",background:n?oh(n.colors,n.style):t,transform:`scale(${g}, ${d})`,transformOrigin:"0 0"}}),o&&S("svg",{viewBox:`${0-c} ${0-c} ${r.width/i+((o==null?void 0:o.weight)??0)} ${r.height/i+((o==null?void 0:o.weight)??0)}`,css:{position:"absolute",inset:0,transform:`scale(${g}, ${d})`,transformOrigin:"0 0"},children:S("path",{d:m,strokeLinecap:"butt",fill:"none",stroke:o.color,strokeWidth:o.weight,strokeDasharray:l(),clipPath:e,vectorEffect:"non-scaling-stroke"})})]})},vK=({clipPath:e,image:t,color:n,gradientBackground:r})=>S("div",{css:{clipPath:e,width:"100%",height:"100%",background:r?oh(r.colors,r.style):n},children:t&&S("div",{css:{width:t.boxSize.width+"px",height:t.boxSize.height+"px",transform:gn({position:t.position,rotate:t.rotate}),position:"relative",userSelect:"none"},children:S("img",{src:t.url,css:{objectFit:"fill",width:"100%",height:"100%",position:"absolute",pointerEvents:"none"}})})}),yK=({boxSize:e,color:t,gradientBackground:n,image:r,position:i,rotate:o,...s})=>me("div",{css:{position:"absolute",overflow:"hidden",pointerEvents:"auto",width:e.width,height:e.height},...s,children:[S("div",{css:{position:"absolute",top:0,left:0,width:e.width,height:e.height,background:n?oh(n.colors,n.style):t||"#fff"}}),r&&S("div",{css:{width:e.width,height:e.height},children:S(hT,{image:r,boxSize:e,rotate:o,position:i})})]}),wK=({boxSize:e,rotate:t,position:n,transparency:r,children:i},o)=>S("div",{ref:o,css:{touchAction:"pan-x pan-y pinch-zoom",pointerEvents:"auto",position:"absolute"},style:{width:e.width,height:e.height,transform:gn({position:n,rotate:t}),opacity:r},children:i}),bK=M.forwardRef(wK),Ot=e=>{const t=M.useContext(fd),{actions:n,getState:r,query:i,config:o}=t;return{...e?e(t.getState(),i):{},actions:n,query:i,state:r(),config:o}},Ig=M.createContext({}),fT=({pageIndex:e,children:t})=>S(Ig.Provider,{value:{pageIndex:e},children:t}),C2=e=>{const{pageIndex:t}=M.useContext(Ig),{id:n}=M.useContext(oT),{state:r,actions:i,...o}=Ot(a=>e&&a.pages[t]&&a.pages[t].layers[n]&&e(a.pages[t].layers[n])),s=M.useMemo(()=>({setProp:a=>i.setProp(t,n,a),select:()=>i.selectLayers(t,n),hover:a=>i.hoverLayer(t,typeof a>"u"?n:null),setTextEditor:a=>i.setTextEditor(t,n,a),openTextEditor:()=>i.openTextEditor(t,n),openImageEditor:({boxSize:a,position:l,rotate:c,image:h})=>i.openImageEditor(t,n,{boxSize:a,position:l,rotate:c,image:h})}),[n,i]);return{...o,pageIndex:t,id:n,state:r,actions:s}},Ni=()=>{const{pageIndex:e}=M.useContext(Ig),{selectedLayerIds:t,selectedLayers:n}=Ot(r=>{const i=typeof e>"u"?r.activePage:e,o=(r.selectedLayers[i]||[]).filter(s=>r.pages[i]&&r.pages[i].layers[s]);return{selectedLayerIds:o,selectedLayers:o.map(s=>r.pages[i].layers[s])}});return{selectedLayerIds:t,selectedLayers:n}},xK=()=>{const{id:e,comp:t,props:n,layers:r,type:i,actions:o,parent:s}=C2(d=>({id:d.id,comp:d.data.comp,props:d.data.props,layers:d.data.child,type:d.data.type,parent:d.data.parent})),{isResize:a,pageSize:l,isDragging:c,isRotate:h}=Ot(d=>({isResize:d.resizeData.status,isDragging:d.dragData.status,isRotate:d.rotateData.status,pageSize:d.pageSize})),f=d=>{a||!["ROOT",null].includes(s)||c||h||(d.stopPropagation(),o.hover())},g=()=>{o.hover(null)};return M.useMemo(()=>{if(!t)return null;let d=null;if(r&&r.length>0&&(d=S(M.Fragment,{children:r.map(y=>S(pT,{id:y},y))})),e==="ROOT"){const y=M.createElement(t,n,d);return S("div",{onMouseOver:f,onMouseLeave:g,onMouseOut:g,children:y})}const m=M.createElement(t,n,d);return S(bK,{boxSize:n.boxSize,rotate:n.rotate,position:n.position,transparency:n.transparency,children:S("div",{onMouseOver:f,onMouseLeave:g,onMouseOut:g,children:m})})},[i,t,n,r,a,l,h,c])},dT=Un.memo(xK),pT=({id:e})=>S(sT,{id:e,children:S(dT,{})}),gT=()=>S(pT,{id:"ROOT"});function sh(e){const t=typeof e>"u"?M.useRef():M.useRef(e),n=M.useCallback(()=>t.current,[]),r=M.useCallback(i=>{t.current=i},[]);return[t,n,r]}const mT=({boxSize:e,children:t,color:n,gradientBackground:r,image:i,position:o,rotate:s,scale:a})=>{const{actions:l}=C2();return me(M.Fragment,{children:[S(yK,{boxSize:e,position:o,rotate:s,gradientBackground:r,color:n,image:i,scale:a,onDoubleClick:()=>i&&l.openImageEditor({boxSize:e,position:o,rotate:s,image:i})}),t]})};mT.info={name:"Main",type:"Root"};function Ii(e){this.content=e}Ii.prototype={constructor:Ii,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),o=r.content.slice();return i==-1?o.push(n||e,t):(o[i+1]=t,n&&(o[i]=n)),new Ii(o)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new Ii(n)},addToStart:function(e,t){return new Ii([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Ii(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),o=r.find(e);return i.splice(o==-1?i.length:o,0,t,n),new Ii(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Ii.from(e),e.size?new Ii(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Ii.from(e),e.size?new Ii(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Ii.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};Ii.from=function(e){if(e instanceof Ii)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Ii(t)};function vT(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),o=t.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=vT(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function yT(e,t,n,r){for(let i=e.childCount,o=t.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=e.child(--i),a=t.child(--o),l=s.nodeSize;if(s==a){n-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let c=0,h=Math.min(s.text.length,a.text.length);for(;c<h&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let c=yT(s.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class ut{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,o){for(let s=0,a=0;a<n;s++){let l=this.content[s],c=a+l.nodeSize;if(c>t&&r(l,i+a,o||null,s)!==!1&&l.content.size){let h=a+1;l.nodesBetween(Math.max(0,t-h),Math.min(l.content.size,n-h),r,i+h)}a=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let o="",s=!0;return this.nodesBetween(t,n,(a,l)=>{a.isText?(o+=a.text.slice(Math.max(t,l)-l,n-l),s=!r):a.isLeaf?(i?o+=typeof i=="function"?i(a):i:a.type.spec.leafText&&(o+=a.type.spec.leafText(a)),s=!r):!s&&a.isBlock&&(o+=r,s=!0)},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<t.content.length;o++)i.push(t.content[o]);return new ut(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],i=0;if(n>t)for(let o=0,s=0;s<n;o++){let a=this.content[o],l=s+a.nodeSize;l>t&&((s<t||l>n)&&(a.isText?a=a.cut(Math.max(0,t-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,t-s-1),Math.min(a.content.size,n-s-1))),r.push(a),i+=a.nodeSize),s=l}return new ut(r,i)}cutByIndex(t,n){return t==n?ut.empty:t==0&&n==this.content.length?this:new ut(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new ut(i,o)}addToStart(t){return new ut([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new ut(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return vT(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return yT(this,t,n,r)}findIndex(t,n=-1){if(t==0)return K1(0,t);if(t==this.size)return K1(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=t)return s==t||n>0?K1(r+1,s):K1(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return ut.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ut(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return ut.empty;let n,r=0;for(let i=0;i<t.length;i++){let o=t[i];r+=o.nodeSize,i&&o.isText&&t[i-1].sameMarkup(o)?(n||(n=t.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new ut(n||t,r)}static from(t){if(!t)return ut.empty;if(t instanceof ut)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new ut([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ut.empty=new ut([],0);const Sx={index:0,offset:0};function K1(e,t){return Sx.index=e,Sx.offset=t,Sx}function R5(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!R5(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!R5(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}class zn{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let o=t[i];if(this.eq(o))return t;if(this.type.excludes(o.type))n||(n=t.slice(0,i));else{if(o.type.excludes(this.type))return t;!r&&o.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&R5(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return zn.none;if(t instanceof zn)return[t];let n=t.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}zn.none=[];class D5 extends Error{}class Ct{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=bT(this.content,t+this.openStart,n);return r&&new Ct(r,this.openStart,this.openEnd)}removeBetween(t,n){return new Ct(wT(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return Ct.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ct(ut.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let o=t.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=t.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new Ct(t,r,i)}}Ct.empty=new Ct(ut.empty,0,0);function wT(e,t,n){let{index:r,offset:i}=e.findIndex(t),o=e.maybeChild(r),{index:s,offset:a}=e.findIndex(n);if(i==t||o.isText){if(a!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(r,o.copy(wT(o.content,t-i-1,n-i-1)))}function bT(e,t,n,r){let{index:i,offset:o}=e.findIndex(t),s=e.maybeChild(i);if(o==t||s.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let a=bT(s.content,t-o-1,n);return a&&e.replaceChild(i,s.copy(a))}function SK(e,t,n){if(n.openStart>e.depth)throw new D5("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new D5("Inconsistent open depths");return xT(e,t,n,0)}function xT(e,t,n,r){let i=e.index(r),o=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let s=xT(e,t,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let s=e.parent,a=s.content;return Df(s,a.cut(0,e.parentOffset).append(n.content).append(a.cut(t.parentOffset)))}else{let{start:s,end:a}=CK(n,e);return Df(o,CT(e,s,a,t,r))}else return Df(o,I5(e,t,r))}function ST(e,t){if(!t.type.compatibleContent(e.type))throw new D5("Cannot join "+t.type.name+" onto "+e.type.name)}function Q3(e,t,n){let r=e.node(n);return ST(r,t.node(n)),r}function Rf(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function o0(e,t,n,r){let i=(t||e).node(n),o=0,s=t?t.index(n):i.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(Rf(e.nodeAfter,r),o++));for(let a=o;a<s;a++)Rf(i.child(a),r);t&&t.depth==n&&t.textOffset&&Rf(t.nodeBefore,r)}function Df(e,t){return e.type.checkContent(t),e.copy(t)}function CT(e,t,n,r,i){let o=e.depth>i&&Q3(e,t,i+1),s=r.depth>i&&Q3(n,r,i+1),a=[];return o0(null,e,i,a),o&&s&&t.index(i)==n.index(i)?(ST(o,s),Rf(Df(o,CT(e,t,n,r,i+1)),a)):(o&&Rf(Df(o,I5(e,t,i+1)),a),o0(t,n,i,a),s&&Rf(Df(s,I5(n,r,i+1)),a)),o0(r,null,i,a),new ut(a)}function I5(e,t,n){let r=[];if(o0(null,e,n,r),e.depth>n){let i=Q3(e,t,n+1);Rf(Df(i,I5(e,t,n+1)),r)}return o0(t,null,n,r),new ut(r)}function CK(e,t){let n=t.depth-e.openStart,r=t.node(n).copy(e.content);for(let i=n-1;i>=0;i--)r=t.node(i).copy(ut.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}class U0{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<t;o++)i+=r.child(o).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return zn.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let a=r;r=i,i=a}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new EK(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=t;;){let{index:a,offset:l}=s.content.findIndex(o),c=o-l;if(r.push(s,a,i+l),!c||(s=s.child(a),s.isText))break;o=c-1,i+=l+1}return new U0(n,r,o)}static resolveCached(t,n){for(let i=0;i<Cx.length;i++){let o=Cx[i];if(o.pos==n&&o.doc==t)return o}let r=Cx[kx]=U0.resolve(t,n);return kx=(kx+1)%kK,r}}let Cx=[],kx=0,kK=12;class EK{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const AK=Object.create(null);let If=class Z3{constructor(t,n,r,i=zn.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||ut.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&R5(this.attrs,n||t.defaultAttrs||AK)&&zn.sameSet(this.marks,r||zn.none)}copy(t=null){return t==this.content?this:new Z3(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new Z3(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return Ct.empty;let i=this.resolve(t),o=this.resolve(n),s=r?0:i.sharedDepth(n),a=i.start(s),l=i.node(s).content.cut(i.pos-a,o.pos-a);return new Ct(l,i.depth-s,o.depth-s)}replace(t,n,r){return SK(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return U0.resolveCached(this,t)}resolveNoCache(t){return U0.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),kT(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=ut.empty,i=0,o=r.childCount){let s=this.contentMatchAt(t).matchFragment(r,i,o),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(t).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content);let t=zn.none;for(let n=0;n<this.marks.length;n++)t=this.marks[n].addToSet(t);if(!zn.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=ut.fromJSON(t,n.content);return t.nodeType(n.type).create(n.attrs,i,r)}};If.prototype.text=void 0;class z5 extends If{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):kT(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new z5(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new z5(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function kT(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class Jf{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new NK(t,n);if(r.next==null)return Jf.empty;let i=ET(r);r.next&&r.err("Unexpected trailing text");let o=RK(MK(i));return DK(o,r),o}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(t.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];function o(s,a){let l=s.matchFragment(t,r);if(l&&(!n||l.validEnd))return ut.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:h,next:f}=s.next[c];if(!(h.isText||h.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let g=o(f,a.concat(h));if(g)return g}}return null}return o(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(t)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),t.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+t.indexOf(r.next[s].next);return o}).join(`
`)}}Jf.empty=new Jf(!0);class NK{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function ET(e){let t=[];do t.push(LK(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function LK(e){let t=[];do t.push(_K(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function _K(e){let t=TK(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=OK(e,t);else break;return t}function nA(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function OK(e,t){let n=nA(e),r=n;return e.eat(",")&&(e.next!="}"?r=nA(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function PK(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.groups.indexOf(t)>-1&&i.push(s)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function TK(e){if(e.eat("(")){let t=ET(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=PK(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function MK(e){let t=[[]];return i(o(e,0),n()),t;function n(){return t.push([])-1}function r(s,a,l){let c={term:l,to:a};return t[s].push(c),c}function i(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(o(c,a)),[]);if(s.type=="seq")for(let l=0;;l++){let c=o(s.exprs[l],a);if(l==s.exprs.length-1)return c;i(c,a=n())}else if(s.type=="star"){let l=n();return r(a,l),i(o(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=n();return i(o(s.expr,a),l),i(o(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let c=0;c<s.min;c++){let h=n();i(o(s.expr,l),h),l=h}if(s.max==-1)i(o(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let h=n();r(l,h),i(o(s.expr,l),h),l=h}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function AT(e,t){return t-e}function rA(e,t){let n=[];return r(t),n.sort(AT);function r(i){let o=e[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&n.indexOf(l)==-1&&r(l)}}}function RK(e){let t=Object.create(null);return n(rA(e,0));function n(r){let i=[];r.forEach(s=>{e[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let h=0;h<i.length;h++)i[h][0]==a&&(c=i[h][1]);rA(e,l).forEach(h=>{c||i.push([a,c=[]]),c.indexOf(h)==-1&&c.push(h)})})});let o=t[r.join(",")]=new Jf(r.indexOf(e.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(AT);o.next.push({type:i[s][0],next:t[a.join(",")]||n(a)})}return o}}function DK(e,t){for(let n=0,r=[e];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(c)==-1&&r.push(c)}o&&t.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function NT(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function LT(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(i===void 0){let o=e[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function _T(e){let t=Object.create(null);if(e)for(let n in e)t[n]=new IK(e[n]);return t}let iA=class OT{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=_T(r.attrs),this.defaultAttrs=NT(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Jf.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:LT(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new If(this,this.computeAttrs(t),ut.from(n),zn.setFrom(r))}createChecked(t=null,n,r){return n=ut.from(n),this.checkContent(n),new If(this,this.computeAttrs(t),n,zn.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=ut.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(ut.empty,!0);return o?new If(this,t,n.append(o),zn.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:zn.none:t}static compile(t,n){let r=Object.create(null);t.forEach((o,s)=>r[o]=new OT(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class IK{constructor(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default}get isRequired(){return!this.hasDefault}}class lw{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=_T(i.attrs),this.excluded=null;let o=NT(this.attrs);this.instance=o?new zn(this,o):null}create(t=null){return!t&&this.instance?this.instance:new zn(this,LT(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((o,s)=>r[o]=new lw(o,i++,n,s)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}excludes(t){return this.excluded.indexOf(t)>-1}}class PT{constructor(t){this.cached=Object.create(null);let n=this.spec={};for(let i in t)n[i]=t[i];n.nodes=Ii.from(t.nodes),n.marks=Ii.from(t.marks||{}),this.nodes=iA.compile(this.spec.nodes,this),this.marks=lw.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",a=o.spec.marks;o.contentMatch=r[s]||(r[s]=Jf.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet=a=="_"?null:a?oA(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:oA(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof iA){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new z5(r,r.defaultAttrs,t,zn.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeFromJSON(t){return If.fromJSON(this,t)}markFromJSON(t){return zn.fromJSON(this,t)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function oA(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],o=e.marks[i],s=o;if(o)n.push(o);else for(let a in e.marks){let l=e.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}class Xf{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=t.nodes[r.node];return i.contentMatch.matchType(i)})}parse(t,n={}){let r=new aA(this,n,!1);return r.addAll(t,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new aA(this,n,!0);return r.addAll(t,n.from,n.to),Ct.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(jK(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(t);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(t,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(t)!=0||s.context&&!r.matchesContext(s.context)||a.length>t.length&&(a.charCodeAt(t.length)!=61||a.slice(t.length+1)!=n))){if(s.getAttrs){let l=s.getAttrs(n);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(t){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let a=n[s];if((a.priority==null?50:a.priority)<o)break}n.splice(s,0,i)}for(let i in t.marks){let o=t.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=lA(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in t.nodes){let o=t.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=lA(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Xf(t,Xf.schemaRules(t)))}}const TT={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},zK={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},MT={ol:!0,ul:!0},F5=1,j5=2,s0=4;function sA(e,t,n){return t!=null?(t?F5:0)|(t==="full"?j5:0):e&&e.whitespace=="pre"?F5|j5:n&~s0}class Y1{constructor(t,n,r,i,o,s,a){this.type=t,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=a,this.content=[],this.activeMarks=zn.none,this.stashMarks=[],this.match=s||(a&s0?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ut.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&F5)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=ut.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(ut.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(t){for(let n=this.stashMarks.length-1;n>=0;n--)if(t.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(t){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):$K(i.type,t))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!TT.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class aA{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,s=sA(null,n.preserveWhitespace,0)|(r?s0:0);i?o=new Y1(i.type,i.attrs,zn.none,zn.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new Y1(null,null,zn.none,zn.none,!0,null,s):o=new Y1(t.schema.topNodeType,null,zn.none,zn.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){t.nodeType==3?this.addTextNode(t):t.nodeType==1&&this.addElement(t)}withStyleRules(t,n){let r=t.getAttribute("style");if(!r)return n();let i=this.readStyles(BK(r));if(!i)return;let[o,s]=i,a=this.top;for(let l=0;l<s.length;l++)this.removePendingMark(s[l],a);for(let l=0;l<o.length;l++)this.addPendingMark(o[l]);n();for(let l=0;l<o.length;l++)this.removePendingMark(o[l],a);for(let l=0;l<s.length;l++)this.addPendingMark(s[l])}addTextNode(t){let n=t.nodeValue,r=this.top;if(r.options&j5||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&F5)r.options&j5?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=t.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(t)}else this.findInside(t)}addElement(t,n){let r=t.nodeName.toLowerCase(),i;MT.hasOwnProperty(r)&&this.parser.normalizeLists&&FK(t);let o=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(i=this.parser.matchTag(t,this,n));if(o?o.ignore:zK.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(t=o.skip);let s,a=this.top,l=this.needsBlock;if(TT.hasOwnProperty(r))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),s=!0,a.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t);return}o&&o.skip?this.addAll(t):this.withStyleRules(t,()=>this.addAll(t)),s&&this.sync(a),this.needsBlock=l}else this.withStyleRules(t,()=>{this.addElementByRule(t,o,o.consuming===!1?i:void 0)})}leafFallback(t){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`))}ignoreFallback(t){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(t){let n=zn.none,r=zn.none;for(let i=0;i<t.length;i+=2)for(let o=void 0;;){let s=this.parser.matchStyle(t[i],t[i+1],this,o);if(!s)break;if(s.ignore)return null;if(s.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(a=>{s.clearMark(a)&&(r=a.addToSet(r))}):n=this.parser.schema.marks[s.mark].create(s.attrs).addToSet(n),s.consuming===!1)o=s;else break}return[n,r]}addElementByRule(t,n,r){let i,o,s;n.node?(o=this.parser.schema.nodes[n.node],o.isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(t):i=this.enter(o,n.attrs||null,n.preserveWhitespace)):(s=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(s));let a=this.top;if(o&&o.isLeaf)this.findInside(t);else if(r)this.addElement(t,r);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=t;typeof n.contentElement=="string"?l=t.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(t):n.contentElement&&(l=n.contentElement),this.findAround(t,l,!0),this.addAll(l)}i&&this.sync(a)&&this.open--,s&&this.removePendingMark(s,a)}addAll(t,n,r){let i=n||0;for(let o=n?t.childNodes[n]:t.firstChild,s=r==null?null:t.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(o);this.findAtPoint(t,i)}findPlace(t){let n,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],s=o.findWrapping(t);if(s&&(!n||n.length>s.length)&&(n=s,r=o,!s.length)||o.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(t)){this.closeExtra();let n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));let r=n.activeMarks;for(let i=0;i<t.marks.length;i++)(!n.type||n.type.allowsMarkType(t.marks[i].type))&&(r=t.marks[i].addToSet(r));return n.content.push(t.mark(r)),!0}return!1}enter(t,n,r){let i=this.findPlace(t.create(n));return i&&this.enterInner(t,n,!0,r),i}enterInner(t,n=null,r=!1,i){this.closeExtra();let o=this.top;o.applyPending(t),o.match=o.match&&o.match.matchType(t);let s=sA(t,i,o.options);o.options&s0&&o.content.length==0&&(s|=s0),this.nodes.push(new Y1(t,n,o.activeMarks,o.pendingMarks,r,null,s)),this.open++}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let n=this.open;n>=0;n--)if(this.nodes[n]==t)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let h=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!h||h.name!=c&&h.groups.indexOf(c)==-1)return!1;l--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(t){let n=VK(t,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(t)>-1)i.pendingMarks=t.removeFromSet(i.pendingMarks);else{i.activeMarks=t.removeFromSet(i.activeMarks);let o=i.popFromStashMark(t);o&&i.type&&i.type.allowsMarkType(o.type)&&(i.activeMarks=o.addToSet(i.activeMarks))}if(i==n)break}}}function FK(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&MT.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function jK(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function BK(e){let t=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=t.exec(e);)r.push(n[1],n[2].trim());return r}function lA(e){let t={};for(let n in e)t[n]=e[n];return t}function $K(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:h}=a.edge(l);if(c==t||o.indexOf(h)<0&&s(h))return!0}};if(s(i.contentMatch))return!0}}function VK(e,t){for(let n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}class bc{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=Ex(n).createDocumentFragment());let i=r,o=[];return t.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let c=s.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)i=o.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],h=this.serializeMark(c,s.isInline,n);h&&(o.push([c,i]),i.appendChild(h.dom),i=h.contentDOM||h.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=bc.renderSpec(Ex(n),this.nodes[t.type.name](t));if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let o=this.serializeMark(t.marks[i],t.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&bc.renderSpec(Ex(r),i(t,n))}static renderSpec(t,n,r=null){if(typeof n=="string")return{dom:t.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let s,a=r?t.createElementNS(r,i):t.createElement(i),l=n[1],c=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){c=2;for(let h in l)if(l[h]!=null){let f=h.indexOf(" ");f>0?a.setAttributeNS(h.slice(0,f),h.slice(f+1),l[h]):a.setAttribute(h,l[h])}}for(let h=c;h<n.length;h++){let f=n[h];if(f===0){if(h<n.length-1||h>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:g,contentDOM:d}=bc.renderSpec(t,f,r);if(a.appendChild(g),d){if(s)throw new RangeError("Multiple content holes");s=d}}}return{dom:a,contentDOM:s}}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new bc(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=cA(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return cA(t.marks)}}function cA(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function Ex(e){return e.document||window.document}const RT=65535,DT=Math.pow(2,16);function UK(e,t){return e+t*DT}function uA(e){return e&RT}function qK(e){return(e-(e&RT))/DT}const IT=1,zT=2,Fv=4,FT=8;class e6{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&FT)>0}get deletedBefore(){return(this.delInfo&(IT|Fv))>0}get deletedAfter(){return(this.delInfo&(zT|Fv))>0}get deletedAcross(){return(this.delInfo&Fv)>0}}class Ss{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&Ss.empty)return Ss.empty}recover(t){let n=0,r=uA(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+qK(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>t)break;let c=this.ranges[a+o],h=this.ranges[a+s],f=l+c;if(t<=f){let g=c?t==l?-1:t==f?1:n:n,d=l+i+(g<0?0:h);if(r)return d;let m=t==(n<0?l:f)?null:UK(a/3,t-l),y=t==l?zT:t==f?IT:Fv;return(n<0?t!=l:t!=f)&&(y|=FT),new e6(d,y,m)}i+=h-c}return r?t+i:new e6(t+i,0,null)}touches(t,n){let r=0,i=uA(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let c=this.ranges[a+o],h=l+c;if(t<=h&&a==i*3)return!0;r+=this.ranges[a+s]-c}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),c=this.ranges[i+n],h=this.ranges[i+r];t(a,a+c,l,l+h),o+=h-c}}invert(){return new Ss(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?Ss.empty:new Ss(t<0?[0,-t,0]:[0,0,t])}}Ss.empty=new Ss([]);class Hp{constructor(t=[],n,r=0,i=t.length){this.maps=t,this.mirror=n,this.from=r,this.to=i}slice(t=0,n=this.maps.length){return new Hp(this.maps,this.mirror,t,n)}copy(){return new Hp(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,n){this.to=this.maps.push(t),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(t){for(let n=0,r=this.maps.length;n<t.maps.length;n++){let i=t.getMirror(n);this.appendMap(t.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this.maps.length+t.maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let t=new Hp;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this.maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],a=s.mapResult(t,n);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,t=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,t=a.pos}return r?t:new e6(t,i,null)}}const Ax=Object.create(null);class mo{getMap(){return Ss.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Ax[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in Ax)throw new RangeError("Duplicate use of step JSON ID "+t);return Ax[t]=n,n.prototype.jsonID=t,n}}class ii{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new ii(t,null)}static fail(t){return new ii(null,t)}static fromReplace(t,n,r,i){try{return ii.ok(t.replace(n,r,i))}catch(o){if(o instanceof D5)return ii.fail(o.message);throw o}}}function R7(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let o=e.child(i);o.content.size&&(o=o.copy(R7(o.content,t,o))),o.isInline&&(o=t(o,n,i)),r.push(o)}return ut.fromArray(r)}class Gu extends mo{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new Ct(R7(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return ii.fromReplace(t,this.from,this.to,o)}invert(){return new _l(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Gu(n.pos,r.pos,this.mark)}merge(t){return t instanceof Gu&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Gu(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Gu(n.from,n.to,t.markFromJSON(n.mark))}}mo.jsonID("addMark",Gu);class _l extends mo{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new Ct(R7(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return ii.fromReplace(t,this.from,this.to,r)}invert(){return new Gu(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new _l(n.pos,r.pos,this.mark)}merge(t){return t instanceof _l&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new _l(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new _l(n.from,n.to,t.markFromJSON(n.mark))}}mo.jsonID("removeMark",_l);class Ku extends mo{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return ii.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return ii.fromReplace(t,this.pos,this.pos+1,new Ct(ut.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Ku(this.pos,n.marks[i]);return new Ku(this.pos,this.mark)}}return new fg(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Ku(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ku(n.pos,t.markFromJSON(n.mark))}}mo.jsonID("addNodeMark",Ku);class fg extends mo{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return ii.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return ii.fromReplace(t,this.pos,this.pos+1,new Ct(ut.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Ku(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new fg(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new fg(n.pos,t.markFromJSON(n.mark))}}mo.jsonID("removeNodeMark",fg);class ao extends mo{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&t6(t,this.from,this.to)?ii.fail("Structure replace would overwrite content"):ii.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Ss([this.from,this.to-this.from,this.slice.size])}invert(t){return new ao(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new ao(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(t){if(!(t instanceof ao)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?Ct.empty:new Ct(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new ao(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?Ct.empty:new Ct(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new ao(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ao(n.from,n.to,Ct.fromJSON(t,n.slice),!!n.structure)}}mo.jsonID("replace",ao);class Ls extends mo{constructor(t,n,r,i,o,s,a=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(t){if(this.structure&&(t6(t,this.from,this.gapFrom)||t6(t,this.gapTo,this.to)))return ii.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return ii.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?ii.fromReplace(t,this.from,this.to,r):ii.fail("Content does not fit in gap")}getMap(){return new Ss([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Ls(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=t.map(this.gapFrom,-1),o=t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Ls(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ls(n.from,n.to,n.gapFrom,n.gapTo,Ct.fromJSON(t,n.slice),n.insert,!!n.structure)}}mo.jsonID("replaceAround",Ls);function t6(e,t,n){let r=e.resolve(t),i=n-t,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function WK(e,t,n,r){let i=[],o=[],s,a;e.doc.nodesBetween(t,n,(l,c,h)=>{if(!l.isInline)return;let f=l.marks;if(!r.isInSet(f)&&h.type.allowsMarkType(r.type)){let g=Math.max(c,t),d=Math.min(c+l.nodeSize,n),m=r.addToSet(f);for(let y=0;y<f.length;y++)f[y].isInSet(m)||(s&&s.to==g&&s.mark.eq(f[y])?s.to=d:i.push(s=new _l(g,d,f[y])));a&&a.to==g?a.to=d:o.push(a=new Gu(g,d,r))}}),i.forEach(l=>e.step(l)),o.forEach(l=>e.step(l))}function HK(e,t,n,r){let i=[],o=0;e.doc.nodesBetween(t,n,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(r instanceof lw){let c=s.marks,h;for(;h=r.isInSet(c);)(l||(l=[])).push(h),c=h.removeFromSet(c)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,n);for(let h=0;h<l.length;h++){let f=l[h],g;for(let d=0;d<i.length;d++){let m=i[d];m.step==o-1&&f.eq(i[d].style)&&(g=m)}g?(g.to=c,g.step=o):i.push({style:f,from:Math.max(a,t),to:c,step:o})}}}),i.forEach(s=>e.step(new _l(s.from,s.to,s.style)))}function GK(e,t,n,r=n.contentMatch){let i=e.doc.nodeAt(t),o=[],s=t+1;for(let a=0;a<i.childCount;a++){let l=i.child(a),c=s+l.nodeSize,h=r.matchType(l.type);if(!h)o.push(new ao(s,c,Ct.empty));else{r=h;for(let f=0;f<l.marks.length;f++)n.allowsMarkType(l.marks[f].type)||e.step(new _l(s,c,l.marks[f]));if(l.isText&&!n.spec.code){let f,g=/\r?\n|\r/g,d;for(;f=g.exec(l.text);)d||(d=new Ct(ut.from(n.schema.text(" ",n.allowedMarks(l.marks))),0,0)),o.push(new ao(s+f.index,s+f.index+f[0].length,d))}}s=c}if(!r.validEnd){let a=r.fillBefore(ut.empty,!0);e.replace(s,s,new Ct(a,0,0))}for(let a=o.length-1;a>=0;a--)e.step(o[a])}function KK(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function cw(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth;;--n){let r=e.$from.node(n),i=e.$from.index(n),o=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(i,o,t))return n;if(n==0||r.type.spec.isolating||!KK(r,i,o))break}return null}function YK(e,t,n){let{$from:r,$to:i,depth:o}=t,s=r.before(o+1),a=i.after(o+1),l=s,c=a,h=ut.empty,f=0;for(let m=o,y=!1;m>n;m--)y||r.index(m)>0?(y=!0,h=ut.from(r.node(m).copy(h)),f++):l--;let g=ut.empty,d=0;for(let m=o,y=!1;m>n;m--)y||i.after(m+1)<i.end(m)?(y=!0,g=ut.from(i.node(m).copy(g)),d++):c++;e.step(new Ls(l,c,s,a,new Ct(h.append(g),f,d),h.size-f,!0))}function JK(e,t,n=null,r=e){let i=XK(e,t),o=i&&QK(r,t);return o?i.map(hA).concat({type:t,attrs:n}).concat(o.map(hA)):null}function hA(e){return{type:e,attrs:null}}function XK(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.contentMatchAt(r).findWrapping(t);if(!o)return null;let s=o.length?o[0]:t;return n.canReplaceWith(r,i,s)?o:null}function QK(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.child(r),s=t.contentMatch.findWrapping(o.type);if(!s)return null;let a=(s.length?s[s.length-1]:t).contentMatch;for(let l=r;a&&l<i;l++)a=a.matchType(n.child(l).type);return!a||!a.validEnd?null:s}function ZK(e,t,n){let r=ut.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let a=n[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ut.from(n[s].type.create(n[s].attrs,r))}let i=t.start,o=t.end;e.step(new Ls(i,o,i,o,new Ct(r,0,0),n.length,!0))}function eY(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=e.steps.length;e.doc.nodesBetween(t,n,(s,a)=>{if(s.isTextblock&&!s.hasMarkup(r,i)&&tY(e.doc,e.mapping.slice(o).map(a),r)){e.clearIncompatible(e.mapping.slice(o).map(a,1),r);let l=e.mapping.slice(o),c=l.map(a,1),h=l.map(a+s.nodeSize,1);return e.step(new Ls(c,h,c+1,h-1,new Ct(ut.from(r.create(i,null,s.marks)),0,0),1,!0)),!1}})}function tY(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function nY(e,t,n,r,i){let o=e.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return e.replaceWith(t,t+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Ls(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new Ct(ut.from(s),0,0),1,!0))}function zf(e,t,n=1,r){let i=e.resolve(t),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,h=n-2;c>o;c--,h--){let f=i.node(c),g=i.index(c);if(f.type.spec.isolating)return!1;let d=f.content.cutByIndex(g,f.childCount),m=r&&r[h+1];m&&(d=d.replaceChild(0,m.type.create(m.attrs)));let y=r&&r[h]||f;if(!f.canReplace(g+1,f.childCount)||!y.type.validContent(d))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function rY(e,t,n=1,r){let i=e.doc.resolve(t),o=ut.empty,s=ut.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){o=ut.from(i.node(a).copy(o));let h=r&&r[c];s=ut.from(h?h.type.create(h.attrs,s):i.node(a).copy(s))}e.step(new ao(t,t,new Ct(o.append(s),n,n),!0))}function k2(e,t){let n=e.resolve(t),r=n.index();return jT(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function jT(e,t){return!!(e&&t&&!e.isLeaf&&e.canAppend(t))}function BT(e,t,n=-1){let r=e.resolve(t);for(let i=r.depth;;i--){let o,s,a=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):n>0?(o=r.node(i+1),a++,s=r.node(i).maybeChild(a)):(o=r.node(i).maybeChild(a-1),s=r.node(i+1)),o&&!o.isTextblock&&jT(o,s)&&r.node(i).canReplace(a,a+1))return t;if(i==0)break;t=n<0?r.before(i):r.after(i)}}function iY(e,t,n){let r=new ao(t-n,t+n,Ct.empty,!0);e.step(r)}function oY(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function sY(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),c=r.node(s),h=!1;if(o==1)h=c.canReplace(l,l,i);else{let f=c.contentMatchAt(l).findWrapping(i.firstChild.type);h=f&&c.canReplaceWith(l,l,f[0])}if(h)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function D7(e,t,n=t,r=Ct.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),o=e.resolve(n);return $T(i,o,r)?new ao(t,n,r):new aY(i,o,r).fit()}function $T(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class aY{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ut.empty;for(let i=0;i<=t.depth;i++){let o=t.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=ut.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new Ct(o,s,a);return t>-1?new Ls(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new ao(r.pos,i.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){t=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=Nx(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],h,f=null;if(n==1&&(s?c.matchType(s.type)||(f=c.fillBefore(ut.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:f};if(n==2&&s&&(h=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:h};if(o&&c.matchType(o.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=Nx(t,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Ct(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=Nx(t,n);if(i.childCount<=1&&n>0){let o=t.size-n<=n+i.size;this.unplaced=new Ct($m(t,n-1,1),n-1,o?n-1:r)}else this.unplaced=new Ct($m(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let y=0;y<o.length;y++)this.openFrontierNode(o[y]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-t,c=0,h=[],{match:f,type:g}=this.frontier[n];if(i){for(let y=0;y<i.childCount;y++)h.push(i.child(y));f=f.matchFragment(i)}let d=a.size+t-(s.content.size-s.openEnd);for(;c<a.childCount;){let y=a.child(c),C=f.matchType(y.type);if(!C)break;c++,(c>1||l==0||y.content.size)&&(f=C,h.push(VT(y.mark(g.allowedMarks(y.marks)),c==1?l:0,c==a.childCount?d:-1)))}let m=c==a.childCount;m||(d=-1),this.placed=Vm(this.placed,n,ut.from(h)),this.frontier[n].match=f,m&&d<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let y=0,C=a;y<d;y++){let x=C.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),C=x.content}this.unplaced=m?t==0?Ct.empty:new Ct($m(s.content,t-1,1),t-1,d<0?s.openEnd:t-1):new Ct($m(s.content,t,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!Lx(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),s=Lx(t,n,i,r,o);if(s){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],h=Lx(t,a,c,l,!0);if(!h||h.childCount)continue e}return{depth:n,fit:s,move:o?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Vm(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let i=t.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,o)}return t}openFrontierNode(t,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=Vm(this.placed,this.depth,ut.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(ut.empty,!0);t.childCount&&(this.placed=Vm(this.placed,this.frontier.length,t))}}function $m(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy($m(e.firstChild.content,t-1,n)))}function Vm(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Vm(e.lastChild.content,t-1,n)))}function Nx(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function VT(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,VT(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(ut.empty,!0)))),e.copy(r)}function Lx(e,t,n,r,i){let o=e.node(t),s=i?e.indexAfter(t):e.index(t);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!lY(n,o.content,s)?a:null}function lY(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function cY(e){return e.spec.defining||e.spec.definingForContent}function uY(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),o=e.doc.resolve(n);if($T(i,o,r))return e.step(new ao(t,n,r));let s=qT(i,e.doc.resolve(n));s[s.length-1]==0&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let g=i.depth,d=i.pos-1;g>0;g--,d--){let m=i.node(g).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;s.indexOf(g)>-1?a=g:i.before(g)==d&&s.splice(1,0,-g)}let l=s.indexOf(a),c=[],h=r.openStart;for(let g=r.content,d=0;;d++){let m=g.firstChild;if(c.push(m),d==r.openStart)break;g=m.content}for(let g=h-1;g>=0;g--){let d=c[g],m=cY(d.type);if(m&&!d.sameMarkup(i.node(Math.abs(a)-1)))h=g;else if(m||!d.type.isTextblock)break}for(let g=r.openStart;g>=0;g--){let d=(g+h+1)%(r.openStart+1),m=c[d];if(m)for(let y=0;y<s.length;y++){let C=s[(y+l)%s.length],x=!0;C<0&&(x=!1,C=-C);let w=i.node(C-1),E=i.index(C-1);if(w.canReplaceWith(E,E,m.type,m.marks))return e.replace(i.before(C),x?o.after(C):n,new Ct(UT(r.content,0,r.openStart,d),d,r.openEnd))}}let f=e.steps.length;for(let g=s.length-1;g>=0&&(e.replace(t,n,r),!(e.steps.length>f));g--){let d=s[g];d<0||(t=i.before(d),n=o.after(d))}}function UT(e,t,n,r,i){if(t<n){let o=e.firstChild;e=e.replaceChild(0,o.copy(UT(o.content,t+1,n,r,o)))}if(t>r){let o=i.contentMatchAt(0),s=o.fillBefore(e).append(e);e=s.append(o.matchFragment(s).fillBefore(ut.empty,!0))}return e}function hY(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=oY(e.doc,t,r.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new Ct(ut.from(r),0,0))}function fY(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),o=qT(r,i);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return e.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return e.delete(r.before(a),i.after(a))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(t-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s)return e.delete(r.before(s),n);e.delete(t,n)}function qT(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let o=e.start(i);if(o<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(o==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==o-1)&&n.push(i)}return n}class Gp extends mo{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return ii.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return ii.fromReplace(t,this.pos,this.pos+1,new Ct(ut.from(i),0,n.isLeaf?0:1))}getMap(){return Ss.empty}invert(t){return new Gp(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Gp(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Gp(n.pos,n.attr,n.value)}}mo.jsonID("attr",Gp);class q0 extends mo{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return ii.ok(r)}getMap(){return Ss.empty}invert(t){return new q0(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new q0(n.attr,n.value)}}mo.jsonID("docAttr",q0);let dg=class extends Error{};dg=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};dg.prototype=Object.create(Error.prototype);dg.prototype.constructor=dg;dg.prototype.name="TransformError";class dY{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Hp}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new dg(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=Ct.empty){let i=D7(this.doc,t,n,r);return i&&this.step(i),this}replaceWith(t,n,r){return this.replace(t,n,new Ct(ut.from(r),0,0))}delete(t,n){return this.replace(t,n,Ct.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return uY(this,t,n,r),this}replaceRangeWith(t,n,r){return hY(this,t,n,r),this}deleteRange(t,n){return fY(this,t,n),this}lift(t,n){return YK(this,t,n),this}join(t,n=1){return iY(this,t,n),this}wrap(t,n){return ZK(this,t,n),this}setBlockType(t,n=t,r,i=null){return eY(this,t,n,r,i),this}setNodeMarkup(t,n,r=null,i){return nY(this,t,n,r,i),this}setNodeAttribute(t,n,r){return this.step(new Gp(t,n,r)),this}setDocAttribute(t,n){return this.step(new q0(t,n)),this}addNodeMark(t,n){return this.step(new Ku(t,n)),this}removeNodeMark(t,n){if(!(n instanceof zn)){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n=n.isInSet(r.marks),!n)return this}return this.step(new fg(t,n)),this}split(t,n=1,r){return rY(this,t,n,r),this}addMark(t,n,r){return WK(this,t,n,r),this}removeMark(t,n,r){return HK(this,t,n,r),this}clearIncompatible(t,n,r){return GK(this,t,n,r),this}}const _x=Object.create(null);class xn{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new pY(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=Ct.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let o=t.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],h=t.mapping.slice(o);t.replaceRange(h.map(l.pos),h.map(c.pos),a?Ct.empty:n),a==0&&pA(t,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],l=t.mapping.slice(r),c=l.map(s.pos),h=l.map(a.pos);o?t.deleteRange(c,h):(t.replaceRangeWith(c,h,n),pA(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new En(t):up(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let o=t.depth-1;o>=0;o--){let s=n<0?up(t.node(0),t.node(o),t.before(o+1),t.index(o),n,r):up(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,n,r);if(s)return s}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new es(t.node(0))}static atStart(t){return up(t,t,0,0,1)||new es(t)}static atEnd(t){return up(t,t,t.content.size,t.childCount,-1)||new es(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=_x[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in _x)throw new RangeError("Duplicate use of selection JSON ID "+t);return _x[t]=n,n.prototype.jsonID=t,n}getBookmark(){return En.between(this.$anchor,this.$head).getBookmark()}}xn.prototype.visible=!0;class pY{constructor(t,n){this.$from=t,this.$to=n}}let fA=!1;function dA(e){!fA&&!e.parent.inlineContent&&(fA=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class En extends xn{constructor(t,n=t){dA(t),dA(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return xn.near(r);let i=t.resolve(n.map(this.anchor));return new En(i.parent.inlineContent?i:r,r)}replace(t,n=Ct.empty){if(super.replace(t,n),n==Ct.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof En&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new uw(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new En(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=xn.findFrom(n,r,!0)||xn.findFrom(n,-r,!0);if(o)n=o.$head;else return xn.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=(xn.findFrom(t,-r,!0)||xn.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new En(t,n)}}xn.jsonID("text",En);class uw{constructor(t,n){this.anchor=t,this.head=n}map(t){return new uw(t.map(this.anchor),t.map(this.head))}resolve(t){return En.between(t.resolve(this.anchor),t.resolve(this.head))}}class Mt extends xn{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=t.resolve(i);return r?xn.near(o):new Mt(o)}content(){return new Ct(ut.from(this.node),0,0)}eq(t){return t instanceof Mt&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new I7(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Mt(t.resolve(n.anchor))}static create(t,n){return new Mt(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}Mt.prototype.visible=!1;xn.jsonID("node",Mt);class I7{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new uw(r,r):new I7(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&Mt.isSelectable(r)?new Mt(n):xn.near(n)}}class es extends xn{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=Ct.empty){if(n==Ct.empty){t.delete(0,t.doc.content.size);let r=xn.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new es(t)}map(t){return new es(t)}eq(t){return t instanceof es}getBookmark(){return gY}}xn.jsonID("all",es);const gY={map(){return this},resolve(e){return new es(e)}};function up(e,t,n,r,i,o=!1){if(t.inlineContent)return En.create(e,n);for(let s=r-(i>0?0:1);i>0?s<t.childCount:s>=0;s+=i){let a=t.child(s);if(a.isAtom){if(!o&&Mt.isSelectable(a))return Mt.create(e,n-(i<0?a.nodeSize:0))}else{let l=up(e,a,n+i,i<0?a.childCount:0,i,o);if(l)return l}n+=a.nodeSize*i}return null}function pA(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof ao||i instanceof Ls))return;let o=e.mapping.maps[r],s;o.forEach((a,l,c,h)=>{s==null&&(s=h)}),e.setSelection(xn.near(e.doc.resolve(s),n))}const gA=1,J1=2,mA=4;class mY extends dY{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|gA)&~J1,this.storedMarks=null,this}get selectionSet(){return(this.updated&gA)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=J1,this}ensureMarks(t){return zn.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&J1)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~J1,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||zn.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let i=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!t)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(t,o)),this.selection.empty||this.setSelection(xn.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=mA,this}get scrolledIntoView(){return(this.updated&mA)>0}}function vA(e,t){return!t||!e?e:e.bind(t)}class Um{constructor(t,n,r){this.name=t,this.init=vA(n.init,r),this.apply=vA(n.apply,r)}}const vY=[new Um("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new Um("selection",{init(e,t){return e.selection||xn.atStart(t.doc)},apply(e){return e.selection}}),new Um("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new Um("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class Ox{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=vY.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Um(r.key,r.spec.state,r))})}}class Np{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=i?i[s].n:0,c=i?i[s].state:this,h=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(h&&r.filterTransaction(h,s)){if(h.setMeta("appendedTransaction",t),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<s?{state:r,n:n.length}:{state:this,n:0})}n.push(h),r=r.applyInner(h),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Np(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(t,this[o.name],this,n)}return n}get tr(){return new mY(this)}static create(t){let n=new Ox(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new Np(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new Ox(this.schema,t.plugins),r=n.fields,i=new Np(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new Ox(t.schema,t.plugins),o=new Np(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=If.fromJSON(t.schema,n.doc);else if(s.name=="selection")o.selection=xn.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){o[s.name]=c.fromJSON.call(l,t,n[a],o);return}}o[s.name]=s.init(t,o)}}),o}}function WT(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=WT(i,t,{})),n[r]=i}return n}class E2{constructor(t){this.spec=t,this.props={},t.props&&WT(t.props,this,this.props),this.key=t.key?t.key.key:HT("plugin")}getState(t){return t[this.key]}}const Px=Object.create(null);function HT(e){return e in Px?e+"$"+ ++Px[e]:(Px[e]=0,e+"$")}class GT{constructor(t="key"){this.key=HT(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}class Nh{constructor(t,n,r={}){this.match=t,this.match=t,this.handler=typeof n=="string"?yY(n):n,this.undoable=r.undoable!==!1}}function yY(e){return function(t,n,r,i){let o=e;if(n[1]){let s=n[0].lastIndexOf(n[1]);o+=n[0].slice(s+n[1].length),r+=s;let a=r-i;a>0&&(o=n[0].slice(s-a,s)+o,r=i)}return t.tr.insertText(o,r,i)}}const wY=500;function bY({rules:e}){let t=new E2({state:{init(){return null},apply(n,r){return n.getMeta(this)||(n.selectionSet||n.docChanged?null:r)}},props:{handleTextInput(n,r,i,o){return yA(n,r,i,o,e,t)},handleDOMEvents:{compositionend:n=>{setTimeout(()=>{let{$cursor:r}=n.state.selection;r&&yA(n,r.pos,r.pos,"",e,t)})}}},isInputRules:!0});return t}function yA(e,t,n,r,i,o){if(e.composing)return!1;let s=e.state,a=s.doc.resolve(t);if(a.parent.type.spec.code)return!1;let l=a.parent.textBetween(Math.max(0,a.parentOffset-wY),a.parentOffset,null,"")+r;for(let c=0;c<i.length;c++){let h=i[c],f=h.match.exec(l),g=f&&h.handler(s,f,t-(f[0].length-r.length),n);if(g)return h.undoable&&g.setMeta(o,{transform:g,from:t,to:n,text:r}),e.dispatch(g),!0}return!1}const xY=(e,t)=>{let n=e.plugins;for(let r=0;r<n.length;r++){let i=n[r],o;if(i.spec.isInputRules&&(o=i.getState(e))){if(t){let s=e.tr,a=o.transform;for(let l=a.steps.length-1;l>=0;l--)s.step(a.steps[l].invert(a.docs[l]));if(o.text){let l=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,e.schema.text(o.text,l))}else s.delete(o.from,o.to);t(s)}return!0}}return!1},SY=new Nh(/--$/,""),CY=new Nh(/\.\.\.$/,""),kY=new Nh(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,""),EY=new Nh(/"$/,""),AY=new Nh(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,""),NY=new Nh(/'$/,""),LY=[kY,EY,AY,NY];function z7(e,t,n=null,r){return new Nh(e,(i,o,s,a)=>{let l=n instanceof Function?n(o):n,c=i.tr.delete(s,a),h=c.doc.resolve(s),f=h.blockRange(),g=f&&JK(f,t,l);if(!g)return null;c.wrap(f,g);let d=c.doc.resolve(s-1).nodeBefore;return d&&d.type==t&&k2(c.doc,s-1)&&(!r||r(o,d))&&c.join(s-1),c})}function KT(e,t,n=null){return new Nh(e,(r,i,o,s)=>{let a=r.doc.resolve(o),l=n instanceof Function?n(i):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),t)?r.tr.delete(o,s).setBlockType(o,o,t,l):null})}function _Y(e){return z7(/^\s*>\s$/,e)}function OY(e){return z7(/^(\d+)\.\s$/,e,t=>({order:+t[1]}),(t,n)=>n.childCount+n.attrs.order==+t[1])}function PY(e){return z7(/^\s*([-+*])\s$/,e)}function TY(e){return KT(/^```$/,e)}function MY(e,t){return KT(new RegExp("^(#{1,"+t+"})\\s$"),e,n=>({level:n[1].length}))}function RY(e){const t=LY.concat(CY,SY);let n;return(n=e.nodes.blockquote)&&t.push(_Y(n)),(n=e.nodes.ordered_list)&&t.push(OY(n)),(n=e.nodes.bullet_list)&&t.push(PY(n)),(n=e.nodes.code_block)&&t.push(TY(n)),(n=e.nodes.heading)&&t.push(MY(n,6)),bY({rules:t})}const YT=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function DY(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const IY=(e,t,n)=>{let r=DY(e,n);if(!r)return!1;let i=JT(r);if(!i){let s=r.blockRange(),a=s&&cw(s);return a==null?!1:(t&&t(e.tr.lift(s,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&ZT(e,i,t))return!0;if(r.parent.content.size==0&&(pg(o,"end")||Mt.isSelectable(o))){let s=D7(e.doc,r.before(),r.after(),Ct.empty);if(s&&s.slice.size<s.to-s.from){if(t){let a=e.tr.step(s);a.setSelection(pg(o,"end")?xn.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):Mt.create(a.doc,i.pos-o.nodeSize)),t(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1};function pg(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const zY=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;o=JT(r)}let s=o&&o.nodeBefore;return!s||!Mt.isSelectable(s)?!1:(t&&t(e.tr.setSelection(Mt.create(e.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function JT(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function FY(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const jY=(e,t,n)=>{let r=FY(e,n);if(!r)return!1;let i=XT(r);if(!i)return!1;let o=i.nodeAfter;if(ZT(e,i,t))return!0;if(r.parent.content.size==0&&(pg(o,"start")||Mt.isSelectable(o))){let s=D7(e.doc,r.before(),r.after(),Ct.empty);if(s&&s.slice.size<s.to-s.from){if(t){let a=e.tr.step(s);a.setSelection(pg(o,"start")?xn.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):Mt.create(a.doc,a.mapping.map(i.pos))),t(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},BY=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;o=XT(r)}let s=o&&o.nodeAfter;return!s||!Mt.isSelectable(s)?!1:(t&&t(e.tr.setSelection(Mt.create(e.doc,o.pos)).scrollIntoView()),!0)};function XT(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const $Y=(e,t)=>{let n=e.selection,r=n instanceof Mt,i;if(r){if(n.node.isTextblock||!k2(e.doc,n.from))return!1;i=n.from}else if(i=BT(e.doc,n.from,-1),i==null)return!1;if(t){let o=e.tr.join(i);r&&o.setSelection(Mt.create(o.doc,i-e.doc.resolve(i).nodeBefore.nodeSize)),t(o.scrollIntoView())}return!0},VY=(e,t)=>{let n=e.selection,r;if(n instanceof Mt){if(n.node.isTextblock||!k2(e.doc,n.to))return!1;r=n.to}else if(r=BT(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},UY=(e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),o=i&&cw(i);return o==null?!1:(t&&t(e.tr.lift(i,o).scrollIntoView()),!0)},qY=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function F7(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const QT=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=F7(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(t){let a=n.after(),l=e.tr.replaceWith(a,a,s.createAndFill());l.setSelection(xn.near(l.doc.resolve(a),1)),t(l.scrollIntoView())}return!0},WY=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof es||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=F7(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=e.tr.insert(s,o.createAndFill());a.setSelection(En.create(a.doc,s+1)),t(a.scrollIntoView())}return!0},HY=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(zf(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&cw(r);return i==null?!1:(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)};function GY(e){return(t,n)=>{let{$from:r,$to:i}=t.selection;if(t.selection instanceof Mt&&t.selection.node.isBlock)return!r.parentOffset||!zf(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(n){let o=i.parentOffset==i.parent.content.size,s=t.tr;(t.selection instanceof En||t.selection instanceof es)&&s.deleteSelection();let a=r.depth==0?null:F7(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=e&&e(i.parent,o),c=l?[l]:o&&a?[{type:a}]:void 0,h=zf(s.doc,s.mapping.map(r.pos),1,c);if(!c&&!h&&zf(s.doc,s.mapping.map(r.pos),1,a?[{type:a}]:void 0)&&(a&&(c=[{type:a}]),h=!0),h&&(s.split(s.mapping.map(r.pos),1,c),!o&&!r.parentOffset&&r.parent.type!=a)){let f=s.mapping.map(r.before()),g=s.doc.resolve(f);a&&r.node(-1).canReplaceWith(g.index(),g.index()+1,a)&&s.setNodeMarkup(s.mapping.map(r.before()),a)}n(s.scrollIntoView())}return!0}}const KY=GY(),YY=(e,t)=>{let{$from:n,to:r}=e.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),t&&t(e.tr.setSelection(Mt.create(e.doc,i))),!0)},JY=(e,t)=>(t&&t(e.tr.setSelection(new es(e.doc))),!0);function XY(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,o=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(i.isTextblock||k2(e.doc,t.pos))?!1:(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0)}function ZT(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,o,s;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(XY(e,t,n))return!0;let a=t.parent.canReplace(t.index(),t.index()+1);if(a&&(o=(s=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&s.matchType(o[0]||i.type).validEnd){if(n){let f=t.pos+i.nodeSize,g=ut.empty;for(let y=o.length-1;y>=0;y--)g=ut.from(o[y].create(null,g));g=ut.from(r.copy(g));let d=e.tr.step(new Ls(t.pos-1,f,t.pos,f,new Ct(g,1,0),o.length,!0)),m=f+2*o.length;k2(d.doc,m)&&d.join(m),n(d.scrollIntoView())}return!0}let l=xn.findFrom(t,1),c=l&&l.$from.blockRange(l.$to),h=c&&cw(c);if(h!=null&&h>=t.depth)return n&&n(e.tr.lift(c,h).scrollIntoView()),!0;if(a&&pg(i,"start",!0)&&pg(r,"end")){let f=r,g=[];for(;g.push(f),!f.isTextblock;)f=f.lastChild;let d=i,m=1;for(;!d.isTextblock;d=d.firstChild)m++;if(f.canReplace(f.childCount,f.childCount,d.content)){if(n){let y=ut.empty;for(let x=g.length-1;x>=0;x--)y=ut.from(g[x].copy(y));let C=e.tr.step(new Ls(t.pos-g.length,t.pos+i.nodeSize,t.pos+m,t.pos+i.nodeSize-m,new Ct(y,g.length,0),0,!0));n(C.scrollIntoView())}return!0}}return!1}function eM(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(t.tr.setSelection(En.create(t.doc,e<0?i.start(o):i.end(o)))),!0):!1}}const QY=eM(-1),ZY=eM(1);function eJ(e,t=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:a}}=n.selection.ranges[o];n.doc.nodesBetween(s,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)i=!0;else{let h=n.doc.resolve(c),f=h.index();i=h.parent.canReplaceWith(f,f+1,e)}})}if(!i)return!1;if(r){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];o.setBlockType(a,l,e,t)}r(o.scrollIntoView())}return!0}}function hw(...e){return function(t,n,r){for(let i=0;i<e.length;i++)if(e[i](t,n,r))return!0;return!1}}let Tx=hw(YT,IY,zY),wA=hw(YT,jY,BY);const vc={Enter:hw(qY,WY,HY,KY),"Mod-Enter":QT,Backspace:Tx,"Mod-Backspace":Tx,"Shift-Backspace":Tx,Delete:wA,"Mod-Delete":wA,"Mod-a":JY},tM={"Ctrl-h":vc.Backspace,"Alt-Backspace":vc["Mod-Backspace"],"Ctrl-d":vc.Delete,"Ctrl-Alt-Backspace":vc["Mod-Delete"],"Alt-Delete":vc["Mod-Delete"],"Alt-d":vc["Mod-Delete"],"Ctrl-a":QY,"Ctrl-e":ZY};for(let e in vc)tM[e]=vc[e];const tJ=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,nJ=tJ?tM:vc;var Pc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},B5={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},rJ=typeof navigator<"u"&&/Mac/.test(navigator.platform),iJ=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ji=0;ji<10;ji++)Pc[48+ji]=Pc[96+ji]=String(ji);for(var ji=1;ji<=24;ji++)Pc[ji+111]="F"+ji;for(var ji=65;ji<=90;ji++)Pc[ji]=String.fromCharCode(ji+32),B5[ji]=String.fromCharCode(ji);for(var Mx in Pc)B5.hasOwnProperty(Mx)||(B5[Mx]=Pc[Mx]);function W0(e){var t=rJ&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||iJ&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?B5:Pc)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const oJ=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function sJ(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<t.length-1;a++){let l=t[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))oJ?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function aJ(e){let t=Object.create(null);for(let n in e)t[sJ(n)]=e[n];return t}function Rx(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function lJ(e){let t=aJ(e);return function(n,r){let i=W0(r),o,s=t[Rx(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=t[Rx(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=Pc[r.keyCode])&&o!=i){let a=t[Rx(o,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const _o=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},H0=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let bA=null;const pc=function(e,t,n){let r=bA||(bA=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},Qf=function(e,t,n,r){return n&&(xA(e,t,n,r,-1)||xA(e,t,n,r,1))},cJ=/^(img|br|input|textarea|hr)$/i;function xA(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:Nl(e))){let o=e.parentNode;if(!o||o.nodeType!=1||j7(e)||cJ.test(e.nodeName)||e.contentEditable=="false")return!1;t=_o(e)+(i<0?0:1),e=o}else if(e.nodeType==1){if(e=e.childNodes[t+(i<0?-1:0)],e.contentEditable=="false")return!1;t=i<0?Nl(e):0}else return!1}}function Nl(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function uJ(e,t,n){for(let r=t==0,i=t==Nl(e);r||i;){if(e==n)return!0;let o=_o(e);if(e=e.parentNode,!e)return!1;r=r&&o==0,i=i&&o==Nl(e)}}function j7(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const fw=function(e){return e.focusNode&&Qf(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function bf(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function hJ(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function fJ(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const Bl=typeof navigator<"u"?navigator:null,SA=typeof document<"u"?document:null,Lh=Bl&&Bl.userAgent||"",n6=/Edge\/(\d+)/.exec(Lh),nM=/MSIE \d/.exec(Lh),r6=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Lh),ts=!!(nM||r6||n6),ah=nM?document.documentMode:r6?+r6[1]:n6?+n6[1]:0,Va=!ts&&/gecko\/(\d+)/i.test(Lh);Va&&+(/Firefox\/(\d+)/.exec(Lh)||[0,0])[1];const i6=!ts&&/Chrome\/(\d+)/.exec(Lh),lo=!!i6,dJ=i6?+i6[1]:0,Mo=!ts&&!!Bl&&/Apple Computer/.test(Bl.vendor),gg=Mo&&(/Mobile\/\w+/.test(Lh)||!!Bl&&Bl.maxTouchPoints>2),Zs=gg||(Bl?/Mac/.test(Bl.platform):!1),pJ=Bl?/Win/.test(Bl.platform):!1,Ia=/Android \d/.test(Lh),A2=!!SA&&"webkitFontSmoothing"in SA.documentElement.style,gJ=A2?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function mJ(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function hc(e,t){return typeof e=="number"?e:e[t]}function vJ(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function CA(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument;for(let s=n||e.dom;s;s=H0(s)){if(s.nodeType!=1)continue;let a=s,l=a==o.body,c=l?mJ(o):vJ(a),h=0,f=0;if(t.top<c.top+hc(r,"top")?f=-(c.top-t.top+hc(i,"top")):t.bottom>c.bottom-hc(r,"bottom")&&(f=t.bottom-t.top>c.bottom-c.top?t.top+hc(i,"top")-c.top:t.bottom-c.bottom+hc(i,"bottom")),t.left<c.left+hc(r,"left")?h=-(c.left-t.left+hc(i,"left")):t.right>c.right-hc(r,"right")&&(h=t.right-c.right+hc(i,"right")),h||f)if(l)o.defaultView.scrollBy(h,f);else{let g=a.scrollLeft,d=a.scrollTop;f&&(a.scrollTop+=f),h&&(a.scrollLeft+=h);let m=a.scrollLeft-g,y=a.scrollTop-d;t={left:t.left-m,top:t.top-y,right:t.right-m,bottom:t.bottom-y}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function yJ(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,i;for(let o=(t.left+t.right)/2,s=n+1;s<Math.min(innerHeight,t.bottom);s+=5){let a=e.root.elementFromPoint(o,s);if(!a||a==e.dom||!e.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:rM(e.dom)}}function rM(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=H0(r));return t}function wJ({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;iM(n,r==0?0:r-t)}function iM(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:o}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=o&&(r.scrollLeft=o)}}let rp=null;function bJ(e){if(e.setActive)return e.setActive();if(rp)return e.focus(rp);let t=rM(e);e.focus(rp==null?{get preventScroll(){return rp={preventScroll:!0},!0}}:void 0),rp||(rp=!1,iM(t,0))}function oM(e,t){let n,r=2e8,i,o=0,s=t.top,a=t.top,l,c;for(let h=e.firstChild,f=0;h;h=h.nextSibling,f++){let g;if(h.nodeType==1)g=h.getClientRects();else if(h.nodeType==3)g=pc(h).getClientRects();else continue;for(let d=0;d<g.length;d++){let m=g[d];if(m.top<=s&&m.bottom>=a){s=Math.max(m.bottom,s),a=Math.min(m.top,a);let y=m.left>t.left?m.left-t.left:m.right<t.left?t.left-m.right:0;if(y<r){n=h,r=y,i=y&&n.nodeType==3?{left:m.right<t.left?m.right:m.left,top:t.top}:t,h.nodeType==1&&y&&(o=f+(t.left>=(m.left+m.right)/2?1:0));continue}}else m.top>t.top&&!l&&m.left<=t.left&&m.right>=t.left&&(l=h,c={left:Math.max(m.left,Math.min(m.right,t.left)),top:m.top});!n&&(t.left>=m.right&&t.top>=m.top||t.left>=m.left&&t.top>=m.bottom)&&(o=f+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?xJ(n,i):!n||r&&n.nodeType==1?{node:e,offset:o}:oM(n,i)}function xJ(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let o=Mu(r,1);if(o.top!=o.bottom&&B7(t,o))return{node:e,offset:i+(t.left>=(o.left+o.right)/2?1:0)}}return{node:e,offset:0}}function B7(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function SJ(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function CJ(e,t,n){let{node:r,offset:i}=oM(t,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(r,i,o)}function kJ(e,t,n,r){let i=-1;for(let o=t,s=!1;o!=e.dom;){let a=e.docView.nearestDesc(o,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent&&!s||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&!s&&(s=!0,l.left>r.left||l.top>r.top?i=a.posBefore:(l.right<r.left||l.bottom<r.top)&&(i=a.posAfter)),!a.contentDOM&&i<0&&!a.node.isText)return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}o=a.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}function sM(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=e.childNodes[o];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(B7(t,c))return sM(s,t,c)}}if((o=(o+1)%r)==i)break}return e}function EJ(e,t){let n=e.dom.ownerDocument,r,i=0,o=fJ(n,t.left,t.top);o&&({node:r,offset:i}=o);let s=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),a;if(!s||!e.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=e.dom.getBoundingClientRect();if(!B7(t,c)||(s=sM(e.dom,t,c),!s))return null}if(Mo)for(let c=s;r&&c;c=H0(c))c.draggable&&(r=void 0);if(s=SJ(s,t),r){if(Va&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let h=r.childNodes[i],f;h.nodeName=="IMG"&&(f=h.getBoundingClientRect()).right<=t.left&&f.bottom>t.top&&i++}let c;A2&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&i--,r==e.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=kJ(e,r,i,t))}a==null&&(a=CJ(e,s,t));let l=e.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function kA(e){return e.top<e.bottom||e.left<e.right}function Mu(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(kA(r))return r}return Array.prototype.find.call(n,kA)||e.getBoundingClientRect()}const AJ=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function aM(e,t,n){let{node:r,offset:i,atom:o}=e.docView.domFromPos(t,n<0?-1:1),s=A2||Va;if(r.nodeType==3)if(s&&(AJ.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let a=Mu(pc(r,i,i),n);if(Va&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let l=Mu(pc(r,i-1,i-1),-1);if(l.top==a.top){let c=Mu(pc(r,i,i+1),-1);if(c.top!=a.top)return Nm(c,c.left<l.left)}}return a}else{let a=i,l=i,c=n<0?1:-1;return n<0&&!i?(l++,c=-1):n>=0&&i==r.nodeValue.length?(a--,c=1):n<0?a--:l++,Nm(Mu(pc(r,a,l),c),c<0)}if(!e.state.doc.resolve(t-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==Nl(r))){let a=r.childNodes[i-1];if(a.nodeType==1)return Dx(a.getBoundingClientRect(),!1)}if(o==null&&i<Nl(r)){let a=r.childNodes[i];if(a.nodeType==1)return Dx(a.getBoundingClientRect(),!0)}return Dx(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==Nl(r))){let a=r.childNodes[i-1],l=a.nodeType==3?pc(a,Nl(a)-(s?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(l)return Nm(Mu(l,1),!1)}if(o==null&&i<Nl(r)){let a=r.childNodes[i];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let l=a?a.nodeType==3?pc(a,0,s?0:1):a.nodeType==1?a:null:null;if(l)return Nm(Mu(l,-1),!0)}return Nm(Mu(r.nodeType==3?pc(r):r,-n),n>=0)}function Nm(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function Dx(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function lM(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function NJ(e,t,n){let r=t.selection,i=n=="up"?r.$from:r.$to;return lM(e,t,()=>{let{node:o}=e.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=e.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let s=aM(e,i.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=pc(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let h=l[c];if(h.bottom>h.top+1&&(n=="up"?s.top-h.top>(h.bottom-s.top)*2:h.bottom-s.bottom>(s.bottom-h.top)*2))return!1}}return!0})}const LJ=/[\u0590-\u08ac]/;function _J(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=e.domSelection();return!LJ.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?o:s:lM(e,t,()=>{let{focusNode:l,focusOffset:c,anchorNode:h,anchorOffset:f}=e.domSelectionRange(),g=a.caretBidiLevel;a.modify("move",n,"character");let d=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:m,focusOffset:y}=e.domSelectionRange(),C=m&&!d.contains(m.nodeType==1?m:m.parentNode)||l==m&&c==y;try{a.collapse(h,f),l&&(l!=h||c!=f)&&a.extend&&a.extend(l,c)}catch{}return g!=null&&(a.caretBidiLevel=g),C})}let EA=null,AA=null,NA=!1;function OJ(e,t,n){return EA==t&&AA==n?NA:(EA=t,AA=n,NA=n=="up"||n=="down"?NJ(e,t,n):_J(e,t,n))}const oa=0,LA=1,Nf=2,$l=3;class N2{constructor(t,n,r,i){this.parent=t,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=oa,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let o,s;if(t==this.contentDOM)o=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(t==this.contentDOM)o=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=n>_o(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==t.childNodes.length)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,i=t;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(t.nodeType==1?t:t.parentNode):s==t))r=!1;else return o}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let i=t;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==t&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(t<o)return i.descAt(t-r-i.border);r=o}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.size;if(a>t||s instanceof uM){i=t-o;break}o=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof cM&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?_o(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?_o(o.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,a=0;;a++){let l=this.children[a],c=s+l.size;if(i==-1&&t<=c){let h=s+l.border;if(t>=h&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,n,h);t=s;for(let f=a;f>0;f--){let g=this.children[f-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){i=_o(g.dom)+1;break}t-=g.size}i==-1&&(i=0)}if(i>-1&&(c>n||a==this.children.length-1)){n=c;for(let h=a+1;h<this.children.length;h++){let f=this.children[h];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=_o(f.dom);break}n+=f.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:o}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,i=!1){let o=Math.min(t,n),s=Math.max(t,n);for(let g=0,d=0;g<this.children.length;g++){let m=this.children[g],y=d+m.size;if(o>d&&s<y)return m.setSelection(t-d-m.border,n-d-m.border,r,i);d=y}let a=this.domFromPos(t,t?-1:1),l=n==t?a:this.domFromPos(n,n?-1:1),c=r.getSelection(),h=!1;if((Va||Mo)&&t==n){let{node:g,offset:d}=a;if(g.nodeType==3){if(h=!!(d&&g.nodeValue[d-1]==`
`),h&&d==g.nodeValue.length)for(let m=g,y;m;m=m.parentNode){if(y=m.nextSibling){y.nodeName=="BR"&&(a=l={node:y.parentNode,offset:_o(y)+1});break}let C=m.pmViewDesc;if(C&&C.node&&C.node.isBlock)break}}else{let m=g.childNodes[d-1];h=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(Va&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let g=c.focusNode.childNodes[c.focusOffset];g&&g.contentEditable=="false"&&(i=!0)}if(!(i||h&&Mo)&&Qf(a.node,a.offset,c.anchorNode,c.anchorOffset)&&Qf(l.node,l.offset,c.focusNode,c.focusOffset))return;let f=!1;if((c.extend||t==n)&&!h){c.collapse(a.node,a.offset);try{t!=n&&c.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(t>n){let d=a;a=l,l=d}let g=document.createRange();g.setEnd(l.node,l.offset),g.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(g)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?t<=s&&n>=r:t<s&&n>r){let a=r+o.border,l=s-o.border;if(t>=a&&n<=l){this.dirty=t==r||n==s?Nf:LA,t==a&&n==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=$l:o.markDirty(t-a,n-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Nf:$l}r=s}this.dirty=Nf}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?Nf:LA;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class cM extends N2{constructor(t,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(t,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(t){return this.dirty==oa&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class PJ extends N2{constructor(t,n,r,i){super(t,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class Zf extends N2{constructor(t,n,r,i){super(t,[],r,i),this.mark=n}static create(t,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=bc.renderSpec(document,n.type.spec.toDOM(n,r))),new Zf(t,n,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&$l||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=$l&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=oa){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=oa}}slice(t,n,r){let i=Zf.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=a6(o,n,s,r)),t>0&&(o=a6(o,0,t,r));for(let a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i}}class lh extends N2{constructor(t,n,r,i,o,s,a,l,c){super(t,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(t,n,r,i,o,s){let a=o.nodeViews[n.type.name],l,c=a&&a(n,o,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},r,i),h=c&&c.dom,f=c&&c.contentDOM;if(n.isText){if(!h)h=document.createTextNode(n.text);else if(h.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else h||({dom:h,contentDOM:f}=bc.renderSpec(document,n.type.spec.toDOM(n)));!f&&!n.isText&&h.nodeName!="BR"&&(h.hasAttribute("contenteditable")||(h.contentEditable="false"),n.type.spec.draggable&&(h.draggable=!0));let g=h;return h=dM(h,r,n),c?l=new TJ(t,n,r,i,h,f||null,g,c,o,s+1):n.isText?new dw(t,n,r,i,h,g,o):new lh(t,n,r,i,h,f||null,g,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>ut.empty)}return t}matchesNode(t,n,r){return this.dirty==oa&&t.eq(this.node)&&s6(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,i=n,o=t.composing?this.localCompositionInfo(t,n):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new RJ(this,s&&s.node,t);zJ(this.node,this.innerDeco,(c,h,f)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,t):c.type.side>=0&&!f&&l.syncToMarks(h==this.node.childCount?zn.none:this.node.child(h).marks,r,t),l.placeWidget(c,t,i)},(c,h,f,g)=>{l.syncToMarks(c.marks,r,t);let d;l.findNodeMatch(c,h,f,g)||a&&t.state.selection.from>i&&t.state.selection.to<i+c.nodeSize&&(d=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,h,f,d,t)||l.updateNextNode(c,h,f,t,g,i)||l.addNode(c,h,f,t,i),i+=c.nodeSize}),l.syncToMarks([],r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Nf)&&(s&&this.protectLocalComposition(t,s),hM(this.contentDOM,this.children,t),gg&&FJ(this.dom))}localCompositionInfo(t,n){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof En)||r<n||i>n+this.node.content.size)return null;let o=t.domSelectionRange(),s=jJ(o.focusNode,o.focusOffset);if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,l=BJ(this.node.content,a,r-n,i-n);return l<0?null:{node:s,pos:l,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new PJ(this,o,n,i);t.input.compositionNodes.push(s),this.children=a6(this.children,r,r+i.length,t,s)}update(t,n,r,i){return this.dirty==$l||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,i),!0)}updateInner(t,n,r,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=oa}updateOuterDeco(t){if(s6(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=fM(this.dom,this.nodeDOM,o6(this.outerDeco,this.node,n),o6(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function _A(e,t,n,r,i){dM(r,t,e);let o=new lh(void 0,e,t,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class dw extends lh{constructor(t,n,r,i,o,s,a){super(t,n,r,i,o,null,s,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,i){return this.dirty==$l||this.dirty!=oa&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=oa||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=oa,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let i=this.node.cut(t,n),o=document.createTextNode(i.text);return new dw(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=$l)}get domAtom(){return!1}}class uM extends N2{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==oa&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class TJ extends lh{constructor(t,n,r,i,o,s,a,l,c,h){super(t,n,r,i,o,s,a,c,h),this.spec=l}update(t,n,r,i){if(this.dirty==$l)return!1;if(this.spec.update){let o=this.spec.update(t,n,r);return o&&this.updateInner(t,n,r,i),o}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r):super.setSelection(t,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function hM(e,t,n){let r=e.firstChild,i=!1;for(let o=0;o<t.length;o++){let s=t[o],a=s.dom;if(a.parentNode==e){for(;a!=r;)r=OA(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(a,r);if(s instanceof Zf){let l=r?r.previousSibling:e.lastChild;hM(s.contentDOM,s.children,n),r=l?l.nextSibling:e.firstChild}}for(;r;)r=OA(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const a0=function(e){e&&(this.nodeName=e)};a0.prototype=Object.create(null);const Lf=[new a0];function o6(e,t,n){if(e.length==0)return Lf;let r=n?Lf[0]:new a0,i=[r];for(let o=0;o<e.length;o++){let s=e[o].type.attrs;if(s){s.nodeName&&i.push(r=new a0(s.nodeName));for(let a in s){let l=s[a];l!=null&&(n&&i.length==1&&i.push(r=new a0(t.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function fM(e,t,n,r){if(n==Lf&&r==Lf)return t;let i=t;for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(o){let l;a&&a.nodeName==s.nodeName&&i!=e&&(l=i.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Lf[0]),i=l}MJ(i,a||Lf[0],s)}return i}function MJ(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&e.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&e.classList.add(i[o]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(t.style);)e.style.removeProperty(i[1])}n.style&&(e.style.cssText+=n.style)}}function dM(e,t,n){return fM(e,e,Lf,o6(t,n,e.nodeType!=1))}function s6(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function OA(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class RJ{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=DJ(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,t.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=oa,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(t[o])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Zf.create(this.top,t[o],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(t,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(t,n,r))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(t,n,r)&&!this.preMatch.matched.has(c)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,n,r,i,o){let s=this.top.children[i];return s.dirty==$l&&s.dom==s.contentDOM&&(s.dirty=Nf),s.update(t,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}t=n}}updateNextNode(t,n,r,i,o,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof lh){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let h=l.dom,f,g=this.isLocked(h)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=$l&&s6(n,l.outerDeco));if(!g&&l.update(t,n,r,i))return this.destroyBetween(this.index,a),l.dom!=h&&(this.changed=!0),this.index++,!0;if(!g&&(f=this.recreateWrapper(l,t,n,r,i,s)))return this.top.children[this.index]=f,f.contentDOM&&(f.dirty=Nf,f.updateChildren(i,s+1),f.dirty=oa),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,i,o,s){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content))return null;let a=lh.create(this.top,n,r,i,o,s);if(a.contentDOM){a.children=t.children,t.children=[];for(let l of a.children)l.parent=a}return t.destroy(),a}addNode(t,n,r,i,o){let s=lh.create(this.top,t,n,r,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(t,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new cM(this.top,t,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof Zf;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof dw)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((Mo||lo)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new uM(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function DJ(e,t){let n=t,r=n.children.length,i=e.childCount,o=new Map,s=[];e:for(;i>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof Zf)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=e.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}function IJ(e,t){return e.type.side-t.type.side}function zJ(e,t,n,r){let i=t.locals(e),o=0;if(i.length==0){for(let c=0;c<e.childCount;c++){let h=e.child(c);r(h,i,t.forChild(o,h),c),o+=h.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let h,f;for(;s<i.length&&i[s].to==o;){let C=i[s++];C.widget&&(h?(f||(f=[h])).push(C):h=C)}if(h)if(f){f.sort(IJ);for(let C=0;C<f.length;C++)n(f[C],c,!!l)}else n(h,c,!!l);let g,d;if(l)d=-1,g=l,l=null;else if(c<e.childCount)d=c,g=e.child(c++);else break;for(let C=0;C<a.length;C++)a[C].to<=o&&a.splice(C--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let m=o+g.nodeSize;if(g.isText){let C=m;s<i.length&&i[s].from<C&&(C=i[s].from);for(let x=0;x<a.length;x++)a[x].to<C&&(C=a[x].to);C<m&&(l=g.cut(C-o),g=g.cut(0,C-o),m=C,d=-1)}let y=g.isInline&&!g.isLeaf?a.filter(C=>!C.inline):a.slice();r(g,y,t.forChild(o,g),d),o=m}}function FJ(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function jJ(e,t){for(;;){if(e.nodeType==3)return e;if(e.nodeType==1&&t>0){if(e.childNodes.length>t&&e.childNodes[t].nodeType==3)return e.childNodes[t];e=e.childNodes[t-1],t=Nl(e)}else if(e.nodeType==1&&t<e.childNodes.length)e=e.childNodes[t],t=0;else return null}}function BJ(e,t,n,r){for(let i=0,o=0;i<e.childCount&&o<=r;){let s=e.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<e.childCount;){let c=e.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=n){if(o>=r&&l.slice(r-t.length-a,r-a)==t)return r-t.length;let c=a<r?l.lastIndexOf(t,r-a-1):-1;if(c>=0&&c+t.length+a>=n)return a+c;if(n==r&&l.length>=r+t.length-a&&l.slice(r-a,r-a+t.length)==t)return r}}return-1}function a6(e,t,n,r,i){let o=[];for(let s=0,a=0;s<e.length;s++){let l=e[s],c=a,h=a+=l.size;c>=n||h<=t?o.push(l):(c<t&&o.push(l.slice(0,t-c,r)),i&&(o.push(i),i=void 0),h>n&&o.push(l.slice(n-c,l.size,r)))}return o}function $7(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,c;if(fw(n)){for(l=a;i&&!i.node;)i=i.parent;let h=i.node;if(i&&h.isAtom&&Mt.isSelectable(h)&&i.parent&&!(h.isInline&&uJ(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;c=new Mt(s==f?a:r.resolve(f))}}else{let h=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(h<0)return null;l=r.resolve(h)}if(!c){let h=t=="pointer"||e.state.selection.head<a.pos&&!o?1:-1;c=V7(e,l,a,h)}return c}function pM(e){return e.editable?e.hasFocus():mM(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Cc(e,t=!1){let n=e.state.selection;if(gM(e,n),!!pM(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&lo){let r=e.domSelectionRange(),i=e.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Qf(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)VJ(e);else{let{anchor:r,head:i}=n,o,s;PA&&!(n instanceof En)&&(n.$from.parent.inlineContent||(o=TA(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=TA(e,n.to))),e.docView.setSelection(r,i,e.root,t),PA&&(o&&MA(o),s&&MA(s)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&$J(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const PA=Mo||lo&&dJ<63;function TA(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Mo&&i&&i.contentEditable=="false")return Ix(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return Ix(i);if(o)return Ix(o)}}function Ix(e){return e.contentEditable="true",Mo&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function MA(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function $J(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!pM(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function VJ(e){let t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,_o(r)+1):n.setEnd(r,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!i&&!e.state.selection.visible&&ts&&ah<=11&&(r.disabled=!0,r.disabled=!1)}function gM(e,t){if(t instanceof Mt){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(RA(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else RA(e)}function RA(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function V7(e,t,n,r){return e.someProp("createSelectionBetween",i=>i(e,t,n))||En.between(t,n,r)}function DA(e){return e.editable&&!e.hasFocus()?!1:mM(e)}function mM(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function UJ(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return Qf(t.node,t.offset,n.anchorNode,n.anchorOffset)}function l6(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return o&&xn.findFrom(o,t)}function ju(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function IA(e,t,n){let r=e.state.selection;if(r instanceof En)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=e.state.doc.resolve(i.pos+o.nodeSize*(t<0?-1:1));return ju(e,new En(r.$anchor,s))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=l6(e.state,t);return i&&i instanceof Mt?ju(e,i):!1}else if(!(Zs&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let a=t<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=e.docView.descAt(a))&&!s.contentDOM?Mt.isSelectable(o)?ju(e,new Mt(t<0?e.state.doc.resolve(i.pos-o.nodeSize):i)):A2?ju(e,new En(e.state.doc.resolve(t<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Mt&&r.node.isInline)return ju(e,new En(t>0?r.$to:r.$from));{let i=l6(e.state,t);return i?ju(e,i):!1}}}function $5(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function l0(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function ip(e,t){return t<0?qJ(e):WJ(e)}function qJ(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,o,s=!1;for(Va&&n.nodeType==1&&r<$5(n)&&l0(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(l0(a,-1))i=n,o=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(vM(n))break;{let a=n.previousSibling;for(;a&&l0(a,-1);)i=n.parentNode,o=_o(a),a=a.previousSibling;if(a)n=a,r=$5(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}s?c6(e,n,r):i&&c6(e,i,o)}function WJ(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i=$5(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(l0(a,1))o=n,s=++r;else break}else{if(vM(n))break;{let a=n.nextSibling;for(;a&&l0(a,1);)o=a.parentNode,s=_o(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=$5(n);else{if(n=n.parentNode,n==e.dom)break;r=i=0}}}o&&c6(e,o,s)}function vM(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function HJ(e,t){for(;e&&t==e.childNodes.length&&!j7(e);)t=_o(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function GJ(e,t){for(;e&&!t&&!j7(e);)t=_o(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function c6(e,t,n){if(t.nodeType!=3){let o,s;(s=HJ(t,n))?(t=s,n=0):(o=GJ(t,n))&&(t=o,n=o.nodeValue.length)}let r=e.domSelection();if(fw(r)){let o=document.createRange();o.setEnd(t,n),o.setStart(t,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&Cc(e)},50)}function zA(e,t){let n=e.state.doc.resolve(t);if(!(lo||pJ)&&n.parent.inlineContent){let r=e.coordsAtPos(t);if(t>n.start()){let i=e.coordsAtPos(t-1),o=(i.top+i.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(i.left-r.left)>1)return i.left<r.left?"ltr":"rtl"}if(t<n.end()){let i=e.coordsAtPos(t+1),o=(i.top+i.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(i.left-r.left)>1)return i.left>r.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function FA(e,t,n){let r=e.state.selection;if(r instanceof En&&!r.empty||n.indexOf("s")>-1||Zs&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let s=l6(e.state,t);if(s&&s instanceof Mt)return ju(e,s)}if(!i.parent.inlineContent){let s=t<0?i:o,a=r instanceof es?xn.near(s,t):xn.findFrom(s,t);return a?ju(e,a):!1}return!1}function jA(e,t){if(!(e.state.selection instanceof En))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=e.state.tr;return t<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),e.dispatch(s),!0}return!1}function BA(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function KJ(e){if(!Mo||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;BA(e,r,"true"),setTimeout(()=>BA(e,r,"false"),20)}return!1}function YJ(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function JJ(e,t){let n=t.keyCode,r=YJ(t);if(n==8||Zs&&n==72&&r=="c")return jA(e,-1)||ip(e,-1);if(n==46&&!t.shiftKey||Zs&&n==68&&r=="c")return jA(e,1)||ip(e,1);if(n==13||n==27)return!0;if(n==37||Zs&&n==66&&r=="c"){let i=n==37?zA(e,e.state.selection.from)=="ltr"?-1:1:-1;return IA(e,i,r)||ip(e,i)}else if(n==39||Zs&&n==70&&r=="c"){let i=n==39?zA(e,e.state.selection.from)=="ltr"?1:-1:1;return IA(e,i,r)||ip(e,i)}else{if(n==38||Zs&&n==80&&r=="c")return FA(e,-1,r)||ip(e,-1);if(n==40||Zs&&n==78&&r=="c")return KJ(e)||FA(e,1,r)||ip(e,1);if(r==(Zs?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function yM(e,t){e.someProp("transformCopied",d=>{t=d(t,e)});let n=[],{content:r,openStart:i,openEnd:o}=t;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let d=r.firstChild;n.push(d.type.name,d.attrs!=d.type.defaultAttrs?d.attrs:null),r=d.content}let s=e.someProp("clipboardSerializer")||bc.fromSchema(e.state.schema),a=kM(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let c=l.firstChild,h,f=0;for(;c&&c.nodeType==1&&(h=CM[c.nodeName.toLowerCase()]);){for(let d=h.length-1;d>=0;d--){let m=a.createElement(h[d]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),f++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${o}${f?` -${f}`:""} ${JSON.stringify(n)}`);let g=e.someProp("clipboardTextSerializer",d=>d(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:g}}function wM(e,t,n,r,i){let o=i.parent.type.spec.code,s,a;if(!n&&!t)return null;let l=t&&(r||o||!n);if(l){if(e.someProp("transformPastedText",g=>{t=g(t,o||r,e)}),o)return t?new Ct(ut.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):Ct.empty;let f=e.someProp("clipboardTextParser",g=>g(t,i,r,e));if(f)a=f;else{let g=i.marks(),{schema:d}=e.state,m=bc.fromSchema(d);s=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(y=>{let C=s.appendChild(document.createElement("p"));y&&C.appendChild(m.serializeNode(d.text(y,g)))})}}else e.someProp("transformPastedHTML",f=>{n=f(n,e)}),s=ZJ(n),A2&&eX(s);let c=s&&s.querySelector("[data-pm-slice]"),h=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let f=+h[3];f>0;f--){let g=s.firstChild;for(;g&&g.nodeType!=1;)g=g.nextSibling;if(!g)break;s=g}if(a||(a=(e.someProp("clipboardParser")||e.someProp("domParser")||Xf.fromSchema(e.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||h),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!XJ.test(f.parentNode.nodeName)?{ignore:!0}:null}})),h)a=tX($A(a,+h[1],+h[2]),h[4]);else if(a=Ct.maxOpen(QJ(a.content,i),!0),a.openStart||a.openEnd){let f=0,g=0;for(let d=a.content.firstChild;f<a.openStart&&!d.type.spec.isolating;f++,d=d.firstChild);for(let d=a.content.lastChild;g<a.openEnd&&!d.type.spec.isolating;g++,d=d.lastChild);a=$A(a,f,g)}return e.someProp("transformPasted",f=>{a=f(a,e)}),a}const XJ=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function QJ(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.index(n)),i,o=[];if(e.forEach(s=>{if(!o)return;let a=r.findWrapping(s.type),l;if(!a)return o=null;if(l=o.length&&i.length&&xM(a,i,s,o[o.length-1],0))o[o.length-1]=l;else{o.length&&(o[o.length-1]=SM(o[o.length-1],i.length));let c=bM(s,a);o.push(c),r=r.matchType(c.type),i=a}}),o)return ut.from(o)}return e}function bM(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,ut.from(e));return e}function xM(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let o=xM(e,t,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(ut.from(bM(n,e,i+1))))}}function SM(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,SM(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(ut.empty,!0);return e.copy(n.append(r))}function u6(e,t,n,r,i,o){let s=t<0?e.firstChild:e.lastChild,a=s.content;return e.childCount>1&&(o=0),i<r-1&&(a=u6(a,t,n,r,i+1,o)),i>=n&&(a=t<0?s.contentMatchAt(0).fillBefore(a,o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(ut.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(a))}function $A(e,t,n){return t<e.openStart&&(e=new Ct(u6(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new Ct(u6(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const CM={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let VA=null;function kM(){return VA||(VA=document.implementation.createHTMLDocument("title"))}function ZJ(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=kM().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),i;if((i=r&&CM[r[1].toLowerCase()])&&(e=i.map(o=>"<"+o+">").join("")+e+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=e,i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function eX(e){let t=e.querySelectorAll(lo?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function tX(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:i,openStart:o,openEnd:s}=e;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=ut.from(l.create(r[a+1],i)),o++,s++}return new Ct(i,o,s)}const Ro={},Do={},nX={touchstart:!0,touchmove:!0};class rX{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function iX(e){for(let t in Ro){let n=Ro[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{sX(e,r)&&!U7(e,r)&&(e.editable||!(r.type in Do))&&n(e,r)},nX[t]?{passive:!0}:void 0)}Mo&&e.dom.addEventListener("input",()=>null),h6(e)}function Yu(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function oX(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function h6(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>U7(e,r))})}function U7(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function sX(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function aX(e,t){!U7(e,t)&&Ro[t.type]&&(e.editable||!(t.type in Do))&&Ro[t.type](e,t)}Do.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!AM(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Ia&&lo&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),gg&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",i=>i(e,bf(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||JJ(e,n)?n.preventDefault():Yu(e,"key")};Do.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};Do.keypress=(e,t)=>{let n=t;if(AM(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Zs&&n.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof En)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",o=>o(e,r.$from.pos,r.$to.pos,i))&&e.dispatch(e.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function pw(e){return{left:e.clientX,top:e.clientY}}function lX(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function q7(e,t,n,r,i){if(r==-1)return!1;let o=e.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(e.someProp(t,a=>s>o.depth?a(e,n,o.nodeAfter,o.before(s),i,!0):a(e,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function Kp(e,t,n){e.focused||e.focus();let r=e.state.tr.setSelection(t);n=="pointer"&&r.setMeta("pointer",!0),e.dispatch(r)}function cX(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&Mt.isSelectable(r)?(Kp(e,new Mt(n),"pointer"),!0):!1}function uX(e,t){if(t==-1)return!1;let n=e.state.selection,r,i;n instanceof Mt&&(r=n.node);let o=e.state.doc.resolve(t);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(Mt.isSelectable(a)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(Kp(e,Mt.create(e.state.doc,i),"pointer"),!0):!1}function hX(e,t,n,r,i){return q7(e,"handleClickOn",t,n,r)||e.someProp("handleClick",o=>o(e,t,r))||(i?uX(e,n):cX(e,n))}function fX(e,t,n,r){return q7(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",i=>i(e,t,r))}function dX(e,t,n,r){return q7(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",i=>i(e,t,r))||pX(e,n,r)}function pX(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(Kp(e,En.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(t);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)Kp(e,En.create(r,a+1,a+1+s.content.size),"pointer");else if(Mt.isSelectable(s))Kp(e,Mt.create(r,a),"pointer");else continue;return!0}}function W7(e){return V5(e)}const EM=Zs?"metaKey":"ctrlKey";Ro.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=W7(e),i=Date.now(),o="singleClick";i-e.input.lastClick.time<500&&lX(n,e.input.lastClick)&&!n[EM]&&(e.input.lastClick.type=="singleClick"?o="doubleClick":e.input.lastClick.type=="doubleClick"&&(o="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=e.posAtCoords(pw(n));s&&(o=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new gX(e,s,n,!!r)):(o=="doubleClick"?fX:dX)(e,s.pos,s.inside,n)?n.preventDefault():Yu(e,"pointer"))};class gX{constructor(t,n,r,i){this.view=t,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[EM],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=t.state.doc.nodeAt(n.inside),s=n.inside;else{let h=t.state.doc.resolve(n.pos);o=h.parent,s=h.depth?h.before():0}const a=i?null:r.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l?l.dom:null;let{selection:c}=t.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof Mt&&c.from<=s&&c.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Va&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Yu(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Cc(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(pw(t))),this.updateAllowDefault(t),this.allowDefault||!n?Yu(this.view,"pointer"):hX(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||Mo&&this.mightDrag&&!this.mightDrag.node.isAtom||lo&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Kp(this.view,xn.near(this.view.state.doc.resolve(n.pos)),"pointer"),t.preventDefault()):Yu(this.view,"pointer")}move(t){this.updateAllowDefault(t),Yu(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Ro.touchstart=e=>{e.input.lastTouch=Date.now(),W7(e),Yu(e,"pointer")};Ro.touchmove=e=>{e.input.lastTouch=Date.now(),Yu(e,"pointer")};Ro.contextmenu=e=>W7(e);function AM(e,t){return e.composing?!0:Mo&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const mX=Ia?5e3:-1;Do.compositionstart=Do.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),V5(e,!0),e.markCursor=null;else if(V5(e),Va&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){e.domSelection().collapse(s,s.nodeValue.length);break}else i=s,o=-1}}e.input.composing=!0}NM(e,mX)};Do.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,NM(e,20))};function NM(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>V5(e),t))}function LM(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=vX());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function vX(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function V5(e,t=!1){if(!(Ia&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),LM(e),t||e.docView&&e.docView.dirty){let n=$7(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}}function yX(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const G0=ts&&ah<15||gg&&gJ<604;Ro.copy=Do.cut=(e,t)=>{let n=t,r=e.state.selection,i=n.type=="cut";if(r.empty)return;let o=G0?null:n.clipboardData,s=r.content(),{dom:a,text:l}=yM(e,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):yX(e,a),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function wX(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function bX(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?K0(e,r.value,null,i,t):K0(e,r.textContent,r.innerHTML,i,t)},50)}function K0(e,t,n,r,i){let o=wM(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,i,o||Ct.empty)))return!0;if(!o)return!1;let s=wX(o),a=s?e.state.tr.replaceSelectionWith(s,r):e.state.tr.replaceSelection(o);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function _M(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Do.paste=(e,t)=>{let n=t;if(e.composing&&!Ia)return;let r=G0?null:n.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&K0(e,_M(r),r.getData("text/html"),i,n)?n.preventDefault():bX(e,n)};class OM{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const PM=Zs?"altKey":"ctrlKey";Ro.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,o=i.empty?null:e.posAtCoords(pw(n)),s;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof Mt?i.to-1:i.to))){if(r&&r.mightDrag)s=Mt.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let h=e.docView.nearestDesc(n.target,!0);h&&h.node.type.spec.draggable&&h!=e.docView&&(s=Mt.create(e.state.doc,h.posBefore))}}let a=(s||e.state.selection).content(),{dom:l,text:c}=yM(e,a);n.dataTransfer.clearData(),n.dataTransfer.setData(G0?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",G0||n.dataTransfer.setData("text/plain",c),e.dragging=new OM(a,!n[PM],s)};Ro.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};Do.dragover=Do.dragenter=(e,t)=>t.preventDefault();Do.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(pw(n));if(!i)return;let o=e.state.doc.resolve(i.pos),s=r&&r.slice;s?e.someProp("transformPasted",m=>{s=m(s,e)}):s=wM(e,_M(n.dataTransfer),G0?null:n.dataTransfer.getData("text/html"),!1,o);let a=!!(r&&!n[PM]);if(e.someProp("handleDrop",m=>m(e,n,s||Ct.empty,a))){n.preventDefault();return}if(!s)return;n.preventDefault();let l=s?sY(e.state.doc,o.pos,s):o.pos;l==null&&(l=o.pos);let c=e.state.tr;if(a){let{node:m}=r;m?m.replace(c):c.deleteSelection()}let h=c.mapping.map(l),f=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,g=c.doc;if(f?c.replaceRangeWith(h,h,s.content.firstChild):c.replaceRange(h,h,s),c.doc.eq(g))return;let d=c.doc.resolve(h);if(f&&Mt.isSelectable(s.content.firstChild)&&d.nodeAfter&&d.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new Mt(d));else{let m=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((y,C,x,w)=>m=w),c.setSelection(V7(e,d,c.doc.resolve(m)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))};Ro.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Cc(e)},20))};Ro.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};Ro.beforeinput=(e,t)=>{if(lo&&Ia&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:n}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=n||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",i=>i(e,bf(8,"Backspace")))))return;let{$cursor:r}=e.state.selection;r&&r.pos>0&&e.dispatch(e.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let e in Do)Ro[e]=Do[e];function Y0(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class U5{constructor(t,n){this.toDOM=t,this.spec=n||Ff,this.side=this.spec.side||0}map(t,n,r,i){let{pos:o,deleted:s}=t.mapResult(n.from+i,this.side<0?-1:1);return s?null:new ra(o-r,o-r,this)}valid(){return!0}eq(t){return this==t||t instanceof U5&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Y0(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class ch{constructor(t,n){this.attrs=t,this.spec=n||Ff}map(t,n,r,i){let o=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new ra(o,s,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof ch&&Y0(this.attrs,t.attrs)&&Y0(this.spec,t.spec)}static is(t){return t.type instanceof ch}destroy(){}}let xX=class TM{constructor(t,n){this.attrs=t,this.spec=n||Ff}map(t,n,r,i){let o=t.mapResult(n.from+i,1);if(o.deleted)return null;let s=t.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new ra(o.pos-r,s.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),o;return i==n.from&&!(o=t.child(r)).isText&&i+o.nodeSize==n.to}eq(t){return this==t||t instanceof TM&&Y0(this.attrs,t.attrs)&&Y0(this.spec,t.spec)}destroy(){}};class ra{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new ra(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new ra(t,t,new U5(n,r))}static inline(t,n,r,i){return new ra(t,n,new ch(r,i))}static node(t,n,r,i){return new ra(t,n,new xX(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof ch}get widget(){return this.type instanceof U5}}const hp=[],Ff={};class ci{constructor(t,n){this.local=t.length?t:hp,this.children=n.length?n:hp}static create(t,n){return n.length?q5(n,t,0,Ff):io}find(t,n,r){let i=[];return this.findInner(t??0,n??1e9,i,0,r),i}findInner(t,n,r,i,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=n&&a.to>=t&&(!o||o(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>t){let a=this.children[s]+1;this.children[s+2].findInner(t-a,n-a,r,i+a,o)}}map(t,n,r){return this==io||t.maps.length==0?this:this.mapInner(t,n,0,0,r||Ff)}mapInner(t,n,r,i,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(t,r,i);l&&l.type.valid(n,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?SX(this.children,s||[],t,n,r,i,o):s?new ci(s.sort(jf),hp):io}add(t,n){return n.length?this==io?ci.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,o=0;t.forEach((a,l)=>{let c=l+r,h;if(h=RM(n,a,c)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(a,h,c+1):i.splice(o,0,l,l+a.nodeSize,q5(h,a,c+1,Ff)),o+=3}});let s=MM(o?DM(n):n,-r);for(let a=0;a<s.length;a++)s[a].type.valid(t,s[a])||s.splice(a--,1);return new ci(s.length?this.local.concat(s).sort(jf):this.local,i||this.children)}remove(t){return t.length==0||this==io?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,a=r[o]+n,l=r[o+1]+n;for(let h=0,f;h<t.length;h++)(f=t[h])&&f.from>a&&f.to<l&&(t[h]=null,(s||(s=[])).push(f));if(!s)continue;r==this.children&&(r=this.children.slice());let c=r[o+2].removeInner(s,a+1);c!=io?r[o+2]=c:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<t.length;o++)if(s=t[o])for(let a=0;a<i.length;a++)i[a].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new ci(i,r):io}forChild(t,n){if(this==io)return this;if(n.isLeaf)return ci.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(r=this.children[a+2]);break}let o=t+1,s=o+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof ch){let c=Math.max(o,l.from)-o,h=Math.min(s,l.to)-o;c<h&&(i||(i=[])).push(l.copy(c,h))}}if(i){let a=new ci(i.sort(jf),hp);return r?new qu([a,r]):a}return r||io}eq(t){if(this==t)return!0;if(!(t instanceof ci)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return H7(this.localsInner(t))}localsInner(t){if(this==io)return hp;if(t.inlineContent||!this.local.some(ch.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof ch||n.push(this.local[r]);return n}}ci.empty=new ci([],[]);ci.removeOverlap=H7;const io=ci.empty;class qu{constructor(t){this.members=t}map(t,n){const r=this.members.map(i=>i.map(t,n,Ff));return qu.from(r)}forChild(t,n){if(n.isLeaf)return ci.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(t,n);o!=io&&(o instanceof qu?r=r.concat(o.members):r.push(o))}return qu.from(r)}eq(t){if(!(t instanceof qu)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(t);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?H7(r?n:n.sort(jf)):hp}static from(t){switch(t.length){case 0:return io;case 1:return t[0];default:return new qu(t.every(n=>n instanceof ci)?t:t.reduce((n,r)=>n.concat(r instanceof ci?r:r.members),[]))}}}function SX(e,t,n,r,i,o,s){let a=e.slice();for(let c=0,h=o;c<n.maps.length;c++){let f=0;n.maps[c].forEach((g,d,m,y)=>{let C=y-m-(d-g);for(let x=0;x<a.length;x+=3){let w=a[x+1];if(w<0||g>w+h-f)continue;let E=a[x]+h-f;d>=E?a[x+1]=g<=E?-2:-1:m>=i&&C&&(a[x]+=C,a[x+1]+=C)}f+=C}),h=n.maps[c].map(h,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let h=n.map(e[c]+o),f=h-i;if(f<0||f>=r.content.size){l=!0;continue}let g=n.map(e[c+1]+o,-1),d=g-i,{index:m,offset:y}=r.content.findIndex(f),C=r.maybeChild(m);if(C&&y==f&&y+C.nodeSize==d){let x=a[c+2].mapInner(n,C,h+1,e[c]+o+1,s);x!=io?(a[c]=f,a[c+1]=d,a[c+2]=x):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=CX(a,e,t,n,i,o,s),h=q5(c,r,0,s);t=h.local;for(let f=0;f<a.length;f+=3)a[f+1]<0&&(a.splice(f,3),f-=3);for(let f=0,g=0;f<h.children.length;f+=3){let d=h.children[f];for(;g<a.length&&a[g]<d;)g+=3;a.splice(g,0,h.children[f],h.children[f+1],h.children[f+2])}}return new ci(t.sort(jf),a)}function MM(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new ra(i.from+t,i.to+t,i.type))}return n}function CX(e,t,n,r,i,o,s){function a(l,c){for(let h=0;h<l.local.length;h++){let f=l.local[h].map(r,i,c);f?n.push(f):s.onRemove&&s.onRemove(l.local[h].spec)}for(let h=0;h<l.children.length;h+=3)a(l.children[h+2],l.children[h]+c+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&a(e[l+2],t[l]+o+1);return n}function RM(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let o=0,s;o<e.length;o++)(s=e[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),e[o]=null);return i}function DM(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function q5(e,t,n,r){let i=[],o=!1;t.forEach((a,l)=>{let c=RM(e,a,l+n);if(c){o=!0;let h=q5(c,a,n+l+1,r);h!=io&&i.push(l,l+a.nodeSize,h)}});let s=MM(o?DM(e):e,-n).sort(jf);for(let a=0;a<s.length;a++)s[a].type.valid(t,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new ci(s,i):io}function jf(e,t){return e.from-t.from||e.to-t.to}function H7(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let o=t[i];if(o.from==r.from){o.to!=r.to&&(t==e&&(t=e.slice()),t[i]=o.copy(o.from,r.to),UA(t,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,o.from),UA(t,i,r.copy(o.from,r.to)));break}}}return t}function UA(e,t,n){for(;t<e.length&&jf(n,e[t])>0;)t++;e.splice(t,0,n)}function zx(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=io&&t.push(r)}),e.cursorWrapper&&t.push(ci.create(e.state.doc,[e.cursorWrapper.deco])),qu.from(t)}const kX={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},EX=ts&&ah<=11;class AX{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class NX{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new AX,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);ts&&ah<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),EX&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,kX)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(DA(this.view)){if(this.suppressingSelectionUpdates)return Cc(this.view);if(ts&&ah<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Qf(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let o=t.focusNode;o;o=H0(o))n.add(o);for(let o=t.anchorNode;o;o=H0(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&DA(t)&&!this.ignoreSelectionChange(r),o=-1,s=-1,a=!1,l=[];if(t.editable)for(let h=0;h<n.length;h++){let f=this.registerMutation(n[h],l);f&&(o=o<0?f.from:Math.min(f.from,o),s=s<0?f.to:Math.max(f.to,s),f.typeOver&&(a=!0))}if(Va&&l.length>1){let h=l.filter(f=>f.nodeName=="BR");if(h.length==2){let f=h[0],g=h[1];f.parentNode&&f.parentNode.parentNode==g.parentNode?g.remove():f.remove()}}let c=null;o<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&fw(r)&&(c=$7(t))&&c.eq(xn.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Cc(t),this.currentSelection.set(r),t.scrollToSelection()):(o>-1||i)&&(o>-1&&(t.docView.markDirty(o,s),LX(t)),this.handleDOMChange(o,s,a,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||Cc(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let h=0;h<t.addedNodes.length;h++)n.push(t.addedNodes[h]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,o=t.nextSibling;if(ts&&ah<=11&&t.addedNodes.length)for(let h=0;h<t.addedNodes.length;h++){let{previousSibling:f,nextSibling:g}=t.addedNodes[h];(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(i=f),(!g||Array.prototype.indexOf.call(t.addedNodes,g)<0)&&(o=g)}let s=i&&i.parentNode==t.target?_o(i)+1:0,a=r.localPosFromDOM(t.target,s,-1),l=o&&o.parentNode==t.target?_o(o):t.target.childNodes.length,c=r.localPosFromDOM(t.target,l,1);return{from:a,to:c}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}}}let qA=new WeakMap,WA=!1;function LX(e){if(!qA.has(e)&&(qA.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=Va,WA)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),WA=!0}}function _X(e){let t;function n(l){l.preventDefault(),l.stopImmediatePropagation(),t=l.getTargetRanges()[0]}e.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",n,!0);let r=t.startContainer,i=t.startOffset,o=t.endContainer,s=t.endOffset,a=e.domAtPos(e.state.selection.anchor);return Qf(a.node,a.offset,o,s)&&([r,i,o,s]=[o,s,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}function OX(e,t,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:a}=e.docView.parseRange(t,n),l=e.domSelectionRange(),c,h=l.anchorNode;if(h&&e.dom.contains(h.nodeType==1?h:h.parentNode)&&(c=[{node:h,offset:l.anchorOffset}],fw(l)||c.push({node:l.focusNode,offset:l.focusOffset})),lo&&e.input.lastKeyCode===8)for(let C=o;C>i;C--){let x=r.childNodes[C-1],w=x.pmViewDesc;if(x.nodeName=="BR"&&!w){o=C;break}if(!w||w.size)break}let f=e.state.doc,g=e.someProp("domParser")||Xf.fromSchema(e.state.schema),d=f.resolve(s),m=null,y=g.parse(r,{topNode:d.parent,topMatch:d.parent.contentMatchAt(d.index()),topOpen:!0,from:i,to:o,preserveWhitespace:d.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:PX,context:d});if(c&&c[0].pos!=null){let C=c[0].pos,x=c[1]&&c[1].pos;x==null&&(x=C),m={anchor:C+s,head:x+s}}return{doc:y,sel:m,from:s,to:a}}function PX(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(Mo&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||Mo&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const TX=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function MX(e,t,n,r,i){let o=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let W=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,G=$7(e,W);if(G&&!e.state.selection.eq(G)){if(lo&&Ia&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",z=>z(e,bf(13,"Enter"))))return;let O=e.state.tr.setSelection(G);W=="pointer"?O.setMeta("pointer",!0):W=="key"&&O.scrollIntoView(),o&&O.setMeta("composition",o),e.dispatch(O)}return}let s=e.state.doc.resolve(t),a=s.sharedDepth(n);t=s.before(a+1),n=e.state.doc.resolve(n).after(a+1);let l=e.state.selection,c=OX(e,t,n),h=e.state.doc,f=h.slice(c.from,c.to),g,d;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(g=e.state.selection.to,d="end"):(g=e.state.selection.from,d="start"),e.input.lastKeyCode=null;let m=IX(f.content,c.doc.content,c.from,g,d);if((gg&&e.input.lastIOSEnter>Date.now()-225||Ia)&&i.some(W=>W.nodeType==1&&!TX.test(W.nodeName))&&(!m||m.endA>=m.endB)&&e.someProp("handleKeyDown",W=>W(e,bf(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!m)if(r&&l instanceof En&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let W=HA(e,e.state.doc,c.sel);if(W&&!W.eq(e.state.selection)){let G=e.state.tr.setSelection(W);o&&G.setMeta("composition",o),e.dispatch(G)}}return}if(lo&&e.cursorWrapper&&c.sel&&c.sel.anchor==e.cursorWrapper.deco.from&&c.sel.head==c.sel.anchor){let W=m.endB-m.start;c.sel={anchor:c.sel.anchor+W,head:c.sel.anchor+W}}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&m.start==m.endB&&e.state.selection instanceof En&&(m.start>e.state.selection.from&&m.start<=e.state.selection.from+2&&e.state.selection.from>=c.from?m.start=e.state.selection.from:m.endA<e.state.selection.to&&m.endA>=e.state.selection.to-2&&e.state.selection.to<=c.to&&(m.endB+=e.state.selection.to-m.endA,m.endA=e.state.selection.to)),ts&&ah<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>c.from&&c.doc.textBetween(m.start-c.from-1,m.start-c.from+1)==" "&&(m.start--,m.endA--,m.endB--);let y=c.doc.resolveNoCache(m.start-c.from),C=c.doc.resolveNoCache(m.endB-c.from),x=h.resolve(m.start),w=y.sameParent(C)&&y.parent.inlineContent&&x.end()>=m.endA,E;if((gg&&e.input.lastIOSEnter>Date.now()-225&&(!w||i.some(W=>W.nodeName=="DIV"||W.nodeName=="P"))||!w&&y.pos<c.doc.content.size&&!y.sameParent(C)&&(E=xn.findFrom(c.doc.resolve(y.pos+1),1,!0))&&E.head==C.pos)&&e.someProp("handleKeyDown",W=>W(e,bf(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>m.start&&DX(h,m.start,m.endA,y,C)&&e.someProp("handleKeyDown",W=>W(e,bf(8,"Backspace")))){Ia&&lo&&e.domObserver.suppressSelectionUpdates();return}lo&&Ia&&m.endB==m.start&&(e.input.lastAndroidDelete=Date.now()),Ia&&!w&&y.start()!=C.start()&&C.parentOffset==0&&y.depth==C.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==m.endA&&(m.endB-=2,C=c.doc.resolveNoCache(m.endB-c.from),setTimeout(()=>{e.someProp("handleKeyDown",function(W){return W(e,bf(13,"Enter"))})},20));let N=m.start,_=m.endA,D,P,I;if(w){if(y.pos==C.pos)ts&&ah<=11&&y.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Cc(e),20)),D=e.state.tr.delete(N,_),P=h.resolve(m.start).marksAcross(h.resolve(m.endA));else if(m.endA==m.endB&&(I=RX(y.parent.content.cut(y.parentOffset,C.parentOffset),x.parent.content.cut(x.parentOffset,m.endA-x.start()))))D=e.state.tr,I.type=="add"?D.addMark(N,_,I.mark):D.removeMark(N,_,I.mark);else if(y.parent.child(y.index()).isText&&y.index()==C.index()-(C.textOffset?0:1)){let W=y.parent.textBetween(y.parentOffset,C.parentOffset);if(e.someProp("handleTextInput",G=>G(e,N,_,W)))return;D=e.state.tr.insertText(W,N,_)}}if(D||(D=e.state.tr.replace(N,_,c.doc.slice(m.start-c.from,m.endB-c.from))),c.sel){let W=HA(e,D.doc,c.sel);W&&!(lo&&Ia&&e.composing&&W.empty&&(m.start!=m.endB||e.input.lastAndroidDelete<Date.now()-100)&&(W.head==N||W.head==D.mapping.map(_)-1)||ts&&W.empty&&W.head==N)&&D.setSelection(W)}P&&D.ensureMarks(P),o&&D.setMeta("composition",o),e.dispatch(D.scrollIntoView())}function HA(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:V7(e,t.resolve(n.anchor),t.resolve(n.head))}function RX(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,i=n,o=r,s,a,l;for(let h=0;h<r.length;h++)i=r[h].removeFromSet(i);for(let h=0;h<n.length;h++)o=n[h].removeFromSet(o);if(i.length==1&&o.length==0)a=i[0],s="add",l=h=>h.mark(a.addToSet(h.marks));else if(i.length==0&&o.length==1)a=o[0],s="remove",l=h=>h.mark(a.removeFromSet(h.marks));else return null;let c=[];for(let h=0;h<t.childCount;h++)c.push(l(t.child(h)));if(ut.from(c).eq(e))return{mark:a,type:s}}function DX(e,t,n,r,i){if(!r.parent.isTextblock||n-t<=i.pos-r.pos||Fx(r,!0,!1)<i.pos)return!1;let o=e.resolve(t);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=e.resolve(Fx(o,!0,!0));return!s.parent.isTextblock||s.pos>n||Fx(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function Fx(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let o=e.node(r).maybeChild(e.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function IX(e,t,n,r,i){let o=e.findDiffStart(t,n);if(o==null)return null;let{a:s,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if(i=="end"){let l=Math.max(0,o-Math.min(s,a));r-=s+l-o}if(s<o&&e.size<t.size){let l=r<=o&&r>=s?o-r:0;o-=l,o&&o<t.size&&GA(t.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}else if(a<o){let l=r<=o&&r>=a?o-r:0;o-=l,o&&o<e.size&&GA(e.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}function GA(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class zX{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new rX,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(QA),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=JA(this),YA(this),this.nodeViews=XA(this),this.docView=_A(this.state.doc,KA(this),zx(this),this.dom,this),this.domObserver=new NX(this,(r,i,o,s)=>MX(this,r,i,o,s)),this.domObserver.start(),iX(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&h6(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(QA),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let i=this.state,o=!1,s=!1;t.storedMarks&&this.composing&&(LM(this),s=!0),this.state=t;let a=i.plugins!=t.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let d=XA(this);jX(d,this.nodeViews)&&(this.nodeViews=d,o=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&h6(this),this.editable=JA(this),YA(this);let l=zx(this),c=KA(this),h=i.plugins!=t.plugins&&!i.doc.eq(t.doc)?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",f=o||!this.docView.matchesNode(t.doc,c,l);(f||!t.selection.eq(i.selection))&&(s=!0);let g=h=="preserve"&&s&&this.dom.style.overflowAnchor==null&&yJ(this);if(s){this.domObserver.stop();let d=f&&(ts||lo)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&FX(i.selection,t.selection);if(f){let m=lo?this.trackWrites=this.domSelectionRange().focusNode:null;(o||!this.docView.update(t.doc,c,l,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=_A(t.doc,c,l,this.dom,this)),m&&!this.trackWrites&&(d=!0)}d||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&UJ(this))?Cc(this,d):(gM(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),h=="reset"?this.dom.scrollTop=0:h=="to selection"?this.scrollToSelection():g&&wJ(g)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Mt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&CA(this,n.getBoundingClientRect(),t)}else CA(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new OM(t.slice,t.move,i<0?void 0:Mt.create(this.state.doc,i))}someProp(t,n){let r=this._props&&this._props[t],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[t];if(a!=null&&(i=n?n(a):a))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[t];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(ts){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&bJ(this.dom),Cc(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return EJ(this,t)}coordsAtPos(t,n=1){return aM(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let i=this.docView.posFromDOM(t,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,n){return OJ(this,n||this.state,t)}pasteHTML(t,n){return K0(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return K0(this,t,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(oX(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],zx(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(t){return aX(this,t)}dispatch(t){let n=this._props.dispatchTransaction;n?n.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){return Mo&&this.root.nodeType===11&&hJ(this.dom.ownerDocument)==this.dom?_X(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function KA(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[ra.node(0,e.state.doc.content.size,t)]}function YA(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:ra.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function JA(e){return!e.someProp("editable",t=>t(e.state)===!1)}function FX(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function XA(e){let t=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=r[i])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function jX(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r}function QA(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}class Ir extends xn{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return Ir.valid(r)?new Ir(r):xn.near(r)}content(){return Ct.empty}eq(t){return t instanceof Ir&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Ir(t.resolve(n.pos))}getBookmark(){return new G7(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!BX(t)||!$X(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&Ir.valid(t))return t;let i=t.pos,o=null;for(let s=t.depth;;s--){let a=t.node(s);if(n>0?t.indexAfter(s)<a.childCount:t.index(s)>0){o=a.child(n>0?t.indexAfter(s):t.index(s)-1);break}else if(s==0)return null;i+=n;let l=t.doc.resolve(i);if(Ir.valid(l))return l}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!Mt.isSelectable(o)){t=t.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=s,i+=n;let a=t.doc.resolve(i);if(Ir.valid(a))return a}return null}}}Ir.prototype.visible=!1;Ir.findFrom=Ir.findGapCursorFrom;xn.jsonID("gapcursor",Ir);class G7{constructor(t){this.pos=t}map(t){return new G7(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return Ir.valid(n)?new Ir(n):xn.near(n)}}function BX(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function $X(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function VX(){return new E2({props:{decorations:HX,createSelectionBetween(e,t,n){return t.pos==n.pos&&Ir.valid(n)?new Ir(n):null},handleClick:qX,handleKeyDown:UX,handleDOMEvents:{beforeinput:WX}}})}const UX=lJ({ArrowLeft:X1("horiz",-1),ArrowRight:X1("horiz",1),ArrowUp:X1("vert",-1),ArrowDown:X1("vert",1)});function X1(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,o){let s=r.selection,a=t>0?s.$to:s.$from,l=s.empty;if(s instanceof En){if(!o.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(t>0?a.after():a.before())}let c=Ir.findGapCursorFrom(a,t,l);return c?(i&&i(r.tr.setSelection(new Ir(c))),!0):!1}}function qX(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!Ir.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Mt.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new Ir(r))),!0)}function WX(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof Ir))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=ut.empty;for(let s=r.length-1;s>=0;s--)i=ut.from(r[s].createAndFill(null,i));let o=e.state.tr.replace(n.pos,n.pos,new Ct(i,0,0));return o.setSelection(En.near(o.doc.resolve(n.pos+1))),e.dispatch(o),!1}function HX(e){if(!(e.selection instanceof Ir))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",ci.create(e.doc,[ra.widget(e.selection.head,t,{key:"gapcursor"})])}var W5=200,Ei=function(){};Ei.prototype.append=function(e){return e.length?(e=Ei.from(e),!this.length&&e||e.length<W5&&this.leafAppend(e)||this.length<W5&&e.leafPrepend(this)||this.appendInner(e)):this};Ei.prototype.prepend=function(e){return e.length?Ei.from(e).append(this):this};Ei.prototype.appendInner=function(e){return new GX(this,e)};Ei.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Ei.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Ei.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ei.prototype.forEach=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)};Ei.prototype.map=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length);var r=[];return this.forEach(function(i,o){return r.push(e(i,o))},t,n),r};Ei.from=function(e){return e instanceof Ei?e:e&&e.length?new IM(e):Ei.empty};var IM=function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(r,i){return r==0&&i==this.length?this:new t(this.values.slice(r,i))},t.prototype.getInner=function(r){return this.values[r]},t.prototype.forEachInner=function(r,i,o,s){for(var a=i;a<o;a++)if(r(this.values[a],s+a)===!1)return!1},t.prototype.forEachInvertedInner=function(r,i,o,s){for(var a=i-1;a>=o;a--)if(r(this.values[a],s+a)===!1)return!1},t.prototype.leafAppend=function(r){if(this.length+r.length<=W5)return new t(this.values.concat(r.flatten()))},t.prototype.leafPrepend=function(r){if(this.length+r.length<=W5)return new t(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(Ei);Ei.empty=new IM([]);var GX=function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},t.prototype.forEachInner=function(n,r,i,o){var s=this.left.length;if(r<s&&this.left.forEachInner(n,r,Math.min(i,s),o)===!1||i>s&&this.right.forEachInner(n,Math.max(r-s,0),Math.min(this.length,i)-s,o+s)===!1)return!1},t.prototype.forEachInvertedInner=function(n,r,i,o){var s=this.left.length;if(r>s&&this.right.forEachInvertedInner(n,r-s,Math.max(i,s)-s,o+s)===!1||i<s&&this.left.forEachInvertedInner(n,Math.min(r,s),i,o)===!1)return!1},t.prototype.sliceInner=function(n,r){if(n==0&&r==this.length)return this;var i=this.left.length;return r<=i?this.left.slice(n,r):n>=i?this.right.slice(n-i,r-i):this.left.slice(n,i).append(this.right.slice(0,r-i))},t.prototype.leafAppend=function(n){var r=this.right.leafAppend(n);if(r)return new t(this.left,r)},t.prototype.leafPrepend=function(n){var r=this.left.leafPrepend(n);if(r)return new t(r,this.right)},t.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new t(this.left,new t(this.right,n)):new t(this,n)},t}(Ei);const KX=500;class za{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=t.tr,a,l,c=[],h=[];return this.items.forEach((f,g)=>{if(!f.step){i||(i=this.remapping(r,g+1),o=i.maps.length),o--,h.push(f);return}if(i){h.push(new ml(f.map));let d=f.step.map(i.slice(o)),m;d&&s.maybeStep(d).doc&&(m=s.mapping.maps[s.mapping.maps.length-1],c.push(new ml(m,void 0,void 0,c.length+h.length))),o--,m&&i.appendMap(m,o)}else s.maybeStep(f.step);if(f.selection)return a=i?f.selection.map(i.slice(o)):f.selection,l=new za(this.items.slice(0,r).append(h.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(t,n,r,i){let o=[],s=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let h=0;h<t.steps.length;h++){let f=t.steps[h].invert(t.docs[h]),g=new ml(t.mapping.maps[h],f,n),d;(d=l&&l.merge(g))&&(g=d,h?o.pop():a=a.slice(0,a.length-1)),o.push(g),n&&(s++,n=void 0),i||(l=g)}let c=s-r.depth;return c>JX&&(a=YX(a,c),s-=c),new za(a.append(o),s)}remapping(t,n){let r=new Hp;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},t,n),r}addMaps(t){return this.eventCount==0?this:new za(this.items.append(t.map(n=>new ml(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=t.mapping,s=t.steps.length,a=this.eventCount;this.items.forEach(g=>{g.selection&&a--},i);let l=n;this.items.forEach(g=>{let d=o.getMirror(--l);if(d==null)return;s=Math.min(s,d);let m=o.maps[d];if(g.step){let y=t.steps[d].invert(t.docs[d]),C=g.selection&&g.selection.map(o.slice(l+1,d));C&&a++,r.push(new ml(m,y,C))}else r.push(new ml(m))},i);let c=[];for(let g=n;g<s;g++)c.push(new ml(o.maps[g]));let h=this.items.slice(0,i).append(c).append(r),f=new za(h,a);return f.emptyItemCount()>KX&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],o=0;return this.items.forEach((s,a)=>{if(a>=t)i.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let h=s.selection&&s.selection.map(n.slice(r));h&&o++;let f=new ml(c.invert(),l,h),g,d=i.length-1;(g=i.length&&i[d].merge(f))?i[d]=g:i.push(f)}}else s.map&&r--},this.items.length,0),new za(Ei.from(i.reverse()),o)}}za.empty=new za(Ei.empty,0);function YX(e,t){let n;return e.forEach((r,i)=>{if(r.selection&&t--==0)return n=i,!1}),e.slice(n)}class ml{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new ml(n.getMap().invert(),n,this.selection)}}}class Bu{constructor(t,n,r,i,o){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const JX=20;function XX(e,t,n,r){let i=n.getMeta(uh),o;if(i)return i.historyState;n.getMeta(ZX)&&(e=new Bu(e.done,e.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(s&&s.getMeta(uh))return s.getMeta(uh).redo?new Bu(e.done.addTransform(n,void 0,r,jv(t)),e.undone,ZA(n.mapping.maps[n.steps.length-1]),e.prevTime,e.prevComposition):new Bu(e.done,e.undone.addTransform(n,void 0,r,jv(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=e.prevTime==0||!s&&e.prevComposition!=a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!QX(n,e.prevRanges)),c=s?jx(e.prevRanges,n.mapping):ZA(n.mapping.maps[n.steps.length-1]);return new Bu(e.done.addTransform(n,l?t.selection.getBookmark():void 0,r,jv(t)),za.empty,c,n.time,a??e.prevComposition)}else return(o=n.getMeta("rebased"))?new Bu(e.done.rebased(n,o),e.undone.rebased(n,o),jx(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new Bu(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),jx(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function QX(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<t.length;o+=2)r<=t[o+1]&&i>=t[o]&&(n=!0)}),n}function ZA(e){let t=[];return e.forEach((n,r,i,o)=>t.push(i,o)),t}function jx(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),o=t.map(e[r+1],-1);i<=o&&n.push(i,o)}return n}function zM(e,t,n,r){let i=jv(t),o=uh.get(t).spec.config,s=(r?e.undone:e.done).popEvent(t,i);if(!s)return;let a=s.selection.resolve(s.transform.doc),l=(r?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),o,i),c=new Bu(r?l:s.remaining,r?s.remaining:l,null,0,-1);n(s.transform.setSelection(a).setMeta(uh,{redo:r,historyState:c}).scrollIntoView())}let Bx=!1,eN=null;function jv(e){let t=e.plugins;if(eN!=t){Bx=!1,eN=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){Bx=!0;break}}return Bx}const uh=new GT("history"),ZX=new GT("closeHistory");function eQ(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new E2({key:uh,state:{init(){return new Bu(za.empty,za.empty,null,0,-1)},apply(t,n,r){return XX(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i=r=="historyUndo"?FM:r=="historyRedo"?jM:null;return i?(n.preventDefault(),i(t.state,t.dispatch)):!1}}}})}const FM=(e,t)=>{let n=uh.getState(e);return!n||n.done.eventCount==0?!1:(t&&zM(n,e,t,!1),!0)},jM=(e,t)=>{let n=uh.getState(e);return!n||n.undone.eventCount==0?!1:(t&&zM(n,e,t,!0),!0)},tQ={attrs:{textAlign:{default:null},color:{default:null},fontFamily:{default:null},fontSize:{default:null},lineHeight:{default:null},letterSpacing:{default:null},textTransform:{default:null},marginLeft:{default:null},indent:{default:null},listType:{default:""}},content:"inline*",group:"block",parseDOM:[{tag:"p",getAttrs:e=>nQ(e)}],toDOM:e=>rQ(e)},nQ=e=>{const{lineHeight:t,letterSpacing:n,textTransform:r,textAlign:i,fontFamily:o,fontSize:s,color:a}=e.style,l=e.getAttribute("data-indent"),c=l?parseInt(l,10):0,h=c&&e.getAttribute("data-list-type")==="ordered"?"ordered":"";return{textAlign:i,textTransform:r,lineHeight:t,letterSpacing:parseInt(n),fontFamily:o.replaceAll('"',""),fontSize:s,color:a,indent:c,listType:h}},rQ=e=>{const{textAlign:t,textTransform:n,lineHeight:r,letterSpacing:i,fontFamily:o,fontSize:s,color:a,indent:l,listType:c}=e.attrs,h={};let f="";if(t&&t!=="left"&&(f+=`text-align: ${t};`),o&&(f+=`font-family: '${o}';`),n&&(f+=`text-transform: ${n};`),s&&(f+=`font-size: ${s};`),a&&(f+=`color: ${a};`),l)if(f+=`--indent-level: ${l};`,f+="display: list-item;",h["data-indent"]=String(l),h["data-list-type"]=c,c==="ordered"){f+="list-style-type: none;";const g=["decimal","lower-alpha","lower-roman"],d=g[(l-1)%g.length];f+=`--counter-list-marker: ${d};`}else f+="list-style-type: disc;";return f+=`line-height: ${r||1.4};`,f+=`letter-spacing: ${i?i+"em":"normal"};`,f&&(h.style=f),["p",h,0]},iQ={parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM(){return["em",0]}},oQ={parseDOM:[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!="normal"&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM(){return["strong",0]}},sQ={parseDOM:[{tag:"u"},{style:"text-decoration-line",getAttrs:e=>e==="underline"&&null},{style:"text-decoration",getAttrs:e=>e==="underline"&&null}],toDOM(){return["u",0]}},aQ={content:"paragraph block*",parseDOM:[{tag:"li"}],attrs:{align:{default:null},style:{default:"display: list-item; "}},toDOM(e){return["li",e.attrs,0]},defining:!0},lQ={content:"listItem+",group:"block",attrs:{align:{default:null},style:{default:"list-style-type: disc;padding-left: 1.7em;margin:0;"}},parseDOM:[{tag:"ul"}],toDOM(e){return["ul",e.attrs,0]}},cQ={attrs:{color:{default:""}},inline:!0,group:"inline",parseDOM:[{style:"color",getAttrs:e=>({color:e})}],toDOM(e){const{color:t}=e.attrs;let n="";return t&&(n+=`color: ${t};`),["span",{style:n},0]}},uQ=["br"],hQ={doc:{content:"block+"},paragraph:tQ,listItem:aQ,bulletList:lQ,text:{group:"inline"},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return uQ}}},fQ={link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(e){return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM(e){const{href:t,title:n}=e.attrs;return["a",{href:t,title:n},0]}},italic:iQ,bold:oQ,underline:sQ,color:cQ},tN=new PT({nodes:hQ,marks:fQ});class dQ{constructor(){_n(this,"callbacks",{})}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),this}emit(t,...n){const r=this.callbacks[t];return r&&r.forEach(i=>i.apply(this,n)),this}off(t,n){const r=this.callbacks[t];return r&&(n?this.callbacks[t]=r.filter(i=>i!==n):delete this.callbacks[t]),this}}const nN=e=>!!((e.clientX||e.clientX===0)&&(e.clientY||e.clientY===0)),f6=e=>!!(e.touches&&e.touches.length),zr=e=>f6(e)?e.touches[0]:e;var bt={},d6={exports:{}};(function(e,t){(function(n,r){var i="1.0.37",o="",s="?",a="function",l="undefined",c="object",h="string",f="major",g="model",d="name",m="type",y="vendor",C="version",x="architecture",w="console",E="mobile",N="tablet",_="smarttv",D="wearable",P="embedded",I=500,W="Amazon",G="Apple",O="ASUS",z="BlackBerry",U="Browser",$="Chrome",ne="Edge",se="Firefox",ae="Google",Z="Huawei",le="LG",ue="Microsoft",ge="Motorola",F="Opera",Q="Samsung",re="Sharp",he="Sony",pe="Xiaomi",Se="Zebra",xe="Facebook",Ee="Chromium OS",Ge="Mac OS",Be=function(Oe,qe){var Qe={};for(var nt in Oe)qe[nt]&&qe[nt].length%2===0?Qe[nt]=qe[nt].concat(Oe[nt]):Qe[nt]=Oe[nt];return Qe},Ke=function(Oe){for(var qe={},Qe=0;Qe<Oe.length;Qe++)qe[Oe[Qe].toUpperCase()]=Oe[Qe];return qe},it=function(Oe,qe){return typeof Oe===h?at(qe).indexOf(at(Oe))!==-1:!1},at=function(Oe){return Oe.toLowerCase()},Re=function(Oe){return typeof Oe===h?Oe.replace(/[^\d\.]/g,o).split(".")[0]:r},fe=function(Oe,qe){if(typeof Oe===h)return Oe=Oe.replace(/^\s\s*/,o),typeof qe===l?Oe:Oe.substring(0,I)},vt=function(Oe,qe){for(var Qe=0,nt,lt,xt,Ve,ot,Et;Qe<qe.length&&!ot;){var mn=qe[Qe],Jt=qe[Qe+1];for(nt=lt=0;nt<mn.length&&!ot&&mn[nt];)if(ot=mn[nt++].exec(Oe),ot)for(xt=0;xt<Jt.length;xt++)Et=ot[++lt],Ve=Jt[xt],typeof Ve===c&&Ve.length>0?Ve.length===2?typeof Ve[1]==a?this[Ve[0]]=Ve[1].call(this,Et):this[Ve[0]]=Ve[1]:Ve.length===3?typeof Ve[1]===a&&!(Ve[1].exec&&Ve[1].test)?this[Ve[0]]=Et?Ve[1].call(this,Et,Ve[2]):r:this[Ve[0]]=Et?Et.replace(Ve[1],Ve[2]):r:Ve.length===4&&(this[Ve[0]]=Et?Ve[3].call(this,Et.replace(Ve[1],Ve[2])):r):this[Ve]=Et||r;Qe+=2}},De=function(Oe,qe){for(var Qe in qe)if(typeof qe[Qe]===c&&qe[Qe].length>0){for(var nt=0;nt<qe[Qe].length;nt++)if(it(qe[Qe][nt],Oe))return Qe===s?r:Qe}else if(it(qe[Qe],Oe))return Qe===s?r:Qe;return Oe},ze={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},je={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},oe={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[C,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[C,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,C],[/opios[\/ ]+([\w\.]+)/i],[C,[d,F+" Mini"]],[/\bopr\/([\w\.]+)/i],[C,[d,F]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[C,[d,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[d,C],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[C,[d,"UC"+U]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[C,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[C,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[C,[d,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[C,[d,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[C,[d,"Smart Lenovo "+U]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+U],C],[/\bfocus\/([\w\.]+)/i],[C,[d,se+" Focus"]],[/\bopt\/([\w\.]+)/i],[C,[d,F+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[C,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[C,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[C,[d,F+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[C,[d,"MIUI "+U]],[/fxios\/([-\w\.]+)/i],[C,[d,se]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 "+U]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 "+U],C],[/samsungbrowser\/([\w\.]+)/i],[C,[d,Q+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],C],[/metasr[\/ ]?([\d\.]+)/i],[C,[d,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[d,"Sogou Mobile"],C],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[d,C],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,xe],C],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[d,C],[/\bgsa\/([\w\.]+) .*safari\//i],[C,[d,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[C,[d,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[C,[d,$+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,$+" WebView"],C],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[C,[d,"Android "+U]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,C],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[C,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[C,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[C,De,ze]],[/(webkit|khtml)\/([\w\.]+)/i],[d,C],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],C],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[C,[d,se+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[d,C],[/(cobalt)\/([\w\.]+)/i],[d,[C,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[x,"amd64"]],[/(ia32(?=;))/i],[[x,at]],[/((?:i[346]|x)86)[;\)]/i],[[x,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[x,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[x,"armhf"]],[/windows (ce|mobile); ppc;/i],[[x,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[x,/ower/,o,at]],[/(sun4\w)[;\)]/i],[[x,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[x,at]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[g,[y,Q],[m,N]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[g,[y,Q],[m,E]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[g,[y,G],[m,E]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[g,[y,G],[m,N]],[/(macintosh);/i],[g,[y,G]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[g,[y,re],[m,E]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[g,[y,Z],[m,N]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[g,[y,Z],[m,E]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[g,/_/g," "],[y,pe],[m,E]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[g,/_/g," "],[y,pe],[m,N]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[g,[y,"OPPO"],[m,E]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[g,[y,"Vivo"],[m,E]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[g,[y,"Realme"],[m,E]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[g,[y,ge],[m,E]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[g,[y,ge],[m,N]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[g,[y,le],[m,N]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[g,[y,le],[m,E]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[g,[y,"Lenovo"],[m,N]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[g,/_/g," "],[y,"Nokia"],[m,E]],[/(pixel c)\b/i],[g,[y,ae],[m,N]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[g,[y,ae],[m,E]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[g,[y,he],[m,E]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[g,"Xperia Tablet"],[y,he],[m,N]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[g,[y,"OnePlus"],[m,E]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[g,[y,W],[m,N]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[g,/(.+)/g,"Fire Phone $1"],[y,W],[m,E]],[/(playbook);[-\w\),; ]+(rim)/i],[g,y,[m,N]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[g,[y,z],[m,E]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[g,[y,O],[m,N]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[g,[y,O],[m,E]],[/(nexus 9)/i],[g,[y,"HTC"],[m,N]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[y,[g,/_/g," "],[m,E]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[g,[y,"Acer"],[m,N]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[g,[y,"Meizu"],[m,E]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[g,[y,"Ulefone"],[m,E]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[y,g,[m,E]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[y,g,[m,N]],[/(surface duo)/i],[g,[y,ue],[m,N]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[g,[y,"Fairphone"],[m,E]],[/(u304aa)/i],[g,[y,"AT&T"],[m,E]],[/\bsie-(\w*)/i],[g,[y,"Siemens"],[m,E]],[/\b(rct\w+) b/i],[g,[y,"RCA"],[m,N]],[/\b(venue[\d ]{2,7}) b/i],[g,[y,"Dell"],[m,N]],[/\b(q(?:mv|ta)\w+) b/i],[g,[y,"Verizon"],[m,N]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[g,[y,"Barnes & Noble"],[m,N]],[/\b(tm\d{3}\w+) b/i],[g,[y,"NuVision"],[m,N]],[/\b(k88) b/i],[g,[y,"ZTE"],[m,N]],[/\b(nx\d{3}j) b/i],[g,[y,"ZTE"],[m,E]],[/\b(gen\d{3}) b.+49h/i],[g,[y,"Swiss"],[m,E]],[/\b(zur\d{3}) b/i],[g,[y,"Swiss"],[m,N]],[/\b((zeki)?tb.*\b) b/i],[g,[y,"Zeki"],[m,N]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[y,"Dragon Touch"],g,[m,N]],[/\b(ns-?\w{0,9}) b/i],[g,[y,"Insignia"],[m,N]],[/\b((nxa|next)-?\w{0,9}) b/i],[g,[y,"NextBook"],[m,N]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[y,"Voice"],g,[m,E]],[/\b(lvtel\-)?(v1[12]) b/i],[[y,"LvTel"],g,[m,E]],[/\b(ph-1) /i],[g,[y,"Essential"],[m,E]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[g,[y,"Envizen"],[m,N]],[/\b(trio[-\w\. ]+) b/i],[g,[y,"MachSpeed"],[m,N]],[/\btu_(1491) b/i],[g,[y,"Rotor"],[m,N]],[/(shield[\w ]+) b/i],[g,[y,"Nvidia"],[m,N]],[/(sprint) (\w+)/i],[y,g,[m,E]],[/(kin\.[onetw]{3})/i],[[g,/\./g," "],[y,ue],[m,E]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[g,[y,Se],[m,N]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[g,[y,Se],[m,E]],[/smart-tv.+(samsung)/i],[y,[m,_]],[/hbbtv.+maple;(\d+)/i],[[g,/^/,"SmartTV"],[y,Q],[m,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[y,le],[m,_]],[/(apple) ?tv/i],[y,[g,G+" TV"],[m,_]],[/crkey/i],[[g,$+"cast"],[y,ae],[m,_]],[/droid.+aft(\w+)( bui|\))/i],[g,[y,W],[m,_]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[g,[y,re],[m,_]],[/(bravia[\w ]+)( bui|\))/i],[g,[y,he],[m,_]],[/(mitv-\w{5}) bui/i],[g,[y,pe],[m,_]],[/Hbbtv.*(technisat) (.*);/i],[y,g,[m,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[y,fe],[g,fe],[m,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[y,g,[m,w]],[/droid.+; (shield) bui/i],[g,[y,"Nvidia"],[m,w]],[/(playstation [345portablevi]+)/i],[g,[y,he],[m,w]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[g,[y,ue],[m,w]],[/((pebble))app/i],[y,g,[m,D]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[g,[y,G],[m,D]],[/droid.+; (glass) \d/i],[g,[y,ae],[m,D]],[/droid.+; (wt63?0{2,3})\)/i],[g,[y,Se],[m,D]],[/(quest( 2| pro)?)/i],[g,[y,xe],[m,D]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[y,[m,P]],[/(aeobc)\b/i],[g,[y,W],[m,P]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[g,[m,E]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[g,[m,N]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,N]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,E]],[/(android[-\w\. ]{0,9});.+buil/i],[g,[y,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[C,[d,ne+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[C,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[d,C],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[C,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,C],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[d,[C,De,je]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[C,De,je],[d,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[C,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,Ge],[C,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[C,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,C],[/\(bb(10);/i],[C,[d,z]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[C,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[C,[d,se+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[C,[d,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[C,[d,"watchOS"]],[/crkey\/([\d\.]+)/i],[C,[d,$+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[d,Ee],C],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,C],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],C],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[d,C]]},ee=function(Oe,qe){if(typeof Oe===c&&(qe=Oe,Oe=r),!(this instanceof ee))return new ee(Oe,qe).getResult();var Qe=typeof n!==l&&n.navigator?n.navigator:r,nt=Oe||(Qe&&Qe.userAgent?Qe.userAgent:o),lt=Qe&&Qe.userAgentData?Qe.userAgentData:r,xt=qe?Be(oe,qe):oe,Ve=Qe&&Qe.userAgent==nt;return this.getBrowser=function(){var ot={};return ot[d]=r,ot[C]=r,vt.call(ot,nt,xt.browser),ot[f]=Re(ot[C]),Ve&&Qe&&Qe.brave&&typeof Qe.brave.isBrave==a&&(ot[d]="Brave"),ot},this.getCPU=function(){var ot={};return ot[x]=r,vt.call(ot,nt,xt.cpu),ot},this.getDevice=function(){var ot={};return ot[y]=r,ot[g]=r,ot[m]=r,vt.call(ot,nt,xt.device),Ve&&!ot[m]&&lt&&lt.mobile&&(ot[m]=E),Ve&&ot[g]=="Macintosh"&&Qe&&typeof Qe.standalone!==l&&Qe.maxTouchPoints&&Qe.maxTouchPoints>2&&(ot[g]="iPad",ot[m]=N),ot},this.getEngine=function(){var ot={};return ot[d]=r,ot[C]=r,vt.call(ot,nt,xt.engine),ot},this.getOS=function(){var ot={};return ot[d]=r,ot[C]=r,vt.call(ot,nt,xt.os),Ve&&!ot[d]&&lt&&lt.platform!="Unknown"&&(ot[d]=lt.platform.replace(/chrome os/i,Ee).replace(/macos/i,Ge)),ot},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return nt},this.setUA=function(ot){return nt=typeof ot===h&&ot.length>I?fe(ot,I):ot,this},this.setUA(nt),this};ee.VERSION=i,ee.BROWSER=Ke([d,C,f]),ee.CPU=Ke([x]),ee.DEVICE=Ke([g,y,m,w,E,_,N,D,P]),ee.ENGINE=ee.OS=Ke([d,C]),e.exports&&(t=e.exports=ee),t.UAParser=ee;var te=typeof n!==l&&(n.jQuery||n.Zepto);if(te&&!te.ua){var Ne=new ee;te.ua=Ne.getResult(),te.ua.get=function(){return Ne.getUA()},te.ua.set=function(Oe){Ne.setUA(Oe);var qe=Ne.getResult();for(var Qe in qe)te.ua[Qe]=qe[Qe]}}})(typeof window=="object"?window:Al)})(d6,d6.exports);var pQ=d6.exports;Object.defineProperty(bt,"__esModule",{value:!0});function gQ(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var ho=Un,sr=gQ(ho),BM=pQ,_h=new BM,vo=_h.getBrowser(),mQ=_h.getCPU(),zs=_h.getDevice(),K7=_h.getEngine(),Oh=_h.getOS(),L2=_h.getUA(),$M=function(e){return _h.setUA(e)},_2=function(e){if(!e){console.error("No userAgent string was provided");return}var t=new BM(e);return{UA:t,browser:t.getBrowser(),cpu:t.getCPU(),device:t.getDevice(),engine:t.getEngine(),os:t.getOS(),ua:t.getUA(),setUserAgent:function(n){return t.setUA(n)}}},VM=Object.freeze({ClientUAInstance:_h,browser:vo,cpu:mQ,device:zs,engine:K7,os:Oh,ua:L2,setUa:$M,parseUserAgent:_2});function rN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rN(Object(n),!0).forEach(function(r){bQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c0(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c0=function(t){return typeof t}:c0=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c0(e)}function yQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wQ(e,t,n){return t&&iN(e.prototype,t),n&&iN(e,n),e}function bQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p6(){return p6=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p6.apply(this,arguments)}function xQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m6(e,t)}function g6(e){return g6=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g6(e)}function m6(e,t){return m6=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},m6(e,t)}function SQ(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function ha(e,t){if(e==null)return{};var n=SQ(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Bv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CQ(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bv(e)}function kQ(e,t){return EQ(e)||AQ(e,t)||NQ(e,t)||LQ()}function EQ(e){if(Array.isArray(e))return e}function AQ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function NQ(e,t){if(e){if(typeof e=="string")return oN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oN(e,t)}}function oN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var oo={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},is={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},zg={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},_Q={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},OQ=function(e){switch(e){case oo.Mobile:return{isMobile:!0};case oo.Tablet:return{isTablet:!0};case oo.SmartTv:return{isSmartTV:!0};case oo.Console:return{isConsole:!0};case oo.Wearable:return{isWearable:!0};case oo.Browser:return{isBrowser:!0};case oo.Embedded:return{isEmbedded:!0};default:return _Q}},PQ=function(e){return $M(e)},Gt=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return e||t},Y7=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},J7=function(e){var t=Y7();return t&&t.platform&&(t.platform.indexOf(e)!==-1||t.platform==="MacIntel"&&t.maxTouchPoints>1&&!window.MSStream)},TQ=function(e,t,n,r,i){return{isBrowser:e,browserMajorVersion:Gt(t.major),browserFullVersion:Gt(t.version),browserName:Gt(t.name),engineName:Gt(n.name),engineVersion:Gt(n.version),osName:Gt(r.name),osVersion:Gt(r.version),userAgent:Gt(i)}},MQ=function(e,t,n,r){return vQ({},e,{vendor:Gt(t.vendor),model:Gt(t.model),os:Gt(n.name),osVersion:Gt(n.version),ua:Gt(r)})},RQ=function(e,t,n,r){return{isSmartTV:e,engineName:Gt(t.name),engineVersion:Gt(t.version),osName:Gt(n.name),osVersion:Gt(n.version),userAgent:Gt(r)}},DQ=function(e,t,n,r){return{isConsole:e,engineName:Gt(t.name),engineVersion:Gt(t.version),osName:Gt(n.name),osVersion:Gt(n.version),userAgent:Gt(r)}},IQ=function(e,t,n,r){return{isWearable:e,engineName:Gt(t.name),engineVersion:Gt(t.version),osName:Gt(n.name),osVersion:Gt(n.version),userAgent:Gt(r)}},zQ=function(e,t,n,r,i){return{isEmbedded:e,vendor:Gt(t.vendor),model:Gt(t.model),engineName:Gt(n.name),engineVersion:Gt(n.version),osName:Gt(r.name),osVersion:Gt(r.version),userAgent:Gt(i)}};function FQ(e){var t=e?_2(e):VM,n=t.device,r=t.browser,i=t.engine,o=t.os,s=t.ua,a=OQ(n.type),l=a.isBrowser,c=a.isMobile,h=a.isTablet,f=a.isSmartTV,g=a.isConsole,d=a.isWearable,m=a.isEmbedded;if(l)return TQ(l,r,i,o,s);if(f)return RQ(f,i,o,s);if(g)return DQ(g,i,o,s);if(c||h)return MQ(a,n,o,s);if(d)return IQ(d,i,o,s);if(m)return zQ(m,n,i,o,s)}var UM=function(e){var t=e.type;return t===oo.Mobile},qM=function(e){var t=e.type;return t===oo.Tablet},WM=function(e){var t=e.type;return t===oo.Mobile||t===oo.Tablet},HM=function(e){var t=e.type;return t===oo.SmartTv},H5=function(e){var t=e.type;return t===oo.Browser},GM=function(e){var t=e.type;return t===oo.Wearable},KM=function(e){var t=e.type;return t===oo.Console},YM=function(e){var t=e.type;return t===oo.Embedded},JM=function(e){var t=e.vendor;return Gt(t)},XM=function(e){var t=e.model;return Gt(t)},QM=function(e){var t=e.type;return Gt(t,"browser")},ZM=function(e){var t=e.name;return t===zg.Android},eR=function(e){var t=e.name;return t===zg.Windows},tR=function(e){var t=e.name;return t===zg.MAC_OS},nR=function(e){var t=e.name;return t===zg.WindowsPhone},rR=function(e){var t=e.name;return t===zg.IOS},iR=function(e){var t=e.version;return Gt(t)},oR=function(e){var t=e.name;return Gt(t)},sR=function(e){var t=e.name;return t===is.Chrome},aR=function(e){var t=e.name;return t===is.Firefox},lR=function(e){var t=e.name;return t===is.Chromium},G5=function(e){var t=e.name;return t===is.Edge},cR=function(e){var t=e.name;return t===is.Yandex},uR=function(e){var t=e.name;return t===is.Safari||t===is.MobileSafari},hR=function(e){var t=e.name;return t===is.MobileSafari},fR=function(e){var t=e.name;return t===is.Opera},dR=function(e){var t=e.name;return t===is.InternetExplorer||t===is.Ie},pR=function(e){var t=e.name;return t===is.MIUI},gR=function(e){var t=e.name;return t===is.SamsungBrowser},mR=function(e){var t=e.version;return Gt(t)},vR=function(e){var t=e.major;return Gt(t)},yR=function(e){var t=e.name;return Gt(t)},wR=function(e){var t=e.name;return Gt(t)},bR=function(e){var t=e.version;return Gt(t)},xR=function(){var e=Y7(),t=e&&e.userAgent&&e.userAgent.toLowerCase();return typeof t=="string"?/electron/.test(t):!1},Yp=function(e){return typeof e=="string"&&e.indexOf("Edg/")!==-1},SR=function(){var e=Y7();return e&&(/iPad|iPhone|iPod/.test(e.platform)||e.platform==="MacIntel"&&e.maxTouchPoints>1)&&!window.MSStream},Ll=function(){return J7("iPad")},CR=function(){return J7("iPhone")},kR=function(){return J7("iPod")},ER=function(e){return Gt(e)};function AR(e){var t=e||VM,n=t.device,r=t.browser,i=t.os,o=t.engine,s=t.ua;return{isSmartTV:HM(n),isConsole:KM(n),isWearable:GM(n),isEmbedded:YM(n),isMobileSafari:hR(r)||Ll(),isChromium:lR(r),isMobile:WM(n)||Ll(),isMobileOnly:UM(n),isTablet:qM(n)||Ll(),isBrowser:H5(n),isDesktop:H5(n),isAndroid:ZM(i),isWinPhone:nR(i),isIOS:rR(i)||Ll(),isChrome:sR(r),isFirefox:aR(r),isSafari:uR(r),isOpera:fR(r),isIE:dR(r),osVersion:iR(i),osName:oR(i),fullBrowserVersion:mR(r),browserVersion:vR(r),browserName:yR(r),mobileVendor:JM(n),mobileModel:XM(n),engineName:wR(o),engineVersion:bR(o),getUA:ER(s),isEdge:G5(r)||Yp(s),isYandex:cR(r),deviceType:QM(n),isIOS13:SR(),isIPad13:Ll(),isIPhone13:CR(),isIPod13:kR(),isElectron:xR(),isEdgeChromium:Yp(s),isLegacyEdge:G5(r)&&!Yp(s),isWindows:eR(i),isMacOs:tR(i),isMIUI:pR(r),isSamsungBrowser:gR(r)}}var NR=HM(zs),LR=KM(zs),_R=GM(zs),jQ=YM(zs),BQ=hR(vo)||Ll(),$Q=lR(vo),gw=WM(zs)||Ll(),OR=UM(zs),PR=qM(zs)||Ll(),TR=H5(zs),VQ=H5(zs),MR=ZM(Oh),RR=nR(Oh),DR=rR(Oh)||Ll(),UQ=sR(vo),qQ=aR(vo),WQ=uR(vo),HQ=fR(vo),IR=dR(vo),GQ=iR(Oh),KQ=oR(Oh),YQ=mR(vo),JQ=vR(vo),XQ=yR(vo),QQ=JM(zs),ZQ=XM(zs),eZ=wR(K7),tZ=bR(K7),nZ=ER(L2),rZ=G5(vo)||Yp(L2),iZ=cR(vo),oZ=QM(zs),sZ=SR(),aZ=Ll(),lZ=CR(),cZ=kR(),uZ=xR(),hZ=Yp(L2),fZ=G5(vo)&&!Yp(L2),dZ=eR(Oh),pZ=tR(Oh),gZ=pR(vo),mZ=gR(vo),vZ=function(e){if(!e||typeof e!="string"){console.error("No valid user agent string was provided");return}var t=_2(e),n=t.device,r=t.browser,i=t.os,o=t.engine,s=t.ua;return AR({device:n,browser:r,os:i,engine:o,ua:s})},yZ=function(e){var t=e.renderWithFragment,n=e.children,r=ha(e,["renderWithFragment","children"]);return MR?t?sr.createElement(ho.Fragment,null,n):sr.createElement("div",r,n):null},wZ=function(e){var t=e.renderWithFragment,n=e.children,r=ha(e,["renderWithFragment","children"]);return TR?t?sr.createElement(ho.Fragment,null,n):sr.createElement("div",r,n):null},bZ=function(e){var t=e.renderWithFragment,n=e.children,r=ha(e,["renderWithFragment","children"]);return IR?t?sr.createElement(ho.Fragment,null,n):sr.createElement("div",r,n):null},xZ=function(e){var t=e.renderWithFragment,n=e.children,r=ha(e,["renderWithFragment","children"]);return DR?t?sr.createElement(ho.Fragment,null,n):sr.createElement("div",r,n):null},SZ=function(e){var t=e.renderWithFragment,n=e.children,r=ha(e,["renderWithFragment","children"]);return gw?t?sr.createElement(ho.Fragment,null,n):sr.createElement("div",r,n):null},CZ=function(e){var t=e.renderWithFragment,n=e.children,r=ha(e,["renderWithFragment","children"]);return PR?t?sr.createElement(ho.Fragment,null,n):sr.createElement("div",r,n):null},kZ=function(e){var t=e.renderWithFragment,n=e.children,r=ha(e,["renderWithFragment","children"]);return RR?t?sr.createElement(ho.Fragment,null,n):sr.createElement("div",r,n):null},EZ=function(e){var t=e.renderWithFragment,n=e.children;e.viewClassName,e.style;var r=ha(e,["renderWithFragment","children","viewClassName","style"]);return OR?t?sr.createElement(ho.Fragment,null,n):sr.createElement("div",r,n):null},AZ=function(e){var t=e.renderWithFragment,n=e.children,r=ha(e,["renderWithFragment","children"]);return NR?t?sr.createElement(ho.Fragment,null,n):sr.createElement("div",r,n):null},NZ=function(e){var t=e.renderWithFragment,n=e.children,r=ha(e,["renderWithFragment","children"]);return LR?t?sr.createElement(ho.Fragment,null,n):sr.createElement("div",r,n):null},LZ=function(e){var t=e.renderWithFragment,n=e.children,r=ha(e,["renderWithFragment","children"]);return _R?t?sr.createElement(ho.Fragment,null,n):sr.createElement("div",r,n):null},_Z=function(e){var t=e.renderWithFragment,n=e.children;e.viewClassName,e.style;var r=e.condition,i=ha(e,["renderWithFragment","children","viewClassName","style","condition"]);return r?t?sr.createElement(ho.Fragment,null,n):sr.createElement("div",i,n):null};function OZ(e){return function(t){xQ(n,t);function n(r){var i;return yQ(this,n),i=CQ(this,g6(n).call(this,r)),i.isEventListenerAdded=!1,i.handleOrientationChange=i.handleOrientationChange.bind(Bv(i)),i.onOrientationChange=i.onOrientationChange.bind(Bv(i)),i.onPageLoad=i.onPageLoad.bind(Bv(i)),i.state={isLandscape:!1,isPortrait:!1},i}return wQ(n,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var r=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:r===0,isLandscape:r===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":c0(window))!==void 0&&gw&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return sr.createElement(e,p6({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),n}(sr.Component)}function PZ(){var e=ho.useState(function(){var o=window.innerWidth>window.innerHeight?90:0;return{isPortrait:o===0,isLandscape:o===90,orientation:o===0?"portrait":"landscape"}}),t=kQ(e,2),n=t[0],r=t[1],i=ho.useCallback(function(){var o=window.innerWidth>window.innerHeight?90:0,s={isPortrait:o===0,isLandscape:o===90,orientation:o===0?"portrait":"landscape"};n.orientation!==s.orientation&&r(s)},[n.orientation]);return ho.useEffect(function(){return(typeof window>"u"?"undefined":c0(window))!==void 0&&gw&&(i(),window.addEventListener("load",i,!1),window.addEventListener("resize",i,!1)),function(){window.removeEventListener("resize",i,!1),window.removeEventListener("load",i,!1)}},[i]),n}function zR(e){var t=e||window.navigator.userAgent;return _2(t)}function TZ(e){var t=e||window.navigator.userAgent,n=zR(t),r=AR(n);return[r,n]}bt.AndroidView=yZ;bt.BrowserTypes=is;bt.BrowserView=wZ;bt.ConsoleView=NZ;bt.CustomView=_Z;bt.IEView=bZ;bt.IOSView=xZ;bt.MobileOnlyView=EZ;bt.MobileView=SZ;bt.OsTypes=zg;bt.SmartTVView=AZ;bt.TabletView=CZ;bt.WearableView=LZ;bt.WinPhoneView=kZ;bt.browserName=XQ;bt.browserVersion=JQ;bt.deviceDetect=FQ;bt.deviceType=oZ;bt.engineName=eZ;bt.engineVersion=tZ;bt.fullBrowserVersion=YQ;bt.getSelectorsByUserAgent=vZ;bt.getUA=nZ;bt.isAndroid=MR;bt.isBrowser=TR;bt.isChrome=UQ;bt.isChromium=$Q;bt.isConsole=LR;bt.isDesktop=VQ;bt.isEdge=rZ;bt.isEdgeChromium=hZ;bt.isElectron=uZ;bt.isEmbedded=jQ;bt.isFirefox=qQ;bt.isIE=IR;bt.isIOS=DR;bt.isIOS13=sZ;bt.isIPad13=aZ;bt.isIPhone13=lZ;bt.isIPod13=cZ;bt.isLegacyEdge=fZ;bt.isMIUI=gZ;var FR=bt.isMacOs=pZ,u0=bt.isMobile=gw;bt.isMobileOnly=OR;bt.isMobileSafari=BQ;bt.isOpera=HQ;bt.isSafari=WQ;bt.isSamsungBrowser=mZ;bt.isSmartTV=NR;bt.isTablet=PR;bt.isWearable=_R;bt.isWinPhone=RR;bt.isWindows=dZ;bt.isYandex=iZ;bt.mobileModel=ZQ;bt.mobileVendor=QQ;bt.osName=KQ;bt.osVersion=GQ;bt.parseUserAgent=_2;bt.setUserAgent=PQ;bt.useDeviceData=zR;bt.useDeviceSelectors=TZ;bt.useMobileOrientation=PZ;bt.withOrientationChange=OZ;const fr=e=>{const t=e.split(/-(?!$)/);let n=t[t.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<t.length-1;a++){const l=t[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))FR?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n},Jp=(e,t,n=!0)=>(t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e),Ru=(e,t,n)=>mt.isArray(e)||mt.isArray(t)?t:(n||(n=(r,i)=>{if(mt.isArray(r))return i}),mt.mergeWith(e,t,n));function MZ(e,t=10){const n=[...e].slice();let r=n.length,i,o;for(;r!==0;)i=Math.floor(Math.random()*r),r--,o=n[r],n[r]=n[i],n[i]=o;return n.slice(0,t)}function RZ(e){const t=Object.create(null);for(const n in e)t[fr(n)]=e[n];return t}function sN(e){return new E2({props:{handleKeyDown:DZ(e)}})}function DZ(e){const t=RZ(e);return function(n,r){r.stopPropagation();const i=W0(r),o=t[Jp(i,r)];let s;if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){const a=t[Jp(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=Pc[r.keyCode])&&s!=i){const a=t[Jp(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}function K5(e,t){const n=Object.keys(t);return n.length?n.every(r=>t[r]===e[r]):!0}function v6(e,t,n={}){return e.find(r=>r.type===t&&K5(r.attrs,n))}function IZ(e,t,n={}){return!!v6(e,t,n)}function zZ(e,t,n={}){if(!e||!t)return;let r=e.parent.childAfter(e.parentOffset);if(e.parentOffset===r.offset&&r.offset!==0&&(r=e.parent.childBefore(e.parentOffset)),!r.node)return;const i=v6([...r.node.marks],t,n);if(!i)return;let o=r.index,s=e.start()+r.offset,a=o+1,l=s+r.node.nodeSize;for(v6([...r.node.marks],t,n);o>0&&i.isInSet(e.parent.child(o-1).marks);)o-=1,s-=e.parent.child(o).nodeSize;for(;a<e.parent.childCount&&IZ([...e.parent.child(a).marks],t,n);)l+=e.parent.child(a).nodeSize,a+=1;return{from:s,to:l}}const mw=(e,t={})=>(n,r)=>{var i;const{extendEmptyMarkRange:o=!1}=t,s=n.tr,{selection:a}=s,l=n.schema.mark(e),{$from:c,empty:h,ranges:f}=a;if(h&&o){let{from:g,to:d}=a;const m=(i=c.marks().find(C=>C.type===l.type))==null?void 0:i.attrs,y=zZ(c,l.type,m);y&&(g=y.from,d=y.to),s.removeMark(g,d,l)}else f.forEach(g=>{s.removeMark(g.$from.pos,g.$to.pos,l)});return s.removeStoredMark(l),r?(r(s),!0):!1};function vw(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'!`);return t.marks[e]}return e}function y6(e,t,n={}){const{empty:r,ranges:i}=e.selection,o=t?vw(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(h=>o?o.name===h.type.name:!0).find(h=>K5(h.attrs,n));let s=0;const a=[];if(i.forEach(({$from:h,$to:f})=>{const g=h.pos,d=f.pos;e.doc.nodesBetween(g,d,(m,y)=>{if(!m.isText&&!m.marks.length)return;const C=Math.max(g,y),x=Math.min(d,y+m.nodeSize),w=x-C;s+=w,a.push(...m.marks.map(E=>({mark:E,from:C,to:x})))})}),s===0)return!1;const l=a.filter(h=>o?o.name===h.mark.type.name:!0).filter(h=>K5(h.mark.attrs,n)).reduce((h,f)=>h+f.to-f.from,0),c=a.filter(h=>o?h.mark.type!==o&&h.mark.type.excludes(o):!0).reduce((h,f)=>h+f.to-f.from,0);return(l>0?l+c:l)>=s}function FZ(e,t){const n=vw(t,e.schema),{from:r,to:i,empty:o}=e.selection,s=[];o?(e.storedMarks&&s.push(...e.storedMarks),s.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,i,l=>{s.push(...l.marks)});const a=s.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}const O2=(e,t={})=>(n,r)=>{const i=n.tr.setSelection(n.selection),{selection:o}=i,{empty:s,ranges:a}=o,l=vw(e,n.schema);if(s){const c=FZ(n,l);i.addStoredMark(l.create({...c,...t}))}else a.forEach(c=>{const h=c.$from.pos,f=c.$to.pos;n.doc.nodesBetween(h,f,(g,d)=>{const m=Math.max(d,h),y=Math.min(d+g.nodeSize,f);g.marks.find(C=>C.type===l)?g.marks.forEach(C=>{l===C.type&&i.addMark(m,y,l.create({...C.attrs,...t}))}):i.addMark(m,y,l.create(t))})});return r?(r(i),!0):!1},X7=(e,t={},n={})=>(r,i,...o)=>{const s=vw(e,r.schema);return y6(r,s)?mw(s,n)(r,i,...o):O2(s,t)(r,i,...o)},Y5=(...e)=>X7("bold")(...e),jZ=(...e)=>mw("bold")(...e),BZ=(...e)=>O2("bold")(...e),$x=(e,t)=>{const n=e.tr.setSelection(e.selection),{$from:r,$to:i}=n.selection,o=r.blockRange(i);return o&&t?(t(e.tr.removeMark(o.start,o.end,e.schema.mark("bold"))),!0):!1},J5=(...e)=>X7("italic")(...e),$Z=(...e)=>mw("italic")(...e),VZ=(...e)=>O2("italic")(...e),Vx=(e,t)=>{const{$from:n,$to:r}=e.selection,i=n.blockRange(r);if(i&&t){const o=e.schema.mark("bold");return t(e.tr.removeMark(i.start,i.end,o)),!0}return!1},UZ=(e,t)=>qZ(n=>({type:n.type.schema.nodes.paragraph,attrs:n.attrs}))(e,t);function qZ(e){return(t,n)=>{const{$from:r,$to:i}=t.selection;if(t.selection instanceof Mt&&t.selection.node.isBlock)return!r.parentOffset||!zf(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;const o=i.parentOffset==i.parent.content.size,s=t.tr;(t.selection instanceof En||t.selection instanceof es)&&s.deleteSelection();const a=r.depth==0?null:WZ(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=e&&e(i.parent,o);let c=l?[l]:o&&a?[{type:a}]:void 0,h=zf(s.doc,s.mapping.map(r.pos),1,c);if(!c&&!h&&zf(s.doc,s.mapping.map(r.pos),1,a?[{type:a}]:void 0)&&(a&&(c=[{type:a}]),h=!0),h&&(s.split(s.mapping.map(r.pos),1,c),!o&&!r.parentOffset&&r.parent.type!=a)){const g=s.mapping.map(r.before()),d=s.doc.resolve(g);a&&r.node(-1).canReplaceWith(d.index(),d.index()+1,a)&&s.setNodeMarkup(s.mapping.map(r.before()),a)}const f=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();return f&&s.ensureMarks(f),n&&n(s),!0}}function WZ(e){for(let t=0;t<e.edgeCount;t++){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const ro=e=>(t,n)=>{const r=t.tr,{doc:i}=r,{from:o,to:s}=e,a=En.atStart(i).from,l=En.atEnd(i).to,c=Math.min(Math.max(o,a),l),h=Math.min(Math.max(s,a),l),f=En.create(i,c,h);return r.setSelection(f),n?(n(r),!0):!1},Ta=(e,t,...n)=>(ro({from:0,to:e.doc.content.size})(e,t,...n),!0);function HZ(e,t){const n={};let r;function i(o,s){if(t){const a=t[o];if(a===!1)return;a&&(o=a)}n[o]=s}if(i("Mod-z",FM),i("Mod-y",jM),i("Mod-a",Ta),i("Backspace",xY),i("Alt-ArrowUp",$Y),i("Alt-ArrowDown",VY),i("Mod-BracketLeft",UY),i("Escape",YY),(r=e.marks.bold)&&(i("Mod-b",Y5),i("Mod-B",Y5)),(r=e.marks.italic)&&(i("Mod-i",J5),i("Mod-I",J5)),i("Enter",UZ),r=e.nodes.hard_break){const o=r,s=hw(QT,(a,l)=>(l&&l(a.tr.replaceSelectionWith(o.create()).scrollIntoView()),!0));i("Mod-Enter",s),i("Shift-Enter",s),FR&&i("Ctrl-Enter",s)}return(r=e.nodes.paragraph)&&i("Shift-Ctrl-0",eJ(r)),n}const GZ=()=>new E2({view(){return{update:function(e,t){const n=e.state;if(!(t&&t.doc.eq(n.doc)&&t.selection.eq(n.selection))){if(t&&!t.doc.eq(n.doc)){e.events.emit("update",e);return}e.events.emit("selectionUpdate",e)}}}}}),Ux=new PT({nodes:tN.spec.nodes,marks:tN.spec.marks}),jR=({content:e,ele:t=null,handleDOMEvents:n={}})=>{const r=document.createElement("div");r.innerHTML=e;const i=Np.create({doc:Xf.fromSchema(Ux).parse(r),plugins:[RY(Ux),sN(HZ(Ux)),sN(nJ),VX(),eQ(),GZ()]}),o=new zX(t,{attributes:{class:"canva-editor-text"},state:i,handleDOMEvents:n});return o.events=new dQ,o},BR=({text:e,boxSize:t,scale:n,fonts:r,colors:i,fontSizes:o,effect:s,rotate:a,position:l})=>{const{actions:c,id:h,pageIndex:f}=C2(),{selectedLayerIds:g}=Ni(),{actions:d,textEditor:m}=Ot(x=>({textEditor:x.textEditor}));M.useEffect(()=>{const x=jR({content:e});x&&c.setTextEditor(x)},[]);const y=M.useCallback(()=>{g.includes(h)&&c.openTextEditor()},[d,g]),C=M.useMemo(()=>m?m.pageIndex===f&&m.layerId===h:!1,[m]);return S("div",{css:{transformOrigin:"0 0"},style:{width:t.width/n,height:t.height/n,transform:`scale(${n})`,opacity:C?0:1},onDoubleClick:y,children:S(nK,{text:e,scale:n,fonts:r,colors:i,fontSizes:o,effect:s,boxSize:t,rotate:a,position:l})})};BR.info={name:"Text",type:"Text"};const $R=({image:e,boxSize:t,position:n,rotate:r})=>{const{actions:i,pageIndex:o,id:s}=C2(),{selectedLayerIds:a}=Ni(),{imageEditor:l}=Ot(f=>({imageEditor:f.imageEditor})),[c,h]=M.useState({...e,url:e.thumb});return M.useEffect(()=>{const f=new Image;f.onload=()=>{h(g=>({...g,url:e.url}))},f.src=e.url},[e,h]),M.useEffect(()=>{h(e)},[e]),S("div",{css:{pointerEvents:"auto",visibility:l&&l.pageIndex===o&&l.layerId===s?"hidden":void 0},onDoubleClick:()=>a.includes(s)&&i.openImageEditor({position:n,rotate:r,boxSize:t,image:e}),children:S(hT,{image:c,boxSize:t,rotate:r,position:n})})};$R.info={name:"Image",type:"Image"};const VR=({boxSize:e,clipPath:t,scale:n=1,rotate:r,position:i,color:o,gradientBackground:s,roundedCorners:a=0,border:l,shapeSize:c})=>{const h=()=>{};return S("div",{css:{transformOrigin:"0 0"},style:{width:e.width/(n||1),height:e.height/(n||1),transform:`scale(${n||1})`},onDoubleClick:h,children:S(mK,{boxSize:e,shapeSize:c,clipPath:t,scale:n,rotate:r,position:i,color:o,gradientBackground:s,border:l,roundedCorners:a})})};VR.info={name:"Shape",type:"Shape"};const UR=({boxSize:e,clipPath:t,scale:n=1,rotate:r,position:i,image:o,color:s,gradientBackground:a})=>{const{actions:l,pageIndex:c,id:h}=C2(),{selectedLayerIds:f}=Ni(),[g,d]=M.useState(null),{imageEditor:m}=Ot(C=>({imageEditor:C.imageEditor}));M.useEffect(()=>{if(o){const C=new Image;C.onload=()=>{d(x=>x&&{...x,url:C.src})},C.src=o.url}},[o]),M.useEffect(()=>{o&&d(o)},[o,s,a]);const y=()=>{o&&f.includes(h)&&l.openImageEditor({boxSize:e,position:i,rotate:r,image:{boxSize:{width:o.boxSize.width*n,height:o.boxSize.height*n},position:{x:o.position.x*n,y:o.position.y*n},rotate:o.rotate||0,url:o.url}})};return S("div",{css:{transformOrigin:"0 0"},style:{width:e.width/(n||1),height:e.height/(n||1),transform:`scale(${n||1})`,visibility:m&&m.pageIndex===c&&m.layerId===h?"hidden":void 0},onDoubleClick:y,children:S(vK,{boxSize:e,clipPath:t,scale:n,rotate:r,position:i,image:g,color:s,gradientBackground:a})})};UR.info={name:"Frame",type:"Frame"};const qR=({boxSize:e,scale:t,children:n})=>S("div",{css:{transformOrigin:"0 0"},style:{width:e.width/t,height:e.height/t,transform:`scale(${t})`},children:n});qR.info={name:"Group",type:"Group"};const qm={RootLayer:mT,TextLayer:BR,ImageLayer:$R,ShapeLayer:VR,FrameLayer:UR,GroupLayer:qR},KZ=e=>{const t=typeof e=="string"?"string":e.name;return(()=>{if(qm[t])return t;for(let n=0;n<Object.keys(qm).length;n++){const r=Object.keys(qm)[n];if(qm[r]===e)return r}return e})()},w6="ca_",Q7=(e=10)=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n=w6;for(let r=w6.length;r<e;r++){const i=Math.floor(Math.random()*t.length);n+=t.charAt(i)}return n},YZ=(e,t=10)=>e.startsWith(w6)&&e.length===t,Nu=()=>Q7(),dl=e=>{const{type:t,props:n}=JZ(e);return{...t.info,comp:t,props:n,locked:e.locked,child:e.child,parent:e.parent}},JZ=e=>{const{type:{resolvedName:t},props:n}=e,r=qm[t];return M.createElement(r,n)},P2=(e,t)=>{let n={};return n[t]={type:{resolvedName:KZ(e[t].data.comp)},props:e[t].data.props,locked:e[t].data.locked,child:e[t].data.child,parent:e[t].data.parent},e[t].data.child.forEach(r=>{n={...n,...P2(e,r)}}),n},hh=e=>e.data.type==="Root",XZ=e=>e.data.parent==="ROOT",mg=e=>e.data.type==="Group",Tc=e=>e.data.type==="Text",xf=e=>e.data.type==="Image",X5=e=>e.data.type==="Shape",vg=e=>e.data.type==="Frame",QZ=()=>{const{selectedLayers:e}=Ni(),t=M.useMemo(()=>!!e.find(n=>Tc(n)||mg(n)||X5(n)),[JSON.stringify(e.map(n=>n.id))]);return M.useMemo(()=>{const n={vertical:e.length>1,horizontal:e.length>1,corners:!1,locked:!1,rotate:!1,scalable:!t};return e.forEach(r=>{r.data.locked&&(n.locked=!0,n.vertical=!0,n.horizontal=!0,n.corners=!0,n.rotate=!0),Tc(r)&&(n.vertical=!0);const i=vg(r);(mg(r)||i)&&(n.horizontal=!0,n.vertical=!0,i&&(n.scalable=!1))}),n},[e])},Q1=(e,t)=>({x:e.a*t.x+e.c*t.y,y:e.b*t.x+e.d*t.y}),ks=(e,t,n)=>{const r=e.width/2,i=e.height/2,o={x:-r,y:-i},s={x:r,y:-i},a={x:-r,y:i},l={x:r,y:i},c=Q1(t,o),h=Q1(t,s),f=Q1(t,a),g=Q1(t,l);return{nw:{x:c.x+r+n.x,y:c.y+i+n.y},ne:{x:h.x+r+n.x,y:h.y+i+n.y},sw:{x:f.x+r+n.x,y:f.y+i+n.y},se:{x:g.x+r+n.x,y:g.y+i+n.y}}},J0=(e,{nw:t,ne:n,se:r,sw:i})=>{const o=Math.sqrt((t.x-n.x)*(t.x-n.x)+(t.y-n.y)*(t.y-n.y)),s=Math.sqrt((n.x-r.x)*(n.x-r.x)+(n.y-r.y)*(n.y-r.y)),a=Math.sqrt((r.x-i.x)*(r.x-i.x)+(r.y-i.y)*(r.y-i.y)),l=Math.sqrt((i.x-t.x)*(i.x-t.x)+(i.y-t.y)*(i.y-t.y)),c=Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)),h=Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)),f=Math.sqrt((r.x-e.x)*(r.x-e.x)+(r.y-e.y)*(r.y-e.y)),g=Math.sqrt((i.x-e.x)*(i.x-e.x)+(i.y-e.y)*(i.y-e.y)),d=(o+c+h)/2,m=(s+h+f)/2,y=(a+f+g)/2,C=(l+g+c)/2,x=Math.sqrt(d*(d-o)*(d-c)*(d-h)),w=Math.sqrt(m*(m-s)*(m-h)*(m-f)),E=Math.sqrt(y*(y-a)*(y-f)*(y-g)),N=Math.sqrt(C*(C-l)*(C-g)*(C-c));return x+w+E+N-o*s<1},Z7=(e,t)=>Math.atan2(t.clientY-e.clientY,t.clientX-e.clientX)*180/Math.PI,_f=(e,t,n)=>{const r=t.clientX-e.clientX,i=t.clientY-e.clientY;return Math.sqrt(r*r+i*i)/(n||1)},b6=(e,t,n)=>{let r,i;switch(n){case"topRight":r=t.sw.x-e.sw.x,i=t.sw.y-e.sw.y;break;case"bottomLeft":r=t.ne.x-e.ne.x,i=t.ne.y-e.ne.y;break;case"top":case"left":case"topLeft":r=t.se.x-e.se.x,i=t.se.y-e.se.y;break;default:r=t.nw.x-e.nw.x,i=t.nw.y-e.nw.y}return{changeX:r,changeY:i}},ZZ=(e,t,n)=>{if(!n)return e;const r=e.width/e.height;return r>t?{...e,height:e.width/t}:r<t?{...e,width:e.height*t}:e},e8=(e,t,n)=>{const r=(t-e)*Math.PI/180;return{width:n*Math.cos(r),height:n*Math.sin(r)}},WR=e=>{const{frameScale:t}=Ot(i=>({frameScale:i.scale})),n=20,r=20;return M.useMemo(()=>({getResized:(i,o,s,a)=>{const{boxSize:l,position:c,rotate:h,scale:f}=e(),g=l.width/l.height,d=new WebKitCSSMatrix(gn({position:c,rotate:h})),m=_f(o,s,t),y=e8(h,Z7(o,s),m),C=eee(l,y,c,i),x={...C,width:Math.max(n,C.width),height:Math.max(r,C.height)},w=ZZ(x,g,a),E=ks(l,d,c),N=ks(w,d,w),{changeX:_,changeY:D}=b6(E,N,i);return{boxSize:w,position:{x:w.x-_,y:w.y-D},rotate:h,scale:f}}}),[e,t])},eee=(e,t,n,r)=>{switch(r){case"top":return{x:n.x,y:n.y+t.height,width:e.width,height:e.height-t.height};case"bottom":return{x:n.x,y:n.y,width:e.width,height:e.height+t.height};case"left":return{x:n.x+t.width,y:n.y,width:e.width-t.width,height:e.height};case"right":return{x:n.x,y:n.y,width:e.width+t.width,height:e.height};case"topLeft":return{x:n.x+t.width,y:n.y+t.height,width:e.width-t.width,height:e.height-t.height};case"bottomLeft":return{x:n.x+t.width,y:n.y,width:e.width-t.width,height:e.height+t.height};case"bottomRight":return{x:n.x,y:n.y,width:e.width+t.width,height:e.height+t.height};default:return{x:n.x,y:n.y+t.height,width:e.width+t.width,height:e.height-t.height}}},tee=(e,t,n,r)=>{const i=mt.cloneDeep({boxSize:e.boxSize,position:e.position,rotate:e.rotate,scale:e.scale,image:{boxSize:t.boxSize,position:t.position,rotate:t.rotate}}),o=t.boxSize.width/t.boxSize.height;if(r.width!==0){if(i.boxSize.width+=r.width,n.toLowerCase().includes("left"))if(r.width>Math.abs(i.image.position.x)){i.image.position.x=0;const s=r.width-Math.abs(t.position.x);i.image.boxSize.width+=s,i.image.boxSize.height+=s*o}else i.image.position.x+=r.width;if(n.toLowerCase().includes("right")&&r.width+e.boxSize.width-t.position.x>t.boxSize.width){const s=r.width+e.boxSize.width-t.position.x-t.boxSize.width;i.image.boxSize.width+=s,i.image.boxSize.height+=s*o}}if(r.height!==0){if(i.boxSize.height+=r.height,n.toLowerCase().includes("top"))if(r.height>Math.abs(i.image.position.y)){i.image.position.y=0;const s=r.height-Math.abs(t.position.y);i.image.boxSize.height+=s,i.image.boxSize.width+=s/o}else i.image.position.y+=r.height;if(n.toLowerCase().includes("bottom")&&r.height+e.boxSize.height-t.position.y>t.boxSize.height){const s=r.height+e.boxSize.height-t.position.y-t.boxSize.height;i.image.boxSize.height+=s,i.image.boxSize.width+=s/o}}return i},HR=(e,t,n)=>{const r=document.createElement("div");r.style.width=`${t/n}px`,r.style.visibility="hidden",r.style.top="-9999px",r.style.transform=`scale(${n})`,r.style.position="fixed",r.appendChild(e),document.body.appendChild(r);const i=e.clientHeight*n;return document.body.removeChild(r),{clientHeight:i}},nee=({options:{scalable:e},getLayerData:t,setLayerData:n,controlBox:r,getControlBoxData:i,setControlBoxData:o,onResize:s,onResizeStop:a})=>{const l=M.useRef({clientX:0,clientY:0,lastClientX:0,lastClientY:0,direction:"right",isResizing:!1,shiftKey:!1}),{getResized:c}=WR(i),{selectedLayers:h,selectedLayerIds:f}=Ni(),{actions:g}=Ot(),d=(N,_)=>{const D=h.length===1&&xf(h[0]);if(e){const P=!["top","left","right","bottom"].includes(l.current.direction),I=c(l.current.direction,l.current,{clientX:N,clientY:_},P),W=i();return{...I,scale:P?I.boxSize.width/W.boxSize.width*(W.scale||1):W.scale}}else return c(l.current.direction,l.current,{clientX:N,clientY:_},l.current.shiftKey&&!D||f.length>1||D&&!l.current.shiftKey&&!["top","left","right","bottom"].includes(l.current.direction))},m=({clientX:N,clientY:_})=>{var D;const P=l.current,I=d(N,_);if(!e||!["top","left","right","bottom"].includes(P.direction)||f.length>1||!Tc(h[0]))return I;{const{clientHeight:W}=HR((D=h[0].data.editor)==null?void 0:D.dom,I.boxSize.width,I.scale||1);return Ru(I,{boxSize:{height:W}})}},y=N=>{const _=t(),D=i(),P=N.boxSize.width/D.boxSize.width,I={};return h.forEach(({id:W})=>{const G=_[W],O={width:G.boxSize.width*P,height:G.boxSize.height*P};I[W]={position:{x:D.position.x-(D.position.x-G.position.x)*P+(N.position.x-D.position.x),y:D.position.y-(D.position.y-G.position.y)*P+(N.position.y-D.position.y)},boxSize:O,scale:typeof G.scale<"u"?G.scale*P:void 0,rotate:G.rotate}}),I},C=mt.throttle(N=>{if(!l.current.isResizing)return;const{clientX:_,clientY:D}=zr(N);l.current.lastClientX=_,l.current.lastClientY=D,l.current.e=N;const P=m({clientX:_,clientY:D});g.setResizeData(!0,f,l.current.direction,P.rotate,P.boxSize,{clientX:_,clientY:D}),f.length===1?s({controlBox:P,layers:{[f[0]]:P},direction:l.current.direction,lockAspect:!l.current.shiftKey&&!["top","left","right","bottom"].includes(l.current.direction)&&xf(h[0])||l.current.shiftKey&&!xf(h[0])}):s({controlBox:P,layers:y(P),direction:l.current.direction,lockAspect:!0})},16),x=()=>{if(!l.current.isResizing)return;const{lastClientX:N,lastClientY:_}=l.current,D=m({clientX:N,clientY:_});f.length===1?a({controlBox:D,layers:{[f[0]]:D},direction:l.current.direction,lockAspect:!l.current.shiftKey&&!["top","left","right","bottom"].includes(l.current.direction)&&xf(h[0])||l.current.shiftKey&&!xf(h[0])}):a({controlBox:D,layers:y(D),direction:l.current.direction,lockAspect:!0}),l.current.isResizing=!1,E()},w=()=>{g.history.new(),window.addEventListener("mousemove",C),window.addEventListener("touchmove",C),window.addEventListener("mouseup",x,{once:!0}),window.addEventListener("mouseleave",x,{once:!0}),window.addEventListener("touchend",x,{once:!0})},E=()=>{g.setResizeData(!1),window.removeEventListener("mousemove",C),window.removeEventListener("touchmove",C)};return M.useEffect(()=>{const N=_=>{l.current.shiftKey=_.shiftKey,l.current.e&&l.current.isResizing&&C(l.current.e)};return window.addEventListener("keydown",N),window.addEventListener("keyup",N),()=>{window.removeEventListener("keydown",N),window.removeEventListener("keyup",N)}},[d]),{startResizing:(N,_)=>{if(r){const{clientX:D,clientY:P}=zr(N);l.current={clientX:D,clientY:P,lastClientX:D,lastClientY:P,direction:_,e:N,isResizing:!0,shiftKey:!1},g.setResizeData(!0,f,l.current.direction,r.rotate,r.boxSize,{clientX:D,clientY:P}),o(r);const I={};h.forEach(({id:W,data:{props:{boxSize:G,position:O,rotate:z,scale:U}}})=>{I[W]=mt.cloneDeep({boxSize:G,position:O,rotate:z,scale:U})}),n(I),w()}}}},fo=(e,t,n)=>{const r=n*Math.PI/180,i=Math.cos(r),o=Math.sin(r),s=e.width*Math.abs(i)+e.height*Math.abs(o),a=e.width*Math.abs(o)+e.height*Math.abs(i),l=t.x+e.width/2,c=t.y+e.height/2;return{width:s,height:a,centerX:l,centerY:c,x:l-s/2,y:c-a/2}},X0=e=>{if(Object.keys(e).length>1){const t={left:0,right:0,top:0,bottom:0};return Object.values(e).forEach((n,r)=>{const i=fo(n.boxSize,n.position,n.rotate);t.left=r===0?i.x:Math.min(t.left,i.x),t.top=r===0?i.y:Math.min(t.top,i.y),t.right=Math.max(t.right,i.x+i.width),t.bottom=Math.max(t.bottom,i.y+i.height)}),{position:{x:t.left,y:t.top},boxSize:{width:t.right-t.left,height:t.bottom-t.top},rotate:0}}else if(Object.keys(e).length===1){const t=Object.values(e)[0];return{position:{x:t.position.x,y:t.position.y},boxSize:{width:t.boxSize.width,height:t.boxSize.height},rotate:t.rotate,scale:t.scale}}},qx=e=>e<1&&e>=0||e<=360&&e>359?0:e>44&&e<46?45:e>89&&e<91?90:e>134&&e<136?135:e>179&&e<181?180:e>224&&e<226?225:e>269&&e<271?270:e,ree=({pageIndex:e,getLayerData:t,setLayerData:n,pageOffset:r,getControlBoxData:i,setControlBoxData:o,onRotate:s})=>{const a=M.useRef(),{selectedLayers:l,selectedLayerIds:c}=Ni(),{scale:h,controlBox:f,actions:g}=Ot((w,E)=>{const N=w.hoveredLayer[e];return{scale:w.scale,controlBox:w.controlBox,hoveredLayer:N&&E.getLayer(e,N)}}),d=w=>{var E,N;const _=w-i().rotate,D=Math.cos(_*Math.PI/180),P=Math.sin(_*Math.PI/180),I=t(),W={},G=((E=a.current)==null?void 0:E.centerX)||0,O=((N=a.current)==null?void 0:N.centerY)||0;return c.map(z=>{const U=I[z],{centerX:$,centerY:ne}={centerX:0,centerY:0,...U},se={x:G+($-G)*D-(ne-O)*P,y:O+($-G)*P+(ne-O)*D};W[z]={boxSize:U.boxSize,rotate:U.rotate+_,position:{x:U.position.x+(se.x-$),y:U.position.y+(se.y-ne)},scale:U.scale}}),W},m=mt.throttle(w=>{if(!a.current)return;const{clientX:E,clientY:N}=zr(w);a.current.last={clientX:E,clientY:N};let _=Math.atan2(N-r.y-a.current.centerY*h,E-r.x-a.current.centerX*h)*180/Math.PI-(a.current.prevDegree<230&&a.current.prevDegree>130?0:90);_=qx((_+360)%360),g.setRotateData(!0,_),c.length===1?s({controlBox:{...f,rotate:_},layers:{[l[0].id]:{boxSize:l[0].data.props.boxSize,position:l[0].data.props.position,scale:l[0].data.props.scale,rotate:_}}}):s({controlBox:{...f,rotate:_},layers:d(_)})},16),y=()=>{if(!a.current)return;const{clientX:w,clientY:E}=a.current.last;let N=Math.atan2(E-r.y-a.current.centerY*h,w-r.x-a.current.centerX*h)*180/Math.PI-(a.current.prevDegree<230&&a.current.prevDegree>130?0:90);N=qx((N+360)%360),c.length===1?s({controlBox:{...f,rotate:N},layers:{[l[0].id]:{boxSize:l[0].data.props.boxSize,position:l[0].data.props.position,scale:l[0].data.props.scale,rotate:N}}}):s({controlBox:{...f,rotate:N},layers:d(N)}),a.current=void 0,g.setRotateData(!1),x()},C=()=>{g.history.new(),window.addEventListener("touchmove",m),window.addEventListener("mousemove",m),window.addEventListener("mouseup",y,{once:!0}),window.addEventListener("mouseleave",y,{once:!0}),window.addEventListener("touchend",y,{once:!0})},x=()=>{window.removeEventListener("touchmove",m),window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",y),window.removeEventListener("mouseleave",y),window.removeEventListener("touchend",y)};return{startRotate:w=>{const{clientX:E,clientY:N}=zr(w),{centerX:_,centerY:D}=fo(f.boxSize,f.position,f.rotate);a.current={centerX:_,centerY:D,last:{clientX:E,clientY:N},prevDegree:f.rotate};const P={};l.forEach(I=>{const{centerX:W,centerY:G}=fo(I.data.props.boxSize,I.data.props.position,I.data.props.rotate);P[I.id]=mt.cloneDeep({position:I.data.props.position,boxSize:I.data.props.boxSize,rotate:I.data.props.rotate,scale:I.data.props.scale,centerX:W,centerY:G})}),o(f),n(P),g.setRotateData(!0,qx(f.rotate)),C()}}},vl=16,Z1=({isActive:e,top:t,left:n,bottom:r,right:i,direction:o,rotate:s,onResizeStart:a})=>{const{config:{editorAssetsUrl:l}}=M.useContext(fd),c=Math.round((s+{bottomLeft:45,topLeft:135,topRight:225,bottomRight:315}[o]+90)%180/10),h=f=>{a(f.nativeEvent,o)};return S("div",{css:{top:t,left:n,bottom:r,right:i,position:"absolute",width:32,height:32,display:"flex",justifyContent:"center",alignItems:"center"},children:S("div",{onTouchStart:f=>{f.stopPropagation(),h(f)},onMouseDown:f=>{f.stopPropagation(),h(f)},css:{width:vl,height:vl,pointerEvents:"auto",display:"flex",alignItems:"center",justifyContent:"center",":hover":{cursor:`url('${l}/cursors/resize/${c}.png') 12 12, auto`}},children:S("div",{css:{background:e?"#3d8eff":"white",width:12,height:12,position:"absolute",borderRadius:"50%",boxShadow:"0 0 4px 1px rgba(57,76,96,.15), 0 0 0 1px rgba(43,59,74,.3)",pointerEvents:"none",":hover":{background:"#3d8eff"}}})})})},yl=16,ev=({isActive:e,boxSize:t,width:n,height:r,top:i,left:o,right:s,bottom:a,direction:l,rotate:c,onResizeStart:h})=>{const{config:{editorAssetsUrl:f}}=M.useContext(fd),g=Math.round((c+{left:90,top:180,right:270,bottom:0}[l]+90)%180/10),d=m=>{h(m.nativeEvent,l)};return S("div",{css:{width:n,height:r,top:i,left:o,right:s,bottom:a,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"auto",clipPath:["top","bottom"].includes(l)?`inset(0 ${yl/2}px)`:`inset(${yl/2}px 0)`,":hover":{cursor:`url('${f}/cursors/resize/${g}.png') 12 12, auto`}},onTouchStart:m=>{m.stopPropagation(),d(m)},onMouseDown:m=>{m.stopPropagation(),d(m)},children:(t.width>50&&["top","bottom"].includes(l)||t.height>50&&["left","right"].includes(l))&&S("div",{css:{background:e?"#3d8eff":"white",width:["top","bottom"].includes(l)?18:6,height:["top","bottom"].includes(l)?6:18,borderRadius:3,position:"absolute",boxShadow:"0 0 4px 1px rgba(57,76,96,.15), 0 0 0 1px rgba(43,59,74,.3)",":hover":{background:"#3d8eff",boxShadow:"0 0 0 1px rgba(57,76,96,.15)"}}})})},iee=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",d:"M15.25 18.48V15a.75.75 0 1 0-1.5 0v4c0 .97.78 1.75 1.75 1.75h4a.75.75 0 1 0 0-1.5h-2.6a8.75 8.75 0 0 0-2.07-15.53.75.75 0 1 0-.49 1.42 7.25 7.25 0 0 1 .91 13.34zM8.75 5.52V9a.75.75 0 0 0 1.5 0V5c0-.97-.78-1.75-1.75-1.75h-4a.75.75 0 0 0 0 1.5h2.6a8.75 8.75 0 0 0 2.18 15.57.75.75 0 0 0 .47-1.43 7.25 7.25 0 0 1-1-13.37z"})}),oee=({rotate:e,onRotateStart:t})=>{const{isRotating:n}=Ot(s=>({isRotating:s.rotateData.status})),{config:{editorAssetsUrl:r}}=M.useContext(fd),i=M.useCallback(s=>{s.stopPropagation(),t(s.nativeEvent)},[t]),o=Math.round(e/10);return me("div",{css:{bottom:e<230&&e>130?"50%":-48,position:"absolute",left:e<230&&e>130?"calc(100% + 48px)":"50%",transform:e<230&&e>130?"translateY(50%)":"translateX(-50%)",pointerEvents:"auto",display:n?"none":"block"},children:[S("div",{children:S("div",{css:{background:"white",boxShadow:"0 0 4px 1px rgba(57,76,96,.15), 0 0 0 1px rgba(43,59,74,.3)",width:24,height:24,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",padding:4,color:"#0d1216",":hover":{cursor:`url('${r}/cursors/rotate/${o===36?0:o}.png') 12 12, auto;`}},onMouseDown:i,onTouchStart:i,children:S(iee,{})})}),n&&me("div",{css:{position:"absolute",left:60,top:36,whiteSpace:"nowrap",background:"#1E1E2D",padding:"3px 8px",borderRadius:4,textAlign:"center",color:"white",fontSize:12,fontWeight:700},children:[Math.round(e),""]})]})},t8=e=>{const t=M.useRef(null);return M.useEffect(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)}),t},see=({boxSize:e,position:t,rotate:n,disabled:r,locked:i,onResizeStart:o,onRouteStart:s},a)=>{const l=t8(a),{pageIndex:c}=M.useContext(Ig),{imageEditor:h,isRotating:f,isDragging:g,frameScale:d,selectState:m,isGroup:y,resizeDirection:C,isPageLocked:x}=Ot(E=>({isGroup:E.selectedLayers[c].length>1,imageEditor:E.imageEditor,isDragging:E.dragData.status,isRotating:E.rotateData.status,resizeDirection:E.resizeData.direction,frameScale:E.scale,selectState:E.selectData.status,isPageLocked:E.pages[c].layers.ROOT.data.locked})),w=(E,N)=>{o&&o(E,N)};return h?null:S("div",{ref:l,css:{position:"absolute",zIndex:1},style:{transform:gn({position:{x:t.x*d,y:t.y*d},rotate:n}),width:e.width*d,height:e.height*d},children:!g&&!i&&!m&&!x&&me(M.Fragment,{children:[!r.corners&&!f&&me(M.Fragment,{children:[(!C||C==="topLeft")&&S(Z1,{top:-vl,left:-vl,direction:"topLeft",isActive:C==="topLeft",rotate:n,onResizeStart:w}),(!C||C==="topRight")&&S(Z1,{top:-vl,right:-vl,direction:"topRight",isActive:C==="topRight",rotate:n,onResizeStart:w}),(!C||C==="bottomLeft")&&S(Z1,{bottom:-vl,left:-vl,direction:"bottomLeft",isActive:C==="bottomLeft",rotate:n,onResizeStart:w}),(!C||C==="bottomRight")&&S(Z1,{bottom:-vl,right:-vl,direction:"bottomRight",isActive:C==="bottomRight",rotate:n,onResizeStart:w})]}),!y&&!f&&me(M.Fragment,{children:[!r.vertical&&me(M.Fragment,{children:[(!C||C==="top")&&S(ev,{width:"100%",height:yl,top:-(yl/2),boxSize:e,direction:"top",isActive:C==="top",rotate:n,onResizeStart:w}),(!C||C==="bottom")&&S(ev,{width:"100%",height:yl,bottom:-(yl/2),direction:"bottom",isActive:C==="bottom",boxSize:e,rotate:n,onResizeStart:w})]}),!r.horizontal&&!f&&me(M.Fragment,{children:[(!C||C==="left")&&S(ev,{width:yl,height:"100%",left:-(yl/2),direction:"left",isActive:C==="left",boxSize:e,rotate:n,onResizeStart:w}),(!C||C==="right")&&S(ev,{width:yl,height:"100%",right:-(yl/2),direction:"right",isActive:C==="right",boxSize:e,rotate:n,onResizeStart:w})]})]}),!i&&!r.rotate&&!C&&S(oee,{rotate:n,onRotateStart:s})]})})},aee=M.forwardRef(see),n8=(e,{pageIndex:t,layerIds:n,actions:r})=>{const i=[];n.map(o=>{i.push({rootId:o,layers:mt.cloneDeep(P2(e.pages[t].layers,o))})}),r.addLayerTrees(i.map(o=>(Object.entries(o.layers).forEach(([s])=>{o.layers[s].props.position.x+=10,o.layers[s].props.position.y+=10}),o)))},yw=({className:e=""})=>me("svg",{className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 3h8a2 2 0 0 1 2 2v.5h-1.5V5a.5.5 0 0 0-.5-.5H5a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h2.5V17H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Zm6 5.5a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V9a.5.5 0 0 0-.5-.5h-8ZM19 7h-8a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2Z",fill:"currentColor"}),S("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 11a.75.75 0 0 0-.75.75v1.5h-1.5a.75.75 0 0 0 0 1.5h1.5v1.5a.75.75 0 0 0 1.5 0v-1.5h1.5a.75.75 0 0 0 0-1.5h-1.5v-1.5A.75.75 0 0 0 15 11Z",fill:"currentColor"})]}),ww=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",d:"M8 5a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3h4.25a.75.75 0 1 1 0 1.5H19V18a3 3 0 0 1-3 3H8a3 3 0 0 1-3-3V6.5H3.75a.75.75 0 0 1 0-1.5H8zM6.5 6.5V18c0 .83.67 1.5 1.5 1.5h8c.83 0 1.5-.67 1.5-1.5V6.5h-11zm3-1.5h5c0-.83-.67-1.5-1.5-1.5h-2c-.83 0-1.5.67-1.5 1.5zm-.25 4h1.5v8h-1.5V9zm4 0h1.5v8h-1.5V9z"})}),GR=({className:e="",style:t={}})=>S("svg",{className:e,style:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",fillRule:"evenodd",d:"M5 14a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm7 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm7 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"})}),T2=({className:e=""})=>me("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"24",viewBox:"0 0 20 24",children:[S("path",{d:"M14.996 7.633H5.039m9.957 0c.574 0 1.039.465 1.039 1.04m-1.04-1.04c.572 0 1.04.468 1.04 1.04M5.039 7.632A1.04 1.04 0 0 0 4 8.673m1.04-1.04c-.572 0-1.04.468-1.04 1.04m12.035 0v7.466m0 0a1.04 1.04 0 0 1-1.04 1.039m1.04-1.04c0 .572-.468 1.04-1.04 1.04m0 0H5.04m0 0A1.04 1.04 0 0 1 4 16.138m1.04 1.04c-.572 0-1.04-.468-1.04-1.04m0 0V8.673",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),S("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.018 2.028a4.983 4.983 0 0 0-4.983 4.983v1.22h1.25V7.01a3.736 3.736 0 0 1 3.732-3.733 3.736 3.736 0 0 1 3.733 3.733v1.22H15V7.01a4.983 4.983 0 0 0-4.982-4.983Z",fill:"currentColor"}),S("path",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",d:"M10.02 11.553v3.074"}),S("path",{d:"M10.017 12.38c.815 0 1.476-.69 1.476-1.541 0-.852-.66-1.542-1.476-1.542-.814 0-1.475.69-1.475 1.542 0 .851.66 1.541 1.475 1.541Z",fill:"currentColor"})]}),lee=()=>{const{pageIndex:e}=M.useContext(Ig),t=M.useRef(null),{selectedLayerIds:n,selectedLayers:r}=Ni(),{actions:i,state:o,isDragging:s,isResizing:a,isRotating:l,controlBox:c,pageSize:h,isOpenMenu:f,scale:g,isPageLocked:d}=Ot(_=>({isGroup:_.selectedLayers[_.activePage].length>1,isDragging:_.dragData.status,isResizing:_.resizeData.status,isRotating:_.rotateData.status,controlBox:_.controlBox,pageSize:_.pageSize,isPageLocked:_.pages[_.activePage].layers.ROOT.data.locked,isOpenMenu:!!_.openMenu,scale:_.scale})),m=r.find(_=>_.data.locked),y=M.useMemo(()=>c?fo(c.boxSize,c.position,c.rotate):{x:0,y:80,width:h.width,height:h.height},[c]),C=()=>{n8(o,{pageIndex:e,layerIds:n,actions:i})},x=()=>{var _;if(f)i.hideContextMenu();else{const D=(_=t.current)==null?void 0:_.getBoundingClientRect();i.showContextMenu({clientX:D.right-42,clientY:D.bottom+4})}},w=()=>{n.length===1&&i.ungroup(n[0])},E=()=>{i.group(n)};if(s||a||l||n.includes("ROOT")&&!m&&!d||!c)return null;const N=!!r.find(_=>mg(_));return S("div",{ref:t,css:{position:"absolute",left:(y.x+y.width/2)*g,top:y.y*g-60,transform:"translateX(-50%)"},children:S("div",{css:{height:40,borderRadius:4,padding:"0 4px",display:"inline-flex",alignItems:"center",background:"#fff",boxShadow:"0 0 0 1px rgba(64,87,109,.07),0 2px 12px rgba(53,71,90,.2)",overflow:"hidden",pointerEvents:"auto",color:"#0d1216"},onMouseDown:_=>{_.stopPropagation()},children:me("div",{css:{alignItems:"center",display:"flex",whiteSpace:"nowrap"},children:[!d&&!m&&!n.includes("ROOT")&&me(M.Fragment,{children:[n.length>1&&S("div",{css:{lineHeight:"32px",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",fontSize:14,padding:"0 8px",fontWeight:700,":hover":{backgroundColor:"rgba(64,87,109,.07)"}},onClick:E,children:"Group"}),N&&S("div",{css:{lineHeight:"32px",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",fontSize:14,padding:"0 8px",fontWeight:700,":hover":{backgroundColor:"rgba(64,87,109,.07)"}},onClick:w,children:"Ungroup"}),S("div",{css:{width:32,height:32,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",fontSize:24,":hover":{backgroundColor:"rgba(64,87,109,.07)"}},onClick:C,children:S(yw,{})}),S("div",{css:{width:32,height:32,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",fontSize:24,":hover":{backgroundColor:"rgba(64,87,109,.07)"}},onClick:()=>i.deleteLayer(e,n),children:S(ww,{})}),S("div",{css:{width:32,height:32,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",fontSize:24,":hover":{backgroundColor:"rgba(64,87,109,.07)"}},onClick:x,children:S(GR,{})})]}),(m||d)&&S("div",{css:{width:32,height:32,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",fontSize:24,color:d?"rgba(36,49,61,.4)":void 0,":hover":{backgroundColor:d?void 0:"rgba(64,87,109,.07)"}},onClick:()=>{i.unlock(e,n)},children:S(T2,{})})]})})})},cee=Un.memo(lee),uee=()=>{const{guideline:e,frameScale:t}=Ot(n=>({guideline:n.guideline,frameScale:n.scale}));return!e.vertical.length&&!e.horizontal.length?null:me("div",{children:[e.horizontal.map((n,r)=>S("div",{css:{position:"absolute",top:n.y*t,left:n.x1*t,width:(n.x2-n.x1)*t,borderTopWidth:1,borderStyle:"dashed",borderColor:"#3d8eff"}},r)),e.vertical.map((n,r)=>S("div",{css:{position:"absolute",top:n.y1*t,left:n.x*t,height:(n.y2-n.y1)*t,borderLeftWidth:1,borderStyle:"dashed",borderColor:"#3d8eff"}},r))]})},KR=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",d:"M8 5v14l11-7z"})}),hee=({boxSize:e,position:t,rotate:n,type:r="solid",layerType:i},o)=>{const{scale:s}=Ot(a=>({scale:a.scale}));return me("div",{ref:o,css:{width:e.width*s,height:e.height*s,boxShadow:"0 0 0 1px rgba(57,76,96,.15)",position:"absolute",transform:t?gn({position:{x:t.x*s,y:t.y*s},rotate:n}):void 0},children:[r==="solid"&&S("div",{css:{border:"2px solid #3d8eff",boxShadow:"0 0 0 1px hsla(0,0%,100%,.07), inset 0 0 0 1px hsla(0,0%,100%,.07)",position:"absolute",inset:-1}}),r==="dashed"&&S("div",{css:{inset:-1,position:"absolute",backgroundImage:"linear-gradient(90deg,#fff 60%,rgba(53,71,90,.2) 0),linear-gradient(180deg,#fff 60%,rgba(53,71,90,.2) 0),linear-gradient(90deg,#fff 60%,rgba(53,71,90,.2) 0),linear-gradient(180deg,#fff 60%,rgba(53,71,90,.2) 0),linear-gradient(90deg,rgba(57,76,96,.15),rgba(57,76,96,.15)),linear-gradient(180deg,rgba(57,76,96,.15),rgba(57,76,96,.15)),linear-gradient(90deg,rgba(57,76,96,.15),rgba(57,76,96,.15)),linear-gradient(180deg,rgba(57,76,96,.15),rgba(57,76,96,.15))",backgroundPosition:"top,100%,bottom,0,center 2px,calc(100% - 2px),center calc(100% - 2px),2px",backgroundRepeat:"repeat-x,repeat-y,repeat-x,repeat-y,no-repeat,no-repeat,no-repeat,no-repeat",backgroundSize:"6px 2px,2px 6px,6px 2px,2px 6px,calc(100% - 6px) 1px,1px calc(100% - 4px),calc(100% - 6px) 1px,1px calc(100% - 4px)"}}),i==="Video"&&S(M.Fragment,{children:S("div",{css:{position:"absolute",inset:0,transform:gn({rotate:-n}),display:e.width>80&&e.height>80?"flex":"none",alignItems:"center",justifyContent:"center"},children:S("div",{css:{width:e.height<=180||e.width<=180?24:48,height:e.height<=180||e.width<=180?24:48,background:"rgba(17,23,29,.6)",borderRadius:"50%",color:"#fff",fontSize:e.height<=180||e.width<=180?8:16,transform:gn({rotate:90}),display:"flex",alignItems:"center",justifyContent:"center"},children:S(KR,{})})})})]})},Wx=M.forwardRef(hee),tv=({direction:e,onResizeStart:t})=>{const n=M.useMemo(()=>{const i={};return e.toLowerCase().includes("top")&&(i.top=-16),e.toLowerCase().includes("left")&&(i.left=-16),e.toLowerCase().includes("bottom")&&(i.bottom=-16),e.toLowerCase().includes("right")&&(i.right=-16),i},[e]),r=M.useCallback(i=>{i.stopPropagation(),t(i.nativeEvent,e)},[t,e]);return S("div",{css:{height:32,width:32,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"auto",zIndex:50,...n},onMouseDown:r,onTouchStart:r,children:S("div",{css:{borderRadius:"50%",cursor:"auto",width:12,height:12,background:"white",boxShadow:"0 0 4px 1px rgba(57,76,96,.15), 0 0 0 1px rgba(43,59,74,.3)"}})})},aN=({getData:e,onResizeStart:t,onResize:n,onResizeEnd:r,lockAspect:i=!1})=>{const o=M.useRef({clientX:0,clientY:0,last:{clientX:0,clientY:0},direction:"topRight",isResizing:!1,lockAspect:i}),{getResized:s}=WR(e),a=(g,d)=>s(o.current.direction,o.current,{clientX:g,clientY:d},o.current.lockAspect),l=mt.throttle(g=>{g.stopPropagation(),o.current.e=g;const{clientX:d,clientY:m}=zr(g);o.current.last={clientX:d,clientY:m};const y=a(d,m);n(y,o.current.direction,o.current,{clientX:d,clientY:m})},16),c=g=>{g.stopPropagation();const{clientX:d,clientY:m}=o.current.last,y=a(d,m);r&&r(y),f()},h=()=>{window.addEventListener("mousemove",l),window.addEventListener("touchmove",l),window.addEventListener("mouseup",c,{once:!0}),window.addEventListener("mouseleave",c,{once:!0}),window.addEventListener("touchend",c,{once:!0})},f=()=>{window.removeEventListener("mousemove",l),window.removeEventListener("touchmove",l),window.removeEventListener("mouseup",c),window.removeEventListener("mouseleave",c),window.removeEventListener("touchend",c)};return M.useEffect(()=>{const g=d=>{o.current.lockAspect=i||d.shiftKey,o.current.e&&o.current.isResizing&&l(o.current.e)};return window.addEventListener("keydown",g),window.addEventListener("keyup",g),()=>{window.removeEventListener("keydown",g),window.removeEventListener("keyup",g)}},[l]),{startResize:(g,d)=>{const{clientX:m,clientY:y}=zr(g);o.current={clientX:m,clientY:y,last:{clientX:m,clientY:y},direction:d,e:g,isResizing:!0,lockAspect:i},t(g,d),h()}}},fee=({getData:e,onDragStart:t})=>{const{imageEditor:n,actions:r,scale:i}=Ot(g=>({imageEditor:g.imageEditor,scale:g.scale})),o=M.useRef(),s=n==null?void 0:n.image,a=()=>{window.addEventListener("mousemove",h),window.addEventListener("touchmove",h),window.addEventListener("mouseup",f,{once:!0}),window.addEventListener("mouseleave",f,{once:!0}),window.addEventListener("touchend",f,{once:!0})},l=()=>{window.removeEventListener("mousemove",h),window.removeEventListener("touchmove",h),window.removeEventListener("mouseup",f),window.removeEventListener("mouseleave",f),window.removeEventListener("touchend",f)},c=({clientX:g,clientY:d})=>{const m=_f(o.current,{clientX:g,clientY:d},i),y=e8(e(),Z7(o.current,{clientX:g,clientY:d}),m);return{x:y.width,y:y.height}},h=mt.throttle(g=>{if(!n||!s||!o.current)return;g.stopPropagation();const{clientX:d,clientY:m}=zr(g);o.current.moveX=d,o.current.moveY=m;const y=c({clientX:d,clientY:m}),C=fo(n.boxSize,{x:s.position.x+y.x,y:s.position.y+y.y},0),x=Math.min(Math.max(C.x,C.width-s.boxSize.width),0),w=Math.min(Math.max(C.y,C.height-s.boxSize.height),0);n&&r.updateImageEditor({image:n.image?{position:{x,y:w}}:void 0})},16),f=()=>{if(!n||!s||!o.current)return;const{moveX:g,moveY:d}=o.current,m=c({clientX:g,clientY:d}),y=fo(n.boxSize,{x:s.position.x+m.x,y:s.position.y+m.y},0),C=Math.min(Math.max(y.x,y.width-s.boxSize.width),0),x=Math.min(Math.max(y.y,y.height-s.boxSize.height),0);n&&r.updateImageEditor({image:n.image?{position:{x:C,y:x}}:void 0}),l()};return{startDrag:g=>{g.stopPropagation();const{clientX:d,clientY:m}=zr(g.nativeEvent);o.current={clientX:d,clientY:m,moveX:d,moveY:m},t&&t(),a()}}},dee=()=>{const e=M.useRef(null),t=M.useRef(null),[n,r,i]=sh(),[,o,s]=sh(),{imageEditor:a,actions:l,scale:c}=Ot(d=>{const m=d.imageEditor;return{imageEditor:m,scale:d.scale,originalLayer:d.pages[m.pageIndex].layers[m.layerId]}}),h=a.image,{startDrag:f}=fee({getData:o,onDragStart:()=>{a&&s(a.rotate)}});M.useEffect(()=>{const d=m=>{const y=t==null?void 0:t.current,C=e==null?void 0:e.current;!y||y.contains(m.target)||a.layerId!=="ROOT"&&C!=null&&C.contains(m.target)||l.closeImageEditor()};return window.addEventListener("mousedown",d,{capture:!0}),()=>{window.removeEventListener("mousedown",d,{capture:!0})}},[]);const{startResize:g}=aN({lockAspect:!0,getData:r,onResizeStart:()=>{h&&i({boxSize:h.boxSize,position:h.position,rotate:h.rotate})},onResize:({boxSize:d,position:m,rotate:y},C)=>{var x,w;if(a&&n.current&&h){let E=Math.min(m.x,0),N=Math.min(m.y,0),_=d.width,D=d.height;const P=n.current.boxSize.width/n.current.boxSize.height,I=n.current.position.x*-1-n.current.position.y*-1*P,W=n.current.position.y*-1-n.current.position.x*-1/P,G=n.current.position.x/n.current.position.y;if(["topLeft"].includes(C)){const O=a.boxSize.width/a.boxSize.height,z=m.y-N,U=m.x-E;(z>0||U>0)&&(G>O?(E=-I,_+=m.x-E,D+=+m.y):(N=-W,_+=m.x,D+=+m.y-N))}else if(C==="bottomRight"&&(d.width<a.boxSize.width-h.position.x||d.height<a.boxSize.height-h.position.y)){const O=Math.max(d.width,a.boxSize.width-h.position.x),z=Math.max(d.height,a.boxSize.height-h.position.y);O/z>P?(_=a.boxSize.width-h.position.x,D=_/P):O/z<P&&(D=a.boxSize.height-h.position.y,_=D*P)}else if(C==="topRight"&&(m.y>0||d.width<a.boxSize.width-n.current.position.x)){const O=a.boxSize.width-n.current.position.x,z=((x=n.current)==null?void 0:x.boxSize.width)-O;z/n.current.position.y*-1>P?(D=Math.max(n.current.boxSize.height+n.current.position.y,d.height),_=D*P):(_=Math.max(a.boxSize.width-n.current.position.x,d.width),D=_/P,N=n.current.position.y+z/P)}else if(C==="bottomLeft"&&(m.x>0||d.height<a.boxSize.height-n.current.position.y)){const O=a.boxSize.height-n.current.position.y,z=((w=n.current)==null?void 0:w.boxSize.height)-O;(z/n.current.position.x*-1||0)>P?(_=Math.max(n.current.boxSize.width+n.current.position.x,d.width),D=_/P):(D=Math.max(a.boxSize.height-n.current.position.y,d.height),_=D*P,E=n.current.position.x+z*P)}l.updateImageEditor({image:{boxSize:{width:_,height:D},position:{x:E,y:N},rotate:y}})}}});return aN({getData:r,onResizeStart:()=>{a&&i({boxSize:a.boxSize,position:a.position,rotate:a.rotate})},onResize:({boxSize:d,position:m,rotate:y},C,x,w)=>{if(a&&n.current&&h){const E=_f(x,w,c),N=e8(a.rotate,Z7(x,w),E);let _=h.position.x,D=h.position.y;switch(C){case"topLeft":_-=N.width,D-=N.height;break;case"bottomLeft":_-=N.width;break;case"topRight":D-=N.height;break}const P=Math.min(_,0),I=Math.min(D,0);l.updateImageEditor({boxSize:{width:Math.min(d.width+(P-_),h.boxSize.width+P),height:Math.min(d.height+(I-D),h.boxSize.height+I)},position:{x:Math.max(m.x,n.current.position.x+h.position.x),y:Math.max(m.y,n.current.position.y+h.position.y)},rotate:y,image:{position:{x:P,y:I}}})}},onResizeEnd:({boxSize:d,position:m,rotate:y})=>{a&&l.setProp(a.pageIndex,a.layerId,{boxSize:d,position:m,rotate:y})}}),h?S("div",{css:{position:"absolute",inset:0,pointerEvents:"none",zIndex:4},children:S("div",{css:{width:a.boxSize.width*c,height:a.boxSize.height*c,left:0,top:0,position:"absolute",transform:gn({position:{x:a.position.x*c,y:a.position.y*c},rotate:a.rotate})},children:me("div",{ref:t,css:{width:h.boxSize.width*c,height:h.boxSize.height*c,left:0,top:0,position:"absolute",outline:"2px solid rgba(61, 142, 255,.5)",boxShadow:"0 0 0 1px hsla(0,0%,100%,.07), inset 0 0 0 1px hsla(0,0%,100%,.07)",transform:gn({position:{x:h.position.x*c,y:h.position.y*c},rotate:h.rotate})},onTouchStart:f,onMouseDown:f,children:[S("div",{css:{position:"absolute",inset:-12,pointerEvents:"auto",cursor:"move"}}),S(tv,{direction:"topLeft",onResizeStart:g}),S(tv,{direction:"topRight",onResizeStart:g}),S(tv,{direction:"bottomRight",onResizeStart:g}),S(tv,{direction:"bottomLeft",onResizeStart:g})]})})}):null},YR=(e,t)=>{const n=fo(e.boxSize,e.position,e.rotate),r=fo(t.boxSize,{x:e.position.x+t.position.x*(e.scale||1),y:e.position.y+t.position.y*(e.scale||1)},e.rotate),i=n.centerX,o=n.centerY,s=r.centerX,a=r.centerY,l=Math.cos(e.rotate*Math.PI/180),c=Math.sin(e.rotate*Math.PI/180),h={x:i+(s-i)*l-(a-o)*c,y:o+(s-i)*c+(a-o)*l},f=h.x-s,g=h.y-a;return{x:e.position.x+t.position.x*(e.scale||1)+f,y:e.position.y+t.position.y*(e.scale||1)+g,rotate:e.rotate+t.rotate}},pee=()=>{const e=M.useRef(null),{imageEditor:t,originalLayer:n,scale:r}=Ot(s=>{const a=s.imageEditor;return{imageEditor:a,scale:s.scale,originalLayer:a?s.pages[a.pageIndex].layers[a.layerId]:null}}),i=t==null?void 0:t.image;if(!t||!n||!i)return null;const o=YR(t,i);return me("div",{css:{position:"absolute",inset:0,pointerEvents:"none"},children:[S("div",{css:{width:i.boxSize.width*r,height:i.boxSize.height*r,left:0,top:0,position:"absolute",transform:gn({position:{x:o.x*r,y:o.y*r},rotate:o.rotate}),opacity:.5},children:S("div",{css:{width:"100%",height:"100%"},children:t.image&&S("img",{src:i.url,crossOrigin:"anonymous",css:{display:"block",height:"100%",width:"100%",position:"absolute",pointerEvents:"none",objectFit:"fill"}})})}),S("div",{ref:e,css:{position:"absolute",top:0,left:0,width:t.boxSize.width*r,height:t.boxSize.height*r,transform:gn({position:{x:t.position.x*r,y:t.position.y*r},rotate:t.rotate}),overflow:"hidden",clipPath:vg(n)?UG(n.data.props.clipPath,n.data.props.scale*r):void 0},children:S("div",{css:{width:i.boxSize.width*r,height:i.boxSize.height*r,transform:gn({position:{x:i.position.x*r,y:i.position.y*r},rotate:i.rotate}),opacity:1,position:"absolute",left:0,top:0},children:S("div",{css:{width:"100%",height:"100%"},children:t.image&&S("img",{src:i.url,crossOrigin:"anonymous",css:{display:"block",height:"100%",width:"100%",position:"absolute",pointerEvents:"none",objectFit:"fill"}})})})}),S(dee,{})]})},gee=({editor:e})=>{const t=M.useRef(null),{actions:n}=Ot();return M.useEffect(()=>{n.history.new();const r=jR({content:e.dom.innerHTML,ele:t.current,handleDOMEvents:{blur:()=>{n.closeTextEditor()}}});ro({from:r.state.doc.content.size,to:r.state.doc.content.size})(r.state,r.dispatch),r.focus(),n.setOpeningEditor(r)},[n]),S("div",{ref:t})},mee=Un.memo(gee),vee=()=>{const{editorScale:e,layer:t}=Ot(f=>{const g=f.textEditor,d=f.pages[g.pageIndex].layers[g.layerId];return{editorScale:f.scale,textEditor:g,layer:d}});if(!t)return null;const n=t.data.editor,{boxSize:r,position:i,scale:o,rotate:s,transparency:a,effect:l,colors:c,fontSizes:h}=t.data.props;return S("div",{css:{touchAction:"pan-x pan-y pinch-zoom",pointerEvents:"auto",position:"absolute",width:r.width*e,height:r.height*e,transform:gn({position:{x:i.x*e,y:i.y*e},rotate:s}),opacity:a,top:0,left:0},children:S("div",{css:{width:r.width/o,height:r.height/o,transform:`scale(${o*e})`,transformOrigin:"0 0",p:{"&:before":{...P5((l==null?void 0:l.name)||"none",l==null?void 0:l.settings,c[0],h[0])}},...P5((l==null?void 0:l.name)||"none",l==null?void 0:l.settings,c[0],h[0])},onMouseDown:f=>f.stopPropagation(),children:n&&S(mee,{editor:n})})})},r8=({className:e=""})=>me("svg",{className:e,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S("path",{d:"M14.996 7.78H5.039m9.957 0c.574 0 1.039.466 1.039 1.04m-1.04-1.04c.572 0 1.04.468 1.04 1.04M5.039 7.78A1.04 1.04 0 0 0 4 8.82m1.04-1.04C4.467 7.78 4 8.249 4 8.82m12.035 0v7.466m0 0a1.04 1.04 0 0 1-1.04 1.04m1.04-1.04c0 .572-.468 1.04-1.04 1.04m0 0H5.04m0 0A1.04 1.04 0 0 1 4 16.286m1.04 1.04c-.572 0-1.04-.468-1.04-1.04m0 0V8.82M10.02 11.7v3.074",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),S("path",{d:"M10.017 12.528c.815 0 1.476-.69 1.476-1.542 0-.851-.66-1.541-1.476-1.541-.814 0-1.475.69-1.475 1.541 0 .852.66 1.542 1.475 1.542Z",fill:"currentColor"}),S("path",{d:"M10.13.75a4.344 4.344 0 0 0-4.125 2.986A4.32 4.32 0 0 1 10.129.75Zm0 0A4.35 4.35 0 0 1 14.5 5.1M10.13.75c2.397 0 4.37 1.947 4.37 4.35m0 0v2.4",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})]}),yee=({className:e=""})=>S("svg",{className:e,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.265 8.4a.375.375 0 0 0-.53 0l-4.793 4.792a.625.625 0 1 1-.884-.884l4.793-4.793a1.625 1.625 0 0 1 2.298 0l4.793 4.793a.625.625 0 1 1-.884.884l-4.793-4.793Z",fill:"currentColor"})}),Q5=({className:e=""})=>S("svg",{className:e,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.265 11.101a.375.375 0 0 1-.53 0L4.942 6.308a.625.625 0 1 0-.884.884l4.793 4.793a1.625 1.625 0 0 0 2.298 0l4.793-4.793a.625.625 0 1 0-.884-.884l-4.793 4.793Z",fill:"currentColor"})}),i8=({className:e=""})=>me("svg",{className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S("path",{d:"M14.25 12.25a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5Z",fill:"currentColor"}),S("path",{d:"M7.219 4H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-2.581h-1.5V18a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5h1.219V4Z",fill:"currentColor"})]}),bw=({text:e,onSetText:t,placeholder:n="Add new text",handleStyle:r,styles:i={placeholderColor:"#73757b"},inputCss:o=null,autoRow:s=!0,maxLength:a=120})=>{const[l,c]=M.useState(!1),[h,f]=M.useState(!1),g=M.useRef(null),[d,m]=M.useState(""),y=N=>{N.preventDefault(),m(e),c(!0)},C=s?{}:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",maxWidth:450,display:"block"},x=()=>{E()},w=N=>{var _;s&&(N.target.style.height="inherit",N.target.style.height=`${N.target.scrollHeight}px`),m(((_=g.current)==null?void 0:_.value)||""),N.key==="Enter"?E():N.key==="Escape"&&(c(!1),m(""))},E=()=>{var N,_;if(((N=g.current)==null?void 0:N.value.length)>a){console.warn("Maximum is "+a);return}f(!1),c(!1),m(""),t(((_=g.current)==null?void 0:_.value)||"")};return M.useEffect(()=>{if(l&&g.current&&(g.current.focus(),s)){const N=g.current.scrollHeight;g.current.style.height=N+"px"}},[l]),S("div",{css:r&&r(h),children:S("div",{css:{minHeight:18,minWidth:18},children:l?me("div",{css:{position:"relative",width:"100%"},children:[s?S("textarea",{ref:g,defaultValue:e,onFocus:()=>f(!0),rows:1,onBlur:x,onKeyDown:w,css:{position:"absolute",border:"none",left:0,top:0,borderBottom:"1px dashed #000",backgroundColor:"transparent",width:"100%",fontWeight:"bold",color:"inherit",font:"inherit",zIndex:1,resize:"none",...o||{}}}):S("input",{ref:g,defaultValue:e,onFocus:()=>f(!0),onBlur:x,onKeyDown:w,css:{position:"absolute",border:"none",left:0,top:0,borderBottom:"1px dashed #000",backgroundColor:"transparent",width:"100%",fontWeight:"bold",color:"inherit",font:"inherit",zIndex:1,resize:"none",...o||{}}}),S("span",{css:{opacity:0,margin:"0 6px",...C},children:d})]}):S("span",{onClick:y,css:{color:e?"inherit":i.placeholderColor,fontWeight:"bold",font:"inherit",cursor:"text",...C},children:e||n})})})},wee=({pageIndex:e,pageName:t,width:n,height:r,transform:i,onMovePageUp:o,onMovePageDown:s},a)=>{var l,c;const h=M.useRef(null),f=M.useRef(null),[g]=sh(null),d=M.useRef({}),[m,y,C]=sh(),[x,w,E]=sh({}),{selectedLayerIds:N,selectedLayers:_}=Ni(),D=QZ(),{actions:P,hoveredLayer:I,scale:W,activePage:G,controlBox:O,imageEditor:z,textEditor:U,totalPages:$,isLocked:ne}=Ot(ge=>{const F=ge.hoveredLayer[e];return{activePage:ge.activePage,controlBox:ge.controlBox,scale:ge.scale,isLocked:ge.pages[e]&&ge.pages[e].layers.ROOT.data.locked,hoveredLayer:F?ge.pages[e].layers[F]:null,selectStatus:ge.selectData.status,imageEditor:ge.imageEditor,textEditor:ge.textEditor,totalPages:ge.pages.length}}),se=ge=>{if(ge.preventDefault(),!(I&&I.data.locked)){if(O&&h.current&&I){const F=new WebKitCSSMatrix(gn({rotate:O.rotate})),Q=h.current.getBoundingClientRect(),re=ks({width:O.boxSize.width*W,height:O.boxSize.height*W},F,{x:Q.x+O.position.x*W,y:Q.y+O.position.y*W});J0({x:ge.clientX,y:ge.clientY},re)||P.selectLayers(e,I.id)}else I&&P.selectLayers(e,I.id);P.showContextMenu(zr(ge.nativeEvent))}};M.useEffect(()=>{m.current&&C({boxSize:{width:m.current.boxSize.width*W,height:m.current.boxSize.height*W},position:{x:m.current.position.x*W,y:m.current.position.y*W},rotate:m.current.rotate,scale:m.current.scale}),x.current&&Object.entries(x.current).forEach(([ge,F])=>{F.centerX&&(x.current[ge].centerX=F.centerX*W),F.centerY&&(x.current[ge].centerY=F.centerY*W),x.current[ge].position.x=F.position.x*W,x.current[ge].position.y=F.position.y*W,x.current[ge].boxSize.width=F.boxSize.width*W,x.current[ge].boxSize.height=F.boxSize.height*W})},[W]);const ae=({controlBox:ge,layers:F,direction:Q,lockAspect:re})=>{P.setControlBox(ge),Object.entries(F).forEach(([he,pe])=>{const Se=_.find(xe=>xe.id===he);if(Se)if(xf(Se)){const xe=pe.boxSize.width-Se.data.props.boxSize.width,Ee=pe.boxSize.height-Se.data.props.boxSize.height,Ge=Se.data.props;if(re){const Be=pe.boxSize.width/Se.data.props.boxSize.width;P.history.merge().setProp(e,he,{...pe,image:{boxSize:{width:Se.data.props.image.boxSize.width*Be,height:Se.data.props.image.boxSize.height*Be},position:{x:Se.data.props.image.position.x*Be,y:Se.data.props.image.position.y*Be},rotate:0}})}else{const Be=tee(Ge,Ge.image,Q,{width:xe,height:Ee});P.history.merge().setProp(e,he,{...Be,position:{x:pe.position.x,y:pe.position.y}})}}else P.history.merge().setProp(e,he,pe)})},{startResizing:Z}=nee({options:{scalable:!D.scalable},getLayerData:w,setLayerData:E,controlBox:O,getControlBoxData:y,setControlBoxData:C,onResize:ae,onResizeStop:ae});M.useEffect(()=>{const ge=_.filter(F=>F.id!=="ROOT").reduce((F,Q)=>(F[Q.id]=Q.data.props,F),{});P.setControlBox(X0(ge))},[JSON.stringify(N),W]);const le=({controlBox:ge,layers:F})=>{P.setControlBox(ge),Object.entries(F).forEach(([Q,re])=>{P.history.merge().setProp(e,Q,re)})},{startRotate:ue}=ree({pageIndex:e,getLayerData:w,setLayerData:E,pageOffset:{x:((l=h.current)==null?void 0:l.getBoundingClientRect().x)||0,y:((c=h.current)==null?void 0:c.getBoundingClientRect().y)||0},getControlBoxData:y,setControlBoxData:C,onRotate:le,onRotateEnd:le});return me(fT,{pageIndex:e,children:[me("div",{css:{fontWeight:"bold",marginTop:24,height:28,display:"flex",alignItems:"center",marginBottom:4,width:n*W,whiteSpace:"nowrap","@media (max-width: 900px)":{display:"none"}},children:[S("div",{css:{flexGrow:1},children:me("div",{css:{display:"flex"},children:[me("div",{children:["Page ",e+1," -"]}),"",S(bw,{text:t,placeholder:"Add page title",onSetText:ge=>{P.setPageName(e,ge)}})]})}),me("div",{css:{display:"flex",alignItems:"center",fontSize:20,color:"#0d1216",height:28,opacity:.7},children:[S("div",{css:{marginLeft:8,width:28,height:28,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,cursor:e===0?"not-allowed":"pointer",color:e===0?"rgba(36,49,61,.4)":"#0d1216",":hover":{background:e===0?void 0:"rgba(64, 87, 109, 0.07)"}},onClick:()=>{e!==0&&o()},children:S(yee,{})}),S("div",{css:{marginLeft:8,width:28,height:28,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,cursor:e===$-1?"not-allowed":"pointer",color:e===$-1?"rgba(36,49,61,.4)":"#0d1216",":hover":{background:e===$-1?void 0:"rgba(64, 87, 109, 0.07)"}},onClick:()=>{e!==$-1&&s()},children:S(Q5,{})}),me("div",{css:{marginLeft:8,width:28,height:28,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,cursor:"pointer",":hover":{background:"rgba(64, 87, 109, 0.07)"}},onClick:()=>{ne?P.unlockPage(e):P.lockPage(e)},children:[!ne&&S(r8,{}),ne&&S(T2,{})]}),S("div",{css:{marginLeft:8,width:28,height:28,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,cursor:"pointer",":hover":{background:"rgba(64, 87, 109, 0.07)"}},onClick:()=>P.duplicatePage(e),children:S(yw,{})}),S("div",{css:{marginLeft:8,width:28,height:28,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,cursor:ne||$<=1?"not-allowed":"pointer",color:ne||$<=1?"rgba(36,49,61,.4)":"#0d1216",":hover":{background:ne||$<=1?void 0:"rgba(64, 87, 109, 0.07)"}},onClick:()=>!ne&&$>1&&P.deletePage(e),children:S(ww,{})}),S("div",{css:{marginLeft:8,width:28,height:28,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,cursor:"pointer",":hover":{background:"rgba(64, 87, 109, 0.07)"}},onClick:()=>P.addPage(e),children:S(i8,{})})]})]}),me("div",{ref:a,css:{position:"relative",margin:"auto",boxShadow:"0 2px 8px rgba(14,19,24,.07)","@media (max-width: 900px)":{boxShadow:"none"}},style:{width:n*W*i.scale,height:r*W*i.scale,transform:gn({position:i,scale:i.scale})},children:[S("div",{ref:h,css:{background:"white",overflow:"hidden",transformOrigin:"0 0"},style:{width:n,height:r,transform:`scale(${W*i.scale})`},onContextMenu:se,children:S("div",{ref:f,className:"page-content",css:{width:n,height:r,position:"relative",left:0,top:0,zIndex:1,overflow:"hidden"},children:S(gT,{})})}),me("div",{css:{position:"absolute",inset:0,pointerEvents:"none",zIndex:2},children:[!z&&e===G&&O&&_.length>1&&S(Wx,{boxSize:O.boxSize,position:O.position,rotate:O.rotate,type:"dashed"}),!z&&e===G&&_.map(ge=>S(Wx,{ref:F=>F&&(d.current[ge.id]=F),boxSize:ge.data.props.boxSize,position:ge.data.props.position,rotate:ge.data.props.rotate,layerType:ge.data.type},ge.id)),!z&&I&&!N.includes(I.id)&&S(Wx,{ref:ge=>ge&&(d.current[I.id]=ge),boxSize:I.data.props.boxSize,position:I.data.props.position,rotate:I.data.props.rotate}),!z&&e===G&&N.length>0&&me(M.Fragment,{children:[O&&S(aee,{ref:g,boxSize:O.boxSize,position:O.position,rotate:O.rotate,scale:O.scale,locked:D.locked,disabled:D,onRouteStart:ue,onResizeStart:Z}),S(cee,{})]}),e===G&&S(uee,{})]}),z&&z.pageIndex===e&&S(pee,{}),U&&U.pageIndex===e&&S(vee,{})]})]})},bee=M.forwardRef(wee),JR=()=>{const e=M.useRef(!1);return M.useEffect(()=>{const t=n=>{e.current=n.shiftKey};return window.addEventListener("keydown",t,{capture:!0}),window.addEventListener("keyup",t,{capture:!0}),()=>{window.removeEventListener("keydown",t,{capture:!0}),window.removeEventListener("keyup",t,{capture:!0})}},[]),e},xw=()=>{const{fontFamilyList:e}=Ot(t=>{const n=[];return t.pages.forEach(r=>{Object.entries(r.layers).forEach(([,i])=>{Tc(i)&&n.push(...i.data.props.fonts)})}),{fontFamilyList:mt.uniqBy(n,"name")}});return{usedFonts:e}},XR=async({actions:e})=>{if(typeof window>"u")return;const t=await navigator.clipboard.readText();try{JSON.parse(t).forEach(n=>{Object.entries(n.layers).forEach(([r])=>{n.layers[r].props.position.x+=10,n.layers[r].props.position.y+=10}),e.addLayerTree(n)})}catch{}},x6=async(e,{pageIndex:t,layerIds:n})=>{if(typeof window>"u")return;const r=[];n.map(i=>{r.push({rootId:i,layers:P2(e.pages[t].layers,i)})}),await navigator.clipboard.writeText(JSON.stringify(r))},xee=e=>{const{actions:t,state:n,activePage:r,rootLayer:i,scale:o,selectedLayers:s}=Ot(P=>({rootLayer:P.pages[P.activePage]&&P.pages[P.activePage].layers.ROOT,activePage:P.activePage,scale:P.scale,selectedLayers:P.selectedLayers})),{selectedLayerIds:a}=Ni(),l=M.useCallback(async()=>{await XR({actions:t}),t.hideContextMenu()},[t]),c=M.useCallback(async()=>{await x6(n,{pageIndex:r,layerIds:a}),t.hideContextMenu()},[t,n,r,x6,a]),h=M.useCallback(()=>{n8(n,{pageIndex:r,layerIds:a,actions:t}),t.hideContextMenu()},[n,r,a]),f=M.useCallback(()=>{a.includes("ROOT")||t.deleteLayer(n.activePage,a)},[a,n,t]),g=(i==null?void 0:i.data.child.findIndex(P=>a.includes(P)))===0,d=(i==null?void 0:i.data.child.findLastIndex(P=>a.includes(P)))===((i==null?void 0:i.data.child.length)||0)-1,m=()=>{d||t.bringForward(r,a)},y=()=>{d||t.bringToFront(r,a)},C=()=>{g||t.sendBackward(r,a)},x=()=>{g||t.sendToBack(r,a)},w=()=>{o>=4?t.setScale(5):o>=3?t.setScale(4):o>=2?t.setScale(3):o>=1.5?t.setScale(2):o>=1.25?t.setScale(1.5):o>=1?t.setScale(1.25):o>=.75?t.setScale(1):o>=.5?t.setScale(.75):o>=.25?t.setScale(.5):t.setScale(.25)},E=()=>{o<=.25?t.setScale(.1):o<=.5?t.setScale(.25):o<=.75?t.setScale(.5):o<=1?t.setScale(.75):o<=1.25?t.setScale(1):o<=1.5?t.setScale(1.25):o<=2?t.setScale(1.5):o<=3?t.setScale(2):o<=4?t.setScale(3):t.setScale(4)},N=()=>{t.setScale(1)},_=M.useCallback(async P=>{const I=W0(P),W=Jp(I,P),G=a.length>0;switch(W){case fr("Mod-a"):G&&t.selectAllLayers();break;case fr("Mod-z"):t.history.undo(),P.preventDefault();break;case fr("Mod-y"):t.history.redo(),P.preventDefault();break;case fr("Mod-v"):await l(),P.preventDefault();break;case fr("Mod-c"):G&&await c(),P.preventDefault();break;case fr("Mod-d"):G&&await h(),P.preventDefault();break;case fr("Mod-]"):G&&m(),P.preventDefault();break;case fr("Mod-Alt-]"):G&&y(),P.preventDefault();break;case fr("Mod-["):G&&C(),P.preventDefault();break;case fr("Mod-Alt-["):G&&x(),P.preventDefault();break;case fr("Delete"):case fr("Backspace"):G&&f();break;case fr("ArrowLeft"):G&&t.moveSelectedLayers("left",1);break;case fr("ArrowRight"):G&&t.moveSelectedLayers("right",1);break;case fr("ArrowUp"):G&&t.moveSelectedLayers("top",1);break;case fr("ArrowDown"):G&&t.moveSelectedLayers("bottom",1);break;case fr("Mod-0"):N(),P.preventDefault();break;case fr("Mod--"):E(),P.preventDefault();break;case fr("Mod-="):w(),P.preventDefault();break;case fr("Mod-h"):t.goToGithubPage(),P.preventDefault();break}},[t,c,l,h,f]),D=.02;M.useEffect(()=>{let P;const I=W=>{if(W.ctrlKey&&e){W.preventDefault();const G=Math.exp(-W.deltaY*D/3),O=+Math.min(Math.max(o*G,.1),5);cancelAnimationFrame(P),P=requestAnimationFrame(()=>{t.setScale(O)})}};return e&&(e==null||e.addEventListener("wheel",I,{passive:!1})),()=>{e&&(e==null||e.removeEventListener("wheel",I)),cancelAnimationFrame(P)}},[e,o]),M.useEffect(()=>(e==null||e.addEventListener("keydown",_),()=>{e==null||e.removeEventListener("keydown",_)}),[e,_])},See=(e,t,n)=>{const r=M.useRef({isMoving:!1,isZoom:!1,touchStart:[{clientX:0,clientY:0},{clientX:0,clientY:0}],lastTouch:[{clientX:0,clientY:0},{clientX:0,clientY:0}],start:{clientX:0,clientY:0},last:{clientX:0,clientY:0}}),[i,o]=M.useState({scale:1,x:0,y:0}),{actions:s,scale:a,activePage:l,pageSize:c,isDragging:h,isRotating:f,isResizing:g,openImageEditor:d,openTextEditor:m,pageLength:y}=Ot(O=>({scale:O.scale,activePage:O.activePage,pageSize:O.pageSize,isDragging:O.dragData.status,isRotating:O.rotateData.status,isResizing:O.resizeData.status,openImageEditor:!!O.imageEditor,openTextEditor:!!O.textEditor,pageLength:O.pages.length})),C=M.useCallback(()=>{r.current.isZoom=!0,r.current.isMoving=!1},[]),x=M.useCallback(O=>{if(e.current&&r.current.isZoom&&t.current){const z=window.innerWidth-32,U=window.innerHeight-70-72-16*2,{x:$,y:ne}=i,se=c.width*a,ae=c.height*a,Z=(z-se)/2,le=(U-ae)/2,ue=Z===$?0:$-Z,ge=le===ne?0:ne-le;t.current[l].style.transform=gn({position:{x:$+ue*(O-1),y:ne+ge*(O-1)},scale:O})}},[c,a]),w=M.useCallback(O=>{if(e.current&&r.current.isZoom&&t.current){r.current.isZoom=!1;let z=O;const{x:U,y:$}=i,ne=70,se=72,ae=16,Z=window.innerWidth-ae*2,le=window.innerHeight-ne-se-ae*2;let ue=c.width*a*z;ue<Z&&(z=Z/a/c.width,ue=Z);const ge=c.width*a,F=c.height*a*z,Q=c.height*a,re=(Z-ge)/2,he=(le-Q)/2,pe=(ue-ge)/2-(re===U?0:U-re)*(z-1),Se=(F-Q)/2-(he===$?0:$-he)*(z-1),xe=Math.max(-(ue-Z),Math.min(U-pe,0)),Ee=Math.max(-(F-le/2),Math.min($-Se,le/2));z>O&&(t.current[l].style.transform=gn({position:{x:xe,y:Ee},scale:1})),o({scale:1,x:xe,y:Ee}),s.setScale(Math.max(a*z))}},[c,a,s]),E=M.useCallback(O=>{const{touches:z}=O.nativeEvent;z.length===2&&(r.current.touchStart=[z[0],z[1]],r.current.lastTouch=[z[0],z[1]],C())},[C]),N=M.useCallback(mt.throttle(O=>{const{touches:z}=O.nativeEvent;if(z.length!==2)return;const U=_f(r.current.touchStart[0],r.current.touchStart[1]),$=_f(z[0],z[1])/U;r.current.lastTouch=[z[0],z[1]],x($)},16),[x]),_=M.useCallback(O=>{const{touches:z}=O.nativeEvent;if(r.current.isZoom){const U=_f(r.current.touchStart[0],r.current.touchStart[1]),$=_f(r.current.lastTouch[0],r.current.lastTouch[1])/U;r.current.lastTouch=[z[0],z[1]],w($)}},[w]),D=O=>{const{clientX:z,clientY:U}=zr(O);r.current.isMoving=!0,r.current.start={clientX:z,clientY:U},r.current.last={clientX:z,clientY:U}},P=O=>{if(!r.current.isMoving)return;const z=70,U=72,$=16,ne=window.innerWidth-$*2,se=window.innerHeight-z-U-$*2;if(r.current.isZoom||!r.current.isMoving||ne>=c.width*a)return;const{clientX:ae,clientY:Z}=zr(O.nativeEvent);r.current.last={clientX:ae,clientY:Z};const le=c.width*a,ue=c.height*a,ge=Math.max(-(le-ne),Math.min(i.x+ae-r.current.start.clientX,0)),F=Math.max(-(ue-se/2),Math.min(i.y+Z-r.current.start.clientY,se/2));t.current&&(t.current[l].style.transform=gn({position:{x:ge,y:F},scale:i.scale}))},I=()=>{if(!r.current.isMoving)return;const O=70,z=72,U=16,$=window.innerWidth-U*2,ne=window.innerHeight-O-z-U*2;if(r.current.isZoom||!r.current.isMoving||$>=c.width*a)return;const{clientX:se,clientY:ae}=r.current.last,Z=se-r.current.start.clientX,le=c.width*a,ue=c.height*a,ge=Math.max(-(le-$),Math.min(i.x+Z,0)),F=Math.max(-(ue-ne/2),Math.min(i.y+ae-r.current.start.clientY,ne/2));o({scale:i.scale,x:ge,y:F}),r.current.isMoving=!1},W=O=>{if(!n.current||r.current.isZoom||!r.current.isMoving||f||g||h||d||m)return;const{clientX:z,clientY:U}=zr(O.nativeEvent);r.current.last={clientX:z,clientY:U};const $=16,ne=z-r.current.start.clientX;window.innerWidth-$*2>=c.width*a&&(n.current.style.transform=gn({position:{x:-(window.innerWidth*l)+ne,y:0}}))},G=()=>{if(!n.current||r.current.isZoom||!r.current.isMoving||f||g||h||d||m)return;const{clientX:O}=r.current.last,z=16,U=O-r.current.start.clientX;window.innerWidth-z*2>=c.width*a&&(U<=-(window.innerWidth*.35)&&l+1<=y-1?(n.current.style.transform=gn({position:{x:-(window.innerWidth*(l+1)),y:0}}),s.setActivePage(Math.min(l+1,y-1))):U>=window.innerWidth*.35&&l-1>=0?(n.current.style.transform=gn({position:{x:-(window.innerWidth*(l-1)),y:0}}),s.setActivePage(Math.max(l-1,0))):n.current.style.transform=gn({position:{x:-(window.innerWidth*l),y:0}}))};return M.useEffect(()=>{(()=>{if(e.current){const O=c.width/c.height,z=window.innerWidth<=900?16:56,U=e.current.clientWidth-z*2,$={width:U,height:U*O},ne=Math.min(1,$.width/c.width);if(s.setScale(ne),u0){const se=(window.innerWidth-c.width*ne-32)/2,ae=70,Z=72,le=16,ue=(window.innerHeight-c.height*ne-ae-Z-le)/2;o({scale:1,x:se,y:ue})}}})()},[c,o]),M.useEffect(()=>{const O=$=>{$.preventDefault(),C(),document.addEventListener("gesturechange",z),document.addEventListener("gestureend",U,{once:!0})},z=mt.throttle($=>{x($.scale),$.preventDefault()},16),U=$=>{w($.scale),$.preventDefault(),document.removeEventListener("gesturechange",z),document.removeEventListener("gestureend",U)};return document.addEventListener("gesturestart",O),()=>{document.removeEventListener("gesturestart",O)}},[a,i,o,s]),{pageTransform:i,onZoomStart:E,onZoomMove:N,onZoomEnd:_,onMoveStart:D,onMove:P,onMoveEnd:I,onMovePage:W,onMovePageEnd:G}},Cee=(e,t,n="mousedown",r)=>{const i=M.useRef(t),o=M.useCallback(s=>{const a=e==null?void 0:e.current;!a||a.contains(s.target)||i.current(s)},[e,i]);M.useEffect(()=>(window.addEventListener(n,o,r),()=>{window.removeEventListener(n,o,r)}),[o])},lN=(e,t)=>{const n=t.offsetTop;return e.scrollTop+e.offsetHeight>=n&&e.scrollTop<t.offsetHeight+n},cN=(e,t)=>{const n=[e,t];let r,i,o,s,a,l,c,h;for(s=0;s<n.length;s++){const f=n[s];for(a=0;a<f.length;a++){const g=(a+1)%f.length,d=f[a],m=f[g],y={x:m.y-d.y,y:d.x-m.x};for(r=i=void 0,l=0;l<e.length;l++)o=y.x*e[l].x+y.y*e[l].y,(!r||o<r)&&(r=o),(!i||o>i)&&(i=o);for(c=h=void 0,l=0;l<t.length;l++)o=y.x*t[l].x+y.y*t[l].y,(!c||o<c)&&(c=o),(!h||o>h)&&(h=o);if(i<c||h<r)return!1}}return!0},kee=({frameRef:e,pageListRef:t,selectionBoxRef:n})=>{const[r,i]=M.useState(),[o,s]=sh({clientX:0,clientY:0,moveClientX:0,moveClientY:0,isMultipleSelect:!1}),{actions:a,scale:l,isSelecting:c,pages:h}=Ot(w=>({scale:w.scale,isSelecting:w.selectData.status,pages:w.pages})),f=()=>h.map(({layers:w},E)=>({layers:[...w.ROOT.data.child,"ROOT"].reverse().reduce((N,_)=>{var D,P;const{id:I,data:{props:W}}=w[_];if(!t.current[E])return N;const G=t.current[E].getBoundingClientRect(),O=new WebKitCSSMatrix(gn({rotate:W.rotate})),z=ks({width:W.boxSize.width*l,height:W.boxSize.height*l},O,{x:G.x+(((D=e.current)==null?void 0:D.scrollLeft)||0)+W.position.x*l,y:G.y+(((P=e.current)==null?void 0:P.scrollTop)||0)+W.position.y*l});return N.push({id:I,delta:[z.nw,z.ne,z.se,z.sw]}),N},[])})),g=M.useCallback(({clientX:w,clientY:E},N=!1)=>{if(n.current&&e.current){const _=e.current.getBoundingClientRect(),D=e.current.scrollTop||0,P=e.current.scrollLeft||0,I=s(),W=Math.abs(w+P-I.clientX),G=Math.abs(E+D-I.clientY),O=w+P>I.clientX?I.clientX:w+P,z=E+D>I.clientY?I.clientY:E+D;n.current.style.left=`${O-_.x}px`,n.current.style.top=`${z-_.y}px`,n.current.style.width=`${W}px`,n.current.style.height=`${G}px`;const U=[{x:O,y:z},{x:O+W,y:z},{x:O+W,y:z+G},{x:O,y:z+G}],$={};let ne=null;if(f().forEach(({layers:se},ae)=>{var Z;const le=t.current[ae].getBoundingClientRect();se.forEach(({id:ge,delta:F})=>{var Q,re;cN(U,F)&&(ne===null||ne===ae)&&ge!=="ROOT"&&(N&&ne===null||!N)&&(ne=ae,$[ge]={boxSize:{width:h[ne].layers[ge].data.props.boxSize.width*l,height:h[ne].layers[ge].data.props.boxSize.height*l},position:{x:le.x-_.x+(((Q=e.current)==null?void 0:Q.scrollLeft)||0)+h[ne].layers[ge].data.props.position.x*l,y:le.y-_.y+(((re=e.current)==null?void 0:re.scrollTop)||0)+h[ne].layers[ge].data.props.position.y*l},rotate:h[ne].layers[ge].data.props.rotate})});const ue=se.find(ge=>ge.id==="ROOT");N&&ue&&cN(U,ue.delta)&&ne===null&&(ne=ae,$.ROOT={boxSize:{width:h[ne].layers.ROOT.data.props.boxSize.width*l,height:h[ne].layers.ROOT.data.props.boxSize.height*l},position:{x:le.x-_.x+h[ne].layers.ROOT.data.props.position.x*l,y:le.y-_.y+(((Z=e.current)==null?void 0:Z.scrollTop)||0)+h[ne].layers.ROOT.data.props.position.y*l},rotate:h[ne].layers.ROOT.data.props.rotate})}),ne!==null)return{selectedPage:ne,selectedLayers:$}}},[f,s]),d=M.useCallback(w=>{a.setSelectData(!0);const{clientX:E,clientY:N}=zr(w);o.current.moveClientX=E,o.current.moveClientY=N;const _=g({clientX:E,clientY:N});i(_)},[g]),m=M.useCallback(w=>{const{clientX:E,clientY:N}=zr(w),_=g({clientX:E,clientY:N},E+e.current.scrollLeft===s().clientX&&N+e.current.scrollTop===s().clientY);_?a.selectLayers(_.selectedPage,Object.keys(_.selectedLayers),s().isMultipleSelect?"add":"replace"):(a.resetSelectLayer(),a.setSidebar()),C(),a.setSelectData(!1)},[g]),y=M.useCallback(()=>{window.addEventListener("mousemove",d),window.addEventListener("mouseup",m,{once:!0})},[d,m]),C=M.useCallback(()=>{window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",m)},[d]),x=w=>{const{clientX:E,clientY:N}=zr(w);i(void 0),a.setSelectData(!0),o.current.clientX=E+e.current.scrollLeft,o.current.clientY=N+e.current.scrollTop,y()};return M.useEffect(()=>{var w;const E=()=>{if(c){const N=g({clientX:o.current.moveClientX||o.current.clientX,clientY:o.current.moveClientY||o.current.clientY});N&&i(N)}};return(w=e.current)==null||w.addEventListener("scroll",E),()=>{var N;(N=e.current)==null||N.removeEventListener("scroll",E)}},[c]),{tmpSelected:r,onSelectStart:x}},QR=(e,t)=>{const n=new WebKitCSSMatrix(gn({rotate:e.rotate})),r=ks({width:e.boxSize.width,height:e.boxSize.height},n,{x:e.position.x,y:e.position.y}),i=new WebKitCSSMatrix(gn({rotate:t.rotate})),o=ks({width:t.boxSize.width,height:t.boxSize.height},i,{x:t.position.x,y:t.position.y});return![r.nw,r.ne,r.se,r.sw].find(s=>!J0(s,o))},Eee=({frameRef:e,pageListRef:t})=>{const n=M.useRef(null),r=M.useRef(null),i=JR(),[,o,s]=sh({}),[,a,l]=sh(),{selectedLayers:c,selectedLayerIds:h}=Ni(),{actions:f,state:g,hoveredLayer:d,controlBox:m,scale:y,hoveredPage:C,activePage:x,pageSize:w,layers:E,isPageLocked:N,mainLayers:_}=Ot(O=>{var z;const U=parseInt(Object.keys(O.hoveredLayer)[0]),$=O.hoveredLayer[U];return{scale:O.scale,hoveredPage:U,isPageLocked:O.pages.length>0?(z=O.pages[O.activePage])==null?void 0:z.layers.ROOT.data.locked:!1,controlBox:O.controlBox,hoveredLayer:$?O.pages[U].layers[$]:null,activePage:O.activePage,pageSize:O.pageSize,fontList:O.fontList,layers:O.pages[U]&&O.pages[U].layers,mainLayers:O.pages[U]&&O.pages[U].layers.ROOT.data.child.map(ne=>O.pages[U].layers[ne]).reverse()}});let D=null;const P=({clientX:O,clientY:z})=>{var U;const $=o(),ne=(U=n.current)==null?void 0:U.start,se=(O-ne.clientX)/y,ae=(z-ne.clientY)/y,Z={layers:{}};Object.entries($).forEach(([ue,ge])=>{Z.layers[ue]={x:ge.position.x+se,y:ge.position.y+ae}});const le=a();return le&&(Z.controlBox={x:le.position.x+se,y:le.position.y+ae}),Z},I=mt.throttle(O=>{if(!n.current)return;const{clientX:z,clientY:U}=zr(O);n.current.last={clientX:z+e.current.scrollLeft,clientY:U+e.current.scrollTop},n.current.e=O;const $=P(n.current.last),ne=a(),se=$.controlBox&&ne&&!i.current?uN({...ne,position:$.controlBox},Object.keys($.layers),E,y):null;!i.current&&(n.current.last.clientX!==n.current.start.clientX||n.current.last.clientY!==n.current.start.clientY)&&f.setGuideline({horizontal:(se==null?void 0:se.line.horizontal)||[],vertical:(se==null?void 0:se.line.vertical)||[]}),f.setDragData(!0,Object.keys($.layers)),Object.entries($.layers).forEach(([le,ue])=>{n.current&&f.history.merge().setProp(n.current.pageIndex,le,{position:{x:ue.x+((se==null?void 0:se.x)||0),y:ue.y+((se==null?void 0:se.y)||0)}})});const ae=Object.keys($.layers),Z=g.pages[n.current.pageIndex].layers[ae[0]];if(ae.length===1&&xf(Z)){const le=_.find(ue=>{if(ue.id===Z.id)return!1;const ge=new WebKitCSSMatrix(gn({rotate:ue.data.props.rotate})),F=t.current[x].getBoundingClientRect(),Q=ks({width:ue.data.props.boxSize.width*y,height:ue.data.props.boxSize.height*y},ge,{x:F.x+ue.data.props.position.x*y,y:F.y+ue.data.props.position.y*y});if(J0({x:z,y:U},Q))return ue});if(r.current&&n.current&&(f.history.merge().setProp(n.current.pageIndex,Z.id,{transparency:r.current.imageLayer.data.props.image.transparency||1}),f.history.merge().setProp(n.current.pageIndex,r.current.affectedFrame.id,{image:r.current.affectedFrame.data.props.image?{url:r.current.affectedFrame.data.props.image.url,boxSize:r.current.affectedFrame.data.props.image.boxSize,position:r.current.affectedFrame.data.props.image.position,rotate:r.current.affectedFrame.data.props.image.rotate}:null}),r.current=null),le&&vg(le)){const ue=Z.data.props.image,ge=le.data.props.boxSize.width/le.data.props.boxSize.height,F=ue.boxSize.width/ue.boxSize.height;r.current={imageLayer:mt.cloneDeep(Z),affectedFrame:mt.cloneDeep(le)},f.history.merge().setProp(n.current.pageIndex,Z.id,{transparency:.5}),ge>F?f.history.merge().setProp(n.current.pageIndex,le.id,{image:{url:ue.url,thumb:ue.thumb,boxSize:{width:le.data.props.boxSize.width/le.data.props.scale,height:le.data.props.boxSize.width/le.data.props.scale/F},rotate:0,position:{x:0,y:-(le.data.props.boxSize.width/le.data.props.scale/F-le.data.props.boxSize.height/le.data.props.scale)/2}}}):f.history.merge().setProp(n.current.pageIndex,le.id,{image:{url:ue.url,thumb:ue.thumb,boxSize:{width:le.data.props.boxSize.height/le.data.props.scale*F,height:le.data.props.boxSize.height/le.data.props.scale},position:{x:-(le.data.props.boxSize.height/le.data.props.scale*F-le.data.props.boxSize.width/le.data.props.scale)/2,y:0},rotate:0}})}}$.controlBox&&ne&&(f.setDragData(!0,ae),f.setControlBox({...ne,position:{x:$.controlBox.x+((se==null?void 0:se.x)||0),y:$.controlBox.y+((se==null?void 0:se.y)||0)}}))},16),W=()=>{var O;if(!n.current)return;const{clientX:z,clientY:U}=n.current.last;if(f.setGuideline({vertical:[],horizontal:[]}),z===n.current.start.clientX&&U===n.current.start.clientY)d&&f.selectLayers(C,d.id,i.current?"add":"replace"),f.history.back();else{const $=a();let ne=!1;const se=P({clientX:z,clientY:U}),ae=se.controlBox&&$&&!i.current?uN({...$,position:se.controlBox},Object.keys(se.layers),E,y):null;if(se.controlBox&&$){const Z={...$,position:{x:se.controlBox.x+((ae==null?void 0:ae.x)||0),y:se.controlBox.y+((ae==null?void 0:ae.y)||0)}},le=fo(Z.boxSize,Z.position,Z.rotate);(le.x>=w.width||le.y>=w.height||le.x+le.width<0||le.y+le.height<0||D)&&(f.deleteLayer((O=n.current)==null?void 0:O.pageIndex,Object.keys(se.layers)),ne=!0)}!ne&&Object.entries(se.layers).forEach(([Z,le])=>{n.current&&f.history.merge().setProp(n.current.pageIndex,Z,{transparency:1,position:{x:le.x+((ae==null?void 0:ae.x)||0),y:le.y+((ae==null?void 0:ae.y)||0)}})}),r.current&&(f.history.merge().deleteLayer(n.current.pageIndex,r.current.imageLayer.id),r.current=null),se.controlBox&&$&&!ne&&f.setControlBox({...$,position:{x:se.controlBox.x+((ae==null?void 0:ae.x)||0),y:se.controlBox.y+((ae==null?void 0:ae.y)||0)}})}n.current=null,s({}),f.setDragData(!1),window.removeEventListener("mousemove",I),window.removeEventListener("mouseup",W),window.removeEventListener("mouseleave",W),window.removeEventListener("touchmove",I),window.removeEventListener("touchend",W)},G=()=>{f.history.new(),window.addEventListener("touchmove",I),window.addEventListener("mousemove",I),window.addEventListener("mouseup",W,{once:!0}),window.addEventListener("mouseleave",W,{once:!0}),window.addEventListener("touchend",W,{once:!0})};return M.useEffect(()=>{var O;const z=()=>{n.current&&I(n.current.e)};return(O=e.current)==null||O.addEventListener("scroll",z),()=>{var U;(U=e.current)==null||U.removeEventListener("scroll",z)}},[e,I]),{onDragStart:O=>{const{clientX:z,clientY:U}=zr(O);n.current={start:{clientX:z+e.current.scrollLeft,clientY:U+e.current.scrollTop},last:{clientX:z+e.current.scrollLeft,clientY:U+e.current.scrollTop},pageIndex:x,e:O};const $={};let ne=!1,se=!1,ae=!1;if(m){const Z=new WebKitCSSMatrix(gn({rotate:m.rotate})),le=t.current[x].getBoundingClientRect(),ue=ks({width:m.boxSize.width*y,height:m.boxSize.height*y},Z,{x:le.x+m.position.x*y,y:le.y+m.position.y*y});ne=J0({x:z,y:U},ue),ne&&d&&!h.includes(d.id)&&(se=QR(d.data.props,m))}if((i.current||ne&&!se)&&c.forEach(({id:Z,data:{props:{position:le,boxSize:ue,rotate:ge,scale:F},locked:Q}})=>{Q||(ae=Q),$[Z]=mt.cloneDeep({position:le,boxSize:ue,rotate:ge,scale:F})}),d&&(!ne||ne&&se)){const{position:Z,boxSize:le,rotate:ue,scale:ge}=d.data.props;$[d.id]=mt.cloneDeep({position:Z,boxSize:le,rotate:ue,scale:ge}),ae||(ae=d.data.locked),n.current&&(n.current.pageIndex=C);const F=X0($);F&&l(F)}else m&&(ae=!!c.find(({data:{locked:Z}})=>Z),l(m));s($),!ae&&!N?(u0&&f.setDragData(!0,Object.keys($)),G()):n.current=null}}},uN=(e,t,n,r)=>{const i={x:null,y:null,line:{horizontal:[],vertical:[]},frameLayer:null};if(e&&e){const o=fo(e.boxSize,e.position,e.rotate),s={top:o.y,left:o.x,right:o.x+o.width,bottom:o.y+o.height,centerX:o.centerX,centerY:o.centerY};Object.entries(n).forEach(([a,l])=>{if(t.includes(a)||l.data.parent!=="ROOT")return;const c=fo(l.data.props.boxSize,l.data.props.position,l.data.props.rotate),h={top:c.y,left:c.x,right:c.x+c.width,bottom:c.y+c.height,centerX:c.centerX,centerY:c.centerY},f=["top","bottom","centerY"],g=["left","right","centerX"];Object.keys(s).forEach(d=>{f.includes(d)&&f.forEach(m=>{hN(s[d],h[m],r)&&((i.y===null||i.y<h[m]-s[d])&&(i.y=h[m]-s[d]),s[d]+i.y===h[m]&&i.line.horizontal.push({y:h[m],x1:Math.min(s.left,h.left),x2:Math.max(s.right,h.right)}))}),g.includes(d)&&g.forEach(m=>{hN(s[d],h[m],r)&&((i.x===null||i.x<h[m]-s[d])&&(i.x=h[m]-s[d]),s[d]+i.x===h[m]&&i.line.vertical.push({x:h[m],y1:Math.min(s.top,h.top),y2:Math.max(s.bottom,h.bottom)}))})})})}return i},Aee=4,hN=(e,t,n)=>Math.abs(Math.round(e)-Math.round(t))<=Aee/n,fN=({transform:e,children:t})=>{const n=M.useRef(null),[r,i]=M.useState({x:-9999,y:-9999});return M.useEffect(()=>{if(n.current&&n.current.parentElement){const o={x:0,y:0},s=n.current.parentElement,a=n.current.getBoundingClientRect();e.y+s.offsetTop+a.height>window.innerHeight?o.y=s.offsetTop-(e.y+s.offsetTop+a.height-window.innerHeight):o.y=s.offsetTop,e.x+s.offsetWidth+a.width>window.innerWidth?o.x=-a.width:o.x=s.offsetLeft+s.offsetWidth,i(o)}},[e]),S("div",{ref:n,css:{position:"fixed",top:0,left:0,transform:gn({position:r}),paddingLeft:8,paddingRight:8},children:S("div",{css:{background:"white",paddingTop:8,paddingBottom:8,borderRadius:4,zIndex:30,boxShadow:"0 0 0 1px rgba(64,87,109,.07),0 2px 12px rgba(53,71,90,.2)"},children:t})})},Q0=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})}),Mr=({name:e,icon:t,shortcut:n,disabled:r=!1,children:i,onClick:o})=>{const[s,a]=M.useState(!1);return me("div",{css:{padding:"8px 16px 8px 8px",display:"flex",alignItems:"center",position:"relative",color:r?"rgba(36,49,61,.4)":"rgb(13, 18, 22)",cursor:r?"not-allowed":"pointer",":hover":{background:r?void 0:"rgba(64,87,109,.07)"}},onMouseOver:()=>a(!0),onMouseOut:()=>a(!1),onMouseLeave:()=>a(!1),onClick:()=>!r&&o&&o(),children:[S("div",{css:{fontSize:20},children:t}),S("div",{css:{marginLeft:8,fontSize:14,flexGrow:1,whiteSpace:"nowrap"},children:e}),S("div",{css:{width:48,paddingLeft:8,"@media (max-width: 900px)":{display:"none"}}}),(i||n)&&me("div",{css:{height:24,lineHeight:"24px",fontSize:n?12:20,padding:n?"0 8px":0,marginLeft:8,background:n?"rgba(64,87,109,.07)":void 0,borderRadius:4,whiteSpace:"nowrap","@media (max-width: 900px)":{display:"none"}},children:[n,i&&S(Q0,{})]}),s&&i]})},o8=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",d:"M15.45 17.97 9.5 12.01a.25.25 0 0 1 0-.36l5.87-5.87a.75.75 0 0 0-1.06-1.06l-5.87 5.87c-.69.68-.69 1.8 0 2.48l5.96 5.96a.75.75 0 0 0 1.06-1.06z"})}),ZR=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",d:"M20 17.05A2.5 2.5 0 1 1 17.05 20H6.95A2.5 2.5 0 1 1 4 17.05V6.95A2.5 2.5 0 1 1 6.95 4h10.1A2.5 2.5 0 1 1 20 6.95v10.1zm-1.5.16V6.79a2.5 2.5 0 0 1-1.3-1.29H6.8a2.5 2.5 0 0 1-1.3 1.3v10.4a2.5 2.5 0 0 1 1.3 1.3h10.4a2.5 2.5 0 0 1 1.3-1.3zM4.5 5.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 15a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm15-15a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 15a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9-6.5a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7zm0-1.5a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm4.75-2.5h1.5v5c0 .97-.78 1.75-1.75 1.75h-5v-1.5h5c.14 0 .25-.11.25-.25v-5z"})}),Nee=({className:e=""})=>me("svg",{className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S("mask",{id:"_1304310517__a",fill:"#fff",children:S("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 5a2 2 0 1 0-4 0H8v3a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V5h-2Z"})}),S("path",{d:"M14 5h-1.5v1.5H14V5Zm-4 0v1.5h1.5V5H10ZM8 5V3.5H6.5V5H8Zm8 0h1.5V3.5H16V5Zm-4-.5a.5.5 0 0 1 .5.5h3A3.5 3.5 0 0 0 12 1.5v3Zm-.5.5a.5.5 0 0 1 .5-.5v-3A3.5 3.5 0 0 0 8.5 5h3ZM8 6.5h2v-3H8v3ZM9.5 8V5h-3v3h3ZM9 7.5a.5.5 0 0 1 .5.5h-3A2.5 2.5 0 0 0 9 10.5v-3Zm6 0H9v3h6v-3Zm-.5.5a.5.5 0 0 1 .5-.5v3A2.5 2.5 0 0 0 17.5 8h-3Zm0-3v3h3V5h-3ZM14 6.5h2v-3h-2v3Z",fill:"currentColor",mask:"url(#_1304310517__a)"}),S("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 6.5h1.714c.316 0 .572.224.572.5v13c0 .276-.256.5-.572.5H6.286c-.316 0-.572-.224-.572-.5V7c0-.276.256-.5.572-.5H8V5H6.286C5.023 5 4 5.895 4 7v13c0 1.105 1.023 2 2.286 2h11.428C18.977 22 20 21.105 20 20V7c0-1.105-1.023-2-2.286-2H16v1.5Z",fill:"currentColor"})]}),Lee=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",d:"M12.75 5.82v8.43a.75.75 0 1 1-1.5 0V5.81L8.99 8.07A.75.75 0 1 1 7.93 7l2.83-2.83a1.75 1.75 0 0 1 2.47 0L16.06 7A.75.75 0 0 1 15 8.07l-2.25-2.25zM15 10.48l6.18 3.04a1 1 0 0 1 0 1.79l-7.86 3.86a3 3 0 0 1-2.64 0l-7.86-3.86a1 1 0 0 1 0-1.8L9 10.49v1.67L4.4 14.4l6.94 3.42c.42.2.9.2 1.32 0l6.94-3.42-4.6-2.26v-1.67z"})}),_ee=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",d:"M12.75 3.82v9.43a.75.75 0 1 1-1.5 0V3.81L8.99 6.07A.75.75 0 1 1 7.93 5l2.83-2.83a1.75 1.75 0 0 1 2.47 0L16.06 5A.75.75 0 0 1 15 6.07l-2.25-2.25zM15 8.48l6.18 3.04a1 1 0 0 1 0 1.79l-7.86 3.86a3 3 0 0 1-2.64 0l-7.86-3.86a1 1 0 0 1 0-1.8L9 8.49v1.67L4.4 12.4l6.94 3.42c.42.2.9.2 1.32 0l6.94-3.42-4.6-2.26V8.48zm4.48 7.34 1.7.83a1 1 0 0 1 0 1.8l-7.86 3.86a3 3 0 0 1-2.64 0l-7.86-3.86a1 1 0 0 1 0-1.8l1.7-.83 1.7.83-1.82.9 6.94 3.41c.42.2.9.2 1.32 0l6.94-3.41-1.82-.9 1.7-.83z"})}),Oee=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",d:"M12.75 18.12V9.75a.75.75 0 1 0-1.5 0v8.37l-2.26-2.25a.75.75 0 0 0-1.06 1.06l2.83 2.82c.68.69 1.79.69 2.47 0l2.83-2.82A.75.75 0 0 0 15 15.87l-2.25 2.25zM15 11.85v1.67l6.18-3.04a1 1 0 0 0 0-1.79l-7.86-3.86a3 3 0 0 0-2.64 0L2.82 8.69a1 1 0 0 0 0 1.8L9 13.51v-1.67L4.4 9.6l6.94-3.42c.42-.2.9-.2 1.32 0L19.6 9.6 15 11.85z"})}),Pee=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",d:"m19.48 10.82 1.7.83a1 1 0 0 1 0 1.8L15 16.49V14.8l4.6-2.26-1.82-.9 1.7-.83zm-14.96 0-1.7.83a1 1 0 0 0 0 1.8L9 16.49V14.8l-4.6-2.26 1.82-.9-1.7-.83zm8.23 9.5L15 18.07a.75.75 0 0 1 1.06 1.06l-2.83 2.83c-.68.68-1.79.68-2.47 0l-2.83-2.83a.75.75 0 0 1 1.06-1.06l2.26 2.26V6.9a.75.75 0 1 1 1.5 0v13.43zM15 11.35V9.68l4.6-2.27L12.66 4c-.42-.2-.9-.2-1.32 0L4.4 7.4 9 9.68v1.67L2.82 8.3a1 1 0 0 1 0-1.8l7.86-3.86a3 3 0 0 1 2.64 0l7.86 3.87a1 1 0 0 1 0 1.79L15 11.35z"})}),dN=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",d:"m19.474 12.838 1.697.835a1 1 0 0 1 0 1.795L13.32 19.33a3 3 0 0 1-2.649 0L2.82 15.468a1 1 0 0 1 0-1.795l1.697-.835 1.698.836-1.821.896 6.94 3.415a1.5 1.5 0 0 0 1.324 0l6.94-3.415-1.822-.896 1.7-.836ZM13.32 4.673l7.852 3.864a1 1 0 0 1 0 1.794l-7.852 3.864a3 3 0 0 1-2.649 0L2.82 10.33a1 1 0 0 1 0-1.794l7.851-3.864a3 3 0 0 1 2.65 0Zm-1.986 8.176a1.5 1.5 0 0 0 1.324 0l6.94-3.415-6.94-3.415a1.5 1.5 0 0 0-1.324 0l-6.94 3.415 6.94 3.415Z"})}),Tee=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",d:"M17 9h3v11H9v-3c.51 0 1.01-.05 1.5-.14v1.64h8v-8h-1.64c.1-.49.14-.99.14-1.5zm-8 6A6 6 0 1 1 9 3a6 6 0 0 1 0 12zm0-1.5a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9z"})}),Mee=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",d:"M15 5.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h2.5v-1.5H5a.5.5 0 0 1-.5-.5V5c0-.28.22-.5.5-.5h8c.28 0 .5.22.5.5v.5H15zm-4 3a.5.5 0 0 0-.5.5v10c0 .28.22.5.5.5h8a.5.5 0 0 0 .5-.5V9a.5.5 0 0 0-.5-.5h-8zM11 7h8a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-8a2 2 0 0 1-2-2V9c0-1.1.9-2 2-2z"})}),pN=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",d:"M4 3c.41 0 .75.34.75.75v16.5a.75.75 0 1 1-1.5 0V3.75c0-.41.34-.75.75-.75zm5 3h9a2 2 0 0 1 2 2v1a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2zm0 7h4a2 2 0 0 1 2 2v1a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2v-1c0-1.1.9-2 2-2zm0-5.5a.5.5 0 0 0-.5.5v1c0 .28.22.5.5.5h9a.5.5 0 0 0 .5-.5V8a.5.5 0 0 0-.5-.5H9zm0 7a.5.5 0 0 0-.5.5v1c0 .28.22.5.5.5h4a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H9z"})}),Ree=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",d:"M11.25 13v-2H7a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h4.25V3.75a.75.75 0 1 1 1.5 0V6H17a2 2 0 0 1 2 2v1a2 2 0 0 1-2 2h-4.25v2H14a2 2 0 0 1 2 2v1a2 2 0 0 1-2 2h-1.25v2.25a.75.75 0 1 1-1.5 0V18H10a2 2 0 0 1-2-2v-1c0-1.1.9-2 2-2h1.25zM7 7.5a.5.5 0 0 0-.5.5v1c0 .28.22.5.5.5h10a.5.5 0 0 0 .5-.5V8a.5.5 0 0 0-.5-.5H7zm3 7a.5.5 0 0 0-.5.5v1c0 .28.22.5.5.5h4a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-4z"})}),Dee=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",d:"M20 3a.75.75 0 0 0-.75.75v16.5a.75.75 0 1 0 1.5 0V3.75A.75.75 0 0 0 20 3zm-5 3H6a2 2 0 0 0-2 2v1c0 1.1.9 2 2 2h9a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 7h-4a2 2 0 0 0-2 2v1c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2v-1a2 2 0 0 0-2-2zm0-5.5c.28 0 .5.22.5.5v1a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V8c0-.28.22-.5.5-.5h9zm0 7c.28 0 .5.22.5.5v1a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-1c0-.28.22-.5.5-.5h4z"})}),Iee=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",d:"M21 4c0 .41-.34.75-.75.75H3.75a.75.75 0 0 1 0-1.5h16.5c.41 0 .75.34.75.75zM11 9v9a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V9c0-1.1.9-2 2-2h1a2 2 0 0 1 2 2zm7 0v4a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2V9c0-1.1.9-2 2-2h1a2 2 0 0 1 2 2zM9.5 9a.5.5 0 0 0-.5-.5H8a.5.5 0 0 0-.5.5v9c0 .28.22.5.5.5h1a.5.5 0 0 0 .5-.5V9zm7 0a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v4c0 .28.22.5.5.5h1a.5.5 0 0 0 .5-.5V9z"})}),zee=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",d:"M11 11.25h2V7c0-1.1.9-2 2-2h1a2 2 0 0 1 2 2v4.25h2.25a.75.75 0 1 1 0 1.5H18V17a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-4.25h-2V14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2v-1.25H3.75a.75.75 0 1 1 0-1.5H6V10c0-1.1.9-2 2-2h1a2 2 0 0 1 2 2v1.25zM16.5 7a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v10c0 .28.22.5.5.5h1a.5.5 0 0 0 .5-.5V7zm-7 3a.5.5 0 0 0-.5-.5H8a.5.5 0 0 0-.5.5v4c0 .28.22.5.5.5h1a.5.5 0 0 0 .5-.5v-4z"})}),Fee=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",d:"M21 20c0 .41-.34.75-.75.75H3.75a.75.75 0 1 1 0-1.5h16.5c.41 0 .75.34.75.75zM11 6v9a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h1a2 2 0 0 1 2 2zm7 5v4a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-4c0-1.1.9-2 2-2h1a2 2 0 0 1 2 2zM9.5 6a.5.5 0 0 0-.5-.5H8a.5.5 0 0 0-.5.5v9c0 .28.22.5.5.5h1a.5.5 0 0 0 .5-.5V6zm7 5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v4c0 .28.22.5.5.5h1a.5.5 0 0 0 .5-.5v-4z"})}),S6=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{d:"M4.03 21.03a.75.75 0 0 1-1.06-1.06l17-17a.75.75 0 0 1 1.06 1.06l-17 17Zm4.5.5a.75.75 0 0 1-1.06-1.06l13-13a.75.75 0 0 1 1.06 1.06l-13 13Zm5 0a.75.75 0 0 1-1.06-1.06l8-8a.75.75 0 0 1 1.06 1.06l-8 8Zm5.5-.5a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 1.06l-2 2Zm-15.5-4.5a.75.75 0 0 1-1.06-1.06l13-13a.75.75 0 0 1 1.06 1.06l-13 13Zm0-5a.75.75 0 0 1-1.06-1.06l8-8a.75.75 0 0 1 1.06 1.06l-8 8Zm.5-5.5a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 1.06l-2 2Z",fill:"currentColor"})}),jee=(e,t)=>{var n;const{selectedLayerIds:r,selectedLayers:i}=Ni(),o=t8(t),[s,a]=M.useState({x:-9999,y:-9999}),{state:l,openMenu:c,actions:h,pageIndex:f,pageSize:g,rootLayer:d}=Ot(ae=>({openMenu:ae.openMenu,pageIndex:ae.activePage,pageSize:ae.pageSize,rootLayer:ae.pages[ae.activePage]&&ae.pages[ae.activePage].layers.ROOT})),m=i.find(ae=>ae.data.type==="Image"),y=async()=>{await x6(l,{pageIndex:f,layerIds:r}),h.hideContextMenu()},C=M.useCallback(async()=>{await XR({actions:h}),h.hideContextMenu()},[h,f]),x=()=>{n8(l,{pageIndex:f,layerIds:r,actions:h}),h.hideContextMenu()},w=M.useCallback(()=>{r.includes("ROOT")||(h.deleteLayer(f,r),h.hideContextMenu())},[h,r]),E=()=>{h.lock(f,r),h.hideContextMenu()},N=()=>{if(m){const ae=g.width/g.height,Z=m.data.props.image,le=Z.boxSize.width/Z.boxSize.height,ue={...mt.cloneDeep(Z),rotate:0};ae>le?(ue.boxSize.width=g.width,ue.boxSize.height=g.width/le,ue.position.y=(ue.boxSize.height-g.height)/-2,ue.position.x=0):(ue.boxSize.height=g.height,ue.boxSize.width=g.height*le,ue.position.x=(ue.boxSize.width-g.width)/-2,ue.position.y=0),h.setProp(f,"ROOT",{image:ue}),h.history.merge().deleteLayer(f,m.id)}h.hideContextMenu()},_=()=>{if(d){const ae=d.data.props.image;if(ae){const Z=g.width/g.height,le=ae.boxSize.width/ae.boxSize.height,ue={boxSize:{width:0,height:0}};Z<le?(ue.boxSize.width=g.width*.8,ue.boxSize.height=ue.boxSize.width/le):(ue.boxSize.height=g.height*.8,ue.boxSize.width=ue.boxSize.height*le),h.addImageLayer({url:ae.url,thumb:""},ue.boxSize),h.history.merge().setProp(f,"ROOT",{image:null}),h.hideContextMenu()}}},D=(d==null?void 0:d.data.child.findIndex(ae=>r.includes(ae)))===0,P=(d==null?void 0:d.data.child.findLastIndex(ae=>r.includes(ae)))===((d==null?void 0:d.data.child.length)||0)-1,I=()=>{P||(h.bringForward(f,r),h.hideContextMenu())},W=()=>{P||(h.bringToFront(f,r),h.hideContextMenu())},G=()=>{D||(h.sendBackward(f,r),h.hideContextMenu())},O=()=>{D||(h.sendToBack(f,r),h.hideContextMenu())},z=()=>{h.setSidebar("LAYER_MANAGEMENT"),h.hideContextMenu()},U=ae=>{h.setAlign(ae),h.hideContextMenu()},$=()=>{r.length===1&&h.ungroup(r[0]),h.hideContextMenu()},ne=()=>{h.group(r),h.hideContextMenu()};if(M.useEffect(()=>{(()=>{var Z;const le=(Z=o.current)==null?void 0:Z.getBoundingClientRect(),ue={x:-9999,y:-9999};c&&(ue.x=0,ue.y=0,le.width+c.clientX>window.innerWidth&&(ue.x=-le.width),le.height+c.clientY>window.innerHeight&&(ue.y=window.innerHeight-le.height-c.clientY)),a(ue)})();const ae=()=>{h.hideContextMenu()};return window.addEventListener("resize",ae),()=>{window.removeEventListener("resize",ae)}},[o,c]),!c)return null;const se=!!i.find(ae=>mg(ae));return me("div",{ref:o,css:{position:"fixed",top:0,left:0,background:"white",paddingTop:8,paddingBottom:8,borderRadius:4,zIndex:31,boxShadow:"0 0 0 1px rgba(64,87,109,.07),0 2px 12px rgba(53,71,90,.2)",transform:gn({position:{x:c.clientX+s.x,y:c.clientY+s.y}}),"@media (max-width: 900px)":{bottom:0,top:"auto",transform:"none",display:"flex",right:0,padding:0}},children:[S("div",{css:{display:"none","@media (max-width: 900px)":{flexShrink:0,fontSize:24,width:48,height:48,borderRadius:"50%",background:"#EBECF0",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",margin:16}},onClick:()=>h.hideContextMenu(),children:S(o8,{})}),me("div",{css:{"@media (max-width: 900px)":{overflowX:"auto",flexGrow:1,padding:16,display:"flex"}},children:[!r.includes("ROOT")&&S(Mr,{name:"Copy",icon:S(Mee,{}),shortcut:"Ctrl+C",onClick:y}),!r.includes("ROOT")&&me(M.Fragment,{children:[S(Mr,{name:"Paste",icon:S(Nee,{}),shortcut:"Ctrl+V",onClick:C}),S(Mr,{name:"Duplicate",icon:S(yw,{}),shortcut:"Ctrl+D",onClick:x}),S(Mr,{name:"Delete",icon:S(ww,{}),shortcut:"Delete",onClick:w})]}),!r.includes("ROOT")&&me(M.Fragment,{children:[S("div",{css:{marginTop:8,marginBottom:8,height:1,borderBottom:"1px solid rgba(57,76,96,.15)",width:"100%"}}),S(Mr,{name:"Layer",icon:S(dN,{}),children:me(fN,{transform:{x:c.clientX+s.x,y:c.clientY+s.y},children:[S(Mr,{name:"Bring Forward",icon:S(Lee,{}),shortcut:"Ctrl+]",disabled:P,onClick:I}),S(Mr,{name:"Bring to Front",icon:S(_ee,{}),shortcut:"Ctrl+Alt+]",disabled:P,onClick:W}),S(Mr,{name:"Send Backward",icon:S(Oee,{}),shortcut:"Ctrl+[",disabled:D,onClick:G}),S(Mr,{name:"Send to Back",icon:S(Pee,{}),shortcut:"Ctrl+Alt+[",disabled:D,onClick:O}),S(Mr,{name:"Show Layers",icon:S(dN,{}),onClick:z})]})}),S(Mr,{name:"Align",icon:S(pN,{}),children:me(fN,{transform:{x:c.clientX+s.x,y:c.clientY+s.y},children:[S(Mr,{name:"Left",icon:S(pN,{}),onClick:()=>U("left")}),S(Mr,{name:"Center",icon:S(Ree,{}),onClick:()=>U("center")}),S(Mr,{name:"Right",icon:S(Dee,{}),onClick:()=>U("right")}),S(Mr,{name:"Top",icon:S(Iee,{}),onClick:()=>U("top")}),S(Mr,{name:"Middle",icon:S(zee,{}),onClick:()=>U("middle")}),S(Mr,{name:"Bottom",icon:S(Fee,{}),onClick:()=>U("bottom")})]})}),S("div",{css:{marginTop:8,marginBottom:8,height:1,borderBottom:"1px solid rgba(57,76,96,.15)",width:"100%"}})]}),r.length>1&&S(Mr,{name:"Group",icon:S(ZR,{}),onClick:ne}),se&&S(Mr,{name:"Ungroup",icon:S(Tee,{}),onClick:$}),!r.includes("ROOT")&&S(Mr,{name:"Lock",icon:S(T2,{}),onClick:E}),m&&r.length===1&&S(Mr,{name:"Set image as background",icon:S(S6,{}),onClick:N}),r.length===1&&r.includes("ROOT")&&((n=d==null?void 0:d.data.props)==null?void 0:n.image)&&S(Mr,{name:"Detach image from background",icon:S(S6,{}),onClick:_})]})]})},Bee=M.forwardRef(jee),$ee=({selectedLayers:e},t)=>me(M.Fragment,{children:[S("div",{ref:t,css:{border:"1px solid #3d8eff",background:"rgba(61, 142, 255, 0.2)",position:"absolute"}}),S("div",{css:{position:"absolute",inset:0,pointerEvents:"none",zIndex:2},children:Object.entries(e||{}).map(([n,{boxSize:r,position:i,rotate:o}])=>S("div",{css:{position:"absolute",border:"1px solid #3d8eff",transform:gn({position:i,rotate:o}),width:r.width,height:r.height}},n))})]}),Vee=M.forwardRef($ee);class Uee{constructor(){_n(this,"refs",{})}add(t,n){this.refs[t]||(this.refs[t]=[]),this.refs[t].push(n)}remove(t,n){const r=this.getIndex(t,n);r!==-1&&this.refs[t].splice(r,1)}isActive(){return this.active}getActive(){return this.refs[this.active.collection].find(({node:t})=>t.sortableInfo.index==this.active.index)}getIndex(t,n){return this.refs[t].indexOf(n)}getOrderedRefs(t=this.active.collection){return this.refs[t].sort(qee)}}function qee({node:{sortableInfo:{index:e}}},{node:{sortableInfo:{index:t}}}){return e-t}function eD(e,t){return Object.keys(e).reduce((n,r)=>(t.indexOf(r)===-1&&(n[r]=e[r]),n),{})}const op={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},tD=function(){if(typeof window>"u"||typeof document>"u")return"";const e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||e.OLink===""&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}();function nv(e,t){Object.keys(t).forEach(n=>{e.style[n]=t[n]})}function rv(e,t){e.style[`${tD}Transform`]=t==null?"":`translate3d(${t.x}px,${t.y}px,0)`}function Hx(e,t){e.style[`${tD}TransitionDuration`]=t==null?"":`${t}ms`}function Wm(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function gN(e,t,n){return Math.max(e,Math.min(n,t))}function Lp(e){return e.substr(-2)==="px"?parseFloat(e):0}function Wee(e){const t=window.getComputedStyle(e);return{bottom:Lp(t.marginBottom),left:Lp(t.marginLeft),right:Lp(t.marginRight),top:Lp(t.marginTop)}}function nD(e,t){const n=t.displayName||t.name;return n?`${e}(${n})`:e}function Gx(e,t){const n=e.getBoundingClientRect();return{top:n.top+t.top,left:n.left+t.left}}function Lm(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function Hee(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}function $v(e,t,n={left:0,top:0}){if(!e)return;const r={left:n.left+e.offsetLeft,top:n.top+e.offsetTop};return e.parentNode===t?r:$v(e.parentNode,t,r)}function Gee(e,t,n){return e<n&&e>t?e-1:e>n&&e<t?e+1:e}function mN({lockOffset:e,width:t,height:n}){let r=e,i=e,o="px";if(typeof e=="string"){const s=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(e);r=parseFloat(e),i=parseFloat(e),o=s[1]}return o==="%"&&(r=r*t/100,i=i*n/100),{x:r,y:i}}function Kee({height:e,width:t,lockOffset:n}){const r=Array.isArray(n)?n:[n,n],[i,o]=r;return[mN({height:e,lockOffset:i,width:t}),mN({height:e,lockOffset:o,width:t})]}function Yee(e){const t=window.getComputedStyle(e),n=/(auto|scroll)/;return["overflow","overflowX","overflowY"].find(r=>n.test(t[r]))}function rD(e){return e instanceof HTMLElement?Yee(e)?e:rD(e.parentNode):null}function Jee(e){const t=window.getComputedStyle(e);return t.display==="grid"?{x:Lp(t.gridColumnGap),y:Lp(t.gridRowGap)}:{x:0,y:0}}const cf={TAB:9,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40},Sf={Anchor:"A",Button:"BUTTON",Canvas:"CANVAS",Input:"INPUT",Option:"OPTION",Textarea:"TEXTAREA",Select:"SELECT"};function Xee(e){const t="input, textarea, select, canvas, [contenteditable]",n=e.querySelectorAll(t),r=e.cloneNode(!0);return[...r.querySelectorAll(t)].forEach((i,o)=>{i.type!=="file"&&(i.value=n[o].value),i.type==="radio"&&i.name&&(i.name=`__sortableClone__${i.name}`),i.tagName===Sf.Canvas&&n[o].width>0&&n[o].height>0&&i.getContext("2d").drawImage(n[o],0,0)}),r}function Qee(e,t,n){const r=t<0?e.length+t:t;if(r>=0&&r<e.length){const i=n<0?e.length+n:n,[o]=e.splice(t,1);e.splice(i,0,o)}}function vN(e){return e.sortableHandle!=null}class Zee{constructor(t,n){this.container=t,this.onScrollCallback=n}clear(){this.interval!=null&&(clearInterval(this.interval),this.interval=null)}update({translate:t,minTranslate:n,maxTranslate:r,width:i,height:o}){const s={x:0,y:0},a={x:1,y:1},l={x:10,y:10},{scrollTop:c,scrollLeft:h,scrollHeight:f,scrollWidth:g,clientHeight:d,clientWidth:m}=this.container,y=c===0,C=f-c-d===0,x=h===0,w=g-h-m===0;t.y>=r.y-o/2&&!C?(s.y=1,a.y=l.y*Math.abs((r.y-o/2-t.y)/o)):t.x>=r.x-i/2&&!w?(s.x=1,a.x=l.x*Math.abs((r.x-i/2-t.x)/i)):t.y<=n.y+o/2&&!y?(s.y=-1,a.y=l.y*Math.abs((t.y-o/2-n.y)/o)):t.x<=n.x+i/2&&!x&&(s.x=-1,a.x=l.x*Math.abs((t.x-i/2-n.x)/i)),this.interval&&(this.clear(),this.isAutoScrolling=!1),(s.x!==0||s.y!==0)&&(this.interval=setInterval(()=>{this.isAutoScrolling=!0;const E={left:a.x*s.x,top:a.y*s.y};this.container.scrollTop+=E.top,this.container.scrollLeft+=E.left,this.onScrollCallback(E)},5))}}var iD={exports:{}},Kx,yN;function ete(){if(yN)return Kx;yN=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Kx=e,Kx}var Yx,wN;function tte(){if(wN)return Yx;wN=1;var e=ete();function t(){}function n(){}return n.resetWarningCache=t,Yx=function(){function r(s,a,l,c,h,f){if(f!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},Yx}iD.exports=tte()();var nte=iD.exports;const Bt=nw(nte);function rte({node:e}){return{height:e.offsetHeight,width:e.offsetWidth}}function ite(e){return!!([Sf.Input,Sf.Textarea,Sf.Select,Sf.Option,Sf.Button].indexOf(e.target.tagName)!==-1||Wm(e.target,t=>t.contentEditable==="true"))}const oD={axis:Bt.oneOf(["x","y","xy"]),contentWindow:Bt.any,disableAutoscroll:Bt.bool,distance:Bt.number,getContainer:Bt.func,getHelperDimensions:Bt.func,helperClass:Bt.string,helperContainer:Bt.oneOfType([Bt.func,typeof HTMLElement>"u"?Bt.any:Bt.instanceOf(HTMLElement)]),hideSortableGhost:Bt.bool,keyboardSortingTransitionDuration:Bt.number,lockAxis:Bt.string,lockOffset:Bt.oneOfType([Bt.number,Bt.string,Bt.arrayOf(Bt.oneOfType([Bt.number,Bt.string]))]),lockToContainerEdges:Bt.bool,onSortEnd:Bt.func,onSortMove:Bt.func,onSortOver:Bt.func,onSortStart:Bt.func,pressDelay:Bt.number,pressThreshold:Bt.number,keyCodes:Bt.shape({lift:Bt.arrayOf(Bt.number),drop:Bt.arrayOf(Bt.number),cancel:Bt.arrayOf(Bt.number),up:Bt.arrayOf(Bt.number),down:Bt.arrayOf(Bt.number)}),shouldCancelStart:Bt.func,transitionDuration:Bt.number,updateBeforeSortStart:Bt.func,useDragHandle:Bt.bool,useWindowAsScrollContainer:Bt.bool},sD={lift:[cf.SPACE],drop:[cf.SPACE],cancel:[cf.ESC],up:[cf.UP,cf.LEFT],down:[cf.DOWN,cf.RIGHT]},ote={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:rte,hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:sD,shouldCancelStart:ite,transitionDuration:300,useWindowAsScrollContainer:!1},ste=Object.keys(oD),aD=Un.createContext({manager:{}});function lD(e,t={withRef:!1}){var n;return n=class extends Un.Component{constructor(r){super(r),_n(this,"sortableContextValue"),_n(this,"state",{}),_n(this,"handleStart",o=>{const{distance:s,shouldCancelStart:a}=this.props;if(o.button===2||a(o))return;this.touched=!0,this.position=Lm(o);const l=Wm(o.target,c=>c.sortableInfo!=null);if(l&&l.sortableInfo&&this.nodeIsChild(l)&&!this.state.sorting){const{useDragHandle:c}=this.props,{index:h,collection:f,disabled:g}=l.sortableInfo;if(g||c&&!Wm(o.target,vN))return;this.manager.active={collection:f,index:h},!Hee(o)&&o.target.tagName===Sf.Anchor&&o.preventDefault(),s||(this.props.pressDelay===0?this.handlePress(o):this.pressTimer=setTimeout(()=>this.handlePress(o),this.props.pressDelay))}}),_n(this,"nodeIsChild",o=>o.sortableInfo.manager===this.manager),_n(this,"handleMove",o=>{const{distance:s,pressThreshold:a}=this.props;if(!this.state.sorting&&this.touched&&!this._awaitingUpdateBeforeSortStart){const l=Lm(o),c={x:this.position.x-l.x,y:this.position.y-l.y},h=Math.abs(c.x)+Math.abs(c.y);this.delta=c,!s&&(!a||h>=a)?(clearTimeout(this.cancelTimer),this.cancelTimer=setTimeout(this.cancel,0)):s&&h>=s&&this.manager.isActive()&&this.handlePress(o)}}),_n(this,"handleEnd",()=>{this.touched=!1,this.cancel()}),_n(this,"cancel",()=>{const{distance:o}=this.props,{sorting:s}=this.state;s||(o||clearTimeout(this.pressTimer),this.manager.active=null)}),_n(this,"handlePress",async o=>{const s=this.manager.getActive();if(s){const{axis:a,getHelperDimensions:l,helperClass:c,hideSortableGhost:h,updateBeforeSortStart:f,onSortStart:g,useWindowAsScrollContainer:d}=this.props,{node:m,collection:y}=s,{isKeySorting:C}=this.manager;if(typeof f=="function"){this._awaitingUpdateBeforeSortStart=!0;try{const{index:D}=m.sortableInfo;await f({collection:y,index:D,node:m,isKeySorting:C},o)}finally{this._awaitingUpdateBeforeSortStart=!1}}const{index:x}=m.sortableInfo,w=Wee(m),E=Jee(this.container),N=this.scrollContainer.getBoundingClientRect(),_=l({index:x,node:m,collection:y});if(this.node=m,this.margin=w,this.gridGap=E,this.width=_.width,this.height=_.height,this.marginOffset={x:this.margin.left+this.margin.right+this.gridGap.x,y:Math.max(this.margin.top,this.margin.bottom,this.gridGap.y)},this.boundingClientRect=m.getBoundingClientRect(),this.containerBoundingRect=N,this.index=x,this.newIndex=x,this.axis={x:a.indexOf("x")>=0,y:a.indexOf("y")>=0},this.offsetEdge=$v(m,this.container),C?this.initialOffset=Lm({...o,pageX:this.boundingClientRect.left,pageY:this.boundingClientRect.top}):this.initialOffset=Lm(o),this.initialScroll={left:this.scrollContainer.scrollLeft,top:this.scrollContainer.scrollTop},this.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},this.helper=this.helperContainer.appendChild(Xee(m)),nv(this.helper,{boxSizing:"border-box",height:`${this.height}px`,left:`${this.boundingClientRect.left-w.left}px`,pointerEvents:"none",position:"fixed",top:`${this.boundingClientRect.top-w.top}px`,width:`${this.width}px`,zIndex:9999}),C&&this.helper.focus(),h&&(this.sortableGhost=m,nv(m,{opacity:0,visibility:"hidden"})),this.minTranslate={},this.maxTranslate={},C){const{top:D,left:P,width:I,height:W}=d?{top:0,left:0,width:this.contentWindow.innerWidth,height:this.contentWindow.innerHeight}:this.containerBoundingRect,G=D+W,O=P+I;this.axis.x&&(this.minTranslate.x=P-this.boundingClientRect.left,this.maxTranslate.x=O-(this.boundingClientRect.left+this.width)),this.axis.y&&(this.minTranslate.y=D-this.boundingClientRect.top,this.maxTranslate.y=G-(this.boundingClientRect.top+this.height))}else this.axis.x&&(this.minTranslate.x=(d?0:N.left)-this.boundingClientRect.left-this.width/2,this.maxTranslate.x=(d?this.contentWindow.innerWidth:N.left+N.width)-this.boundingClientRect.left-this.width/2),this.axis.y&&(this.minTranslate.y=(d?0:N.top)-this.boundingClientRect.top-this.height/2,this.maxTranslate.y=(d?this.contentWindow.innerHeight:N.top+N.height)-this.boundingClientRect.top-this.height/2);c&&c.split(" ").forEach(D=>this.helper.classList.add(D)),this.listenerNode=o.touches?o.target:this.contentWindow,C?(this.listenerNode.addEventListener("wheel",this.handleKeyEnd,!0),this.listenerNode.addEventListener("mousedown",this.handleKeyEnd,!0),this.listenerNode.addEventListener("keydown",this.handleKeyDown)):(op.move.forEach(D=>this.listenerNode.addEventListener(D,this.handleSortMove,!1)),op.end.forEach(D=>this.listenerNode.addEventListener(D,this.handleSortEnd,!1))),this.setState({sorting:!0,sortingIndex:x}),g&&g({node:m,index:x,collection:y,isKeySorting:C,nodes:this.manager.getOrderedRefs(),helper:this.helper},o),C&&this.keyMove(0)}}),_n(this,"handleSortMove",o=>{const{onSortMove:s}=this.props;typeof o.preventDefault=="function"&&o.cancelable&&o.preventDefault(),this.updateHelperPosition(o),this.animateNodes(),this.autoscroll(),s&&s(o)}),_n(this,"handleSortEnd",o=>{const{hideSortableGhost:s,onSortEnd:a}=this.props,{active:{collection:l},isKeySorting:c}=this.manager,h=this.manager.getOrderedRefs();this.listenerNode&&(c?(this.listenerNode.removeEventListener("wheel",this.handleKeyEnd,!0),this.listenerNode.removeEventListener("mousedown",this.handleKeyEnd,!0),this.listenerNode.removeEventListener("keydown",this.handleKeyDown)):(op.move.forEach(f=>this.listenerNode.removeEventListener(f,this.handleSortMove)),op.end.forEach(f=>this.listenerNode.removeEventListener(f,this.handleSortEnd)))),this.helper.parentNode.removeChild(this.helper),s&&this.sortableGhost&&nv(this.sortableGhost,{opacity:"",visibility:""});for(let f=0,g=h.length;f<g;f++){const d=h[f],m=d.node;d.edgeOffset=null,d.boundingClientRect=null,rv(m,null),Hx(m,null),d.translate=null}this.autoScroller.clear(),this.manager.active=null,this.manager.isKeySorting=!1,this.setState({sorting:!1,sortingIndex:null}),typeof a=="function"&&a({collection:l,newIndex:this.newIndex,oldIndex:this.index,isKeySorting:c,nodes:h},o),this.touched=!1}),_n(this,"autoscroll",()=>{const{disableAutoscroll:o}=this.props,{isKeySorting:s}=this.manager;if(o){this.autoScroller.clear();return}if(s){const a={...this.translate};let l=0,c=0;this.axis.x&&(a.x=Math.min(this.maxTranslate.x,Math.max(this.minTranslate.x,this.translate.x)),l=this.translate.x-a.x),this.axis.y&&(a.y=Math.min(this.maxTranslate.y,Math.max(this.minTranslate.y,this.translate.y)),c=this.translate.y-a.y),this.translate=a,rv(this.helper,this.translate),this.scrollContainer.scrollLeft+=l,this.scrollContainer.scrollTop+=c;return}this.autoScroller.update({height:this.height,maxTranslate:this.maxTranslate,minTranslate:this.minTranslate,translate:this.translate,width:this.width})}),_n(this,"onAutoScroll",o=>{this.translate.x+=o.left,this.translate.y+=o.top,this.animateNodes()}),_n(this,"handleKeyDown",o=>{const{keyCode:s}=o,{shouldCancelStart:a,keyCodes:l={}}=this.props,c={...sD,...l};this.manager.active&&!this.manager.isKeySorting||!this.manager.active&&(!c.lift.includes(s)||a(o)||!this.isValidSortingTarget(o))||(o.stopPropagation(),o.preventDefault(),c.lift.includes(s)&&!this.manager.active?this.keyLift(o):c.drop.includes(s)&&this.manager.active?this.keyDrop(o):c.cancel.includes(s)?(this.newIndex=this.manager.active.index,this.keyDrop(o)):c.up.includes(s)?this.keyMove(-1):c.down.includes(s)&&this.keyMove(1))}),_n(this,"keyLift",o=>{const{target:s}=o,a=Wm(s,h=>h.sortableInfo!=null),{index:l,collection:c}=a.sortableInfo;this.initialFocusedNode=s,this.manager.isKeySorting=!0,this.manager.active={index:l,collection:c},this.handlePress(o)}),_n(this,"keyMove",o=>{const s=this.manager.getOrderedRefs(),{index:a}=s[s.length-1].node.sortableInfo,l=this.newIndex+o,c=this.newIndex;if(l<0||l>a)return;this.prevIndex=c,this.newIndex=l;const h=Gee(this.newIndex,this.prevIndex,this.index),f=s.find(({node:E})=>E.sortableInfo.index===h),{node:g}=f,d=this.containerScrollDelta,m=f.boundingClientRect||Gx(g,d),y=f.translate||{x:0,y:0},C={top:m.top+y.y-d.top,left:m.left+y.x-d.left},x=c<l,w={x:x&&this.axis.x?g.offsetWidth-this.width:0,y:x&&this.axis.y?g.offsetHeight-this.height:0};this.handleSortMove({pageX:C.left+w.x,pageY:C.top+w.y,ignoreTransition:o===0})}),_n(this,"keyDrop",o=>{this.handleSortEnd(o),this.initialFocusedNode&&this.initialFocusedNode.focus()}),_n(this,"handleKeyEnd",o=>{this.manager.active&&this.keyDrop(o)}),_n(this,"isValidSortingTarget",o=>{const{useDragHandle:s}=this.props,{target:a}=o,l=Wm(a,c=>c.sortableInfo!=null);return l&&l.sortableInfo&&!l.sortableInfo.disabled&&(s?vN(a):a.sortableInfo)});const i=new Uee;this.manager=i,this.wrappedInstance=Un.createRef(),this.sortableContextValue={manager:i},this.events={end:this.handleEnd,move:this.handleMove,start:this.handleStart}}componentDidMount(){const{useWindowAsScrollContainer:r}=this.props,i=this.getContainer();Promise.resolve(i).then(o=>{this.container=o,this.document=this.container.ownerDocument||document;const s=this.props.contentWindow||this.document.defaultView||window;this.contentWindow=typeof s=="function"?s():s,this.scrollContainer=r?this.document.scrollingElement||this.document.documentElement:rD(this.container)||this.container,this.autoScroller=new Zee(this.scrollContainer,this.onAutoScroll),Object.keys(this.events).forEach(a=>op[a].forEach(l=>this.container.addEventListener(l,this.events[a],!1))),this.container.addEventListener("keydown",this.handleKeyDown)})}componentWillUnmount(){this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach(r=>op[r].forEach(i=>this.container.removeEventListener(i,this.events[r]))),this.container.removeEventListener("keydown",this.handleKeyDown))}updateHelperPosition(r){const{lockAxis:i,lockOffset:o,lockToContainerEdges:s,transitionDuration:a,keyboardSortingTransitionDuration:l=a}=this.props,{isKeySorting:c}=this.manager,{ignoreTransition:h}=r,f=Lm(r),g={x:f.x-this.initialOffset.x,y:f.y-this.initialOffset.y};if(g.y-=window.pageYOffset-this.initialWindowScroll.top,g.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=g,s){const[d,m]=Kee({height:this.height,lockOffset:o,width:this.width}),y={x:this.width/2-d.x,y:this.height/2-d.y},C={x:this.width/2-m.x,y:this.height/2-m.y};g.x=gN(this.minTranslate.x+y.x,this.maxTranslate.x-C.x,g.x),g.y=gN(this.minTranslate.y+y.y,this.maxTranslate.y-C.y,g.y)}i==="x"?g.y=0:i==="y"&&(g.x=0),c&&l&&!h&&Hx(this.helper,l),rv(this.helper,g)}animateNodes(){const{transitionDuration:r,hideSortableGhost:i,onSortOver:o}=this.props,{containerScrollDelta:s,windowScrollDelta:a}=this,l=this.manager.getOrderedRefs(),c={left:this.offsetEdge.left+this.translate.x+s.left,top:this.offsetEdge.top+this.translate.y+s.top},{isKeySorting:h}=this.manager,f=this.newIndex;this.newIndex=null;for(let d=0,m=l.length;d<m;d++){const{node:y}=l[d],{index:C}=y.sortableInfo,x=y.offsetWidth,w=y.offsetHeight,E={height:this.height>w?w/2:this.height/2,width:this.width>x?x/2:this.width/2},N=h&&C>this.index&&C<=f,_=h&&C<this.index&&C>=f,D={x:0,y:0};let{edgeOffset:P}=l[d];if(P||(P=$v(y,this.container),l[d].edgeOffset=P,h&&(l[d].boundingClientRect=Gx(y,s))),!P){console.error("Cannot get edge offset.");return}const I=d<l.length-1&&l[d+1],W=d>0&&l[d-1];if(I&&!I.edgeOffset&&(I.edgeOffset=$v(I.node,this.container),h&&(I.boundingClientRect=Gx(I.node,s))),C===this.index){i&&(this.sortableGhost=y,nv(y,{opacity:0,visibility:"hidden"}));continue}r&&Hx(y,r),this.axis.x?this.axis.y?_||C<this.index&&(c.left+a.left-E.width<=P.left&&c.top+a.top<=P.top+E.height||c.top+a.top+E.height<=P.top)?(D.x=this.width+this.marginOffset.x,P.left+D.x>this.containerBoundingRect.width-E.width*2&&I&&(D.x=I.edgeOffset.left-P.left,D.y=I.edgeOffset.top-P.top),this.newIndex===null&&(this.newIndex=C)):(N||C>this.index&&(c.left+a.left+E.width>=P.left&&c.top+a.top+E.height>=P.top||c.top+a.top+E.height>=P.top+w))&&(D.x=-(this.width+this.marginOffset.x),P.left+D.x<this.containerBoundingRect.left+E.width&&W&&(D.x=W.edgeOffset.left-P.left,D.y=W.edgeOffset.top-P.top),this.newIndex=C):N||C>this.index&&c.left+a.left+E.width>=P.left?(D.x=-(this.width+this.marginOffset.x),this.newIndex=C):(_||C<this.index&&c.left+a.left<=P.left+E.width)&&(D.x=this.width+this.marginOffset.x,this.newIndex==null&&(this.newIndex=C)):this.axis.y&&(N||C>this.index&&c.top+a.top+E.height>=P.top?(D.y=-(this.height+this.marginOffset.y),this.newIndex=C):(_||C<this.index&&c.top+a.top<=P.top+E.height)&&(D.y=this.height+this.marginOffset.y,this.newIndex==null&&(this.newIndex=C))),rv(y,D),l[d].translate=D}this.newIndex==null&&(this.newIndex=this.index),h&&(this.newIndex=f);const g=h?this.prevIndex:f;o&&this.newIndex!==g&&o({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:g,isKeySorting:h,nodes:l,helper:this.helper})}getWrappedInstance(){return invariant(t.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.wrappedInstance.current}getContainer(){const{getContainer:r}=this.props;return typeof r!="function"?x2.findDOMNode(this):r(t.withRef?this.getWrappedInstance():void 0)}render(){const r=t.withRef?this.wrappedInstance:null;return S(aD.Provider,{value:this.sortableContextValue,children:S(e,{ref:r,...eD(this.props,ste)})})}get helperContainer(){const{helperContainer:r}=this.props;return typeof r=="function"?r():this.props.helperContainer||this.document.body}get containerScrollDelta(){const{useWindowAsScrollContainer:r}=this.props;return r?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}get windowScrollDelta(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}},_n(n,"displayName",nD("sortableList",e)),_n(n,"defaultProps",ote),_n(n,"propTypes",oD),n}const cD={index:Bt.number.isRequired,collection:Bt.oneOfType([Bt.number,Bt.string]),disabled:Bt.bool},ate=Object.keys(cD);function uD(e,t={withRef:!1}){var n;return n=class extends M.Component{constructor(){super(...arguments),_n(this,"wrappedInstance",M.createRef())}componentDidMount(){this.register()}componentDidUpdate(r){this.node&&(r.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),r.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),r.collection!==this.props.collection&&(this.unregister(r.collection),this.register())}componentWillUnmount(){this.unregister()}register(){const{collection:r,disabled:i,index:o}=this.props,s=x2.findDOMNode(this);s.sortableInfo={collection:r,disabled:i,index:o,manager:this.context.manager},this.node=s,this.ref={node:s},this.context.manager.add(r,this.ref)}unregister(r=this.props.collection){this.context.manager.remove(r,this.ref)}getWrappedInstance(){return this.wrappedInstance.current}render(){const r=t.withRef?this.wrappedInstance:null;return S(e,{ref:r,...eD(this.props,ate)})}},_n(n,"displayName",nD("sortableElement",e)),_n(n,"contextType",aD),_n(n,"propTypes",cD),_n(n,"defaultProps",{collection:0}),n}var lte=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,cte=GP(function(e){return lte.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),ute=cte,hte=function(e){return e!=="theme"},bN=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?ute:hte},xN=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(o){return e.__emotion_forwardProp(o)&&i(o)}:i}return typeof r!="function"&&n&&(r=e.__emotion_forwardProp),r},fte=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return A7(t,n,r),tT(function(){return N7(t,n,r)}),null},dte=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,s;n!==void 0&&(o=n.label,s=n.target);var a=xN(t,n,r),l=a||bN(i),c=!l("as");return function(){var h=arguments,f=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&f.push("label:"+o+";"),h[0]==null||h[0].raw===void 0)f.push.apply(f,h);else{f.push(h[0][0]);for(var g=h.length,d=1;d<g;d++)f.push(h[d],h[0][d])}var m=L7(function(y,C,x){var w=c&&y.as||i,E="",N=[],_=y;if(y.theme==null){_={};for(var D in y)_[D]=y[D];_.theme=M.useContext(_7)}typeof y.className=="string"?E=QP(C.registered,N,y.className):y.className!=null&&(E=y.className+" ");var P=sw(f.concat(N),C.registered,_);E+=C.key+"-"+P.name,s!==void 0&&(E+=" "+s);var I=c&&a===void 0?bN(w):l,W={};for(var G in y)c&&G==="as"||I(G)&&(W[G]=y[G]);return W.className=E,W.ref=x,M.createElement(M.Fragment,null,M.createElement(fte,{cache:C,serialized:P,isStringTag:typeof w=="string"}),M.createElement(w,W))});return m.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=i,m.__emotion_styles=f,m.__emotion_forwardProp=a,Object.defineProperty(m,"toString",{value:function(){return"."+s}}),m.withComponent=function(y,C){return e(y,G3({},n,C,{shouldForwardProp:xN(m,C,!0)})).apply(void 0,f)},m}},pte=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Vl=dte.bind();pte.forEach(function(e){Vl[e]=Vl(e)});const gte=Vl.button`
  position: relative;
  transition: border-color 0.3s;
  width: 100%;
  border-radius: 8px;
  animation: ${({isNew:e})=>e?"fadeIn 0.6s, floating 0.8s":"none"};

  @keyframes floating {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-20px);
    }
  }

  > div:nth-of-type(1) {
    overflow: hidden;
    background-color: #fff;
    border: 3px solid transparent;
    pointer-events: none;
    border-radius: 8px;
    box-shadow: 0 0 0 1px rgba(64,87,109,.07),0 2px 8px rgba(57,76,96,.15);
  }

  > div:nth-of-type(2) {
    padding: 8px 8px 12px;
    font-weight: 600;
    color: #000;
    display: inline-flex;
  }
`,mte=Vl.div`
  position: relative;
  background-color: transparent;
  border-radius: 8px;

  .add-btn {
    display: none;
    position: absolute;
    top: calc(50% - 36px);
    right: 8px;
  }
  
  &:hover .add-btn {
    display: flex;
  }

  &.is-active {
    background-color: #8b3dff4f;
    .page-btn {
      > div:nth-of-type(1) {
        box-shadow: none;
        border-color: #8b3dff;
      }
    }
  }
`,vte=({pageIndex:e,width:t,height:n,scale:r,isActive:i},o)=>S(fT,{pageIndex:e,children:S("div",{ref:o,css:{position:"absolute",left:0,top:0,width:t*r,height:n*r,zIndex:0,margin:0},style:{visibility:i?"visible":"hidden",opacity:i?1:0},children:S("div",{css:{width:t,height:n,transform:`scale(${r})`,transformOrigin:"0 0",userSelect:"none",background:"white",overflow:"hidden"},children:S("div",{css:{width:t*r,height:n*r,position:"relative",left:0,top:0},children:S(gT,{})})})})}),hD=M.forwardRef(vte);function yte(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var fD=yte,wte=typeof Al=="object"&&Al&&Al.Object===Object&&Al,bte=wte,xte=bte,Ste=typeof self=="object"&&self&&self.Object===Object&&self,Cte=xte||Ste||Function("return this")(),dD=Cte,kte=dD,Ete=function(){return kte.Date.now()},Ate=Ete,Nte=/\s/;function Lte(e){for(var t=e.length;t--&&Nte.test(e.charAt(t)););return t}var _te=Lte,Ote=_te,Pte=/^\s+/;function Tte(e){return e&&e.slice(0,Ote(e)+1).replace(Pte,"")}var Mte=Tte,Rte=dD,Dte=Rte.Symbol,pD=Dte,SN=pD,gD=Object.prototype,Ite=gD.hasOwnProperty,zte=gD.toString,_m=SN?SN.toStringTag:void 0;function Fte(e){var t=Ite.call(e,_m),n=e[_m];try{e[_m]=void 0;var r=!0}catch{}var i=zte.call(e);return r&&(t?e[_m]=n:delete e[_m]),i}var jte=Fte,Bte=Object.prototype,$te=Bte.toString;function Vte(e){return $te.call(e)}var Ute=Vte,CN=pD,qte=jte,Wte=Ute,Hte="[object Null]",Gte="[object Undefined]",kN=CN?CN.toStringTag:void 0;function Kte(e){return e==null?e===void 0?Gte:Hte:kN&&kN in Object(e)?qte(e):Wte(e)}var Yte=Kte;function Jte(e){return e!=null&&typeof e=="object"}var Xte=Jte,Qte=Yte,Zte=Xte,ene="[object Symbol]";function tne(e){return typeof e=="symbol"||Zte(e)&&Qte(e)==ene}var nne=tne,rne=Mte,EN=fD,ine=nne,AN=NaN,one=/^[-+]0x[0-9a-f]+$/i,sne=/^0b[01]+$/i,ane=/^0o[0-7]+$/i,lne=parseInt;function cne(e){if(typeof e=="number")return e;if(ine(e))return AN;if(EN(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=EN(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=rne(e);var n=sne.test(e);return n||ane.test(e)?lne(e.slice(2),n?2:8):one.test(e)?AN:+e}var une=cne,hne=fD,Jx=Ate,NN=une,fne="Expected a function",dne=Math.max,pne=Math.min;function gne(e,t,n){var r,i,o,s,a,l,c=0,h=!1,f=!1,g=!0;if(typeof e!="function")throw new TypeError(fne);t=NN(t)||0,hne(n)&&(h=!!n.leading,f="maxWait"in n,o=f?dne(NN(n.maxWait)||0,t):o,g="trailing"in n?!!n.trailing:g);function d(D){var P=r,I=i;return r=i=void 0,c=D,s=e.apply(I,P),s}function m(D){return c=D,a=setTimeout(x,t),h?d(D):s}function y(D){var P=D-l,I=D-c,W=t-P;return f?pne(W,o-I):W}function C(D){var P=D-l,I=D-c;return l===void 0||P>=t||P<0||f&&I>=o}function x(){var D=Jx();if(C(D))return w(D);a=setTimeout(x,y(D))}function w(D){return a=void 0,g&&r?d(D):(r=i=void 0,s)}function E(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function N(){return a===void 0?s:w(Jx())}function _(){var D=Jx(),P=C(D);if(r=arguments,i=this,l=D,P){if(a===void 0)return m(l);if(f)return clearTimeout(a),a=setTimeout(x,t),d(l)}return a===void 0&&(a=setTimeout(x,t)),s}return _.cancel=E,_.flush=N,_}var mne=gne;const vne=nw(mne);var yne=function(e){var t=e.initValue,n=e.useHookBody,r=e.applyStateChange,i=M.useRef(t);if(typeof n!="function")throw new Error("function expected as hook body parameter. got "+typeof n);var o=n();return M.useLayoutEffect(function(){i.current!==o&&(i.current=o,r(o))},[r,o]),null},mD,LN=tw;mD=LN.createRoot,LN.hydrateRoot;var C6=function(e){console&&console.warn&&console.warn(e)},Xx=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||void 0,wne=function(e){return x2.unstable_batchedUpdates(e)},bne=function(e){if(Xx.document&&Xx.document.createElement){var t=Xx.document.createElement("div"),n=mD(t);n.render(Un.createElement(e,{automaticContainerInternalUseOnly:!0}))}else C6("Can not mount SingletonHooksContainer on server side. Did you manage to run useEffect on server? Please mount SingletonHooksContainer into your components tree manually.")};function k6(){return k6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k6.apply(this,arguments)}var xne=1,E6=!1,vD=!1,Vv=[],_p=[],Z5=function(){_p.forEach(function(e){return e()})},Sne=function(e){var t=e.automaticContainerInternalUseOnly,n=M.useState([]),r=n[0],i=n[1],o=M.useRef();return o.current=r,!t&&E6===!1&&(vD=!0),M.useEffect(function(){var s=!0;function a(){if(s){if(_p[0]!==a){!t&&E6===!0&&C6("SingletonHooksContainer is mounted after some singleton hook has been used.Your SingletonHooksContainer will not be used in favor of internal one."),i(function(l){return[]});return}i([].concat(Vv))}}return _p.push(a),Z5(),function(){s=!1,o.current.length>0&&C6("SingletonHooksContainer is unmounted, but it has active singleton hooks. They will be reevaluated once SingletonHooksContainer is mounted again"),_p.splice(_p.indexOf(a),1),Z5()}},[t]),Un.createElement(Un.Fragment,null,r.map(function(s){var a=s.hook,l=s.key;return Un.createElement(yne,k6({},a,{key:l}))}))},Cne=function(e){var t=xne++;return Vv.push({hook:e,key:t}),_p.length===0&&vD===!1&&(E6=!0,bne(Sne)),Z5(),function(){Vv.splice(Vv.findIndex(function(n){return n.key===t}),1),Z5()}},kne=function(e,t,n){n===void 0&&(n={});var r=!1,i=void 0,o=!1,s=void 0,a=[],l=n,c=l.unmountIfNoConsumers,h=c===void 0?!1:c,f=function(d){s=d,wne(function(){return a.forEach(function(m){return m(d)})})},g=function(){return o||(s=typeof e=="function"?e():e,o=!0),s};return function(){var d=M.useState(g),m=d[0],y=d[1];return M.useEffect(function(){return r||(r=!0,i=Cne({initValue:e,useHookBody:t,applyStateChange:f})),a.push(y),s!==m&&y(s),function(){a.splice(a.indexOf(y),1),a.length===0&&h&&(i(),r=!1)}},[]),m}};const _N=!1,_r=kne(_N,()=>{const[e,t]=M.useState(_N),n=900,r=M.useCallback(vne(()=>{window&&t(window.innerWidth<n)},250),[]);return M.useEffect(()=>(window&&(t(window.innerWidth<n),window.addEventListener("resize",r)),()=>{r.cancel(),window&&window.removeEventListener("resize",r)}),[]),e}),Ene="react-tooltip-core-styles",Ane="react-tooltip-base-styles",ON={core:!1,base:!1};function PN({css:e,id:t=Ane,type:n="base",ref:r}){if(!e||typeof document>"u"||ON[n])return;n==="core"&&(t=Ene),r||(r={});const{insertAt:i}=r;if(document.getElementById(t))return;const o=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.id=t,s.type="text/css",i==="top"&&o.firstChild?o.insertBefore(s,o.firstChild):o.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e)),ON[n]=!0}const yg=Math.min,Bf=Math.max,ey=Math.round,iv=Math.floor,gh=e=>({x:e,y:e}),Nne={left:"right",right:"left",bottom:"top",top:"bottom"},Lne={start:"end",end:"start"};function A6(e,t,n){return Bf(e,yg(t,n))}function M2(e,t){return typeof e=="function"?e(t):e}function ed(e){return e.split("-")[0]}function R2(e){return e.split("-")[1]}function yD(e){return e==="x"?"y":"x"}function s8(e){return e==="y"?"height":"width"}function Sw(e){return["top","bottom"].includes(ed(e))?"y":"x"}function a8(e){return yD(Sw(e))}function _ne(e,t,n){n===void 0&&(n=!1);const r=R2(e),i=a8(e),o=s8(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=ty(s)),[s,ty(s)]}function One(e){const t=ty(e);return[N6(e),t,N6(t)]}function N6(e){return e.replace(/start|end/g,t=>Lne[t])}function Pne(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function Tne(e,t,n,r){const i=R2(e);let o=Pne(ed(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(N6)))),o}function ty(e){return e.replace(/left|right|bottom|top/g,t=>Nne[t])}function Mne(e){return{top:0,right:0,bottom:0,left:0,...e}}function wD(e){return typeof e!="number"?Mne(e):{top:e,right:e,bottom:e,left:e}}function ny(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function TN(e,t,n){let{reference:r,floating:i}=e;const o=Sw(t),s=a8(t),a=s8(s),l=ed(t),c=o==="y",h=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,g=r[a]/2-i[a]/2;let d;switch(l){case"top":d={x:h,y:r.y-i.height};break;case"bottom":d={x:h,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:f};break;case"left":d={x:r.x-i.width,y:f};break;default:d={x:r.x,y:r.y}}switch(R2(t)){case"start":d[s]-=g*(n&&c?-1:1);break;case"end":d[s]+=g*(n&&c?-1:1);break}return d}const Rne=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:f}=TN(c,r,l),g=r,d={},m=0;for(let y=0;y<a.length;y++){const{name:C,fn:x}=a[y],{x:w,y:E,data:N,reset:_}=await x({x:h,y:f,initialPlacement:r,placement:g,strategy:i,middlewareData:d,rects:c,platform:s,elements:{reference:e,floating:t}});if(h=w??h,f=E??f,d={...d,[C]:{...d[C],...N}},_&&m<=50){m++,typeof _=="object"&&(_.placement&&(g=_.placement),_.rects&&(c=_.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):_.rects),{x:h,y:f}=TN(c,g,l)),y=-1;continue}}return{x:h,y:f,placement:g,strategy:i,middlewareData:d}};async function bD(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:g=!1,padding:d=0}=M2(t,e),m=wD(d),y=a[g?f==="floating"?"reference":"floating":f],C=ny(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(y)))==null||n?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:l})),x=f==="floating"?{...s.floating,x:r,y:i}:s.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),E=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},N=ny(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:x,offsetParent:w,strategy:l}):x);return{top:(C.top-N.top+m.top)/E.y,bottom:(N.bottom-C.bottom+m.bottom)/E.y,left:(C.left-N.left+m.left)/E.x,right:(N.right-C.right+m.right)/E.x}}const Dne=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=t,{element:c,padding:h=0}=M2(e,t)||{};if(c==null)return{};const f=wD(h),g={x:n,y:r},d=a8(i),m=s8(d),y=await s.getDimensions(c),C=d==="y",x=C?"top":"left",w=C?"bottom":"right",E=C?"clientHeight":"clientWidth",N=o.reference[m]+o.reference[d]-g[d]-o.floating[m],_=g[d]-o.reference[d],D=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let P=D?D[E]:0;(!P||!await(s.isElement==null?void 0:s.isElement(D)))&&(P=a.floating[E]||o.floating[m]);const I=N/2-_/2,W=P/2-y[m]/2-1,G=yg(f[x],W),O=yg(f[w],W),z=G,U=P-y[m]-O,$=P/2-y[m]/2+I,ne=A6(z,$,U),se=!l.arrow&&R2(i)!=null&&$!=ne&&o.reference[m]/2-($<z?G:O)-y[m]/2<0,ae=se?$<z?$-z:$-U:0;return{[d]:g[d]+ae,data:{[d]:ne,centerOffset:$-ne-ae,...se&&{alignmentOffset:ae}},reset:se}}}),Ine=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:y=!0,...C}=M2(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=ed(i),w=ed(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),N=g||(w||!y?[ty(a)]:One(a));!g&&m!=="none"&&N.push(...Tne(a,y,m,E));const _=[a,...N],D=await bD(t,C),P=[];let I=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&P.push(D[x]),f){const z=_ne(i,s,E);P.push(D[z[0]],D[z[1]])}if(I=[...I,{placement:i,overflows:P}],!P.every(z=>z<=0)){var W,G;const z=(((W=o.flip)==null?void 0:W.index)||0)+1,U=_[z];if(U)return{data:{index:z,overflows:I},reset:{placement:U}};let $=(G=I.filter(ne=>ne.overflows[0]<=0).sort((ne,se)=>ne.overflows[1]-se.overflows[1])[0])==null?void 0:G.placement;if(!$)switch(d){case"bestFit":{var O;const ne=(O=I.map(se=>[se.placement,se.overflows.filter(ae=>ae>0).reduce((ae,Z)=>ae+Z,0)]).sort((se,ae)=>se[1]-ae[1])[0])==null?void 0:O[0];ne&&($=ne);break}case"initialPlacement":$=a;break}if(i!==$)return{reset:{placement:$}}}return{}}}};async function zne(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=ed(n),a=R2(n),l=Sw(n)==="y",c=["left","top"].includes(s)?-1:1,h=o&&l?-1:1,f=M2(t,e);let{mainAxis:g,crossAxis:d,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof m=="number"&&(d=a==="end"?m*-1:m),l?{x:d*h,y:g*c}:{x:g*c,y:d*h}}const Fne=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,i=await zne(t,e);return{x:n+i.x,y:r+i.y,data:i}}}},jne=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:C=>{let{x,y:w}=C;return{x,y:w}}},...l}=M2(e,t),c={x:n,y:r},h=await bD(t,l),f=Sw(ed(i)),g=yD(f);let d=c[g],m=c[f];if(o){const C=g==="y"?"top":"left",x=g==="y"?"bottom":"right",w=d+h[C],E=d-h[x];d=A6(w,d,E)}if(s){const C=f==="y"?"top":"left",x=f==="y"?"bottom":"right",w=m+h[C],E=m-h[x];m=A6(w,m,E)}const y=a.fn({...t,[g]:d,[f]:m});return{...y,data:{x:y.x-n,y:y.y-r}}}}};function mh(e){return xD(e)?(e.nodeName||"").toLowerCase():"#document"}function _s(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function zc(e){var t;return(t=(xD(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function xD(e){return e instanceof Node||e instanceof _s(e).Node}function Mc(e){return e instanceof Element||e instanceof _s(e).Element}function Ul(e){return e instanceof HTMLElement||e instanceof _s(e).HTMLElement}function MN(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof _s(e).ShadowRoot}function D2(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=ca(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Bne(e){return["table","td","th"].includes(mh(e))}function l8(e){const t=c8(),n=ca(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function $ne(e){let t=wg(e);for(;Ul(t)&&!Cw(t);){if(l8(t))return t;t=wg(t)}return null}function c8(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Cw(e){return["html","body","#document"].includes(mh(e))}function ca(e){return _s(e).getComputedStyle(e)}function kw(e){return Mc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function wg(e){if(mh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||MN(e)&&e.host||zc(e);return MN(t)?t.host:t}function SD(e){const t=wg(e);return Cw(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ul(t)&&D2(t)?t:SD(t)}function Z0(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=SD(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=_s(i);return o?t.concat(s,s.visualViewport||[],D2(i)?i:[],s.frameElement&&n?Z0(s.frameElement):[]):t.concat(i,Z0(i,[],n))}function CD(e){const t=ca(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Ul(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=ey(n)!==o||ey(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function u8(e){return Mc(e)?e:e.contextElement}function Xp(e){const t=u8(e);if(!Ul(t))return gh(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=CD(t);let s=(o?ey(n.width):n.width)/r,a=(o?ey(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Vne=gh(0);function kD(e){const t=_s(e);return!c8()||!t.visualViewport?Vne:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Une(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==_s(e)?!1:t}function td(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=u8(e);let s=gh(1);t&&(r?Mc(r)&&(s=Xp(r)):s=Xp(e));const a=Une(o,n,r)?kD(o):gh(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,h=i.width/s.x,f=i.height/s.y;if(o){const g=_s(o),d=r&&Mc(r)?_s(r):r;let m=g.frameElement;for(;m&&r&&d!==g;){const y=Xp(m),C=m.getBoundingClientRect(),x=ca(m),w=C.left+(m.clientLeft+parseFloat(x.paddingLeft))*y.x,E=C.top+(m.clientTop+parseFloat(x.paddingTop))*y.y;l*=y.x,c*=y.y,h*=y.x,f*=y.y,l+=w,c+=E,m=_s(m).frameElement}}return ny({width:h,height:f,x:l,y:c})}function qne(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=Ul(n),o=zc(n);if(n===o)return t;let s={scrollLeft:0,scrollTop:0},a=gh(1);const l=gh(0);if((i||!i&&r!=="fixed")&&((mh(n)!=="body"||D2(o))&&(s=kw(n)),Ul(n))){const c=td(n);a=Xp(n),l.x=c.x+n.clientLeft,l.y=c.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-s.scrollLeft*a.x+l.x,y:t.y*a.y-s.scrollTop*a.y+l.y}}function Wne(e){return Array.from(e.getClientRects())}function ED(e){return td(zc(e)).left+kw(e).scrollLeft}function Hne(e){const t=zc(e),n=kw(e),r=e.ownerDocument.body,i=Bf(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Bf(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+ED(e);const a=-n.scrollTop;return ca(r).direction==="rtl"&&(s+=Bf(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function Gne(e,t){const n=_s(e),r=zc(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=c8();(!c||c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function Kne(e,t){const n=td(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Ul(e)?Xp(e):gh(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function RN(e,t,n){let r;if(t==="viewport")r=Gne(e,n);else if(t==="document")r=Hne(zc(e));else if(Mc(t))r=Kne(t,n);else{const i=kD(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return ny(r)}function AD(e,t){const n=wg(e);return n===t||!Mc(n)||Cw(n)?!1:ca(n).position==="fixed"||AD(n,t)}function Yne(e,t){const n=t.get(e);if(n)return n;let r=Z0(e,[],!1).filter(a=>Mc(a)&&mh(a)!=="body"),i=null;const o=ca(e).position==="fixed";let s=o?wg(e):e;for(;Mc(s)&&!Cw(s);){const a=ca(s),l=l8(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&i&&["absolute","fixed"].includes(i.position)||D2(s)&&!l&&AD(e,s))?r=r.filter(c=>c!==s):i=a,s=wg(s)}return t.set(e,r),r}function Jne(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?Yne(t,this._c):[].concat(n),r],s=o[0],a=o.reduce((l,c)=>{const h=RN(t,c,i);return l.top=Bf(h.top,l.top),l.right=yg(h.right,l.right),l.bottom=yg(h.bottom,l.bottom),l.left=Bf(h.left,l.left),l},RN(t,s,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function Xne(e){return CD(e)}function Qne(e,t,n){const r=Ul(t),i=zc(t),o=n==="fixed",s=td(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=gh(0);if(r||!r&&!o)if((mh(t)!=="body"||D2(i))&&(a=kw(t)),r){const c=td(t,!0,o,t);l.x=c.x+t.clientLeft,l.y=c.y+t.clientTop}else i&&(l.x=ED(i));return{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function DN(e,t){return!Ul(e)||ca(e).position==="fixed"?null:t?t(e):e.offsetParent}function ND(e,t){const n=_s(e);if(!Ul(e))return n;let r=DN(e,t);for(;r&&Bne(r)&&ca(r).position==="static";)r=DN(r,t);return r&&(mh(r)==="html"||mh(r)==="body"&&ca(r).position==="static"&&!l8(r))?n:r||$ne(e)||n}const Zne=async function(e){let{reference:t,floating:n,strategy:r}=e;const i=this.getOffsetParent||ND,o=this.getDimensions;return{reference:Qne(t,await i(n),r),floating:{x:0,y:0,...await o(n)}}};function ere(e){return ca(e).direction==="rtl"}const tre={convertOffsetParentRelativeRectToViewportRelativeRect:qne,getDocumentElement:zc,getClippingRect:Jne,getOffsetParent:ND,getElementRects:Zne,getClientRects:Wne,getDimensions:Xne,getScale:Xp,isElement:Mc,isRTL:ere};function nre(e,t){let n=null,r;const i=zc(e);function o(){clearTimeout(r),n&&n.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:c,top:h,width:f,height:g}=e.getBoundingClientRect();if(a||t(),!f||!g)return;const d=iv(h),m=iv(i.clientWidth-(c+f)),y=iv(i.clientHeight-(h+g)),C=iv(c),x={rootMargin:-d+"px "+-m+"px "+-y+"px "+-C+"px",threshold:Bf(0,yg(1,l))||1};let w=!0;function E(N){const _=N[0].intersectionRatio;if(_!==l){if(!w)return s();_?s(!1,_):r=setTimeout(()=>{s(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(E,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,x)}n.observe(e)}return s(!0),o}function rre(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=u8(e),h=i||o?[...c?Z0(c):[],...Z0(t)]:[];h.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const f=c&&a?nre(c,n):null;let g=-1,d=null;s&&(d=new ResizeObserver(x=>{let[w]=x;w&&w.target===c&&d&&(d.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{d&&d.observe(t)})),n()}),c&&!l&&d.observe(c),d.observe(t));let m,y=l?td(e):null;l&&C();function C(){const x=td(e);y&&(x.x!==y.x||x.y!==y.y||x.width!==y.width||x.height!==y.height)&&n(),y=x,m=requestAnimationFrame(C)}return n(),()=>{h.forEach(x=>{i&&x.removeEventListener("scroll",n),o&&x.removeEventListener("resize",n)}),f&&f(),d&&d.disconnect(),d=null,l&&cancelAnimationFrame(m)}}const IN=(e,t,n)=>{const r=new Map,i={platform:tre,...n},o={...i.platform,_c:r};return Rne(e,t,{...i,platform:o})},zN=(e,t,n)=>{let r;return function(...i){const o=()=>{r=null,n||e.apply(this,i)};n&&!r&&(e.apply(this,i),r=setTimeout(o,t)),n||(r&&clearTimeout(r),r=setTimeout(o,t))}},ire="DEFAULT_TOOLTIP_ID",ore={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},sre={getTooltipData:()=>ore},are=M.createContext(sre);function LD(e=ire){return M.useContext(are).getTooltipData(e)}var _D={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var s=typeof o;if(s==="string"||s==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var a=n.apply(null,o);a&&r.push(a)}}else if(s==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){r.push(o.toString());continue}for(var l in o)t.call(o,l)&&o[l]&&r.push(l)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(_D);var lre=_D.exports;const FN=nw(lre),cre=typeof window<"u"?M.useLayoutEffect:M.useEffect,ure=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(n=>{const r=t.getPropertyValue(n);return r==="auto"||r==="scroll"})},jN=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(ure(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},BN=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:r="top",offset:i=10,strategy:o="absolute",middlewares:s=[Fne(Number(i)),Ine(),jne({padding:5})],border:a})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const l=s;return n?(l.push(Dne({element:n,padding:5})),IN(e,t,{placement:r,strategy:o,middleware:l}).then(({x:c,y:h,placement:f,middlewareData:g})=>{const d={left:`${c}px`,top:`${h}px`,border:a},{x:m,y}=g.arrow??{x:0,y:0},C={top:"bottom",right:"left",bottom:"top",left:"right"}[f.split("-")[0]]??"bottom",x=a&&{borderBottom:a,borderRight:a};let w=0;if(a){const N=`${a}`.match(/(\d+)px/);N!=null&&N[1]?w=Number(N[1]):w=1}const E={left:m!=null?`${m}px`:"",top:y!=null?`${y}px`:"",right:"",bottom:"",...x,[C]:`-${4+w}px`};return{tooltipStyles:d,tooltipArrowStyles:E,place:f}})):IN(e,t,{placement:"bottom",strategy:o,middleware:l}).then(({x:c,y:h,placement:f})=>({tooltipStyles:{left:`${c}px`,top:`${h}px`},tooltipArrowStyles:{},place:f}))},hre="_tooltip_1glpn_1",fre="_fixed_1glpn_10",dre="_arrow_1glpn_14",pre="_noArrow_1glpn_19",gre="_clickable_1glpn_23",mre="_show_1glpn_27",vre="_closing_1glpn_32",sp={tooltip:hre,fixed:fre,arrow:dre,noArrow:pre,clickable:gre,show:mre,closing:vre},yre="_tooltip_75fex_1",wre="_arrow_75fex_8",bre="_dark_75fex_30",xre="_light_75fex_35",Sre="_success_75fex_40",Cre="_warning_75fex_45",kre="_error_75fex_50",Ere="_info_75fex_55",Qx={tooltip:yre,arrow:wre,dark:bre,light:xre,success:Sre,warning:Cre,error:kre,info:Ere},Are=({id:e,className:t,classNameArrow:n,variant:r="dark",anchorId:i,anchorSelect:o,place:s="top",offset:a=10,events:l=["hover"],openOnClick:c=!1,positionStrategy:h="absolute",middlewares:f,wrapper:g,delayShow:d=0,delayHide:m=0,float:y=!1,hidden:C=!1,noArrow:x=!1,clickable:w=!1,closeOnEsc:E=!1,closeOnScroll:N=!1,closeOnResize:_=!1,openEvents:D,closeEvents:P,globalCloseEvents:I,style:W,position:G,afterShow:O,afterHide:z,content:U,contentWrapperRef:$,isOpen:ne,setIsOpen:se,activeAnchor:ae,setActiveAnchor:Z,border:le,opacity:ue,arrowColor:ge})=>{const F=M.useRef(null),Q=M.useRef(null),re=M.useRef(null),he=M.useRef(null),[pe,Se]=M.useState(s),[xe,Ee]=M.useState({}),[Ge,Be]=M.useState({}),[Ke,it]=M.useState(!1),[at,Re]=M.useState(!1),fe=M.useRef(!1),vt=M.useRef(null),{anchorRefs:De,setActiveAnchor:ze}=LD(e),je=M.useRef(!1),[oe,ee]=M.useState([]),te=M.useRef(!1),Ne=c||l.includes("click"),Oe=Ne||(D==null?void 0:D.click)||(D==null?void 0:D.dblclick)||(D==null?void 0:D.mousedown),qe=D?{...D}:{mouseenter:!0,focus:!0,click:!1,dblclick:!1,mousedown:!1};!D&&Ne&&Object.assign(qe,{mouseenter:!1,focus:!1,click:!0});const Qe=P?{...P}:{mouseleave:!0,blur:!0,click:!1};!P&&Ne&&Object.assign(Qe,{mouseleave:!1,blur:!1});const nt=I?{...I}:{escape:E||!1,scroll:N||!1,resize:_||!1,clickOutsideAnchor:Oe||!1};cre(()=>(te.current=!0,()=>{te.current=!1}),[]);const lt=yt=>{te.current&&(yt&&Re(!0),setTimeout(()=>{te.current&&(se==null||se(yt),ne===void 0&&it(yt))},10))};M.useEffect(()=>{if(ne===void 0)return()=>null;ne&&Re(!0);const yt=setTimeout(()=>{it(ne)},10);return()=>{clearTimeout(yt)}},[ne]),M.useEffect(()=>{Ke!==fe.current&&(fe.current=Ke,Ke?O==null||O():z==null||z())},[Ke]);const xt=()=>{re.current&&clearTimeout(re.current),re.current=setTimeout(()=>{lt(!0)},d)},Ve=(yt=m)=>{he.current&&clearTimeout(he.current),he.current=setTimeout(()=>{je.current||lt(!1)},yt)},ot=yt=>{if(!yt)return;const ln=yt.currentTarget??yt.target;if(!(ln!=null&&ln.isConnected)){Z(null),ze({current:null});return}d?xt():lt(!0),Z(ln),ze({current:ln}),he.current&&clearTimeout(he.current)},Et=()=>{w?Ve(m||100):m?Ve():lt(!1),re.current&&clearTimeout(re.current)},mn=({x:yt,y:ln})=>{BN({place:s,offset:a,elementReference:{getBoundingClientRect(){return{x:yt,y:ln,width:0,height:0,top:ln,left:yt,right:yt,bottom:ln}}},tooltipReference:F.current,tooltipArrowReference:Q.current,strategy:h,middlewares:f,border:le}).then(Dt=>{Object.keys(Dt.tooltipStyles).length&&Ee(Dt.tooltipStyles),Object.keys(Dt.tooltipArrowStyles).length&&Be(Dt.tooltipArrowStyles),Se(Dt.place)})},Jt=yt=>{if(!yt)return;const ln=yt,Dt={x:ln.clientX,y:ln.clientY};mn(Dt),vt.current=Dt},Rt=yt=>{var ln;[document.querySelector(`[id='${i}']`),...oe].some(Dt=>Dt==null?void 0:Dt.contains(yt.target))||(ln=F.current)!=null&&ln.contains(yt.target)||(lt(!1),re.current&&clearTimeout(re.current))},qn=zN(ot,50,!0),ht=zN(Et,50,!0),Xn=M.useCallback(()=>{if(G){mn(G);return}if(y){vt.current&&mn(vt.current);return}ae!=null&&ae.isConnected&&BN({place:s,offset:a,elementReference:ae,tooltipReference:F.current,tooltipArrowReference:Q.current,strategy:h,middlewares:f,border:le}).then(yt=>{te.current&&(Object.keys(yt.tooltipStyles).length&&Ee(yt.tooltipStyles),Object.keys(yt.tooltipArrowStyles).length&&Be(yt.tooltipArrowStyles),Se(yt.place))})},[Ke,ae,U,W,s,a,h,G,y]);M.useEffect(()=>{var yt,ln;const Dt=new Set(De);oe.forEach(Wn=>{Dt.add({current:Wn})});const Pt=document.querySelector(`[id='${i}']`);Pt&&Dt.add({current:Pt});const It=()=>{lt(!1)},Fr=jN(ae),dn=jN(F.current);nt.scroll&&(window.addEventListener("scroll",It),Fr==null||Fr.addEventListener("scroll",It),dn==null||dn.addEventListener("scroll",It));let ar=null;nt.resize?window.addEventListener("resize",It):ae&&F.current&&(ar=rre(ae,F.current,Xn,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const On=Wn=>{Wn.key==="Escape"&&lt(!1)};nt.escape&&window.addEventListener("keydown",On),nt.clickOutsideAnchor&&window.addEventListener("click",Rt);const At=[],Li=Wn=>{Ke||ot(Wn)},Fo=()=>{Ke&&Et()},jr=["mouseenter","mouseleave","focus","blur"],gr=["click","dblclick","mousedown","mouseup"];Object.entries(qe).forEach(([Wn,Yr])=>{Yr&&(jr.includes(Wn)?At.push({event:Wn,listener:qn}):gr.includes(Wn)&&At.push({event:Wn,listener:Li}))}),Object.entries(Qe).forEach(([Wn,Yr])=>{Yr&&(jr.includes(Wn)?At.push({event:Wn,listener:ht}):gr.includes(Wn)&&At.push({event:Wn,listener:Fo}))}),y&&At.push({event:"mousemove",listener:Jt});const lr=()=>{je.current=!0},fi=()=>{je.current=!1,Et()};return w&&!Oe&&((yt=F.current)==null||yt.addEventListener("mouseenter",lr),(ln=F.current)==null||ln.addEventListener("mouseleave",fi)),At.forEach(({event:Wn,listener:Yr})=>{Dt.forEach(_i=>{var di;(di=_i.current)==null||di.addEventListener(Wn,Yr)})}),()=>{var Wn,Yr;nt.scroll&&(window.removeEventListener("scroll",It),Fr==null||Fr.removeEventListener("scroll",It),dn==null||dn.removeEventListener("scroll",It)),nt.resize?window.removeEventListener("resize",It):ar==null||ar(),nt.clickOutsideAnchor&&window.removeEventListener("click",Rt),nt.escape&&window.removeEventListener("keydown",On),w&&!Oe&&((Wn=F.current)==null||Wn.removeEventListener("mouseenter",lr),(Yr=F.current)==null||Yr.removeEventListener("mouseleave",fi)),At.forEach(({event:_i,listener:di})=>{Dt.forEach(yo=>{var Vi;(Vi=yo.current)==null||Vi.removeEventListener(_i,di)})})}},[ae,Xn,at,De,oe,D,P,I,Ne]),M.useEffect(()=>{let yt=o??"";!yt&&e&&(yt=`[data-tooltip-id='${e}']`);const ln=Pt=>{const It=[],Fr=[];Pt.forEach(dn=>{if(dn.type==="attributes"&&dn.attributeName==="data-tooltip-id"&&dn.target.getAttribute("data-tooltip-id")===e&&It.push(dn.target),dn.type==="childList"){if(ae){const ar=[...dn.removedNodes].filter(On=>On.nodeType===1);if(yt)try{Fr.push(...ar.filter(On=>On.matches(yt))),Fr.push(...ar.flatMap(On=>[...On.querySelectorAll(yt)]))}catch{}ar.some(On=>{var At;return(At=On==null?void 0:On.contains)!=null&&At.call(On,ae)?(Re(!1),lt(!1),Z(null),re.current&&clearTimeout(re.current),he.current&&clearTimeout(he.current),!0):!1})}if(yt)try{const ar=[...dn.addedNodes].filter(On=>On.nodeType===1);It.push(...ar.filter(On=>On.matches(yt))),It.push(...ar.flatMap(On=>[...On.querySelectorAll(yt)]))}catch{}}}),(It.length||Fr.length)&&ee(dn=>[...dn.filter(ar=>!Fr.includes(ar)),...It])},Dt=new MutationObserver(ln);return Dt.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"]}),()=>{Dt.disconnect()}},[e,o,ae]),M.useEffect(()=>{Xn()},[Xn]),M.useEffect(()=>{if(!($!=null&&$.current))return()=>null;const yt=new ResizeObserver(()=>{Xn()});return yt.observe($.current),()=>{yt.disconnect()}},[U,$==null?void 0:$.current]),M.useEffect(()=>{const yt=document.querySelector(`[id='${i}']`),ln=[...oe,yt];(!ae||!ln.includes(ae))&&Z(oe[0]??yt)},[i,oe,ae]),M.useEffect(()=>()=>{re.current&&clearTimeout(re.current),he.current&&clearTimeout(he.current)},[]),M.useEffect(()=>{let yt=o;if(!yt&&e&&(yt=`[data-tooltip-id='${e}']`),!!yt)try{const ln=Array.from(document.querySelectorAll(yt));ee(ln)}catch{ee([])}},[e,o]);const Sn=!C&&U&&Ke&&Object.keys(xe).length>0;return at?me(g,{id:e,role:"tooltip",className:FN("react-tooltip",sp.tooltip,Qx.tooltip,Qx[r],t,`react-tooltip__place-${pe}`,sp[Sn?"show":"closing"],Sn?"react-tooltip__show":"react-tooltip__closing",h==="fixed"&&sp.fixed,w&&sp.clickable),onTransitionEnd:yt=>{Ke||yt.propertyName!=="opacity"||Re(!1)},style:{...W,...xe,opacity:ue!==void 0&&Sn?ue:void 0},ref:F,children:[U,S(g,{className:FN("react-tooltip-arrow",sp.arrow,Qx.arrow,n,x&&sp.noArrow),style:{...Ge,background:ge?`linear-gradient(to right bottom, transparent 50%, ${ge} 50%)`:void 0},ref:Q})]}):null},Nre=({content:e})=>S("span",{dangerouslySetInnerHTML:{__html:e}}),h8=({id:e,anchorId:t,anchorSelect:n,content:r,html:i,render:o,className:s,classNameArrow:a,variant:l="dark",place:c="top",offset:h=10,wrapper:f="div",children:g=null,events:d=["hover"],openOnClick:m=!1,positionStrategy:y="absolute",middlewares:C,delayShow:x=0,delayHide:w=0,float:E=!1,hidden:N=!1,noArrow:_=!1,clickable:D=!1,closeOnEsc:P=!1,closeOnScroll:I=!1,closeOnResize:W=!1,openEvents:G,closeEvents:O,globalCloseEvents:z,style:U,position:$,isOpen:ne,disableStyleInjection:se=!1,border:ae,opacity:Z,arrowColor:le,setIsOpen:ue,afterShow:ge,afterHide:F})=>{const[Q,re]=M.useState(r),[he,pe]=M.useState(i),[Se,xe]=M.useState(c),[Ee,Ge]=M.useState(l),[Be,Ke]=M.useState(h),[it,at]=M.useState(x),[Re,fe]=M.useState(w),[vt,De]=M.useState(E),[ze,je]=M.useState(N),[oe,ee]=M.useState(f),[te,Ne]=M.useState(d),[Oe,qe]=M.useState(y),[Qe,nt]=M.useState(null),lt=M.useRef(se),{anchorRefs:xt,activeAnchor:Ve}=LD(e),ot=Rt=>Rt==null?void 0:Rt.getAttributeNames().reduce((qn,ht)=>{if(ht.startsWith("data-tooltip-")){const Xn=ht.replace(/^data-tooltip-/,"");qn[Xn]=(Rt==null?void 0:Rt.getAttribute(ht))??null}return qn},{}),Et=Rt=>{const qn={place:ht=>{xe(ht??c)},content:ht=>{re(ht??r)},html:ht=>{pe(ht??i)},variant:ht=>{Ge(ht??l)},offset:ht=>{Ke(ht===null?h:Number(ht))},wrapper:ht=>{ee(ht??f)},events:ht=>{const Xn=ht==null?void 0:ht.split(" ");Ne(Xn??d)},"position-strategy":ht=>{qe(ht??y)},"delay-show":ht=>{at(ht===null?x:Number(ht))},"delay-hide":ht=>{fe(ht===null?w:Number(ht))},float:ht=>{De(ht===null?E:ht==="true")},hidden:ht=>{je(ht===null?N:ht==="true")}};Object.values(qn).forEach(ht=>ht(null)),Object.entries(Rt).forEach(([ht,Xn])=>{var Sn;(Sn=qn[ht])==null||Sn.call(qn,Xn)})};M.useEffect(()=>{re(r)},[r]),M.useEffect(()=>{pe(i)},[i]),M.useEffect(()=>{xe(c)},[c]),M.useEffect(()=>{Ge(l)},[l]),M.useEffect(()=>{Ke(h)},[h]),M.useEffect(()=>{at(x)},[x]),M.useEffect(()=>{fe(w)},[w]),M.useEffect(()=>{De(E)},[E]),M.useEffect(()=>{je(N)},[N]),M.useEffect(()=>{qe(y)},[y]),M.useEffect(()=>{lt.current},[se]),M.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:se==="core",disableBase:se}}))},[]),M.useEffect(()=>{const Rt=new Set(xt);let qn=n;if(!qn&&e&&(qn=`[data-tooltip-id='${e}']`),qn)try{document.querySelectorAll(qn).forEach(Dt=>{Rt.add({current:Dt})})}catch{console.warn(`[react-tooltip] "${qn}" is not a valid CSS selector`)}const ht=document.querySelector(`[id='${t}']`);if(ht&&Rt.add({current:ht}),!Rt.size)return()=>null;const Xn=Qe??ht??Ve.current,Sn=Dt=>{Dt.forEach(Pt=>{var It;if(!Xn||Pt.type!=="attributes"||!((It=Pt.attributeName)!=null&&It.startsWith("data-tooltip-")))return;const Fr=ot(Xn);Et(Fr)})},yt=new MutationObserver(Sn),ln={attributes:!0,childList:!1,subtree:!1};if(Xn){const Dt=ot(Xn);Et(Dt),yt.observe(Xn,ln)}return()=>{yt.disconnect()}},[xt,Ve,Qe,t,n]);let mn=g;const Jt=M.useRef(null);if(o){const Rt=o({content:Q??null,activeAnchor:Qe});mn=Rt?S("div",{ref:Jt,className:"react-tooltip-content-wrapper",children:Rt}):null}else Q&&(mn=Q);return he&&(mn=S(Nre,{content:he})),S(Are,{id:e,anchorId:t,anchorSelect:n,className:s,classNameArrow:a,content:mn,contentWrapperRef:Jt,place:Se,variant:Ee,offset:Be,wrapper:oe,events:te,openOnClick:m,positionStrategy:Oe,middlewares:C,delayShow:it,delayHide:Re,float:vt,hidden:ze,noArrow:_,clickable:D,closeOnEsc:P,closeOnScroll:I,closeOnResize:W,openEvents:G,closeEvents:O,globalCloseEvents:z,style:U,position:$,isOpen:ne,border:ae,opacity:Z,arrowColor:le,setIsOpen:ue,afterShow:ge,afterHide:F,activeAnchor:Qe,setActiveAnchor:Rt=>nt(Rt)})},Lre="react-tooltip-core-css-placeholder",_re="react-tooltip-css-placeholder";typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||PN({css:Lre,type:"core"}),e.detail.disableBase||PN({css:_re,type:"base"})});const Ore=({children:e,disabled:t=!1,isActive:n=!1,className:r="",styles:i={color:"#0d1216",disabledColor:"rgba(64,87,109,.4)"},tooltip:o,...s},a)=>{const l="btn_"+Q7(),c=_r();return me(jl,{children:[S("button",{ref:a,"data-tooltip-id":l,className:r,...s,css:{padding:"0 4px",display:"flex",height:32,minWidth:32,alignItems:"center",justifyContent:"center",transition:"background-color 0.3s ease",borderRadius:6,fontSize:14,fontWeight:400,...t?{color:i.disabledColor,cursor:"not-allowed"}:{color:i.color,":hover":{backgroundColor:"rgba(64,87,109,.2)"},...n?{backgroundColor:"rgba(64,87,109,.2)"}:{}}},children:e}),!c&&o&&S(h8,{id:l,content:o})]})},Il=M.forwardRef(Ore),bg=({className:e=""})=>S("svg",{className:e,width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:S("path",{fill:"currentColor",d:"M7.25 13.25a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5Z"})}),Pre=uD(({item:e,containerRef:t,idx:n,newItemIndex:r,scale:i,activePage:o,pageSize:s,itemSize:a,onSetText:l,onChangePage:c,onAddNewPage:h,onDoubleClick:f})=>S("li",{css:{float:"left",listStyle:"none"},children:me(mte,{className:o===n?"is-active":"",children:[me(gte,{ref:t,className:"page-btn",isNew:n===r,onClick:()=>c(n),onDoubleClick:()=>f(n),children:[S("div",{css:{position:"relative",height:a.height},children:S(hD,{pageIndex:n,width:s.width,height:s.height,scale:i,isActive:!0})}),me("div",{children:[me("span",{css:{whiteSpace:"nowrap"},children:[n+1," "]}),S("div",{css:{width:"96%"},children:S(bw,{text:e.name,placeholder:"Add page title",onSetText:l})})]})]}),S(Il,{className:"add-btn",onClick:g=>{g.preventDefault(),g.stopPropagation(),h(n)},children:S(bg,{})})]},n)})),Tre=lD(({items:e,containerRef:t,newItemIndex:n,scale:r,activePage:i,pageSize:o,itemSize:s,onSetText:a,onChangePage:l,onAddNewPage:c,onDoubleClick:h})=>{const f=_r();return S("div",{css:{display:"grid",gridTemplateColumns:`repeat(auto-fill, ${f?"minmax(120px, .5fr)":"minmax(217px, 1fr)"})`,gap:10,position:"relative"},children:e.map((g,d)=>S(Pre,{containerRef:t,item:g,idx:d,index:d,activePage:i,scale:r,newItemIndex:n,pageSize:o,itemSize:s,onSetText:a,onChangePage:l,onAddNewPage:c,onDoubleClick:h},`page-${d}`))})}),Mre=({items:e,containerRef:t,newItemIndex:n,scale:r,activePage:i,pageSize:o,itemSize:s,onSetText:a,onChangePage:l,onAddNewPage:c,onDoubleClick:h,onChange:f})=>S(Tre,{items:e,containerRef:t,activePage:i,scale:r,newItemIndex:n,pageSize:o,itemSize:s,onSetText:a,onChangePage:l,onAddNewPage:c,onDoubleClick:h,axis:"xy",pressDelay:120,onSortEnd:g=>{(g==null?void 0:g.newIndex)!==g.oldIndex&&(f({fromIndex:g.oldIndex,toIndex:g.newIndex}),l(g.newIndex))}}),dd=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em",children:S("path",{d:"M205.66 194.34a8 8 0 0 1-11.32 11.32L128 139.31l-66.34 66.35a8 8 0 0 1-11.32-11.32L116.69 128 50.34 61.66a8 8 0 0 1 11.32-11.32L128 116.69l66.34-66.35a8 8 0 0 1 11.32 11.32L139.31 128Z"})}),Rre=({onChangePage:e})=>{const t=M.useRef(null),[n,r]=M.useState(-1),i=M.useRef(null),[o,s]=M.useState({width:0,height:0}),[a,l]=M.useState(1),{actions:c,pages:h,pageSize:f,activePage:g,isLocked:d,totalPages:m}=Ot(C=>({pages:C.pages,pageSize:C.pageSize,activePage:C.activePage,totalPages:C.pages.length,isLocked:C.pages[C.activePage]&&C.pages[C.activePage].layers.ROOT.data.locked})),y=C=>{c.addPage(C),r(-1),setTimeout(()=>{r(C+1)})};return M.useEffect(()=>{const C=()=>{if(i.current){const x=i.current.clientWidth-6,w=x*f.height/f.width+6;s({width:x,height:w}),l(x/f.width)}};return C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]),me("div",{css:{top:0,left:0,height:"calc(100% - 40px)",width:"100%",position:"absolute",background:"#fff",zIndex:3,"@media (max-width: 900px)":{height:"calc(100% - 65px)"}},children:[me("div",{css:{display:"flex",alignItems:"center",flexShrink:0,height:48,borderBottom:"1px solid rgba(57,76,96,.15)",padding:"0 16px"},children:[S("div",{css:{marginLeft:8,width:28,height:28,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,cursor:"pointer",":hover":{background:"rgba(64, 87, 109, 0.07)"}},onClick:()=>{y(g)},children:S(i8,{})}),S("div",{css:{marginLeft:8,width:28,height:28,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,cursor:"pointer",":hover":{background:"rgba(64, 87, 109, 0.07)"}},onClick:()=>c.duplicatePage(g),children:S(yw,{})}),S("div",{css:{marginLeft:8,width:28,height:28,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,cursor:d||m<=1?"not-allowed":"pointer",color:d||m<=1?"rgba(36,49,61,.4)":"#0d1216",":hover":{background:d||m<=1?void 0:"rgba(64, 87, 109, 0.07)"}},onClick:()=>!d&&m>1&&c.deletePage(g),children:S(ww,{})}),S("div",{css:{fontSize:20,flexShrink:0,width:32,height:32,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"auto"},onClick:()=>c.togglePageSettings(),children:S(dd,{})})]}),S("div",{ref:t,css:{flexGrow:1,overflowY:"auto",padding:"24px 24px 56px",maxHeight:"100%"},children:S(Mre,{items:mt.cloneDeep(h),containerRef:i,activePage:g,scale:a,newItemIndex:n,pageSize:f,itemSize:o,onSetText:C=>{c.setPageName(g,C)},onChangePage:e,onAddNewPage:y,onChange:C=>{c.swapPagePosition(C.fromIndex,C.toIndex)},onDoubleClick:()=>c.togglePageSettings()})})]})},ry={name:"a",notes:"b",layers:"c",ROOT:"d",type:"e",resolvedName:"f",props:"g",boxSize:"h",width:"i",height:"j",position:"k",x:"l",y:"m",rotate:"n",color:"o",image:"p",gradientBackground:"q",locked:"r",child:"s",parent:"t",scale:"u",text:"v",fonts:"w",family:"x",url:"y",style:"z",styles:"aa",colors:"ab",fontSizes:"ac",effect:"ad",settings:"ae",thickness:"af",transparency:"ag",clipPath:"ah",shapeSize:"ai",thumb:"aj",offset:"ak",direction:"al",blur:"am",border:"an",weight:"ao"};function Dre(e){if(e<=26)return String.fromCharCode(96+e);{const t=Math.floor((e-1)/26),n=(e-1)%26+1,r=String.fromCharCode(96+t),i=String.fromCharCode(96+n);return r+i}}const iy=(e,t={},n=1)=>{if(typeof e!="object"||e===null)return[e,t];if(Array.isArray(e)){const i=[];for(let o=0;o<e.length;o++){const[s,a]=iy(e[o],t,n);i.push(s),t=a}return[i,t]}const r={};for(const i in e)if(e.hasOwnProperty(i)){t[i]||YZ(i)||(t[i]=Dre(n),n++);const[o,s]=iy(e[i],t,n);r[t[i]||i]=o,n=Math.max(n,Object.keys(s).length+1),t={...t,...s}}return[r,t]},xg=e=>{if(!e)return e;if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++)t.push(xg(e[n]));return t}if(typeof e=="object"){const t={};for(const n in e)if(e.hasOwnProperty(n)){const r=Object.keys(ry).find(i=>ry[i]===n)||n;t[r]=xg(e[n])}return t}return e};function Ire(e,t,n){M.useEffect(()=>{const r=setTimeout(()=>{e()},t);return()=>{clearTimeout(r)}},n)}var zre=Object.defineProperty,Fre=Object.defineProperties,jre=Object.getOwnPropertyDescriptors,oy=Object.getOwnPropertySymbols,OD=Object.prototype.hasOwnProperty,PD=Object.prototype.propertyIsEnumerable,Bre=Math.pow,$N=(e,t,n)=>t in e?zre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nd=(e,t)=>{for(var n in t||(t={}))OD.call(t,n)&&$N(e,n,t[n]);if(oy)for(var n of oy(t))PD.call(t,n)&&$N(e,n,t[n]);return e},f8=(e,t)=>Fre(e,jre(t)),$re=(e,t)=>{var n={};for(var r in e)OD.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&oy)for(var r of oy(e))t.indexOf(r)<0&&PD.call(e,r)&&(n[r]=e[r]);return n},hi=(e,t,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(c){i(c)}},s=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(e,t)).next())});function Vre(e,t){return e[13]=1,e[14]=t>>8,e[15]=t&255,e[16]=t>>8,e[17]=t&255,e}const TD=112,MD=72,RD=89,DD=115;let Zx;function Ure(){const e=new Int32Array(256);for(let t=0;t<256;t++){let n=t;for(let r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e}function qre(e){let t=-1;Zx||(Zx=Ure());for(let n=0;n<e.length;n++)t=Zx[(t^e[n])&255]^t>>>8;return t^-1}function Wre(e){const t=e.length-1;for(let n=t;n>=4;n--)if(e[n-4]===9&&e[n-3]===TD&&e[n-2]===MD&&e[n-1]===RD&&e[n]===DD)return n-3;return 0}function Hre(e,t,n=!1){const r=new Uint8Array(13);t*=39.3701,r[0]=TD,r[1]=MD,r[2]=RD,r[3]=DD,r[4]=t>>>24,r[5]=t>>>16,r[6]=t>>>8,r[7]=t&255,r[8]=r[4],r[9]=r[5],r[10]=r[6],r[11]=r[7],r[12]=1;const i=qre(r),o=new Uint8Array(4);if(o[0]=i>>>24,o[1]=i>>>16,o[2]=i>>>8,o[3]=i&255,n){const s=Wre(e);return e.set(r,s),e.set(o,s+13),e}else{const s=new Uint8Array(4);s[0]=0,s[1]=0,s[2]=0,s[3]=9;const a=new Uint8Array(54);return a.set(e,0),a.set(s,33),a.set(r,37),a.set(o,50),a}}const Gre="AAlwSFlz",Kre="AAAJcEhZ",Yre="AAAACXBI";function Jre(e){let t=e.indexOf(Gre);return t===-1&&(t=e.indexOf(Kre)),t===-1&&(t=e.indexOf(Yre)),t}const d8="[modern-screenshot]",vh=typeof window<"u",Xre=vh&&"Worker"in window,Qre=vh&&"atob"in window,Zre=vh&&"btoa"in window;var VN;const p8=vh?(VN=window.navigator)==null?void 0:VN.userAgent:"",ID=p8.includes("Chrome"),sy=p8.includes("AppleWebKit")&&!ID,g8=p8.includes("Firefox"),eie=e=>e&&"__CONTEXT__"in e,tie=e=>e.constructor.name==="CSSFontFaceRule",nie=e=>e.constructor.name==="CSSImportRule",ql=e=>e.nodeType===1,I2=e=>typeof e.className=="object",zD=e=>e.tagName==="image",rie=e=>e.tagName==="use",m8=e=>ql(e)&&typeof e.style<"u"&&!I2(e),iie=e=>e.nodeType===8,oie=e=>e.nodeType===3,Sg=e=>e.tagName==="IMG",Ew=e=>e.tagName==="VIDEO",sie=e=>e.tagName==="CANVAS",UN=e=>e.tagName==="TEXTAREA",aie=e=>e.tagName==="INPUT",lie=e=>e.tagName==="STYLE",cie=e=>e.tagName==="SCRIPT",uie=e=>e.tagName==="SELECT",hie=e=>e.tagName==="SLOT",fie=e=>e.tagName==="IFRAME",po=(...e)=>console.warn(d8,...e),die=e=>console.time(`${d8} ${e}`),pie=e=>console.timeEnd(`${d8} ${e}`),gie=e=>{var t;const n=(t=e==null?void 0:e.createElement)==null?void 0:t.call(e,"canvas");return n&&(n.height=n.width=1),n&&"toDataURL"in n&&!!n.toDataURL("image/webp").includes("image/webp")},L6=e=>e.startsWith("data:");function FD(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(vh&&e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i)||!vh)return e;const n=Aw().implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}function Aw(e){var t;return(t=e&&ql(e)?e==null?void 0:e.ownerDocument:e)!=null?t:window.document}const Nw="http://www.w3.org/2000/svg";function mie(e,t,n){const r=Aw(n).createElementNS(Nw,"svg");return r.setAttributeNS(null,"width",e.toString()),r.setAttributeNS(null,"height",t.toString()),r.setAttributeNS(null,"viewBox",`0 0 ${e} ${t}`),r}function vie(e,t){let n=new XMLSerializer().serializeToString(e);return t&&(n=n.replace(/[\u0000-\u0008\u000B\u000C\u000E-\u001F\uD800-\uDFFF\uFFFE\uFFFF]/ug,"")),`data:image/svg+xml;charset=utf-8,${encodeURIComponent(n)}`}function yie(e,t){return new Promise((n,r)=>{const i=new FileReader;i.onload=()=>n(i.result),i.onerror=()=>r(i.error),i.onabort=()=>r(new Error(`Failed read blob to ${t}`)),t==="dataUrl"?i.readAsDataURL(e):t==="arrayBuffer"&&i.readAsArrayBuffer(e)})}const wie=e=>yie(e,"dataUrl");function Qp(e,t){const n=Aw(t).createElement("img");return n.decoding="sync",n.loading="eager",n.src=e,n}function e2(e,t){return new Promise(n=>{const{timeout:r,ownerDocument:i,onError:o}=t??{},s=typeof e=="string"?Qp(e,Aw(i)):e;let a=null,l=null;function c(){n(s),a&&clearTimeout(a),l==null||l()}if(r&&(a=setTimeout(c,r)),Ew(s)){const h=s.currentSrc||s.src;if(!h)return s.poster?e2(s.poster,t).then(n):c();if(s.readyState>=2)return c();const f=c,g=d=>{po("Failed video load",h,d),o==null||o(d),c()};l=()=>{s.removeEventListener("loadeddata",f),s.removeEventListener("error",g)},s.addEventListener("loadeddata",f,{once:!0}),s.addEventListener("error",g,{once:!0})}else{const h=zD(s)?s.href.baseVal:s.currentSrc||s.src;if(!h)return c();const f=()=>hi(this,null,function*(){if(Sg(s)&&"decode"in s)try{yield s.decode()}catch(d){po("Failed to decode image, trying to render anyway",s.dataset.originalSrc||h,d)}c()}),g=d=>{po("Failed image load",s.dataset.originalSrc||h,d),c()};if(Sg(s)&&s.complete)return f();l=()=>{s.removeEventListener("load",f),s.removeEventListener("error",g)},s.addEventListener("load",f,{once:!0}),s.addEventListener("error",g,{once:!0})}})}function bie(e,t){return hi(this,null,function*(){m8(e)&&(Sg(e)||Ew(e)?yield e2(e,{timeout:t}):yield Promise.all(["img","video"].flatMap(n=>Array.from(e.querySelectorAll(n)).map(r=>e2(r,{timeout:t})))))})}const jD=function(){let e=0;const t=()=>`0000${(Math.random()*Bre(36,4)<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)}();function BD(e){return e==null?void 0:e.split(",").map(t=>t.trim().replace(/"|'/g,"").toLowerCase()).filter(Boolean)}function xie(e){return{time:t=>e&&die(t),timeEnd:t=>e&&pie(t),warn:(...t)=>e&&po(...t)}}function Sie(e){return{cache:e?"no-cache":"force-cache"}}function Lw(e,t){return hi(this,null,function*(){return eie(e)?e:Cie(e,f8(nd({},t),{autoDestruct:!0}))})}function Cie(e,t){return hi(this,null,function*(){var n,r,i,o,s;const{scale:a=1,workerUrl:l,workerNumber:c=1}=t||{},h=!!(t!=null&&t.debug),f=(n=t==null?void 0:t.features)!=null?n:!0,g=(r=e.ownerDocument)!=null?r:vh?window.document:void 0,d=(o=(i=e.ownerDocument)==null?void 0:i.defaultView)!=null?o:vh?window:void 0,m=new Map,y=f8(nd({width:0,height:0,quality:1,type:"image/png",scale:a,backgroundColor:null,style:null,filter:null,maximumCanvasSize:0,timeout:3e4,progress:null,debug:h,fetch:nd({requestInit:Sie((s=t==null?void 0:t.fetch)==null?void 0:s.bypassingCache),placeholderImage:"data:image/png;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",bypassingCache:!1},t==null?void 0:t.fetch),fetchFn:null,font:{},drawImageInterval:100,workerUrl:null,workerNumber:c,onCloneNode:null,onEmbedNode:null,onCreateForeignObjectSvg:null,includeStyleProperties:null,autoDestruct:!1},t),{__CONTEXT__:!0,log:xie(h),node:e,ownerDocument:g,ownerWindow:d,dpi:a===1?null:96*a,svgStyleElement:$D(g),svgDefsElement:g==null?void 0:g.createElementNS(Nw,"defs"),svgStyles:new Map,defaultComputedStyles:new Map,workers:[...new Array(Xre&&l&&c?c:0)].map(()=>{try{const w=new Worker(l);return w.onmessage=E=>hi(this,null,function*(){var N,_,D,P;const{url:I,result:W}=E.data;W?(_=(N=m.get(I))==null?void 0:N.resolve)==null||_.call(N,W):(P=(D=m.get(I))==null?void 0:D.reject)==null||P.call(D,new Error(`Error receiving message from worker: ${I}`))}),w.onmessageerror=E=>{var N,_;const{url:D}=E.data;(_=(N=m.get(D))==null?void 0:N.reject)==null||_.call(N,new Error(`Error receiving message from worker: ${D}`))},w}catch(w){return po("Failed to new Worker",w),null}}).filter(Boolean),fontFamilies:new Set,fontCssTexts:new Map,acceptOfImage:`${[gie(g)&&"image/webp","image/svg+xml","image/*","*/*"].filter(Boolean).join(",")};q=0.8`,requests:m,drawImageCount:0,tasks:[],features:f,isEnable:w=>{var E;return typeof f=="boolean"?f:(E=f[w])!=null?E:!0}});y.log.time("wait until load"),yield bie(e,y.timeout),y.log.timeEnd("wait until load");const{width:C,height:x}=kie(e,y);return y.width=C,y.height=x,y})}function $D(e){if(!e)return;const t=e.createElement("style"),n=t.ownerDocument.createTextNode(`
.______background-clip--text {
  background-clip: text;
  -webkit-background-clip: text;
}
`);return t.appendChild(n),t}function kie(e,t){let{width:n,height:r}=t;if(ql(e)&&(!n||!r)){const i=e.getBoundingClientRect();n=n||i.width||Number(e.getAttribute("width"))||0,r=r||i.height||Number(e.getAttribute("height"))||0}return{width:n,height:r}}function Eie(e,t){return hi(this,null,function*(){const{log:n,timeout:r,drawImageCount:i,drawImageInterval:o}=t;n.time("image to canvas");const s=yield e2(e,{timeout:r}),{canvas:a,context2d:l}=Aie(e.ownerDocument,t),c=()=>{try{l==null||l.drawImage(s,0,0,a.width,a.height)}catch(h){po("Failed to drawImage",h)}};if(c(),t.isEnable("fixSvgXmlDecode"))for(let h=0;h<i;h++)yield new Promise(f=>{setTimeout(()=>{c(),f()},h+o)});return t.drawImageCount=0,n.timeEnd("image to canvas"),a})}function Aie(e,t){const{width:n,height:r,scale:i,backgroundColor:o,maximumCanvasSize:s}=t,a=e.createElement("canvas");a.width=Math.floor(n*i),a.height=Math.floor(r*i),a.style.width=`${n}px`,a.style.height=`${r}px`,s&&(a.width>s||a.height>s)&&(a.width>s&&a.height>s?a.width>a.height?(a.height*=s/a.width,a.width=s):(a.width*=s/a.height,a.height=s):a.width>s?(a.height*=s/a.width,a.width=s):(a.width*=s/a.height,a.height=s));const l=a.getContext("2d");return l&&o&&(l.fillStyle=o,l.fillRect(0,0,a.width,a.height)),{canvas:a,context2d:l}}const Nie=["width","height","-webkit-text-fill-color"],Lie=["stroke","fill"];function VD(e,t,n){var r;const{defaultComputedStyles:i,ownerDocument:o}=n,s=e.nodeName.toLowerCase(),a=I2(e)&&s!=="svg",l=a?Lie.map(x=>[x,e.getAttribute(x)]).filter(([,x])=>x!==null):[],c=[a&&"svg",s,l.map((x,w)=>`${x}=${w}`).join(","),t].filter(Boolean).join(":");if(i.has(c))return i.get(c);let h=n.sandbox;if(!h)try{o&&(h=o.createElement("iframe"),h.id=`__SANDBOX__-${jD()}`,h.width="0",h.height="0",h.style.visibility="hidden",h.style.position="fixed",o.body.appendChild(h),(r=h.contentWindow)==null||r.document.write('<!DOCTYPE html><meta charset="UTF-8"><title></title><body>'),n.sandbox=h)}catch(x){po("Failed to create iframe sandbox",x)}if(!h)return new Map;const f=h.contentWindow;if(!f)return new Map;const g=f.document;let d,m;a?(d=g.createElementNS(Nw,"svg"),m=d.ownerDocument.createElementNS(d.namespaceURI,s),l.forEach(([x,w])=>{m.setAttributeNS(null,x,w)}),d.appendChild(m)):d=m=g.createElement(s),m.textContent=" ",g.body.appendChild(d);const y=f.getComputedStyle(m,t),C=new Map;for(let x=y.length,w=0;w<x;w++){const E=y.item(w);Nie.includes(E)||C.set(E,y.getPropertyValue(E))}return g.body.removeChild(d),i.set(c,C),C}function UD(e,t,n){var r;const i=new Map,o=[],s=new Map;if(n)for(const l of n)a(l);else for(let l=e.length,c=0;c<l;c++){const h=e.item(c);a(h)}for(let l=o.length,c=0;c<l;c++)(r=s.get(o[c]))==null||r.forEach((h,f)=>i.set(f,h));function a(l){const c=e.getPropertyValue(l),h=e.getPropertyPriority(l),f=l.lastIndexOf("-"),g=f>-1?l.substring(0,f):void 0;if(g){let d=s.get(g);d||(d=new Map,s.set(g,d)),d.set(l,[c,h])}t.get(l)===c&&!h||(g?o.push(g):i.set(l,[c,h]))}return i}const _ie=[":before",":after"],Oie=[":-webkit-scrollbar",":-webkit-scrollbar-button",":-webkit-scrollbar-thumb",":-webkit-scrollbar-track",":-webkit-scrollbar-track-piece",":-webkit-scrollbar-corner",":-webkit-resizer"];function Pie(e,t,n,r){const{ownerWindow:i,svgStyleElement:o,svgStyles:s,currentNodeStyle:a}=r;if(!o||!i)return;function l(c){var h;const f=i.getComputedStyle(e,c);let g=f.getPropertyValue("content");if(!g||g==="none")return;g=g.replace(/(')|(")|(counter\(.+\))/g,"");const d=[jD()],m=VD(e,c,r);a==null||a.forEach((E,N)=>{m.delete(N)});const y=UD(f,m,r.includeStyleProperties);y.delete("content"),y.delete("-webkit-locale"),((h=y.get("background-clip"))==null?void 0:h[0])==="text"&&t.classList.add("______background-clip--text");const C=[`content: '${g}';`];if(y.forEach(([E,N],_)=>{C.push(`${_}: ${E}${N?" !important":""};`)}),C.length===1)return;try{t.className=[t.className,...d].join(" ")}catch{return}const x=C.join(`
  `);let w=s.get(x);w||(w=[],s.set(x,w)),w.push(`.${d[0]}:${c}`)}_ie.forEach(l),n&&Oie.forEach(l)}function Tie(e,t){UN(e)&&(t.innerHTML=e.value),(UN(e)||aie(e)||uie(e))&&t.setAttribute("value",e.value)}function Mie(e,t,n,r){var i,o,s,a;const{ownerWindow:l,includeStyleProperties:c,currentParentNodeStyle:h}=r,f=t.style,g=l.getComputedStyle(e),d=VD(e,null,r);h==null||h.forEach((y,C)=>{d.delete(C)});const m=UD(g,d,c);return m.delete("transition-property"),m.delete("all"),m.delete("d"),m.delete("content"),n&&(m.delete("margin-top"),m.delete("margin-right"),m.delete("margin-bottom"),m.delete("margin-left"),m.delete("margin-block-start"),m.delete("margin-block-end"),m.delete("margin-inline-start"),m.delete("margin-inline-end"),m.set("box-sizing",["border-box",""])),((i=m.get("background-clip"))==null?void 0:i[0])==="text"&&t.classList.add("______background-clip--text"),ID&&(m.has("font-kerning")||m.set("font-kerning",["normal",""]),(((o=m.get("overflow-x"))==null?void 0:o[0])==="hidden"||((s=m.get("overflow-y"))==null?void 0:s[0])==="hidden")&&((a=m.get("text-overflow"))==null?void 0:a[0])==="ellipsis"&&e.scrollWidth===e.clientWidth&&m.set("text-overflow",["clip",""])),m.forEach(([y,C],x)=>{f.setProperty(x,y,C)}),m}function Rie(e,t){var n;try{if((n=e==null?void 0:e.contentDocument)!=null&&n.body)return v8(e.contentDocument.body,t)}catch(r){po("Failed to clone iframe",r)}return e.cloneNode(!1)}function qD(e){if(e.ownerDocument)try{const i=e.toDataURL();if(i!=="data:,")return Qp(i,e.ownerDocument)}catch{}const t=e.cloneNode(!1),n=e.getContext("2d"),r=t.getContext("2d");try{return n&&r&&r.putImageData(n.getImageData(0,0,e.width,e.height),0,0),t}catch(i){po("Failed to clone canvas",i)}return t}function Die(e){return hi(this,null,function*(){if(e.ownerDocument&&!e.currentSrc&&e.poster)return Qp(e.poster,e.ownerDocument);const t=e.cloneNode(!1);t.crossOrigin="anonymous",e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc);const n=t.ownerDocument;if(n){let r=!0;if(yield e2(t,{onError:()=>r=!1}),!r)return e.poster?Qp(e.poster,e.ownerDocument):t;t.currentTime=e.currentTime,yield new Promise(o=>{t.addEventListener("seeked",o,{once:!0})});const i=n.createElement("canvas");i.width=e.offsetWidth,i.height=e.offsetHeight;try{const o=i.getContext("2d");o&&o.drawImage(t,0,0,i.width,i.height)}catch(o){return po("Failed to clone video",o),e.poster?Qp(e.poster,e.ownerDocument):t}return qD(i)}return t})}function Iie(e){const t=e.cloneNode(!1);return e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager"),t}function zie(e,t){return sie(e)?qD(e):fie(e)?Rie(e,t):Sg(e)?Iie(e):Ew(e)?Die(e):e.cloneNode(!1)}const qN=new Set(["symbol"]);function WN(e,t,n){return hi(this,null,function*(){ql(t)&&(lie(t)||cie(t))||n.filter&&!n.filter(t)||(qN.has(e.nodeName)||qN.has(t.nodeName)?n.currentParentNodeStyle=void 0:n.currentParentNodeStyle=n.currentNodeStyle,e.appendChild(yield v8(t,n)))})}function HN(e,t,n){return hi(this,null,function*(){var r,i;const o=(i=ql(e)?(r=e.shadowRoot)==null?void 0:r.firstChild:void 0)!=null?i:e.firstChild;for(let s=o;s;s=s.nextSibling)if(!iie(s))if(ql(s)&&hie(s)&&typeof s.assignedNodes=="function"){const a=s.assignedNodes();for(let l=0;l<a.length;l++)yield WN(t,a[l],n)}else yield WN(t,s,n)})}function Fie(e,t){const{backgroundColor:n,width:r,height:i,style:o}=t,s=e.style;if(n&&s.setProperty("background-color",n,"important"),r&&s.setProperty("width",`${r}px`,"important"),i&&s.setProperty("height",`${i}px`,"important"),o)for(const a in o)s[a]=o[a]}const jie=/^[\w-:]+$/;function v8(e,t,n=!1){return hi(this,null,function*(){var r,i,o,s;const{ownerDocument:a,ownerWindow:l,fontFamilies:c}=t;if(a&&oie(e))return a.createTextNode(e.data);if(a&&l&&ql(e)&&(m8(e)||I2(e))){const f=yield zie(e,t);if(t.isEnable("removeAbnormalAttributes")){const m=f.getAttributeNames();for(let y=m.length,C=0;C<y;C++){const x=m[C];jie.test(x)||f.removeAttribute(x)}}const g=t.currentNodeStyle=Mie(e,f,n,t);n&&Fie(f,t);let d=!1;if(t.isEnable("copyScrollbar")){const m=[(r=g.get("overflow-x"))==null?void 0:r[0],(i=g.get("overflow-y"))==null?void 0:i[1]];d=m.includes("scroll")||(m.includes("auto")||m.includes("overlay"))&&(e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)}return Pie(e,f,d,t),Tie(e,f),(s=BD((o=g.get("font-family"))==null?void 0:o[0]))==null||s.forEach(m=>c.add(m)),Ew(e)||(yield HN(e,f,t)),f}const h=e.cloneNode(!1);return yield HN(e,h,t),h})}function Bie(e){if(e.ownerDocument=void 0,e.ownerWindow=void 0,e.svgStyleElement=void 0,e.svgDefsElement=void 0,e.svgStyles.clear(),e.defaultComputedStyles.clear(),e.sandbox){try{e.sandbox.remove()}catch{}e.sandbox=void 0}e.workers=[],e.fontFamilies.clear(),e.fontCssTexts.clear(),e.requests.clear(),e.tasks=[]}function $ie(e){const t=e,{url:n,timeout:r,responseType:i}=t,o=$re(t,["url","timeout","responseType"]),s=new AbortController,a=r?setTimeout(()=>s.abort(),r):void 0;return fetch(n,nd({signal:s.signal},o)).then(l=>{if(!l.ok)throw new Error("Failed fetch, not 2xx response",{cause:l});switch(i){case"dataUrl":return l.blob().then(wie);case"text":default:return l.text()}}).finally(()=>clearTimeout(a))}function t2(e,t){const{url:n,requestType:r="text",responseType:i="text",imageDom:o}=t;let s=n;const{timeout:a,acceptOfImage:l,requests:c,fetchFn:h,fetch:{requestInit:f,bypassingCache:g,placeholderImage:d},workers:m}=e;r==="image"&&(sy||g8)&&e.drawImageCount++;let y=c.get(n);if(!y){g&&g instanceof RegExp&&g.test(s)&&(s+=(/\?/.test(s)?"&":"?")+new Date().getTime());const C=nd({url:s,timeout:a,responseType:i,headers:r==="image"?{accept:l}:void 0},f);y={type:r,resolve:void 0,reject:void 0,response:null},y.response=hi(this,null,function*(){if(h&&r==="image"){const x=yield h(n);if(x)return x}return!sy&&n.startsWith("http")&&m.length?new Promise((x,w)=>{m[c.size&m.length-1].postMessage(nd({rawUrl:n},C)),y.resolve=x,y.reject=w}):$ie(C)}).catch(x=>{if(c.delete(n),r==="image"&&d)return po("Failed to fetch image base64, trying to use placeholder image",s),typeof d=="string"?d:d(o);throw x}),c.set(n,y)}return y.response}function WD(e,t,n,r){return hi(this,null,function*(){if(!HD(e))return e;for(const[i,o]of Vie(e,t))try{const s=yield t2(n,{url:o,requestType:r?"image":"text",responseType:"dataUrl"});e=e.replace(Uie(i),`$1${s}$3`)}catch(s){po("Failed to fetch css data url",i,s)}return e})}function HD(e){return/url\((['"]?)([^'"]+?)\1\)/.test(e)}const GD=/url\((['"]?)([^'"]+?)\1\)/g;function Vie(e,t){const n=[];return e.replace(GD,(r,i,o)=>(n.push([o,FD(o,t)]),r)),n.filter(([r])=>!L6(r))}function Uie(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function qie(e,t){return hi(this,null,function*(){const{ownerDocument:n,svgStyleElement:r,fontFamilies:i,fontCssTexts:o,tasks:s,font:a}=t;if(!(!n||!r||!i.size))if(a&&a.cssText){const l=KN(a.cssText,t);r.appendChild(n.createTextNode(`${l}
`))}else{const l=Array.from(n.styleSheets).filter(c=>{try{return"cssRules"in c&&!!c.cssRules.length}catch(h){return po(`Error while reading CSS rules from ${c.href}`,h),!1}});yield Promise.all(l.flatMap(c=>Array.from(c.cssRules).map((h,f)=>hi(this,null,function*(){if(nie(h)){let g=f+1;const d=h.href;let m="";try{m=yield t2(t,{url:d,requestType:"text",responseType:"text"})}catch(C){po(`Error fetch remote css import from ${d}`,C)}const y=m.replace(GD,(C,x,w)=>C.replace(w,FD(w,d)));for(const C of Hie(y))try{c.insertRule(C,C.startsWith("@import")?g+=1:c.cssRules.length)}catch(x){po("Error inserting rule from remote css import",{rule:C,error:x})}}})))),l.flatMap(c=>Array.from(c.cssRules)).filter(c=>{var h;return tie(c)&&HD(c.style.getPropertyValue("src"))&&((h=BD(c.style.getPropertyValue("font-family")))==null?void 0:h.some(f=>i.has(f)))}).forEach(c=>{const h=c,f=o.get(h.cssText);f?r.appendChild(n.createTextNode(`${f}
`)):s.push(WD(h.cssText,h.parentStyleSheet?h.parentStyleSheet.href:null,t).then(g=>{g=KN(g,t),o.set(h.cssText,g),r.appendChild(n.createTextNode(`${g}
`))}))})}})}const Wie=/(\/\*[\s\S]*?\*\/)/gi,GN=/((@.*?keyframes [\s\S]*?){([\s\S]*?}\s*?)})/gi;function Hie(e){if(e==null)return[];const t=[];let n=e.replace(Wie,"");for(;;){const o=GN.exec(n);if(!o)break;t.push(o[0])}n=n.replace(GN,"");const r=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let o=r.exec(n);if(o)i.lastIndex=r.lastIndex;else if(o=i.exec(n),o)r.lastIndex=i.lastIndex;else break;t.push(o[0])}return t}const Gie=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Kie=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function KN(e,t){const{font:n}=t,r=n?n==null?void 0:n.preferredFormat:void 0;return r?e.replace(Kie,i=>{for(;;){const[o,,s]=Gie.exec(i)||[];if(!s)return"";if(s===r)return`src: ${o};`}}):e}function Yie(e,t){if(Sg(e)){const n=e.currentSrc||e.src;if(!L6(n))return[t2(t,{url:n,imageDom:e,requestType:"image",responseType:"dataUrl"}).then(r=>{r&&(e.srcset="",e.dataset.originalSrc=n,e.src=r||"")})];(sy||g8)&&t.drawImageCount++}else if(I2(e)&&!L6(e.href.baseVal)){const n=e.href.baseVal;return[t2(t,{url:n,imageDom:e,requestType:"image",responseType:"dataUrl"}).then(r=>{r&&(e.dataset.originalSrc=n,e.href.baseVal=r||"")})]}return[]}const Jie=["background-image","border-image-source","-webkit-border-image","-webkit-mask-image","list-style-image"];function Xie(e,t){return Jie.map(n=>{const r=e.getPropertyValue(n);return!r||r==="none"?null:((sy||g8)&&t.drawImageCount++,WD(r,null,t,!0).then(i=>{!i||r===i||e.setProperty(n,i,e.getPropertyPriority(n))}))}).filter(Boolean)}function Qie(e,t){var n;const{ownerDocument:r,svgDefsElement:i}=t,o=(n=e.getAttribute("href"))!=null?n:e.getAttribute("xlink:href");if(!o)return[];const[s,a]=o.split("#");if(a){const l=`#${a}`,c=r==null?void 0:r.querySelector(`svg ${l}`);if(s&&e.setAttribute("href",l),i!=null&&i.querySelector(l))return[];if(c)return i==null||i.appendChild(c.cloneNode(!0)),[];if(s)return[t2(t,{url:s,responseType:"text"}).then(h=>{i==null||i.insertAdjacentHTML("beforeend",h)})]}return[]}function KD(e,t){const{tasks:n}=t;ql(e)&&((Sg(e)||zD(e))&&n.push(...Yie(e,t)),rie(e)&&n.push(...Qie(e,t))),m8(e)&&n.push(...Xie(e.style,t)),e.childNodes.forEach(r=>{KD(r,t)})}function Zie(e,t){return hi(this,null,function*(){const n=yield Lw(e,t);if(ql(n.node)&&I2(n.node))return n.node;const{ownerDocument:r,log:i,tasks:o,svgStyleElement:s,svgDefsElement:a,svgStyles:l,font:c,progress:h,autoDestruct:f,onCloneNode:g,onEmbedNode:d,onCreateForeignObjectSvg:m}=n;i.time("clone node");const y=yield v8(n.node,n,!0);if(s&&r){let N="";l.forEach((_,D)=>{N+=`${_.join(`,
`)} {
  ${D}
}
`}),s.appendChild(r.createTextNode(N))}i.timeEnd("clone node"),g==null||g(y),c!==!1&&ql(y)&&(i.time("embed web font"),yield qie(y,n),i.timeEnd("embed web font")),i.time("embed node"),KD(y,n);const C=o.length;let x=0;const w=()=>hi(this,null,function*(){for(;;){const N=o.pop();if(!N)break;try{yield N}catch(_){po("Failed to run task",_)}h==null||h(++x,C)}});h==null||h(x,C),yield Promise.all([...Array(4)].map(w)),i.timeEnd("embed node"),d==null||d(y);const E=eoe(y,n);return a&&E.insertBefore(a,E.children[0]),s&&E.insertBefore(s,E.children[0]),f&&Bie(n),m==null||m(E),E})}function eoe(e,t){const{width:n,height:r}=t,i=mie(n,r,e.ownerDocument),o=i.ownerDocument.createElementNS(i.namespaceURI,"foreignObject");return o.setAttributeNS(null,"x","0%"),o.setAttributeNS(null,"y","0%"),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.append(e),i.appendChild(o),i}function toe(e,t){return hi(this,null,function*(){var n;const r=yield Lw(e,t),i=yield Zie(r),o=vie(i,r.isEnable("removeControlCharacter"));r.autoDestruct||(r.svgStyleElement=$D(r.ownerDocument),r.svgDefsElement=(n=r.ownerDocument)==null?void 0:n.createElementNS(Nw,"defs"),r.svgStyles.clear());const s=Qp(o,i.ownerDocument);return yield Eie(s,r)})}function noe(e,t){return hi(this,null,function*(){const n=yield Lw(e,t),{log:r,quality:i,type:o,dpi:s}=n,a=yield toe(n);r.time("canvas to data url");let l=a.toDataURL(o,i);if(["image/png","image/jpeg"].includes(o)&&s&&Qre&&Zre){const[c,h]=l.split(",");let f=0,g=!1;if(o==="image/png"){const E=Jre(h);E>=0?(f=Math.ceil((E+28)/3)*4,g=!0):f=33/3*4}else o==="image/jpeg"&&(f=18/3*4);const d=h.substring(0,f),m=h.substring(f),y=window.atob(d),C=new Uint8Array(y.length);for(let E=0;E<C.length;E++)C[E]=y.charCodeAt(E);const x=o==="image/png"?Hre(C,s,g):Vre(C,s),w=window.btoa(String.fromCharCode(...x));l=[c,",",w,m].join("")}return r.timeEnd("canvas to data url"),l})}function YN(e,t){return hi(this,null,function*(){return noe(yield Lw(e,f8(nd({},t),{type:"image/png"})))})}const roe=e=>e?e.toLowerCase().replace(/[^a-zA-Z0-9 ]/g,"").replace(/ +/g,"-"):"";function Hn(e){"@babel/helpers - typeof";return Hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hn(e)}var Oo=Uint8Array,Po=Uint16Array,n2=Uint32Array,_w=new Oo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ow=new Oo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_6=new Oo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),YD=function(e,t){for(var n=new Po(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new n2(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return[n,i]},JD=YD(_w,2),XD=JD[0],O6=JD[1];XD[28]=258,O6[258]=28;var QD=YD(Ow,0),ioe=QD[0],JN=QD[1],P6=new Po(32768);for(var dr=0;dr<32768;++dr){var Lu=(dr&43690)>>>1|(dr&21845)<<1;Lu=(Lu&52428)>>>2|(Lu&13107)<<2,Lu=(Lu&61680)>>>4|(Lu&3855)<<4,P6[dr]=((Lu&65280)>>>8|(Lu&255)<<8)>>>1}var zl=function(e,t,n){for(var r=e.length,i=0,o=new Po(t);i<r;++i)++o[e[i]-1];var s=new Po(t);for(i=0;i<t;++i)s[i]=s[i-1]+o[i-1]<<1;var a;if(n){a=new Po(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],h=t-e[i],f=s[e[i]-1]++<<h,g=f|(1<<h)-1;f<=g;++f)a[P6[f]>>>l]=c}else for(a=new Po(r),i=0;i<r;++i)a[i]=P6[s[e[i]-1]++]>>>15-e[i];return a},yh=new Oo(288);for(var dr=0;dr<144;++dr)yh[dr]=8;for(var dr=144;dr<256;++dr)yh[dr]=9;for(var dr=256;dr<280;++dr)yh[dr]=7;for(var dr=280;dr<288;++dr)yh[dr]=8;var r2=new Oo(32);for(var dr=0;dr<32;++dr)r2[dr]=5;var ooe=zl(yh,9,0),soe=zl(yh,9,1),aoe=zl(r2,5,0),loe=zl(r2,5,1),e4=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Oa=function(e,t,n){var r=t/8>>0;return(e[r]|e[r+1]<<8)>>>(t&7)&n},t4=function(e,t){var n=t/8>>0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>>(t&7)},y8=function(e){return(e/8>>0)+(e&7&&1)},ZD=function(e,t,n){(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length);var r=new(e instanceof Po?Po:e instanceof n2?n2:Oo)(n-t);return r.set(e.subarray(t,n)),r},coe=function(e,t,n){var r=e.length,i=!t||n,o=!n||n.i;n||(n={}),t||(t=new Oo(r*3));var s=function(pe){var Se=t.length;if(pe>Se){var xe=new Oo(Math.max(Se*2,pe));xe.set(t),t=xe}},a=n.f||0,l=n.p||0,c=n.b||0,h=n.l,f=n.d,g=n.m,d=n.n,m=r*8;do{if(!h){n.f=a=Oa(e,l,1);var y=Oa(e,l+1,3);if(l+=3,y)if(y==1)h=soe,f=loe,g=9,d=5;else if(y==2){var C=Oa(e,l,31)+257,x=Oa(e,l+10,15)+4,w=C+Oa(e,l+5,31)+1;l+=14;for(var E=new Oo(w),N=new Oo(19),_=0;_<x;++_)N[_6[_]]=Oa(e,l+_*3,7);l+=x*3;var D=e4(N),P=(1<<D)-1;if(!o&&l+w*(D+7)>m)break;for(var I=zl(N,D,1),_=0;_<w;){var W=I[Oa(e,l,P)];l+=W&15;var G=W>>>4;if(G<16)E[_++]=G;else{var O=0,z=0;for(G==16?(z=3+Oa(e,l,3),l+=2,O=E[_-1]):G==17?(z=3+Oa(e,l,7),l+=3):G==18&&(z=11+Oa(e,l,127),l+=7);z--;)E[_++]=O}}var U=E.subarray(0,C),$=E.subarray(C);g=e4(U),d=e4($),h=zl(U,g,1),f=zl($,d,1)}else throw"invalid block type";else{var G=y8(l)+4,ne=e[G-4]|e[G-3]<<8,se=G+ne;if(se>r){if(o)throw"unexpected EOF";break}i&&s(c+ne),t.set(e.subarray(G,se),c),n.b=c+=ne,n.p=l=se*8;continue}if(l>m)throw"unexpected EOF"}i&&s(c+131072);for(var ae=(1<<g)-1,Z=(1<<d)-1,le=g+d+18;o||l+le<m;){var O=h[t4(e,l)&ae],ue=O>>>4;if(l+=O&15,l>m)throw"unexpected EOF";if(!O)throw"invalid length/literal";if(ue<256)t[c++]=ue;else if(ue==256){h=null;break}else{var ge=ue-254;if(ue>264){var _=ue-257,F=_w[_];ge=Oa(e,l,(1<<F)-1)+XD[_],l+=F}var Q=f[t4(e,l)&Z],re=Q>>>4;if(!Q)throw"invalid distance";l+=Q&15;var $=ioe[re];if(re>3){var F=Ow[re];$+=t4(e,l)&(1<<F)-1,l+=F}if(l>m)throw"unexpected EOF";i&&s(c+131072);for(var he=c+ge;c<he;c+=4)t[c]=t[c-$],t[c+1]=t[c+1-$],t[c+2]=t[c+2-$],t[c+3]=t[c+3-$];c=he}}n.l=h,n.p=l,n.b=c,h&&(a=1,n.m=g,n.d=f,n.n=d)}while(!a);return c==t.length?t:ZD(t,0,c)},fc=function(e,t,n){n<<=t&7;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},Om=function(e,t,n){n<<=t&7;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},n4=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,o=n.slice();if(!i)return[new Oo(0),0];if(i==1){var s=new Oo(n[0].s+1);return s[n[0].s]=1,[s,1]}n.sort(function(_,D){return _.f-D.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,h=1,f=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};h!=i-1;)a=n[n[c].f<n[f].f?c++:f++],l=n[c!=h&&n[c].f<n[f].f?c++:f++],n[h++]={s:-1,f:a.f+l.f,l:a,r:l};for(var g=o[0].s,r=1;r<i;++r)o[r].s>g&&(g=o[r].s);var d=new Po(g+1),m=T6(n[h-1],d,0);if(m>t){var r=0,y=0,C=m-t,x=1<<C;for(o.sort(function(D,P){return d[P.s]-d[D.s]||D.f-P.f});r<i;++r){var w=o[r].s;if(d[w]>t)y+=x-(1<<m-d[w]),d[w]=t;else break}for(y>>>=C;y>0;){var E=o[r].s;d[E]<t?y-=1<<t-d[E]++-1:++r}for(;r>=0&&y;--r){var N=o[r].s;d[N]==t&&(--d[N],++y)}m=t}return[new Oo(d),m]},T6=function(e,t,n){return e.s==-1?Math.max(T6(e.l,t,n+1),T6(e.r,t,n+1)):t[e.s]=n},XN=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Po(++t),r=0,i=e[0],o=1,s=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=e[a]}return[n.subarray(0,r),t]},Pm=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Uv=function(e,t,n){var r=n.length,i=y8(t+2);e[i]=r&255,e[i+1]=r>>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var o=0;o<r;++o)e[i+o+4]=n[o];return(i+4+r)*8},QN=function(e,t,n,r,i,o,s,a,l,c,h){fc(t,h++,n),++i[256];for(var f=n4(i,15),g=f[0],d=f[1],m=n4(o,15),y=m[0],C=m[1],x=XN(g),w=x[0],E=x[1],N=XN(y),_=N[0],D=N[1],P=new Po(19),I=0;I<w.length;++I)P[w[I]&31]++;for(var I=0;I<_.length;++I)P[_[I]&31]++;for(var W=n4(P,7),G=W[0],O=W[1],z=19;z>4&&!G[_6[z-1]];--z);var U=c+5<<3,$=Pm(i,yh)+Pm(o,r2)+s,ne=Pm(i,g)+Pm(o,y)+s+14+3*z+Pm(P,G)+(2*P[16]+3*P[17]+7*P[18]);if(U<=$&&U<=ne)return Uv(t,h,e.subarray(l,l+c));var se,ae,Z,le;if(fc(t,h,1+(ne<$)),h+=2,ne<$){se=zl(g,d,0),ae=g,Z=zl(y,C,0),le=y;var ue=zl(G,O,0);fc(t,h,E-257),fc(t,h+5,D-1),fc(t,h+10,z-4),h+=14;for(var I=0;I<z;++I)fc(t,h+3*I,G[_6[I]]);h+=3*z;for(var ge=[w,_],F=0;F<2;++F)for(var Q=ge[F],I=0;I<Q.length;++I){var re=Q[I]&31;fc(t,h,ue[re]),h+=G[re],re>15&&(fc(t,h,Q[I]>>>5&127),h+=Q[I]>>>12)}}else se=ooe,ae=yh,Z=aoe,le=r2;for(var I=0;I<a;++I)if(r[I]>255){var re=r[I]>>>18&31;Om(t,h,se[re+257]),h+=ae[re+257],re>7&&(fc(t,h,r[I]>>>23&31),h+=_w[re]);var he=r[I]&31;Om(t,h,Z[he]),h+=le[he],he>3&&(Om(t,h,r[I]>>>5&8191),h+=Ow[he])}else Om(t,h,se[r[I]]),h+=ae[r[I]];return Om(t,h,se[256]),h+ae[256]},uoe=new n2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),hoe=new Oo(0),foe=function(e,t,n,r,i,o){var s=e.length,a=new Oo(r+s+5*(1+Math.floor(s/7e3))+i),l=a.subarray(r,a.length-i),c=0;if(!t||s<8)for(var h=0;h<=s;h+=65535){var f=h+65535;f<s?c=Uv(l,c,e.subarray(h,f)):(l[h]=o,c=Uv(l,c,e.subarray(h,s)))}else{for(var g=uoe[t-1],d=g>>>13,m=g&8191,y=(1<<n)-1,C=new Po(32768),x=new Po(y+1),w=Math.ceil(n/3),E=2*w,N=function(at){return(e[at]^e[at+1]<<w^e[at+2]<<E)&y},_=new n2(25e3),D=new Po(288),P=new Po(32),I=0,W=0,h=0,G=0,O=0,z=0;h<s;++h){var U=N(h),$=h&32767,ne=x[U];if(C[$]=ne,x[U]=$,O<=h){var se=s-h;if((I>7e3||G>24576)&&se>423){c=QN(e,l,0,_,D,P,W,G,z,h-z,c),G=I=W=0,z=h;for(var ae=0;ae<286;++ae)D[ae]=0;for(var ae=0;ae<30;++ae)P[ae]=0}var Z=2,le=0,ue=m,ge=$-ne&32767;if(se>2&&U==N(h-ge))for(var F=Math.min(d,se)-1,Q=Math.min(32767,h),re=Math.min(258,se);ge<=Q&&--ue&&$!=ne;){if(e[h+Z]==e[h+Z-ge]){for(var he=0;he<re&&e[h+he]==e[h+he-ge];++he);if(he>Z){if(Z=he,le=ge,he>F)break;for(var pe=Math.min(ge,he-2),Se=0,ae=0;ae<pe;++ae){var xe=h-ge+ae+32768&32767,Ee=C[xe],Ge=xe-Ee+32768&32767;Ge>Se&&(Se=Ge,ne=xe)}}}$=ne,ne=C[$],ge+=$-ne+32768&32767}if(le){_[G++]=268435456|O6[Z]<<18|JN[le];var Be=O6[Z]&31,Ke=JN[le]&31;W+=_w[Be]+Ow[Ke],++D[257+Be],++P[Ke],O=h+Z,++I}else _[G++]=e[h],++D[e[h]]}}c=QN(e,l,o,_,D,P,W,G,z,h-z,c),o||(c=Uv(l,c,hoe))}return ZD(a,0,r+y8(c)+i)},doe=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,o=n.length,s=0;s!=o;){for(var a=Math.min(s+5552,o);s<a;++s)r+=n[s],i+=r;r%=65521,i%=65521}e=r,t=i},d:function(){return(e>>>8<<16|(t&255)<<8|t>>>8)+((e&255)<<23)*2}}},poe=function(e,t,n,r,i){return foe(e,t.level==null?6:t.level,t.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):12+t.mem,n,r,!i)},goe=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},moe=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;e[0]=120,e[1]=r<<6|(r?32-2*r:1)},voe=function(e){if((e[0]&15)!=8||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(e[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function M6(e,t){t===void 0&&(t={});var n=doe();n.p(e);var r=poe(e,t,2,4);return moe(r,t),goe(r,r.length-4,n.d()),r}function yoe(e,t){return coe((voe(e),e.subarray(2,-4)),t)}/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 2.5.1 Built on 2022-01-28T15:37:57.791Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2021 yWorks GmbH, http://www.yworks.com
 *               2015-2021 Lukas Hollnder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var Ut=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function r4(){Ut.console&&typeof Ut.console.log=="function"&&Ut.console.log.apply(Ut.console,arguments)}var er={log:r4,warn:function(e){Ut.console&&(typeof Ut.console.warn=="function"?Ut.console.warn.apply(Ut.console,arguments):r4.call(null,arguments))},error:function(e){Ut.console&&(typeof Ut.console.error=="function"?Ut.console.error.apply(Ut.console,arguments):r4(e))}};function i4(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){gf(r.response,t,n)},r.onerror=function(){er.error("could not download file")},r.send()}function ZN(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function ov(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var h0,R6,gf=Ut.saveAs||((typeof window>"u"?"undefined":Hn(window))!=="object"||window!==Ut?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Ut.URL||Ut.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?ZN(i.href)?i4(e,t,n):ov(i,i.target="_blank"):ov(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){ov(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(ZN(e))i4(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){ov(r)})}else navigator.msSaveOrOpenBlob(function(i,o){return o===void 0?o={autoBom:!1}:Hn(o)!=="object"&&(er.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return i4(e,t,n);var i=e.type==="application/octet-stream",o=/constructor/i.test(Ut.HTMLElement)||Ut.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&(typeof FileReader>"u"?"undefined":Hn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var h=a.result;h=s?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},a.readAsDataURL(e)}else{var l=Ut.URL||Ut.webkitURL,c=l.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function eI(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,o=n[r].process,s=i.exec(e);s&&(t=o(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function o4(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];n=Xi(n,r,i,o,t[0],7,-680876936),o=Xi(o,n,r,i,t[1],12,-389564586),i=Xi(i,o,n,r,t[2],17,606105819),r=Xi(r,i,o,n,t[3],22,-1044525330),n=Xi(n,r,i,o,t[4],7,-176418897),o=Xi(o,n,r,i,t[5],12,1200080426),i=Xi(i,o,n,r,t[6],17,-1473231341),r=Xi(r,i,o,n,t[7],22,-45705983),n=Xi(n,r,i,o,t[8],7,1770035416),o=Xi(o,n,r,i,t[9],12,-1958414417),i=Xi(i,o,n,r,t[10],17,-42063),r=Xi(r,i,o,n,t[11],22,-1990404162),n=Xi(n,r,i,o,t[12],7,1804603682),o=Xi(o,n,r,i,t[13],12,-40341101),i=Xi(i,o,n,r,t[14],17,-1502002290),n=Qi(n,r=Xi(r,i,o,n,t[15],22,1236535329),i,o,t[1],5,-165796510),o=Qi(o,n,r,i,t[6],9,-1069501632),i=Qi(i,o,n,r,t[11],14,643717713),r=Qi(r,i,o,n,t[0],20,-373897302),n=Qi(n,r,i,o,t[5],5,-701558691),o=Qi(o,n,r,i,t[10],9,38016083),i=Qi(i,o,n,r,t[15],14,-660478335),r=Qi(r,i,o,n,t[4],20,-405537848),n=Qi(n,r,i,o,t[9],5,568446438),o=Qi(o,n,r,i,t[14],9,-1019803690),i=Qi(i,o,n,r,t[3],14,-187363961),r=Qi(r,i,o,n,t[8],20,1163531501),n=Qi(n,r,i,o,t[13],5,-1444681467),o=Qi(o,n,r,i,t[2],9,-51403784),i=Qi(i,o,n,r,t[7],14,1735328473),n=Zi(n,r=Qi(r,i,o,n,t[12],20,-1926607734),i,o,t[5],4,-378558),o=Zi(o,n,r,i,t[8],11,-2022574463),i=Zi(i,o,n,r,t[11],16,1839030562),r=Zi(r,i,o,n,t[14],23,-35309556),n=Zi(n,r,i,o,t[1],4,-1530992060),o=Zi(o,n,r,i,t[4],11,1272893353),i=Zi(i,o,n,r,t[7],16,-155497632),r=Zi(r,i,o,n,t[10],23,-1094730640),n=Zi(n,r,i,o,t[13],4,681279174),o=Zi(o,n,r,i,t[0],11,-358537222),i=Zi(i,o,n,r,t[3],16,-722521979),r=Zi(r,i,o,n,t[6],23,76029189),n=Zi(n,r,i,o,t[9],4,-640364487),o=Zi(o,n,r,i,t[12],11,-421815835),i=Zi(i,o,n,r,t[15],16,530742520),n=eo(n,r=Zi(r,i,o,n,t[2],23,-995338651),i,o,t[0],6,-198630844),o=eo(o,n,r,i,t[7],10,1126891415),i=eo(i,o,n,r,t[14],15,-1416354905),r=eo(r,i,o,n,t[5],21,-57434055),n=eo(n,r,i,o,t[12],6,1700485571),o=eo(o,n,r,i,t[3],10,-1894986606),i=eo(i,o,n,r,t[10],15,-1051523),r=eo(r,i,o,n,t[1],21,-2054922799),n=eo(n,r,i,o,t[8],6,1873313359),o=eo(o,n,r,i,t[15],10,-30611744),i=eo(i,o,n,r,t[6],15,-1560198380),r=eo(r,i,o,n,t[13],21,1309151649),n=eo(n,r,i,o,t[4],6,-145523070),o=eo(o,n,r,i,t[11],10,-1120210379),i=eo(i,o,n,r,t[2],15,718787259),r=eo(r,i,o,n,t[9],21,-343485551),e[0]=Ju(n,e[0]),e[1]=Ju(r,e[1]),e[2]=Ju(i,e[2]),e[3]=Ju(o,e[3])}function Pw(e,t,n,r,i,o){return t=Ju(Ju(t,e),Ju(r,o)),Ju(t<<i|t>>>32-i,n)}function Xi(e,t,n,r,i,o,s){return Pw(t&n|~t&r,e,t,i,o,s)}function Qi(e,t,n,r,i,o,s){return Pw(t&r|n&~r,e,t,i,o,s)}function Zi(e,t,n,r,i,o,s){return Pw(t^n^r,e,t,i,o,s)}function eo(e,t,n,r,i,o,s){return Pw(n^(t|~r),e,t,i,o,s)}function tI(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)o4(r,woe(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(o4(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,o4(r,i),r}function woe(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}h0=Ut.atob.bind(Ut),R6=Ut.btoa.bind(Ut);var e9="0123456789abcdef".split("");function boe(e){for(var t="",n=0;n<4;n++)t+=e9[e>>8*n+4&15]+e9[e>>8*n&15];return t}function xoe(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function D6(e){return tI(e).map(xoe).join("")}var Soe=function(e){for(var t=0;t<e.length;t++)e[t]=boe(e[t]);return e.join("")}(tI("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ju(e,t){if(Soe){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function I6(e,t){var n,r,i,o;if(e!==n){for(var s=(i=e,o=1+(256/e.length>>0),new Array(o+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var h=a[l];c=(c+h+s.charCodeAt(l))%256,a[l]=a[c],a[c]=h}n=e,r=a}else a=r;var f=t.length,g=0,d=0,m="";for(l=0;l<f;l++)d=(d+(h=a[g=(g+1)%256]))%256,a[g]=a[d],a[d]=h,s=a[(a[g]+a[d])%256],m+=String.fromCharCode(t.charCodeAt(l)^s);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var t9={print:4,modify:8,copy:16,"annot-forms":32};function fp(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(a){if(t9.perm!==void 0)throw new Error("Invalid permission: "+a);i+=t9[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(t+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=D6(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=I6(this.encryptionKey,this.padding)}function dp(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[r]}return t}function n9(e){if(Hn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var o=Math.random().toString(35);return t[n][o]=[r,!!i],o},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in t[n]){var s=t[n][o];try{s[0].apply(e,r)}catch(a){Ut.console&&er.error("jsPDF PubSub Error",a.message,a)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function ay(e){if(!(this instanceof ay))return new ay(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function nI(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Cf(e,t,n,r,i){if(!(this instanceof Cf))return new Cf(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,nI.call(this,r,i)}function Op(e,t,n,r,i){if(!(this instanceof Op))return new Op(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,nI.call(this,r,i)}function Vt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,l=16,c="S",h=null;Hn(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,o=e.compress||e.compressPdf||o,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),a=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(o===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,g={},d={internal:{},__private__:{}};d.__private__.PubSub=n9;var m="1.3",y=d.__private__.getPdfVersion=function(){return m};d.__private__.setPdfVersion=function(A){m=A};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return C};var x=d.__private__.getPageFormat=function(A){return C[A]};i=i||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},E=w.COMPAT;function N(){this.saveGraphicsState(),fe(new At(Ve,0,0,-Ve,0,Us()*Ve).toString()+" cm"),this.setFontSize(this.getFontSize()/Ve),c="n",E=w.ADVANCED}function _(){this.restoreGraphicsState(),c="S",E=w.COMPAT}var D=d.__private__.combineFontStyleAndFontWeight=function(A,V){if(A=="bold"&&V=="normal"||A=="bold"&&V==400||A=="normal"&&V=="italic"||A=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(A=V==400||V==="normal"?A==="italic"?"italic":"normal":V!=700&&V!=="bold"||A!=="normal"?(V==700?"bold":V)+""+A:"bold"),A};d.advancedAPI=function(A){var V=E===w.COMPAT;return V&&N.call(this),typeof A!="function"||(A(this),V&&_.call(this)),this},d.compatAPI=function(A){var V=E===w.ADVANCED;return V&&_.call(this),typeof A!="function"||(A(this),V&&N.call(this)),this},d.isAdvancedAPI=function(){return E===w.ADVANCED};var P,I=function(A){if(E!==w.ADVANCED)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},W=d.roundToPrecision=d.__private__.roundToPrecision=function(A,V){var ce=t||V;if(isNaN(A)||isNaN(ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(ce).replace(/0+$/,"")};P=d.hpf=d.__private__.hpf=typeof l=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return W(A,l)}:l==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return W(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return W(A,16)};var G=d.f2=d.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return W(A,2)},O=d.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return W(A,3)},z=d.scale=d.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return E===w.COMPAT?A*Ve:E===w.ADVANCED?A:void 0},U=function(A){return E===w.COMPAT?Us()-A:E===w.ADVANCED?A:void 0},$=function(A){return z(U(A))};d.__private__.setPrecision=d.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(t=parseInt(A,10))};var ne,se="00000000000000000000000000000000",ae=d.__private__.getFileId=function(){return se},Z=d.__private__.setFileId=function(A){return se=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():se.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(pi=new fp(h.userPermissions,h.userPassword,h.ownerPassword,se)),se};d.setFileId=function(A){return Z(A),this},d.getFileId=function(){return ae()};var le=d.__private__.convertDateToPDFDate=function(A){var V=A.getTimezoneOffset(),ce=V<0?"+":"-",ve=Math.floor(Math.abs(V/60)),_e=Math.abs(V%60),Fe=[ce,re(ve),"'",re(_e),"'"].join("");return["D:",A.getFullYear(),re(A.getMonth()+1),re(A.getDate()),re(A.getHours()),re(A.getMinutes()),re(A.getSeconds()),Fe].join("")},ue=d.__private__.convertPDFDateToDate=function(A){var V=parseInt(A.substr(2,4),10),ce=parseInt(A.substr(6,2),10)-1,ve=parseInt(A.substr(8,2),10),_e=parseInt(A.substr(10,2),10),Fe=parseInt(A.substr(12,2),10),et=parseInt(A.substr(14,2),10);return new Date(V,ce,ve,_e,Fe,et,0)},ge=d.__private__.setCreationDate=function(A){var V;if(A===void 0&&(A=new Date),A instanceof Date)V=le(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=A}return ne=V},F=d.__private__.getCreationDate=function(A){var V=ne;return A==="jsDate"&&(V=ue(ne)),V};d.setCreationDate=function(A){return ge(A),this},d.getCreationDate=function(A){return F(A)};var Q,re=d.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},he=d.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},pe=0,Se=[],xe=[],Ee=0,Ge=[],Be=[],Ke=!1,it=xe,at=function(){pe=0,Ee=0,xe=[],Se=[],Ge=[],Yr=lr(),_i=lr()};d.__private__.setCustomOutputDestination=function(A){Ke=!0,it=A};var Re=function(A){Ke||(it=A)};d.__private__.resetCustomOutputDestination=function(){Ke=!1,it=xe};var fe=d.__private__.out=function(A){return A=A.toString(),Ee+=A.length+1,it.push(A),it},vt=d.__private__.write=function(A){return fe(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},De=d.__private__.getArrayBuffer=function(A){for(var V=A.length,ce=new ArrayBuffer(V),ve=new Uint8Array(ce);V--;)ve[V]=A.charCodeAt(V);return ce},ze=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return ze};var je=e.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(A){return je=E===w.ADVANCED?A/Ve:A,this};var oe,ee=d.__private__.getFontSize=d.getFontSize=function(){return E===w.COMPAT?je:je*Ve},te=e.R2L||!1;d.__private__.setR2L=d.setR2L=function(A){return te=A,this},d.__private__.getR2L=d.getR2L=function(){return te};var Ne,Oe=d.__private__.setZoomMode=function(A){var V=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))oe=A;else if(isNaN(A)){if(V.indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');oe=A}else oe=parseInt(A,10)};d.__private__.getZoomMode=function(){return oe};var qe,Qe=d.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');Ne=A};d.__private__.getPageMode=function(){return Ne};var nt=d.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');qe=A};d.__private__.getLayoutMode=function(){return qe},d.__private__.setDisplayMode=d.setDisplayMode=function(A,V,ce){return Oe(A),nt(V),Qe(ce),this};var lt={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(A){if(Object.keys(lt).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return lt[A]},d.__private__.getDocumentProperties=function(){return lt},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(A){for(var V in lt)lt.hasOwnProperty(V)&&A[V]&&(lt[V]=A[V]);return this},d.__private__.setDocumentProperty=function(A,V){if(Object.keys(lt).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return lt[A]=V};var xt,Ve,ot,Et,mn,Jt={},Rt={},qn=[],ht={},Xn={},Sn={},yt={},ln=null,Dt=0,Pt=[],It=new n9(d),Fr=e.hotfixes||[],dn={},ar={},On=[],At=function A(V,ce,ve,_e,Fe,et){if(!(this instanceof A))return new A(V,ce,ve,_e,Fe,et);isNaN(V)&&(V=1),isNaN(ce)&&(ce=0),isNaN(ve)&&(ve=0),isNaN(_e)&&(_e=1),isNaN(Fe)&&(Fe=0),isNaN(et)&&(et=0),this._matrix=[V,ce,ve,_e,Fe,et]};Object.defineProperty(At.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(At.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(At.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(At.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(At.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(At.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(At.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(At.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(At.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(At.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(At.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(At.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(At.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(At.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(At.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(At.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),At.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(A)},At.prototype.multiply=function(A){var V=A.sx*this.sx+A.shy*this.shx,ce=A.sx*this.shy+A.shy*this.sy,ve=A.shx*this.sx+A.sy*this.shx,_e=A.shx*this.shy+A.sy*this.sy,Fe=A.tx*this.sx+A.ty*this.shx+this.tx,et=A.tx*this.shy+A.ty*this.sy+this.ty;return new At(V,ce,ve,_e,Fe,et)},At.prototype.decompose=function(){var A=this.sx,V=this.shy,ce=this.shx,ve=this.sy,_e=this.tx,Fe=this.ty,et=Math.sqrt(A*A+V*V),gt=(A/=et)*ce+(V/=et)*ve;ce-=A*gt,ve-=V*gt;var Lt=Math.sqrt(ce*ce+ve*ve);return gt/=Lt,A*(ve/=Lt)<V*(ce/=Lt)&&(A=-A,V=-V,gt=-gt,et=-et),{scale:new At(et,0,0,Lt,0,0),translate:new At(1,0,0,1,_e,Fe),rotate:new At(A,V,-V,A,0,0),skew:new At(1,0,gt,1,0,0)}},At.prototype.toString=function(A){return this.join(" ")},At.prototype.inversed=function(){var A=this.sx,V=this.shy,ce=this.shx,ve=this.sy,_e=this.tx,Fe=this.ty,et=1/(A*ve-V*ce),gt=ve*et,Lt=-V*et,Ht=-ce*et,Xt=A*et;return new At(gt,Lt,Ht,Xt,-gt*_e-Ht*Fe,-Lt*_e-Xt*Fe)},At.prototype.applyToPoint=function(A){var V=A.x*this.sx+A.y*this.shx+this.tx,ce=A.x*this.shy+A.y*this.sy+this.ty;return new ai(V,ce)},At.prototype.applyToRectangle=function(A){var V=this.applyToPoint(A),ce=this.applyToPoint(new ai(A.x+A.w,A.y+A.h));return new Vh(V.x,V.y,ce.x-V.x,ce.y-V.y)},At.prototype.clone=function(){var A=this.sx,V=this.shy,ce=this.shx,ve=this.sy,_e=this.tx,Fe=this.ty;return new At(A,V,ce,ve,_e,Fe)},d.Matrix=At;var Li=d.matrixMult=function(A,V){return V.multiply(A)},Fo=new At(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=Fo;var jr=function(A,V){if(!Xn[A]){var ce=(V instanceof Cf?"Sh":"P")+(Object.keys(ht).length+1).toString(10);V.id=ce,Xn[A]=ce,ht[ce]=V,It.publish("addPattern",V)}};d.ShadingPattern=Cf,d.TilingPattern=Op,d.addShadingPattern=function(A,V){return I("addShadingPattern()"),jr(A,V),this},d.beginTilingPattern=function(A){I("beginTilingPattern()"),cs(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},d.endTilingPattern=function(A,V){I("endTilingPattern()"),V.stream=Be[Q].join(`
`),jr(A,V),It.publish("endTilingPattern",V),On.pop().restore()};var gr=d.__private__.newObject=function(){var A=lr();return fi(A,!0),A},lr=d.__private__.newObjectDeferred=function(){return pe++,Se[pe]=function(){return Ee},pe},fi=function(A,V){return V=typeof V=="boolean"&&V,Se[A]=Ee,V&&fe(A+" 0 obj"),A},Wn=d.__private__.newAdditionalObject=function(){var A={objId:lr(),content:""};return Ge.push(A),A},Yr=lr(),_i=lr(),di=d.__private__.decodeColorString=function(A){var V=A.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length===5&&(V[4]==="k"||V[4]==="K")&&(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var ce=parseFloat(V[0]);V=[ce,ce,ce,"r"]}for(var ve="#",_e=0;_e<3;_e++)ve+=("0"+Math.floor(255*parseFloat(V[_e])).toString(16)).slice(-2);return ve},yo=d.__private__.encodeColorString=function(A){var V;typeof A=="string"&&(A={ch1:A});var ce=A.ch1,ve=A.ch2,_e=A.ch3,Fe=A.ch4,et=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ce=="string"&&ce.charAt(0)!=="#"){var gt=new eI(ce);if(gt.ok)ce=gt.toHex();else if(!/^\d*\.?\d*$/.test(ce))throw new Error('Invalid color "'+ce+'" passed to jsPDF.encodeColorString.')}if(typeof ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ce)&&(ce="#"+ce[1]+ce[1]+ce[2]+ce[2]+ce[3]+ce[3]),typeof ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ce)){var Lt=parseInt(ce.substr(1),16);ce=Lt>>16&255,ve=Lt>>8&255,_e=255&Lt}if(ve===void 0||Fe===void 0&&ce===ve&&ve===_e)if(typeof ce=="string")V=ce+" "+et[0];else switch(A.precision){case 2:V=G(ce/255)+" "+et[0];break;case 3:default:V=O(ce/255)+" "+et[0]}else if(Fe===void 0||Hn(Fe)==="object"){if(Fe&&!isNaN(Fe.a)&&Fe.a===0)return V=["1.","1.","1.",et[1]].join(" ");if(typeof ce=="string")V=[ce,ve,_e,et[1]].join(" ");else switch(A.precision){case 2:V=[G(ce/255),G(ve/255),G(_e/255),et[1]].join(" ");break;default:case 3:V=[O(ce/255),O(ve/255),O(_e/255),et[1]].join(" ")}}else if(typeof ce=="string")V=[ce,ve,_e,Fe,et[2]].join(" ");else switch(A.precision){case 2:V=[G(ce),G(ve),G(_e),G(Fe),et[2]].join(" ");break;case 3:default:V=[O(ce),O(ve),O(_e),O(Fe),et[2]].join(" ")}return V},Vi=d.__private__.getFilters=function(){return s},jo=d.__private__.putStream=function(A){var V=(A=A||{}).data||"",ce=A.filters||Vi(),ve=A.alreadyAppliedFilters||[],_e=A.addLength1||!1,Fe=V.length,et=A.objectId,gt=function(Jr){return Jr};if(h!==null&&et===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(gt=pi.encryptor(et,0));var Lt={};ce===!0&&(ce=["FlateEncode"]);var Ht=A.additionalKeyValues||[],Xt=(Lt=Vt.API.processDataByFilters!==void 0?Vt.API.processDataByFilters(V,ce):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(Lt.data.length!==0&&(Ht.push({key:"Length",value:Lt.data.length}),_e===!0&&Ht.push({key:"Length1",value:Fe})),Xt.length!=0)if(Xt.split("/").length-1==1)Ht.push({key:"Filter",value:Xt});else{Ht.push({key:"Filter",value:"["+Xt+"]"});for(var cn=0;cn<Ht.length;cn+=1)if(Ht[cn].key==="DecodeParms"){for(var tr=[],Sr=0;Sr<Lt.reverseChain.split("/").length-1;Sr+=1)tr.push("null");tr.push(Ht[cn].value),Ht[cn].value="["+tr.join(" ")+"]"}}fe("<<");for(var yr=0;yr<Ht.length;yr++)fe("/"+Ht[yr].key+" "+Ht[yr].value);fe(">>"),Lt.data.length!==0&&(fe("stream"),fe(gt(Lt.data)),fe("endstream"))},Fs=d.__private__.putPage=function(A){var V=A.number,ce=A.data,ve=A.objId,_e=A.contentsObjId;fi(ve,!0),fe("<</Type /Page"),fe("/Parent "+A.rootDictionaryObjId+" 0 R"),fe("/Resources "+A.resourceDictionaryObjId+" 0 R"),fe("/MediaBox ["+parseFloat(P(A.mediaBox.bottomLeftX))+" "+parseFloat(P(A.mediaBox.bottomLeftY))+" "+P(A.mediaBox.topRightX)+" "+P(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&fe("/CropBox ["+P(A.cropBox.bottomLeftX)+" "+P(A.cropBox.bottomLeftY)+" "+P(A.cropBox.topRightX)+" "+P(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&fe("/BleedBox ["+P(A.bleedBox.bottomLeftX)+" "+P(A.bleedBox.bottomLeftY)+" "+P(A.bleedBox.topRightX)+" "+P(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&fe("/TrimBox ["+P(A.trimBox.bottomLeftX)+" "+P(A.trimBox.bottomLeftY)+" "+P(A.trimBox.topRightX)+" "+P(A.trimBox.topRightY)+"]"),A.artBox!==null&&fe("/ArtBox ["+P(A.artBox.bottomLeftX)+" "+P(A.artBox.bottomLeftY)+" "+P(A.artBox.topRightX)+" "+P(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&fe("/UserUnit "+A.userUnit),It.publish("putPage",{objId:ve,pageContext:Pt[V],pageNumber:V,page:ce}),fe("/Contents "+_e+" 0 R"),fe(">>"),fe("endobj");var Fe=ce.join(`
`);return E===w.ADVANCED&&(Fe+=`
Q`),fi(_e,!0),jo({data:Fe,filters:Vi(),objectId:_e}),fe("endobj"),ve},Kl=d.__private__.putPages=function(){var A,V,ce=[];for(A=1;A<=Dt;A++)Pt[A].objId=lr(),Pt[A].contentsObjId=lr();for(A=1;A<=Dt;A++)ce.push(Fs({number:A,data:Be[A],objId:Pt[A].objId,contentsObjId:Pt[A].contentsObjId,mediaBox:Pt[A].mediaBox,cropBox:Pt[A].cropBox,bleedBox:Pt[A].bleedBox,trimBox:Pt[A].trimBox,artBox:Pt[A].artBox,userUnit:Pt[A].userUnit,rootDictionaryObjId:Yr,resourceDictionaryObjId:_i}));fi(Yr,!0),fe("<</Type /Pages");var ve="/Kids [";for(V=0;V<Dt;V++)ve+=ce[V]+" 0 R ";fe(ve+"]"),fe("/Count "+Dt),fe(">>"),fe("endobj"),It.publish("postPutPages")},Fc=function(A){It.publish("putFont",{font:A,out:fe,newObject:gr,putStream:jo}),A.isAlreadyPutted!==!0&&(A.objectNumber=gr(),fe("<<"),fe("/Type /Font"),fe("/BaseFont /"+dp(A.postScriptName)),fe("/Subtype /Type1"),typeof A.encoding=="string"&&fe("/Encoding /"+A.encoding),fe("/FirstChar 32"),fe("/LastChar 255"),fe(">>"),fe("endobj"))},jc=function(){for(var A in Jt)Jt.hasOwnProperty(A)&&(f===!1||f===!0&&g.hasOwnProperty(A))&&Fc(Jt[A])},Bc=function(A){A.objectNumber=gr();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[P(A.x),P(A.y),P(A.x+A.width),P(A.y+A.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var ce=A.pages[1].join(`
`);jo({data:ce,additionalKeyValues:V,objectId:A.objectNumber}),fe("endobj")},fa=function(){for(var A in dn)dn.hasOwnProperty(A)&&Bc(dn[A])},yd=function(A,V){var ce,ve=[],_e=1/(V-1);for(ce=0;ce<1;ce+=_e)ve.push(ce);if(ve.push(1),A[0].offset!=0){var Fe={offset:0,color:A[0].color};A.unshift(Fe)}if(A[A.length-1].offset!=1){var et={offset:1,color:A[A.length-1].color};A.push(et)}for(var gt="",Lt=0,Ht=0;Ht<ve.length;Ht++){for(ce=ve[Ht];ce>A[Lt+1].offset;)Lt++;var Xt=A[Lt].offset,cn=(ce-Xt)/(A[Lt+1].offset-Xt),tr=A[Lt].color,Sr=A[Lt+1].color;gt+=he(Math.round((1-cn)*tr[0]+cn*Sr[0]).toString(16))+he(Math.round((1-cn)*tr[1]+cn*Sr[1]).toString(16))+he(Math.round((1-cn)*tr[2]+cn*Sr[2]).toString(16))}return gt.trim()},$c=function(A,V){V||(V=21);var ce=gr(),ve=yd(A.colors,V),_e=[];_e.push({key:"FunctionType",value:"0"}),_e.push({key:"Domain",value:"[0.0 1.0]"}),_e.push({key:"Size",value:"["+V+"]"}),_e.push({key:"BitsPerSample",value:"8"}),_e.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_e.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),jo({data:ve,additionalKeyValues:_e,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ce}),fe("endobj"),A.objectNumber=gr(),fe("<< /ShadingType "+A.type),fe("/ColorSpace /DeviceRGB");var Fe="/Coords ["+P(parseFloat(A.coords[0]))+" "+P(parseFloat(A.coords[1]))+" ";A.type===2?Fe+=P(parseFloat(A.coords[2]))+" "+P(parseFloat(A.coords[3])):Fe+=P(parseFloat(A.coords[2]))+" "+P(parseFloat(A.coords[3]))+" "+P(parseFloat(A.coords[4]))+" "+P(parseFloat(A.coords[5])),fe(Fe+="]"),A.matrix&&fe("/Matrix ["+A.matrix.toString()+"]"),fe("/Function "+ce+" 0 R"),fe("/Extend [true true]"),fe(">>"),fe("endobj")},Vg=function(A,V){var ce=lr(),ve=gr();V.push({resourcesOid:ce,objectOid:ve}),A.objectNumber=ve;var _e=[];_e.push({key:"Type",value:"/Pattern"}),_e.push({key:"PatternType",value:"1"}),_e.push({key:"PaintType",value:"1"}),_e.push({key:"TilingType",value:"1"}),_e.push({key:"BBox",value:"["+A.boundingBox.map(P).join(" ")+"]"}),_e.push({key:"XStep",value:P(A.xStep)}),_e.push({key:"YStep",value:P(A.yStep)}),_e.push({key:"Resources",value:ce+" 0 R"}),A.matrix&&_e.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),jo({data:A.stream,additionalKeyValues:_e,objectId:A.objectNumber}),fe("endobj")},Vc=function(A){var V;for(V in ht)ht.hasOwnProperty(V)&&(ht[V]instanceof Cf?$c(ht[V]):ht[V]instanceof Op&&Vg(ht[V],A))},wd=function(A){for(var V in A.objectNumber=gr(),fe("<<"),A)switch(V){case"opacity":fe("/ca "+G(A[V]));break;case"stroke-opacity":fe("/CA "+G(A[V]))}fe(">>"),fe("endobj")},bd=function(){var A;for(A in Sn)Sn.hasOwnProperty(A)&&wd(Sn[A])},Uc=function(){for(var A in fe("/XObject <<"),dn)dn.hasOwnProperty(A)&&dn[A].objectNumber>=0&&fe("/"+A+" "+dn[A].objectNumber+" 0 R");It.publish("putXobjectDict"),fe(">>")},xd=function(){pi.oid=gr(),fe("<<"),fe("/Filter /Standard"),fe("/V "+pi.v),fe("/R "+pi.r),fe("/U <"+pi.toHexString(pi.U)+">"),fe("/O <"+pi.toHexString(pi.O)+">"),fe("/P "+pi.P),fe(">>"),fe("endobj")},Sd=function(){for(var A in fe("/Font <<"),Jt)Jt.hasOwnProperty(A)&&(f===!1||f===!0&&g.hasOwnProperty(A))&&fe("/"+A+" "+Jt[A].objectNumber+" 0 R");fe(">>")},Ug=function(){if(Object.keys(ht).length>0){for(var A in fe("/Shading <<"),ht)ht.hasOwnProperty(A)&&ht[A]instanceof Cf&&ht[A].objectNumber>=0&&fe("/"+A+" "+ht[A].objectNumber+" 0 R");It.publish("putShadingPatternDict"),fe(">>")}},qc=function(A){if(Object.keys(ht).length>0){for(var V in fe("/Pattern <<"),ht)ht.hasOwnProperty(V)&&ht[V]instanceof d.TilingPattern&&ht[V].objectNumber>=0&&ht[V].objectNumber<A&&fe("/"+V+" "+ht[V].objectNumber+" 0 R");It.publish("putTilingPatternDict"),fe(">>")}},qg=function(){if(Object.keys(Sn).length>0){var A;for(A in fe("/ExtGState <<"),Sn)Sn.hasOwnProperty(A)&&Sn[A].objectNumber>=0&&fe("/"+A+" "+Sn[A].objectNumber+" 0 R");It.publish("putGStateDict"),fe(">>")}},mr=function(A){fi(A.resourcesOid,!0),fe("<<"),fe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Sd(),Ug(),qc(A.objectOid),qg(),Uc(),fe(">>"),fe("endobj")},Th=function(){var A=[];jc(),bd(),fa(),Vc(A),It.publish("putResources"),A.forEach(mr),mr({resourcesOid:_i,objectOid:Number.MAX_SAFE_INTEGER}),It.publish("postPutResources")},Mh=function(){It.publish("putAdditionalObjects");for(var A=0;A<Ge.length;A++){var V=Ge[A];fi(V.objId,!0),fe(V.content),fe("endobj")}It.publish("postPutAdditionalObjects")},Wc=function(A){Rt[A.fontName]=Rt[A.fontName]||{},Rt[A.fontName][A.fontStyle]=A.id},Rh=function(A,V,ce,ve,_e){var Fe={id:"F"+(Object.keys(Jt).length+1).toString(10),postScriptName:A,fontName:V,fontStyle:ce,encoding:ve,isStandardFont:_e||!1,metadata:{}};return It.publish("addFont",{font:Fe,instance:this}),Jt[Fe.id]=Fe,Wc(Fe),Fe.id},Cd=function(A){for(var V=0,ce=ze.length;V<ce;V++){var ve=Rh.call(this,A[V][0],A[V][1],A[V][2],ze[V][3],!0);f===!1&&(g[ve]=!0);var _e=A[V][0].split("-");Wc({id:ve,fontName:_e[0],fontStyle:_e[1]||""})}It.publish("addFonts",{fonts:Jt,dictionary:Rt})},Ui=function(A){return A.foo=function(){try{return A.apply(this,arguments)}catch(ve){var V=ve.stack||"";~V.indexOf(" at ")&&(V=V.split(" at ")[1]);var ce="Error in function "+V.split(`
`)[0].split("<")[0]+": "+ve.message;if(!Ut.console)throw new Error(ce);Ut.console.error(ce,ve),Ut.alert&&alert(ce)}},A.foo.bar=A,A.foo},Yl=function(A,V){var ce,ve,_e,Fe,et,gt,Lt,Ht,Xt;if(_e=(V=V||{}).sourceEncoding||"Unicode",et=V.outputEncoding,(V.autoencode||et)&&Jt[xt].metadata&&Jt[xt].metadata[_e]&&Jt[xt].metadata[_e].encoding&&(Fe=Jt[xt].metadata[_e].encoding,!et&&Jt[xt].encoding&&(et=Jt[xt].encoding),!et&&Fe.codePages&&(et=Fe.codePages[0]),typeof et=="string"&&(et=Fe[et]),et)){for(Lt=!1,gt=[],ce=0,ve=A.length;ce<ve;ce++)(Ht=et[A.charCodeAt(ce)])?gt.push(String.fromCharCode(Ht)):gt.push(A[ce]),gt[ce].charCodeAt(0)>>8&&(Lt=!0);A=gt.join("")}for(ce=A.length;Lt===void 0&&ce!==0;)A.charCodeAt(ce-1)>>8&&(Lt=!0),ce--;if(!Lt)return A;for(gt=V.noBOM?[]:[254,255],ce=0,ve=A.length;ce<ve;ce++){if((Xt=(Ht=A.charCodeAt(ce))>>8)>>8)throw new Error("Character at position "+ce+" of string '"+A+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");gt.push(Xt),gt.push(Ht-(Xt<<8))}return String.fromCharCode.apply(void 0,gt)},qi=d.__private__.pdfEscape=d.pdfEscape=function(A,V){return Yl(A,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Hc=d.__private__.beginPage=function(A){Be[++Dt]=[],Pt[Dt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},kd(Dt),Re(Be[Q])},Dh=function(A,V){var ce,ve,_e;switch(n=V||n,typeof A=="string"&&(ce=x(A.toLowerCase()),Array.isArray(ce)&&(ve=ce[0],_e=ce[1])),Array.isArray(A)&&(ve=A[0]*Ve,_e=A[1]*Ve),isNaN(ve)&&(ve=i[0],_e=i[1]),(ve>14400||_e>14400)&&(er.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),_e=Math.min(14400,_e)),i=[ve,_e],n.substr(0,1)){case"l":_e>ve&&(i=[_e,ve]);break;case"p":ve>_e&&(i=[_e,ve])}Hc(i),Od(Bh),fe(vr),Qc!==0&&fe(Qc+" J"),si!==0&&fe(si+" j"),It.publish("addPage",{pageNumber:Dt})},Ih=function(A){A>0&&A<=Dt&&(Be.splice(A,1),Pt.splice(A,1),Dt--,Q>Dt&&(Q=Dt),this.setPage(Q))},kd=function(A){A>0&&A<=Dt&&(Q=A)},Ed=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return Be.length-1},Gc=function(A,V,ce){var ve,_e=void 0;return ce=ce||{},A=A!==void 0?A:Jt[xt].fontName,V=V!==void 0?V:Jt[xt].fontStyle,ve=A.toLowerCase(),Rt[ve]!==void 0&&Rt[ve][V]!==void 0?_e=Rt[ve][V]:Rt[A]!==void 0&&Rt[A][V]!==void 0?_e=Rt[A][V]:ce.disableWarning===!1&&er.warn("Unable to look up font label for font '"+A+"', '"+V+"'. Refer to getFontList() for available fonts."),_e||ce.noFallback||(_e=Rt.times[V])==null&&(_e=Rt.times.normal),_e},zh=d.__private__.putInfo=function(){var A=gr(),V=function(ve){return ve};for(var ce in h!==null&&(V=pi.encryptor(A,0)),fe("<<"),fe("/Producer ("+qi(V("jsPDF "+Vt.version))+")"),lt)lt.hasOwnProperty(ce)&&lt[ce]&&fe("/"+ce.substr(0,1).toUpperCase()+ce.substr(1)+" ("+qi(V(lt[ce]))+")");fe("/CreationDate ("+qi(V(ne))+")"),fe(">>"),fe("endobj")},js=d.__private__.putCatalog=function(A){var V=(A=A||{}).rootDictionaryObjId||Yr;switch(gr(),fe("<<"),fe("/Type /Catalog"),fe("/Pages "+V+" 0 R"),oe||(oe="fullwidth"),oe){case"fullwidth":fe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":fe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":fe("/OpenAction [3 0 R /Fit]");break;case"original":fe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ce=""+oe;ce.substr(ce.length-1)==="%"&&(oe=parseInt(oe)/100),typeof oe=="number"&&fe("/OpenAction [3 0 R /XYZ null null "+G(oe)+"]")}switch(qe||(qe="continuous"),qe){case"continuous":fe("/PageLayout /OneColumn");break;case"single":fe("/PageLayout /SinglePage");break;case"two":case"twoleft":fe("/PageLayout /TwoColumnLeft");break;case"tworight":fe("/PageLayout /TwoColumnRight")}Ne&&fe("/PageMode /"+Ne),It.publish("putCatalog"),fe(">>"),fe("endobj")},Ad=d.__private__.putTrailer=function(){fe("trailer"),fe("<<"),fe("/Size "+(pe+1)),fe("/Root "+pe+" 0 R"),fe("/Info "+(pe-1)+" 0 R"),h!==null&&fe("/Encrypt "+pi.oid+" 0 R"),fe("/ID [ <"+se+"> <"+se+"> ]"),fe(">>")},Nd=d.__private__.putHeader=function(){fe("%PDF-"+m),fe("%")},Wg=d.__private__.putXRef=function(){var A="0000000000";fe("xref"),fe("0 "+(pe+1)),fe("0000000000 65535 f ");for(var V=1;V<=pe;V++)typeof Se[V]=="function"?fe((A+Se[V]()).slice(-10)+" 00000 n "):Se[V]!==void 0?fe((A+Se[V]).slice(-10)+" 00000 n "):fe("0000000000 00000 n ")},Bs=d.__private__.buildDocument=function(){at(),Re(xe),It.publish("buildDocument"),Nd(),Kl(),Mh(),Th(),h!==null&&xd(),zh(),js();var A=Ee;return Wg(),Ad(),fe("startxref"),fe(""+A),fe("%%EOF"),Re(Be[Q]),xe.join(`
`)},Jl=d.__private__.getBlob=function(A){return new Blob([De(A)],{type:"application/pdf"})},Xl=d.output=d.__private__.output=Ui(function(A,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",A){case void 0:return Bs();case"save":d.save(V.filename);break;case"arraybuffer":return De(Bs());case"blob":return Jl(Bs());case"bloburi":case"bloburl":if(Ut.URL!==void 0&&typeof Ut.URL.createObjectURL=="function")return Ut.URL&&Ut.URL.createObjectURL(Jl(Bs()))||void 0;er.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ce="",ve=Bs();try{ce=R6(ve)}catch{ce=R6(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+V.filename+";base64,"+ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var _e="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Fe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(_e=V.pdfObjectUrl,Fe="");var et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+_e+'"'+Fe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",gt=Ut.open();return gt!==null&&gt.document.write(et),gt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var Lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',Ht=Ut.open();if(Ht!==null){Ht.document.write(Lt);var Xt=this;Ht.document.documentElement.querySelector("#pdfViewer").onload=function(){Ht.document.title=V.filename,Ht.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Xt.output("bloburl"))}}return Ht}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ut)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var cn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',tr=Ut.open();if(tr!==null&&(tr.document.write(cn),tr.document.title=V.filename),tr||typeof safari>"u")return tr;break;case"datauri":case"dataurl":return Ut.document.location.href=this.output("datauristring",V);default:return null}}),Fh=function(A){return Array.isArray(Fr)===!0&&Fr.indexOf(A)>-1};switch(r){case"pt":Ve=1;break;case"mm":Ve=72/25.4;break;case"cm":Ve=72/2.54;break;case"in":Ve=72;break;case"px":Ve=Fh("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ve=12;break;case"ex":Ve=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ve=r}var pi=null;ge(),Z();var Hg=function(A){return h!==null?pi.encryptor(A,0):function(V){return V}},Ld=d.__private__.getPageInfo=d.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Pt[A].objId,pageNumber:A,pageContext:Pt[A]}},qt=d.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in Pt)if(Pt[V].objId===A)break;return Ld(V)},Gg=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:Pt[Q].objId,pageNumber:Q,pageContext:Pt[Q]}};d.addPage=function(){return Dh.apply(this,arguments),this},d.setPage=function(){return kd.apply(this,arguments),Re.call(this,Be[Q]),this},d.insertPage=function(A){return this.addPage(),this.movePage(Q,A),this},d.movePage=function(A,V){var ce,ve;if(A>V){ce=Be[A],ve=Pt[A];for(var _e=A;_e>V;_e--)Be[_e]=Be[_e-1],Pt[_e]=Pt[_e-1];Be[V]=ce,Pt[V]=ve,this.setPage(V)}else if(A<V){ce=Be[A],ve=Pt[A];for(var Fe=A;Fe<V;Fe++)Be[Fe]=Be[Fe+1],Pt[Fe]=Pt[Fe+1];Be[V]=ce,Pt[V]=ve,this.setPage(V)}return this},d.deletePage=function(){return Ih.apply(this,arguments),this},d.__private__.text=d.text=function(A,V,ce,ve,_e){var Fe,et,gt,Lt,Ht,Xt,cn,tr,Sr,yr=(ve=ve||{}).scope||this;if(typeof A=="number"&&typeof V=="number"&&(typeof ce=="string"||Array.isArray(ce))){var Jr=ce;ce=V,V=A,A=Jr}if(arguments[3]instanceof At?(I("The transform parameter of text() with a Matrix value"),Sr=_e):(gt=arguments[4],Lt=arguments[5],Hn(cn=arguments[3])==="object"&&cn!==null||(typeof gt=="string"&&(Lt=gt,gt=null),typeof cn=="string"&&(Lt=cn,cn=null),typeof cn=="number"&&(gt=cn,cn=null),ve={flags:cn,angle:gt,align:Lt})),isNaN(V)||isNaN(ce)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return yr;var Xr="",$o=!1,nr=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:Ql,us=yr.internal.scaleFactor;function Ya(Cn){return Cn=Cn.split("	").join(Array(ve.TabLen||9).join(" ")),qi(Cn,cn)}function tu(Cn){for(var Tn,rr=Cn.concat(),jt=[],va=rr.length;va--;)typeof(Tn=rr.shift())=="string"?jt.push(Tn):Array.isArray(Cn)&&(Tn.length===1||Tn[1]===void 0&&Tn[2]===void 0)?jt.push(Tn[0]):jt.push([Tn[0],Tn[1],Tn[2]]);return jt}function nu(Cn,Tn){var rr;if(typeof Cn=="string")rr=Tn(Cn)[0];else if(Array.isArray(Cn)){for(var jt,va,ya=Cn.concat(),wa=[],zd=ya.length;zd--;)typeof(jt=ya.shift())=="string"?wa.push(Tn(jt)[0]):Array.isArray(jt)&&typeof jt[0]=="string"&&(va=Tn(jt[0],jt[1],jt[2]),wa.push([va[0],va[1],va[2]]));rr=wa}return rr}var ru=!1,qh=!0;if(typeof A=="string")ru=!0;else if(Array.isArray(A)){var Wh=A.concat();et=[];for(var iu,Hi=Wh.length;Hi--;)(typeof(iu=Wh.shift())!="string"||Array.isArray(iu)&&typeof iu[0]!="string")&&(qh=!1);ru=qh}if(ru===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var hs=je/yr.internal.scaleFactor,ou=hs*(nr-1);switch(ve.baseline){case"bottom":ce-=ou;break;case"top":ce+=hs-ou;break;case"hanging":ce+=hs-2*ou;break;case"middle":ce+=hs/2-ou}if((Xt=ve.maxWidth||0)>0&&(typeof A=="string"?A=yr.splitTextToSize(A,Xt):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(Cn,Tn){return Cn.concat(yr.splitTextToSize(Tn,Xt))},[]))),Fe={text:A,x:V,y:ce,options:ve,mutex:{pdfEscape:qi,activeFontKey:xt,fonts:Jt,activeFontSize:je}},It.publish("preProcessText",Fe),A=Fe.text,gt=(ve=Fe.options).angle,!(Sr instanceof At)&&gt&&typeof gt=="number"){gt*=Math.PI/180,ve.rotationDirection===0&&(gt=-gt),E===w.ADVANCED&&(gt=-gt);var su=Math.cos(gt),ec=Math.sin(gt);Sr=new At(su,ec,-ec,su,0,0)}else gt&&gt instanceof At&&(Sr=gt);E!==w.ADVANCED||Sr||(Sr=Fo),(Ht=ve.charSpace||Zl)!==void 0&&(Xr+=P(z(Ht))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(tr=ve.horizontalScale)!==void 0&&(Xr+=P(100*tr)+` Tz
`),ve.lang;var Oi=-1,qs=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,Ja=yr.internal.getCurrentPageInfo().pageContext;switch(qs){case 0:case!1:case"fill":Oi=0;break;case 1:case!0:case"stroke":Oi=1;break;case 2:case"fillThenStroke":Oi=2;break;case 3:case"invisible":Oi=3;break;case 4:case"fillAndAddForClipping":Oi=4;break;case 5:case"strokeAndAddPathForClipping":Oi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Oi=6;break;case 7:case"addToPathForClipping":Oi=7}var Id=Ja.usedRenderingMode!==void 0?Ja.usedRenderingMode:-1;Oi!==-1?Xr+=Oi+` Tr
`:Id!==-1&&(Xr+=`0 Tr
`),Oi!==-1&&(Ja.usedRenderingMode=Oi),Lt=ve.align||"left";var fs,Hh=je*nr,Xa=yr.internal.pageSize.getWidth(),wo=Jt[xt];Ht=ve.charSpace||Zl,Xt=ve.maxWidth||0,cn=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var da=[];if(Object.prototype.toString.call(A)==="[object Array]"){var Vo;et=tu(A),Lt!=="left"&&(fs=et.map(function(Cn){return yr.getStringUnitWidth(Cn,{font:wo,charSpace:Ht,fontSize:je,doKerning:!1})*je/us}));var ds,Qa=0;if(Lt==="right"){V-=fs[0],A=[],Hi=et.length;for(var Ws=0;Ws<Hi;Ws++)Ws===0?(ds=ls(V),Vo=Wi(ce)):(ds=z(Qa-fs[Ws]),Vo=-Hh),A.push([et[Ws],ds,Vo]),Qa=fs[Ws]}else if(Lt==="center"){V-=fs[0]/2,A=[],Hi=et.length;for(var pa=0;pa<Hi;pa++)pa===0?(ds=ls(V),Vo=Wi(ce)):(ds=z((Qa-fs[pa])/2),Vo=-Hh),A.push([et[pa],ds,Vo]),Qa=fs[pa]}else if(Lt==="left"){A=[],Hi=et.length;for(var ps=0;ps<Hi;ps++)A.push(et[ps])}else{if(Lt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');A=[],Hi=et.length,Xt=Xt!==0?Xt:Xa;for(var Ce=0;Ce<Hi;Ce++)Vo=Ce===0?Wi(ce):-Hh,ds=Ce===0?ls(V):0,Ce<Hi-1?da.push(P(z((Xt-fs[Ce])/(et[Ce].split(" ").length-1)))):da.push(0),A.push([et[Ce],ds,Vo])}}var $e=typeof ve.R2L=="boolean"?ve.R2L:te;$e===!0&&(A=nu(A,function(Cn,Tn,rr){return[Cn.split("").reverse().join(""),Tn,rr]})),Fe={text:A,x:V,y:ce,options:ve,mutex:{pdfEscape:qi,activeFontKey:xt,fonts:Jt,activeFontSize:je}},It.publish("postProcessText",Fe),A=Fe.text,$o=Fe.mutex.isHex||!1;var Me=Jt[xt].encoding;Me!=="WinAnsiEncoding"&&Me!=="StandardEncoding"||(A=nu(A,function(Cn,Tn,rr){return[Ya(Cn),Tn,rr]})),et=tu(A),A=[];for(var ft,_t,tn,Qn=0,yn=1,ga=Array.isArray(et[0])?yn:Qn,Za="",gi=function(Cn,Tn,rr){var jt="";return rr instanceof At?(rr=typeof ve.angle=="number"?Li(rr,new At(1,0,0,1,Cn,Tn)):Li(new At(1,0,0,1,Cn,Tn),rr),E===w.ADVANCED&&(rr=Li(new At(1,0,0,-1,0,0),rr)),jt=rr.join(" ")+` Tm
`):jt=P(Cn)+" "+P(Tn)+` Td
`,jt},Pi=0;Pi<et.length;Pi++){switch(Za="",ga){case yn:tn=($o?"<":"(")+et[Pi][0]+($o?">":")"),ft=parseFloat(et[Pi][1]),_t=parseFloat(et[Pi][2]);break;case Qn:tn=($o?"<":"(")+et[Pi]+($o?">":")"),ft=ls(V),_t=Wi(ce)}da!==void 0&&da[Pi]!==void 0&&(Za=da[Pi]+` Tw
`),Pi===0?A.push(Za+gi(ft,_t,Sr)+tn):ga===Qn?A.push(Za+tn):ga===yn&&A.push(Za+gi(ft,_t,Sr)+tn)}A=ga===Qn?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var ma=`BT
/`;return ma+=xt+" "+je+` Tf
`,ma+=P(je*nr)+` TL
`,ma+=Ga+`
`,ma+=Xr,ma+=A,fe(ma+="ET"),g[xt]=!0,yr};var Kg=d.__private__.clip=d.clip=function(A){return fe(A==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return Kg("evenodd")},d.__private__.discardPath=d.discardPath=function(){return fe("n"),this};var $s=d.__private__.isValidStyle=function(A){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(V=!0),V};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(A){return $s(A)&&(c=A),this};var _d=d.__private__.getStyle=d.getStyle=function(A){var V=c;switch(A){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=A}return V},Kc=d.close=function(){return fe("h"),this};d.stroke=function(){return fe("S"),this},d.fill=function(A){return Yc("f",A),this},d.fillEvenOdd=function(A){return Yc("f*",A),this},d.fillStroke=function(A){return Yc("B",A),this},d.fillStrokeEvenOdd=function(A){return Yc("B*",A),this};var Yc=function(A,V){Hn(V)==="object"?Jg(V,A):fe(A)},jh=function(A){A===null||E===w.ADVANCED&&A===void 0||(A=_d(A),fe(A))};function Yg(A,V,ce,ve,_e){var Fe=new Op(V||this.boundingBox,ce||this.xStep,ve||this.yStep,this.gState,_e||this.matrix);Fe.stream=this.stream;var et=A+"$$"+this.cloneIndex+++"$$";return jr(et,Fe),Fe}var Jg=function(A,V){var ce=Xn[A.key],ve=ht[ce];if(ve instanceof Cf)fe("q"),fe(Xg(V)),ve.gState&&d.setGState(ve.gState),fe(A.matrix.toString()+" cm"),fe("/"+ce+" sh"),fe("Q");else if(ve instanceof Op){var _e=new At(1,0,0,-1,0,Us());A.matrix&&(_e=_e.multiply(A.matrix||Fo),ce=Yg.call(ve,A.key,A.boundingBox,A.xStep,A.yStep,_e).id),fe("q"),fe("/Pattern cs"),fe("/"+ce+" scn"),ve.gState&&d.setGState(ve.gState),fe(V),fe("Q")}},Xg=function(A){switch(A){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Pn=d.moveTo=function(A,V){return fe(P(z(A))+" "+P($(V))+" m"),this},vn=d.lineTo=function(A,V){return fe(P(z(A))+" "+P($(V))+" l"),this},Ha=d.curveTo=function(A,V,ce,ve,_e,Fe){return fe([P(z(A)),P($(V)),P(z(ce)),P($(ve)),P(z(_e)),P($(Fe)),"c"].join(" ")),this};d.__private__.line=d.line=function(A,V,ce,ve,_e){if(isNaN(A)||isNaN(V)||isNaN(ce)||isNaN(ve)||!$s(_e))throw new Error("Invalid arguments passed to jsPDF.line");return E===w.COMPAT?this.lines([[ce-A,ve-V]],A,V,[1,1],_e||"S"):this.lines([[ce-A,ve-V]],A,V,[1,1]).stroke()},d.__private__.lines=d.lines=function(A,V,ce,ve,_e,Fe){var et,gt,Lt,Ht,Xt,cn,tr,Sr,yr,Jr,Xr,$o;if(typeof A=="number"&&($o=ce,ce=V,V=A,A=$o),ve=ve||[1,1],Fe=Fe||!1,isNaN(V)||isNaN(ce)||!Array.isArray(A)||!Array.isArray(ve)||!$s(_e)||typeof Fe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Pn(V,ce),et=ve[0],gt=ve[1],Ht=A.length,Jr=V,Xr=ce,Lt=0;Lt<Ht;Lt++)(Xt=A[Lt]).length===2?(Jr=Xt[0]*et+Jr,Xr=Xt[1]*gt+Xr,vn(Jr,Xr)):(cn=Xt[0]*et+Jr,tr=Xt[1]*gt+Xr,Sr=Xt[2]*et+Jr,yr=Xt[3]*gt+Xr,Jr=Xt[4]*et+Jr,Xr=Xt[5]*gt+Xr,Ha(cn,tr,Sr,yr,Jr,Xr));return Fe&&Kc(),jh(_e),this},d.path=function(A){for(var V=0;V<A.length;V++){var ce=A[V],ve=ce.c;switch(ce.op){case"m":Pn(ve[0],ve[1]);break;case"l":vn(ve[0],ve[1]);break;case"c":Ha.apply(this,ve);break;case"h":Kc()}}return this},d.__private__.rect=d.rect=function(A,V,ce,ve,_e){if(isNaN(A)||isNaN(V)||isNaN(ce)||isNaN(ve)||!$s(_e))throw new Error("Invalid arguments passed to jsPDF.rect");return E===w.COMPAT&&(ve=-ve),fe([P(z(A)),P($(V)),P(z(ce)),P(z(ve)),"re"].join(" ")),jh(_e),this},d.__private__.triangle=d.triangle=function(A,V,ce,ve,_e,Fe,et){if(isNaN(A)||isNaN(V)||isNaN(ce)||isNaN(ve)||isNaN(_e)||isNaN(Fe)||!$s(et))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ce-A,ve-V],[_e-ce,Fe-ve],[A-_e,V-Fe]],A,V,[1,1],et,!0),this},d.__private__.roundedRect=d.roundedRect=function(A,V,ce,ve,_e,Fe,et){if(isNaN(A)||isNaN(V)||isNaN(ce)||isNaN(ve)||isNaN(_e)||isNaN(Fe)||!$s(et))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var gt=4/3*(Math.SQRT2-1);return _e=Math.min(_e,.5*ce),Fe=Math.min(Fe,.5*ve),this.lines([[ce-2*_e,0],[_e*gt,0,_e,Fe-Fe*gt,_e,Fe],[0,ve-2*Fe],[0,Fe*gt,-_e*gt,Fe,-_e,Fe],[2*_e-ce,0],[-_e*gt,0,-_e,-Fe*gt,-_e,-Fe],[0,2*Fe-ve],[0,-Fe*gt,_e*gt,-Fe,_e,-Fe]],A+_e,V,[1,1],et,!0),this},d.__private__.ellipse=d.ellipse=function(A,V,ce,ve,_e){if(isNaN(A)||isNaN(V)||isNaN(ce)||isNaN(ve)||!$s(_e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Fe=4/3*(Math.SQRT2-1)*ce,et=4/3*(Math.SQRT2-1)*ve;return Pn(A+ce,V),Ha(A+ce,V-et,A+Fe,V-ve,A,V-ve),Ha(A-Fe,V-ve,A-ce,V-et,A-ce,V),Ha(A-ce,V+et,A-Fe,V+ve,A,V+ve),Ha(A+Fe,V+ve,A+ce,V+et,A+ce,V),jh(_e),this},d.__private__.circle=d.circle=function(A,V,ce,ve){if(isNaN(A)||isNaN(V)||isNaN(ce)||!$s(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,V,ce,ce,ve)},d.setFont=function(A,V,ce){return ce&&(V=D(V,ce)),xt=Gc(A,V,{disableWarning:!1}),this};var Qg=d.__private__.getFont=d.getFont=function(){return Jt[Gc.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var A,V,ce={};for(A in Rt)if(Rt.hasOwnProperty(A))for(V in ce[A]=[],Rt[A])Rt[A].hasOwnProperty(V)&&ce[A].push(V);return ce},d.addFont=function(A,V,ce,ve,_e){var Fe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Fe.indexOf(arguments[3])!==-1?_e=arguments[3]:arguments[3]&&Fe.indexOf(arguments[3])==-1&&(ce=D(ce,ve)),_e=_e||"Identity-H",Rh.call(this,A,V,ce,_e)};var Ql,Bh=e.lineWidth||.200025,Jc=d.__private__.getLineWidth=d.getLineWidth=function(){return Bh},Od=d.__private__.setLineWidth=d.setLineWidth=function(A){return Bh=A,fe(P(z(A))+" w"),this};d.__private__.setLineDash=Vt.API.setLineDash=Vt.API.setLineDashPattern=function(A,V){if(A=A||[],V=V||0,isNaN(V)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(ce){return P(z(ce))}).join(" "),V=P(z(V)),fe("["+A+"] "+V+" d"),this};var $h=d.__private__.getLineHeight=d.getLineHeight=function(){return je*Ql};d.__private__.getLineHeight=d.getLineHeight=function(){return je*Ql};var Pd=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(Ql=A),this},Or=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return Ql};Pd(e.lineHeight);var ls=d.__private__.getHorizontalCoordinate=function(A){return z(A)},Wi=d.__private__.getVerticalCoordinate=function(A){return E===w.ADVANCED?A:Pt[Q].mediaBox.topRightY-Pt[Q].mediaBox.bottomLeftY-z(A)},Td=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(A){return P(ls(A))},Vs=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(A){return P(Wi(A))},vr=e.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return di(vr)},d.__private__.setStrokeColor=d.setDrawColor=function(A,V,ce,ve){return vr=yo({ch1:A,ch2:V,ch3:ce,ch4:ve,pdfColorType:"draw",precision:2}),fe(vr),this};var Xc=e.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return di(Xc)},d.__private__.setFillColor=d.setFillColor=function(A,V,ce,ve){return Xc=yo({ch1:A,ch2:V,ch3:ce,ch4:ve,pdfColorType:"fill",precision:2}),fe(Xc),this};var Ga=e.textColor||"0 g",Md=d.__private__.getTextColor=d.getTextColor=function(){return di(Ga)};d.__private__.setTextColor=d.setTextColor=function(A,V,ce,ve){return Ga=yo({ch1:A,ch2:V,ch3:ce,ch4:ve,pdfColorType:"text",precision:3}),this};var Zl=e.charSpace,Rd=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(Zl||0)};d.__private__.setCharSpace=d.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Zl=A,this};var Qc=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(A){var V=d.CapJoinStyles[A];if(V===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qc=V,fe(V+" J"),this};var si=0;d.__private__.setLineJoin=d.setLineJoin=function(A){var V=d.CapJoinStyles[A];if(V===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return si=V,fe(V+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return fe(P(z(A))+" M"),this},d.GState=ay,d.setGState=function(A){(A=typeof A=="string"?Sn[yt[A]]:Dd(null,A)).equals(ln)||(fe("/"+A.id+" gs"),ln=A)};var Dd=function(A,V){if(!A||!yt[A]){var ce=!1;for(var ve in Sn)if(Sn.hasOwnProperty(ve)&&Sn[ve].equals(V)){ce=!0;break}if(ce)V=Sn[ve];else{var _e="GS"+(Object.keys(Sn).length+1).toString(10);Sn[_e]=V,V.id=_e}return A&&(yt[A]=V.id),It.publish("addGState",V),V}};d.addGState=function(A,V){return Dd(A,V),this},d.saveGraphicsState=function(){return fe("q"),qn.push({key:xt,size:je,color:Ga}),this},d.restoreGraphicsState=function(){fe("Q");var A=qn.pop();return xt=A.key,je=A.size,Ga=A.color,ln=null,this},d.setCurrentTransformationMatrix=function(A){return fe(A.toString()+" cm"),this},d.comment=function(A){return fe("#"+A),this};var ai=function(A,V){var ce=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ce},set:function(Fe){isNaN(Fe)||(ce=parseFloat(Fe))}});var ve=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(Fe){isNaN(Fe)||(ve=parseFloat(Fe))}});var _e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return _e},set:function(Fe){_e=Fe.toString()}}),this},Vh=function(A,V,ce,ve){ai.call(this,A,V),this.type="rect";var _e=ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return _e},set:function(et){isNaN(et)||(_e=parseFloat(et))}});var Fe=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Fe},set:function(et){isNaN(et)||(Fe=parseFloat(et))}}),this},Zc=function(){this.page=Dt,this.currentPage=Q,this.pages=Be.slice(0),this.pagesContext=Pt.slice(0),this.x=ot,this.y=Et,this.matrix=mn,this.width=An(Q),this.height=Us(Q),this.outputDestination=it,this.id="",this.objectNumber=-1};Zc.prototype.restore=function(){Dt=this.page,Q=this.currentPage,Pt=this.pagesContext,Be=this.pages,ot=this.x,Et=this.y,mn=this.matrix,Bo(Q,this.width),Uh(Q,this.height),it=this.outputDestination};var cs=function(A,V,ce,ve,_e){On.push(new Zc),Dt=Q=0,Be=[],ot=A,Et=V,mn=_e,Hc([ce,ve])},eu=function(A){if(ar[A])On.pop().restore();else{var V=new Zc,ce="Xo"+(Object.keys(dn).length+1).toString(10);V.id=ce,ar[A]=ce,dn[ce]=V,It.publish("addFormObject",V),On.pop().restore()}};for(var Ka in d.beginFormObject=function(A,V,ce,ve,_e){return cs(A,V,ce,ve,_e),this},d.endFormObject=function(A){return eu(A),this},d.doFormObject=function(A,V){var ce=dn[ar[A]];return fe("q"),fe(V.toString()+" cm"),fe("/"+ce.id+" Do"),fe("Q"),this},d.getFormObject=function(A){var V=dn[ar[A]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},d.save=function(A,V){return A=A||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(gf(Jl(Bs()),A),typeof gf.unload=="function"&&Ut.setTimeout&&setTimeout(gf.unload,911),this):new Promise(function(ce,ve){try{var _e=gf(Jl(Bs()),A);typeof gf.unload=="function"&&Ut.setTimeout&&setTimeout(gf.unload,911),ce(_e)}catch(Fe){ve(Fe.message)}})},Vt.API)Vt.API.hasOwnProperty(Ka)&&(Ka==="events"&&Vt.API.events.length?function(A,V){var ce,ve,_e;for(_e=V.length-1;_e!==-1;_e--)ce=V[_e][0],ve=V[_e][1],A.subscribe.apply(A,[ce].concat(typeof ve=="function"?[ve]:ve))}(It,Vt.API.events):d[Ka]=Vt.API[Ka]);var An=d.getPageWidth=function(A){return(Pt[A=A||Q].mediaBox.topRightX-Pt[A].mediaBox.bottomLeftX)/Ve},Bo=d.setPageWidth=function(A,V){Pt[A].mediaBox.topRightX=V*Ve+Pt[A].mediaBox.bottomLeftX},Us=d.getPageHeight=function(A){return(Pt[A=A||Q].mediaBox.topRightY-Pt[A].mediaBox.bottomLeftY)/Ve},Uh=d.setPageHeight=function(A,V){Pt[A].mediaBox.topRightY=V*Ve+Pt[A].mediaBox.bottomLeftY};return d.internal={pdfEscape:qi,getStyle:_d,getFont:Qg,getFontSize:ee,getCharSpace:Rd,getTextColor:Md,getLineHeight:$h,getLineHeightFactor:Or,getLineWidth:Jc,write:vt,getHorizontalCoordinate:ls,getVerticalCoordinate:Wi,getCoordinateString:Td,getVerticalCoordinateString:Vs,collections:{},newObject:gr,newAdditionalObject:Wn,newObjectDeferred:lr,newObjectDeferredBegin:fi,getFilters:Vi,putStream:jo,events:It,scaleFactor:Ve,pageSize:{getWidth:function(){return An(Q)},setWidth:function(A){Bo(Q,A)},getHeight:function(){return Us(Q)},setHeight:function(A){Uh(Q,A)}},encryptionOptions:h,encryption:pi,getEncryptor:Hg,output:Xl,getNumberOfPages:Ed,pages:Be,out:fe,f2:G,f3:O,getPageInfo:Ld,getPageInfoByObjId:qt,getCurrentPageInfo:Gg,getPDFVersion:y,Point:ai,Rectangle:Vh,Matrix:At,hasHotfix:Fh},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return An(Q)},set:function(A){Bo(Q,A)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return Us(Q)},set:function(A){Uh(Q,A)},enumerable:!0,configurable:!0}),Cd.call(d,ze),xt="F1",Dh(i,n),It.publish("initialized"),d}fp.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},fp.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},fp.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},fp.prototype.processOwnerPassword=function(e,t){return I6(D6(t).substr(0,5),e)},fp.prototype.encryptor=function(e,t){var n=D6(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return I6(n,r)}},ay.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Hn(e)!==Hn(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},Vt.API={events:[]},Vt.version="2.5.1";var Rr=Vt.API,w8=1,pd=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ap=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Qt=function(e){return e.toFixed(2)},_u=function(e){return e.toFixed(5)};Rr.__acroform__={};var as=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},r9=function(e){return e*w8},pl=function(e){var t=new iI,n=kt.internal.getHeight(e)||0,r=kt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Qt(r)),Number(Qt(n))],t},Coe=Rr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},koe=Rr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},Eoe=Rr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Wr=Rr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Eoe(e,t-1)},Hr=Rr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Coe(e,t-1)},Gr=Rr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return koe(e,t-1)},Aoe=Rr.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],o=e[1],s=e[2],a=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(o+a)||0,l.upperRight_X=n(i+s)||0,l.upperRight_Y=r(o)||0,[Number(Qt(l.lowerLeft_X)),Number(Qt(l.lowerLeft_Y)),Number(Qt(l.upperRight_X)),Number(Qt(l.upperRight_Y))]},Noe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=z6(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Qt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=pl(e);return o.scope=e.scope,o.stream=t.join(`
`),o}},z6=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(O){return O.split(`
`)}):i.map(function(O){return[O]});var o=n,s=kt.internal.getHeight(e)||0;s=s<0?-s:s;var a=kt.internal.getWidth(e)||0;a=a<0?-a:a;var l=function(O,z,U){if(O+1<i.length){var $=z+" "+i[O+1][0];return sv($,e,U).width<=a-4}return!1};o++;e:for(;o>0;){t="",o--;var c,h,f=sv("3",e,o).height,g=e.multiline?s-o:(s-f)/2,d=g+=2,m=0,y=0,C=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+sv(t,e,o=12).width+", FieldWidth:"+a+`
`;break}for(var x="",w=0,E=0;E<i.length;E++)if(i.hasOwnProperty(E)){var N=!1;if(i[E].length!==1&&C!==i[E].length-1){if((f+2)*(w+2)+2>s)continue e;x+=i[E][C],N=!0,y=E,E--}else{x=(x+=i[E][C]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var _=parseInt(E),D=l(_,x,o),P=E>=i.length-1;if(D&&!P){x+=" ",C=0;continue}if(D||P){if(P)y=_;else if(e.multiline&&(f+2)*(w+2)+2>s)continue e}else{if(!e.multiline||(f+2)*(w+2)+2>s)continue e;y=_}}for(var I="",W=m;W<=y;W++){var G=i[W];if(e.multiline){if(W===y){I+=G[C]+" ",C=(C+1)%G.length;continue}if(W===m){I+=G[G.length-1]+" ";continue}}I+=G[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,h=sv(I,e,o).width,e.textAlign){case"right":c=a-h-2;break;case"center":c=(a-h)/2;break;case"left":default:c=2}t+=Qt(c)+" "+Qt(d)+` Td
`,t+="("+pd(I)+`) Tj
`,t+=-Qt(c)+` 0 Td
`,d=-(o+2),h=0,m=N?y:y+1,w++,x=""}break}return r.text=t,r.fontSize=o,r},sv=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Loe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},_oe=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},Ooe=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),Hn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},Poe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ua.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Loe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");w8=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new oI,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&_oe(o,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var o=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var a=r[s],l=[],c=a.Rect;if(a.Rect&&(a.Rect=Aoe(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=kt.createDefaultAppearanceStream(a),Hn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var h=Noe(a);l.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(a.appearanceStreamContent){var f="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var d=a.appearanceStreamContent[g];if(f+="/"+g+" ",f+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var s in d)if(d.hasOwnProperty(s)){var m=d[s];typeof m=="function"&&(m=m.call(i,a)),f+="/"+s+" "+m+" ",i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m)}}else typeof(m=d)=="function"&&(m=m.call(i,a)),f+="/"+s+" "+m,i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}o&&Ooe(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},rI=Rr.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(s){return s};if(Array.isArray(e)){for(var i="[",o=0;o<e.length;o++)switch(o!==0&&(i+=" "),Hn(e[o])){case"boolean":case"number":case"object":i+=e[o].toString();break;case"string":e[o].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+pd(r(e[o].toString()))+")"):i+=e[o].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},s4=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+pd(r(e))+")"},Ol=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ol.prototype.toString=function(){return this.objId+" 0 R"},Ol.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ol.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:rI(i,this.objId,this.scope)}):i instanceof Ol?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var iI=function(){Ol.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};as(iI,Ol);var oI=function(){Ol.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+pd(n(e))+")"}},set:function(n){e=n}})};as(oI,Ol);var Ua=function e(){Ol.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Wr(t,3)},set:function(x){x?this.F=Hr(t,3):this.F=Gr(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');n=x}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(x){r=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(x){r[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(x){r[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(x){r[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(x){r[3]=x}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof ly)return;o="FieldObject"+e.FieldNum++}var x=function(w){return w};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+pd(x(o))+")"},set:function(x){o=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(x){o=x}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(x){s=x}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/w8:c},set:function(x){c=x}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(x){h=x}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof ly||this instanceof $f))return s4(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=x}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Si?g:s4(g,this.objId,this.scope)},set:function(x){x=x.toString(),g=this instanceof Si?x:x.substr(0,1)==="("?ap(x.substr(1,x.length-2)):ap(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Si?ap(g.substr(1,g.length-1)):g},set:function(x){x=x.toString(),g=this instanceof Si?"/"+x:x}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Si?d:s4(d,this.objId,this.scope)},set:function(x){x=x.toString(),d=this instanceof Si?x:x.substr(0,1)==="("?ap(x.substr(1,x.length-2)):ap(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Si?ap(d.substr(1,d.length-1)):d},set:function(x){x=x.toString(),d=this instanceof Si?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(x){x=!!x,y=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(x){m=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,1)},set:function(x){x?this.Ff=Hr(this.Ff,1):this.Ff=Gr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,2)},set:function(x){x?this.Ff=Hr(this.Ff,2):this.Ff=Gr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,3)},set:function(x){x?this.Ff=Hr(this.Ff,3):this.Ff=Gr(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');C=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(C){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:C=2;break;case"center":case 1:C=1;break;case"left":case 0:default:C=0}}})};as(Ua,Ol);var Zp=function(){Ua.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return rI(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(o,s,a){a||(a=1);for(var l,c=[];l=s.exec(o);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,18)},set:function(n){n?this.Ff=Hr(this.Ff,18):this.Ff=Gr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Hr(this.Ff,19):this.Ff=Gr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,20)},set:function(n){n?(this.Ff=Hr(this.Ff,20),t.sort()):this.Ff=Gr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,22)},set:function(n){n?this.Ff=Hr(this.Ff,22):this.Ff=Gr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,23)},set:function(n){n?this.Ff=Hr(this.Ff,23):this.Ff=Gr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,27)},set:function(n){n?this.Ff=Hr(this.Ff,27):this.Ff=Gr(this.Ff,27)}}),this.hasAppearanceStream=!1};as(Zp,Ua);var eg=function(){Zp.call(this),this.fontName="helvetica",this.combo=!1};as(eg,Zp);var tg=function(){eg.call(this),this.combo=!0};as(tg,eg);var qv=function(){tg.call(this),this.edit=!0};as(qv,tg);var Si=function(){Ua.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,15)},set:function(n){n?this.Ff=Hr(this.Ff,15):this.Ff=Gr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,16)},set:function(n){n?this.Ff=Hr(this.Ff,16):this.Ff=Gr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,17)},set:function(n){n?this.Ff=Hr(this.Ff,17):this.Ff=Gr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,26)},set:function(n){n?this.Ff=Hr(this.Ff,26):this.Ff=Gr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+pd(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Hn(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};as(Si,Ua);var Wv=function(){Si.call(this),this.pushButton=!0};as(Wv,Si);var ng=function(){Si.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};as(ng,Si);var ly=function(){var e,t;Ua.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),r)s.push("/"+o+" ("+pd(i(r[o]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Hn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=kt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};as(ly,Ua),ng.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},ng.prototype.createOption=function(e){var t=new ly;return t.Parent=this,t.optionName=e,this.Kids.push(t),Toe.call(this.scope,t),t};var Hv=function(){Si.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=kt.CheckBox.createAppearanceStream()};as(Hv,Si);var $f=function(){Ua.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,13)},set:function(t){t?this.Ff=Hr(this.Ff,13):this.Ff=Gr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,21)},set:function(t){t?this.Ff=Hr(this.Ff,21):this.Ff=Gr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,23)},set:function(t){t?this.Ff=Hr(this.Ff,23):this.Ff=Gr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,24)},set:function(t){t?this.Ff=Hr(this.Ff,24):this.Ff=Gr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,25)},set:function(t){t?this.Ff=Hr(this.Ff,25):this.Ff=Gr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,26)},set:function(t){t?this.Ff=Hr(this.Ff,26):this.Ff=Gr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};as($f,Ua);var Gv=function(){$f.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,14)},set:function(e){e?this.Ff=Hr(this.Ff,14):this.Ff=Gr(this.Ff,14)}}),this.password=!0};as(Gv,$f);var kt={CheckBox:{createAppearanceStream:function(){return{N:{On:kt.CheckBox.YesNormal},D:{On:kt.CheckBox.YesPushDown,Off:kt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=pl(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),o=z6(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Qt(kt.internal.getWidth(e))+" "+Qt(kt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Qt(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=pl(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],o=kt.internal.getHeight(e),s=kt.internal.getWidth(e),a=z6(e,e.caption);return i.push("1 g"),i.push("0 0 "+Qt(s)+" "+Qt(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Qt(s-1)+" "+Qt(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Qt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=pl(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Qt(kt.internal.getWidth(e))+" "+Qt(kt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:kt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=kt.RadioButton.Circle.YesNormal,t.D[e]=kt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=pl(e);t.scope=e.scope;var n=[],r=kt.internal.getWidth(e)<=kt.internal.getHeight(e)?kt.internal.getWidth(e)/4:kt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=kt.internal.Bezier_C,o=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+_u(kt.internal.getWidth(e)/2)+" "+_u(kt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=pl(e);t.scope=e.scope;var n=[],r=kt.internal.getWidth(e)<=kt.internal.getHeight(e)?kt.internal.getWidth(e)/4:kt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*kt.internal.Bezier_C).toFixed(5)),s=Number((r*kt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+_u(kt.internal.getWidth(e)/2)+" "+_u(kt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+_u(kt.internal.getWidth(e)/2)+" "+_u(kt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=pl(e);t.scope=e.scope;var n=[],r=kt.internal.getWidth(e)<=kt.internal.getHeight(e)?kt.internal.getWidth(e)/4:kt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*kt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+_u(kt.internal.getWidth(e)/2)+" "+_u(kt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:kt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=kt.RadioButton.Cross.YesNormal,t.D[e]=kt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=pl(e);t.scope=e.scope;var n=[],r=kt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Qt(kt.internal.getWidth(e)-2)+" "+Qt(kt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Qt(r.x1.x)+" "+Qt(r.x1.y)+" m"),n.push(Qt(r.x2.x)+" "+Qt(r.x2.y)+" l"),n.push(Qt(r.x4.x)+" "+Qt(r.x4.y)+" m"),n.push(Qt(r.x3.x)+" "+Qt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=pl(e);t.scope=e.scope;var n=kt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Qt(kt.internal.getWidth(e))+" "+Qt(kt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Qt(kt.internal.getWidth(e)-2)+" "+Qt(kt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Qt(n.x1.x)+" "+Qt(n.x1.y)+" m"),r.push(Qt(n.x2.x)+" "+Qt(n.x2.y)+" l"),r.push(Qt(n.x4.x)+" "+Qt(n.x4.y)+" m"),r.push(Qt(n.x3.x)+" "+Qt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=pl(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Qt(kt.internal.getWidth(e))+" "+Qt(kt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};kt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=kt.internal.getWidth(e),n=kt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},kt.internal.getWidth=function(e){var t=0;return Hn(e)==="object"&&(t=r9(e.Rect[2])),t},kt.internal.getHeight=function(e){var t=0;return Hn(e)==="object"&&(t=r9(e.Rect[3])),t};var Toe=Rr.addField=function(e){if(Poe(this,e),!(e instanceof Ua))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Rr.AcroFormChoiceField=Zp,Rr.AcroFormListBox=eg,Rr.AcroFormComboBox=tg,Rr.AcroFormEditBox=qv,Rr.AcroFormButton=Si,Rr.AcroFormPushButton=Wv,Rr.AcroFormRadioButton=ng,Rr.AcroFormCheckBox=Hv,Rr.AcroFormTextField=$f,Rr.AcroFormPasswordField=Gv,Rr.AcroFormAppearance=kt,Rr.AcroForm={ChoiceField:Zp,ListBox:eg,ComboBox:tg,EditBox:qv,Button:Si,PushButton:Wv,RadioButton:ng,CheckBox:Hv,TextField:$f,PasswordField:Gv,Appearance:kt},Vt.AcroForm={ChoiceField:Zp,ListBox:eg,ComboBox:tg,EditBox:qv,Button:Si,PushButton:Wv,RadioButton:ng,CheckBox:Hv,TextField:$f,PasswordField:Gv,Appearance:kt};function sI(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(O,z){var U,$,ne,se,ae,Z=t;if((z=z||t)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(D(O))for(ae in n)for(ne=n[ae],U=0;U<ne.length;U+=1){for(se=!0,$=0;$<ne[U].length;$+=1)if(ne[U][$]!==void 0&&ne[U][$]!==O[$]){se=!1;break}if(se===!0){Z=ae;break}}else for(ae in n)for(ne=n[ae],U=0;U<ne.length;U+=1){for(se=!0,$=0;$<ne[U].length;$+=1)if(ne[U][$]!==void 0&&ne[U][$]!==O.charCodeAt($)){se=!1;break}if(se===!0){Z=ae;break}}return Z===t&&z!==t&&(Z=z),Z},i=function O(z){for(var U=this.internal.write,$=this.internal.putStream,ne=(0,this.internal.getFilters)();ne.indexOf("FlateEncode")!==-1;)ne.splice(ne.indexOf("FlateEncode"),1);z.objectId=this.internal.newObject();var se=[];if(se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Image"}),se.push({key:"Width",value:z.width}),se.push({key:"Height",value:z.height}),z.colorSpace===C.INDEXED?se.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(z.palette.length/3-1)+" "+("sMask"in z&&z.sMask!==void 0?z.objectId+2:z.objectId+1)+" 0 R]"}):(se.push({key:"ColorSpace",value:"/"+z.colorSpace}),z.colorSpace===C.DEVICE_CMYK&&se.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),se.push({key:"BitsPerComponent",value:z.bitsPerComponent}),"decodeParameters"in z&&z.decodeParameters!==void 0&&se.push({key:"DecodeParms",value:"<<"+z.decodeParameters+">>"}),"transparency"in z&&Array.isArray(z.transparency)){for(var ae="",Z=0,le=z.transparency.length;Z<le;Z++)ae+=z.transparency[Z]+" "+z.transparency[Z]+" ";se.push({key:"Mask",value:"["+ae+"]"})}z.sMask!==void 0&&se.push({key:"SMask",value:z.objectId+1+" 0 R"});var ue=z.filter!==void 0?["/"+z.filter]:void 0;if($({data:z.data,additionalKeyValues:se,alreadyAppliedFilters:ue,objectId:z.objectId}),U("endobj"),"sMask"in z&&z.sMask!==void 0){var ge="/Predictor "+z.predictor+" /Colors 1 /BitsPerComponent "+z.bitsPerComponent+" /Columns "+z.width,F={width:z.width,height:z.height,colorSpace:"DeviceGray",bitsPerComponent:z.bitsPerComponent,decodeParameters:ge,data:z.sMask};"filter"in z&&(F.filter=z.filter),O.call(this,F)}if(z.colorSpace===C.INDEXED){var Q=this.internal.newObject();$({data:I(new Uint8Array(z.palette)),objectId:Q}),U("endobj")}},o=function(){var O=this.internal.collections.addImage_images;for(var z in O)i.call(this,O[z])},s=function(){var O,z=this.internal.collections.addImage_images,U=this.internal.write;for(var $ in z)U("/I"+(O=z[$]).index,O.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var O=this.internal.collections.addImage_images;return a.call(this),O},c=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(O){return typeof e["process"+O.toUpperCase()]=="function"},f=function(O){return Hn(O)==="object"&&O.nodeType===1},g=function(O,z){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var U=""+O.getAttribute("src");if(U.indexOf("data:image/")===0)return h0(unescape(U).split("base64,").pop());var $=e.loadFile(U,!0);if($!==void 0)return $}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var ne;switch(z){case"PNG":ne="image/png";break;case"WEBP":ne="image/webp";break;case"JPEG":case"JPG":default:ne="image/jpeg"}return h0(O.toDataURL(ne,1).split("base64,").pop())}},d=function(O){var z=this.internal.collections.addImage_images;if(z){for(var U in z)if(O===z[U].alias)return z[U]}},m=function(O,z,U){return O||z||(O=-96,z=-96),O<0&&(O=-1*U.width*72/O/this.internal.scaleFactor),z<0&&(z=-1*U.height*72/z/this.internal.scaleFactor),O===0&&(O=z*U.width/U.height),z===0&&(z=O*U.height/U.width),[O,z]},y=function(O,z,U,$,ne,se){var ae=m.call(this,U,$,ne),Z=this.internal.getCoordinateString,le=this.internal.getVerticalCoordinateString,ue=l.call(this);if(U=ae[0],$=ae[1],ue[ne.index]=ne,se){se*=Math.PI/180;var ge=Math.cos(se),F=Math.sin(se),Q=function(he){return he.toFixed(4)},re=[Q(ge),Q(F),Q(-1*F),Q(ge),0,0,"cm"]}this.internal.write("q"),se?(this.internal.write([1,"0","0",1,Z(O),le(z+$),"cm"].join(" ")),this.internal.write(re.join(" ")),this.internal.write([Z(U),"0","0",Z($),"0","0","cm"].join(" "))):this.internal.write([Z(U),"0","0",Z($),Z(O),le(z+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ne.index+" Do"),this.internal.write("Q")},C=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(O){var z,U,$=0;if(typeof O=="string")for(U=O.length,z=0;z<U;z++)$=($<<5)-$+O.charCodeAt(z),$|=0;else if(D(O))for(U=O.byteLength/2,z=0;z<U;z++)$=($<<5)-$+O[z],$|=0;return $},E=e.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var z=!0;return O.length===0&&(z=!1),O.length%4!=0&&(z=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(z=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(z=!1),z},N=e.__addimage__.extractImageFromDataUrl=function(O){var z=(O=O||"").split("base64,"),U=null;if(z.length===2){var $=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(z[0]);Array.isArray($)&&(U={mimeType:$[1],charset:$[2],data:z[1]})}return U},_=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(O){return _()&&O instanceof ArrayBuffer};var D=e.__addimage__.isArrayBufferView=function(O){return _()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},P=e.__addimage__.binaryStringToUint8Array=function(O){for(var z=O.length,U=new Uint8Array(z),$=0;$<z;$++)U[$]=O.charCodeAt($);return U},I=e.__addimage__.arrayBufferToBinaryString=function(O){for(var z="",U=D(O)?O:new Uint8Array(O),$=0;$<U.length;$+=8192)z+=String.fromCharCode.apply(null,U.subarray($,$+8192));return z};e.addImage=function(){var O,z,U,$,ne,se,ae,Z,le;if(typeof arguments[1]=="number"?(z=t,U=arguments[1],$=arguments[2],ne=arguments[3],se=arguments[4],ae=arguments[5],Z=arguments[6],le=arguments[7]):(z=arguments[1],U=arguments[2],$=arguments[3],ne=arguments[4],se=arguments[5],ae=arguments[6],Z=arguments[7],le=arguments[8]),Hn(O=arguments[0])==="object"&&!f(O)&&"imageData"in O){var ue=O;O=ue.imageData,z=ue.format||z||t,U=ue.x||U||0,$=ue.y||$||0,ne=ue.w||ue.width||ne,se=ue.h||ue.height||se,ae=ue.alias||ae,Z=ue.compression||Z,le=ue.rotation||ue.angle||le}var ge=this.internal.getFilters();if(Z===void 0&&ge.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(U)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var F=W.call(this,O,z,ae,Z);return y.call(this,U,$,ne,se,F,le),this};var W=function(O,z,U,$){var ne,se,ae;if(typeof O=="string"&&r(O)===t){O=unescape(O);var Z=G(O,!1);(Z!==""||(Z=e.loadFile(O,!0))!==void 0)&&(O=Z)}if(f(O)&&(O=g(O,z)),z=r(O,z),!h(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(((ae=U)==null||ae.length===0)&&(U=function(le){return typeof le=="string"||D(le)?w(le):D(le.data)?w(le.data):null}(O)),(ne=d.call(this,U))||(_()&&(O instanceof Uint8Array||z==="RGBA"||(se=O,O=P(O))),ne=this["process"+z.toUpperCase()](O,c.call(this),U,function(le){return le&&typeof le=="string"&&(le=le.toUpperCase()),le in e.image_compression?le:x.NONE}($),se)),!ne)throw new Error("An unknown error occurred whilst processing the image.");return ne},G=e.__addimage__.convertBase64ToBinaryString=function(O,z){var U;z=typeof z!="boolean"||z;var $,ne="";if(typeof O=="string"){$=(U=N(O))!==null?U.data:O;try{ne=h0($)}catch(se){if(z)throw E($)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+se.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ne};e.getImageProperties=function(O){var z,U,$="";if(f(O)&&(O=g(O)),typeof O=="string"&&r(O)===t&&(($=G(O,!1))===""&&($=e.loadFile(O)||""),O=$),U=r(O),!h(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(!_()||O instanceof Uint8Array||(O=P(O)),!(z=this["process"+U.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return z.fileType=U,z}})(Vt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Vt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,h=!1,f=0;f<c.length&&!h;f++)switch((r=c[f]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var g=0;g<c.length;g++){r=c[g];var d=this.internal.pdfEscape,m=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(y.objId),w=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+d(x(r.contents))+")",o+=" /Popup "+C.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+d(x(w))+") >>",y.content=o;var E=y.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+E,r.open&&(o+=" /Open true"),o+=" >>",C.content=o,this.internal.write(y.objId,"0 R",C.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var N=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+d(m(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var _=this.annotations._nameMap[r.options.name];r.options.pageNumber=_.page,r.options.top=_.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+d(m(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var D=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+D+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+o)},options:s,type:"link"})},e.textWithLink=function(n,r,i,o){var s,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var h=this.splitTextToSize(n,a).length;s=Math.ceil(c*h)}else a=l,s=c;return this.text(n,r,i,o),i+=.2*c,o.align==="center"&&(r-=l/2),o.align==="right"&&(r-=l),this.link(r,i-c,a,s,o),l},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Vt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var o=e.__arabicParser__.isInArabicSubstitutionA=function(y){return t[y.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},a=e.__arabicParser__.isArabicEndLetter=function(y){return s(y)&&o(y)&&t[y.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(y){return s(y)&&i.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return s(y)&&o(y)&&t[y.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return s(y)&&o(y)&&t[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return s(y)&&o(y)&&t[y.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return s(y)&&o(y)&&t[y.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(y){var C=0,x=n,w="",E=0;for(C=0;C<y.length;C+=1)x[y.charCodeAt(C)]!==void 0?(E++,typeof(x=x[y.charCodeAt(C)])=="number"&&(w+=String.fromCharCode(x),x=n,E=0),C===y.length-1&&(x=n,w+=y.charAt(C-(E-1)),C-=E-1,E=0)):(x=n,w+=y.charAt(C-E),C-=E,E=0);return w};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(y,C,x){return s(y)?o(y)===!1?-1:!c(y)||!s(C)&&!s(x)||!s(x)&&a(C)||a(y)&&!s(C)||a(y)&&l(C)||a(y)&&a(C)?0:h(y)&&s(C)&&!a(C)&&s(x)&&c(x)?3:a(y)||!s(x)?1:2:-1},d=function(y){var C=0,x=0,w=0,E="",N="",_="",D=(y=y||"").split("\\s+"),P=[];for(C=0;C<D.length;C+=1){for(P.push(""),x=0;x<D[C].length;x+=1)E=D[C][x],N=D[C][x-1],_=D[C][x+1],s(E)?(w=g(E,N,_),P[C]+=w!==-1?String.fromCharCode(t[E.charCodeAt(0)][w]):E):P[C]+=E;P[C]=f(P[C])}return P.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var y,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(C)){var w=0;for(x=[],w=0;w<C.length;w+=1)Array.isArray(C[w])?x.push([d(C[w][0]),C[w][1],C[w][2]]):x.push([d(C[w])]);y=x}else y=d(C);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",m])}(Vt.API),Vt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Vt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(y){m=y}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){r.call(this);var h=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),g=c.scaleFactor||this.internal.scaleFactor,d=0,m=0,y=0,C=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=c.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(E,N){return E.concat(C.splitTextToSize(N,x))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)d<(y=this.getStringUnitWidth(l[w],{font:f})*h)&&(d=y);return d!==0&&(m=l.length),{w:d/=g,h:Math.max((m*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,d&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,h,f,g){if(r.call(this),!h)throw new Error("No data for PDF table.");var d,m,y,C,x=[],w=[],E=[],N={},_={},D=[],P=[],I=(g=g||{}).autoSize||!1,W=g.printHeaders!==!1,G=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,O=g.margins||Object.assign({width:this.getPageWidth()},t),z=typeof g.padding=="number"?g.padding:3,U=g.headerBackgroundColor||"#c8c8c8",$=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=W,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=z,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=$,this.setFontSize(G),f==null)w=x=Object.keys(h[0]),E=x.map(function(){return"left"});else if(Array.isArray(f)&&Hn(f[0])==="object")for(x=f.map(function(ue){return ue.name}),w=f.map(function(ue){return ue.prompt||ue.name||""}),E=f.map(function(ue){return ue.align||"left"}),d=0;d<f.length;d+=1)_[f[d].name]=f[d].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(w=x=f,E=x.map(function(){return"left"}));if(I||Array.isArray(f)&&typeof f[0]=="string")for(d=0;d<x.length;d+=1){for(N[C=x[d]]=h.map(function(ue){return ue[C]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(w[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=N[C],this.setFont(void 0,"normal"),y=0;y<m.length;y+=1)D.push(this.getTextDimensions(m[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[C]=Math.max.apply(null,D)+z+z,D=[]}if(W){var ne={};for(d=0;d<x.length;d+=1)ne[x[d]]={},ne[x[d]].text=w[d],ne[x[d]].align=E[d];var se=a.call(this,ne,_);P=x.map(function(ue){return new o(l,c,_[ue],se,ne[ue].text,void 0,ne[ue].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var ae=f.reduce(function(ue,ge){return ue[ge.name]=ge.align,ue},{});for(d=0;d<h.length;d+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:d,data:h[d]},this);var Z=a.call(this,h[d],_);for(y=0;y<x.length;y+=1){var le=h[d][x[y]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:d,col:y,data:le},this),s.call(this,new o(l,c,_[x[y]],Z,le,d+2,ae[x[y]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var h=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(d){var m=l[d];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,c[d]-h-h)},this).map(function(d){return this.getLineHeightFactor()*d.length*f/g+h+h},this).reduce(function(d,m){return Math.max(d,m)},0)};e.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){h=this.internal.__cell__.tableHeaderRow[d].clone(),c&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,h),this.setTextColor(m)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(Vt.API);var aI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},lI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],F6=sI(lI),cI=[100,200,300,400,500,600,700,800,900],Moe=sI(cI);function j6(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(o){return aI[o=o||"normal"]?o:"normal"}(e.style),r=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(o){return typeof F6[o=o||"normal"]=="number"?o:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function i9(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var Roe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},o9={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function s9(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Doe(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},Roe,n.genericFontFamilies||{}),o=null,s=null,a=0;a<t.length;++a)if(i[(o=j6(t[a])).family]&&(o.family=i[o.family]),e.hasOwnProperty(o.family)){s=e[o.family];break}if(!(s=s||e[r]))throw new Error("Could not find a font-family for the rule '"+s9(o)+"' and default family '"+r+"'.");if(s=function(l,c){if(c[l])return c[l];var h=F6[l],f=h<=F6.normal?-1:1,g=i9(c,lI,h,f);if(!g)throw new Error("Could not find a matching font-stretch value for "+l);return g}(o.stretch,s),s=function(l,c){if(c[l])return c[l];for(var h=aI[l],f=0;f<h.length;++f)if(c[h[f]])return c[h[f]];throw new Error("Could not find a matching font-style for "+l)}(o.style,s),!(s=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var h=Moe[l],f=i9(c,cI,h,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(o.weight,s)))throw new Error("Failed to resolve a font for the rule '"+s9(o)+"'.");return s}function a9(e){return e.trimLeft()}function Ioe(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function zoe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var av,l9,c9,u9=["times"];(function(e){var t,n,r,i,o,s,a,l,c,h=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new l,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new s,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new s,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new h}]);var f=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Q=F;Object.defineProperty(this,"pdf",{get:function(){return Q}});var re=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return re},set:function(Re){re=!!Re}});var he=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return he},set:function(Re){he=!!Re}});var pe=0;Object.defineProperty(this,"posX",{get:function(){return pe},set:function(Re){isNaN(Re)||(pe=Re)}});var Se=0;Object.defineProperty(this,"posY",{get:function(){return Se},set:function(Re){isNaN(Re)||(Se=Re)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Re){var fe;typeof Re=="number"?fe=[Re,Re,Re,Re]:((fe=new Array(4))[0]=Re[0],fe[1]=Re.length>=2?Re[1]:fe[0],fe[2]=Re.length>=3?Re[2]:fe[0],fe[3]=Re.length>=4?Re[3]:fe[1]),c.margin=fe}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(Re){xe=Re}});var Ee=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ee},set:function(Re){Ee=Re}});var Ge=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ge},set:function(Re){Ge=Re}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Re){Re instanceof h&&(c=Re)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Re){c.path=Re}});var Be=[];Object.defineProperty(this,"ctxStack",{get:function(){return Be},set:function(Re){Be=Re}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Re){var fe;fe=g(Re),this.ctx.fillStyle=fe.style,this.ctx.isFillTransparent=fe.a===0,this.ctx.fillOpacity=fe.a,this.pdf.setFillColor(fe.r,fe.g,fe.b,{a:fe.a}),this.pdf.setTextColor(fe.r,fe.g,fe.b,{a:fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Re){var fe=g(Re);this.ctx.strokeStyle=fe.style,this.ctx.isStrokeTransparent=fe.a===0,this.ctx.strokeOpacity=fe.a,fe.a===0?this.pdf.setDrawColor(255,255,255):(fe.a,this.pdf.setDrawColor(fe.r,fe.g,fe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Re){["butt","round","square"].indexOf(Re)!==-1&&(this.ctx.lineCap=Re,this.pdf.setLineCap(Re))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Re){isNaN(Re)||(this.ctx.lineWidth=Re,this.pdf.setLineWidth(Re))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Re){["bevel","round","miter"].indexOf(Re)!==-1&&(this.ctx.lineJoin=Re,this.pdf.setLineJoin(Re))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Re){isNaN(Re)||(this.ctx.miterLimit=Re,this.pdf.setMiterLimit(Re))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Re){this.ctx.textBaseline=Re}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Re){["right","end","center","left","start"].indexOf(Re)!==-1&&(this.ctx.textAlign=Re)}});var Ke=null;function it(Re,fe){if(Ke===null){var vt=function(De){var ze=[];return Object.keys(De).forEach(function(je){De[je].forEach(function(oe){var ee=null;switch(oe){case"bold":ee={family:je,weight:"bold"};break;case"italic":ee={family:je,style:"italic"};break;case"bolditalic":ee={family:je,weight:"bold",style:"italic"};break;case"":case"normal":ee={family:je}}ee!==null&&(ee.ref={name:je,style:oe},ze.push(ee))})}),ze}(Re.getFontList());Ke=function(De){for(var ze={},je=0;je<De.length;++je){var oe=j6(De[je]),ee=oe.family,te=oe.stretch,Ne=oe.style,Oe=oe.weight;ze[ee]=ze[ee]||{},ze[ee][te]=ze[ee][te]||{},ze[ee][te][Ne]=ze[ee][te][Ne]||{},ze[ee][te][Ne][Oe]=oe}return ze}(vt.concat(fe))}return Ke}var at=null;Object.defineProperty(this,"fontFaces",{get:function(){return at},set:function(Re){Ke=null,at=Re}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Re){var fe;if(this.ctx.font=Re,(fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Re))!==null){var vt=fe[1],De=(fe[2],fe[3]),ze=fe[4],je=(fe[5],fe[6]),oe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ze)[2];ze=Math.floor(oe==="px"?parseFloat(ze)*this.pdf.internal.scaleFactor:oe==="em"?parseFloat(ze)*this.pdf.getFontSize():parseFloat(ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ze);var ee=function(lt){var xt,Ve,ot=[],Et=lt.trim();if(Et==="")return u9;if(Et in o9)return[o9[Et]];for(;Et!=="";){switch(Ve=null,xt=(Et=a9(Et)).charAt(0)){case'"':case"'":Ve=Ioe(Et.substring(1),xt);break;default:Ve=zoe(Et)}if(Ve===null||(ot.push(Ve[0]),(Et=a9(Ve[1]))!==""&&Et.charAt(0)!==","))return u9;Et=Et.replace(/^,/,"")}return ot}(je);if(this.fontFaces){var te=Doe(it(this.pdf,this.fontFaces),ee.map(function(lt){return{family:lt,stretch:"normal",weight:De,style:vt}}));this.pdf.setFont(te.ref.name,te.ref.style)}else{var Ne="";(De==="bold"||parseInt(De,10)>=700||vt==="bold")&&(Ne="bold"),vt==="italic"&&(Ne+="italic"),Ne.length===0&&(Ne="normal");for(var Oe="",qe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Qe=0;Qe<ee.length;Qe++){if(this.pdf.internal.getFont(ee[Qe],Ne,{noFallback:!0,disableWarning:!0})!==void 0){Oe=ee[Qe];break}if(Ne==="bolditalic"&&this.pdf.internal.getFont(ee[Qe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Oe=ee[Qe],Ne="bold";else if(this.pdf.internal.getFont(ee[Qe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Oe=ee[Qe],Ne="normal";break}}if(Oe===""){for(var nt=0;nt<ee.length;nt++)if(qe[ee[nt]]){Oe=qe[ee[nt]];break}}Oe=Oe===""?"Times":Oe,this.pdf.setFont(Oe,Ne)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Re){this.ctx.globalCompositeOperation=Re}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Re){this.ctx.globalAlpha=Re}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Re){this.ctx.lineDashOffset=Re,ge.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Re){this.ctx.lineDash=Re,ge.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Re){this.ctx.ignoreClearRect=!!Re}})};f.prototype.setLineDash=function(F){this.lineDash=F},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){N.call(this,"fill",!1)},f.prototype.stroke=function(){N.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(F,Q){if(isNaN(F)||isNaN(Q))throw er.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var re=this.ctx.transform.applyToPoint(new s(F,Q));this.path.push({type:"mt",x:re.x,y:re.y}),this.ctx.lastPoint=new s(F,Q)},f.prototype.closePath=function(){var F=new s(0,0),Q=0;for(Q=this.path.length-1;Q!==-1;Q--)if(this.path[Q].type==="begin"&&Hn(this.path[Q+1])==="object"&&typeof this.path[Q+1].x=="number"){F=new s(this.path[Q+1].x,this.path[Q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(F.x,F.y)},f.prototype.lineTo=function(F,Q){if(isNaN(F)||isNaN(Q))throw er.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var re=this.ctx.transform.applyToPoint(new s(F,Q));this.path.push({type:"lt",x:re.x,y:re.y}),this.ctx.lastPoint=new s(re.x,re.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},f.prototype.quadraticCurveTo=function(F,Q,re,he){if(isNaN(re)||isNaN(he)||isNaN(F)||isNaN(Q))throw er.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var pe=this.ctx.transform.applyToPoint(new s(re,he)),Se=this.ctx.transform.applyToPoint(new s(F,Q));this.path.push({type:"qct",x1:Se.x,y1:Se.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new s(pe.x,pe.y)},f.prototype.bezierCurveTo=function(F,Q,re,he,pe,Se){if(isNaN(pe)||isNaN(Se)||isNaN(F)||isNaN(Q)||isNaN(re)||isNaN(he))throw er.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new s(pe,Se)),Ee=this.ctx.transform.applyToPoint(new s(F,Q)),Ge=this.ctx.transform.applyToPoint(new s(re,he));this.path.push({type:"bct",x1:Ee.x,y1:Ee.y,x2:Ge.x,y2:Ge.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new s(xe.x,xe.y)},f.prototype.arc=function(F,Q,re,he,pe,Se){if(isNaN(F)||isNaN(Q)||isNaN(re)||isNaN(he)||isNaN(pe))throw er.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Se=!!Se,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new s(F,Q));F=xe.x,Q=xe.y;var Ee=this.ctx.transform.applyToPoint(new s(0,re)),Ge=this.ctx.transform.applyToPoint(new s(0,0));re=Math.sqrt(Math.pow(Ee.x-Ge.x,2)+Math.pow(Ee.y-Ge.y,2))}Math.abs(pe-he)>=2*Math.PI&&(he=0,pe=2*Math.PI),this.path.push({type:"arc",x:F,y:Q,radius:re,startAngle:he,endAngle:pe,counterclockwise:Se})},f.prototype.arcTo=function(F,Q,re,he,pe){throw new Error("arcTo not implemented.")},f.prototype.rect=function(F,Q,re,he){if(isNaN(F)||isNaN(Q)||isNaN(re)||isNaN(he))throw er.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,Q),this.lineTo(F+re,Q),this.lineTo(F+re,Q+he),this.lineTo(F,Q+he),this.lineTo(F,Q),this.lineTo(F+re,Q),this.lineTo(F,Q)},f.prototype.fillRect=function(F,Q,re,he){if(isNaN(F)||isNaN(Q)||isNaN(re)||isNaN(he))throw er.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var pe={};this.lineCap!=="butt"&&(pe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(pe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,Q,re,he),this.fill(),pe.hasOwnProperty("lineCap")&&(this.lineCap=pe.lineCap),pe.hasOwnProperty("lineJoin")&&(this.lineJoin=pe.lineJoin)}},f.prototype.strokeRect=function(F,Q,re,he){if(isNaN(F)||isNaN(Q)||isNaN(re)||isNaN(he))throw er.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(F,Q,re,he),this.stroke())},f.prototype.clearRect=function(F,Q,re,he){if(isNaN(F)||isNaN(Q)||isNaN(re)||isNaN(he))throw er.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,Q,re,he))},f.prototype.save=function(F){F=typeof F!="boolean"||F;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("q");if(this.pdf.setPage(Q),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var he=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=he}},f.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("Q");this.pdf.setPage(Q),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(F){var Q,re,he,pe;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))Q=0,re=0,he=0,pe=0;else{var Se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(Se!==null)Q=parseInt(Se[1]),re=parseInt(Se[2]),he=parseInt(Se[3]),pe=1;else if((Se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)Q=parseInt(Se[1]),re=parseInt(Se[2]),he=parseInt(Se[3]),pe=parseFloat(Se[4]);else{if(pe=1,typeof F=="string"&&F.charAt(0)!=="#"){var xe=new eI(F);F=xe.ok?xe.toHex():"#000000"}F.length===4?(Q=F.substring(1,2),Q+=Q,re=F.substring(2,3),re+=re,he=F.substring(3,4),he+=he):(Q=F.substring(1,3),re=F.substring(3,5),he=F.substring(5,7)),Q=parseInt(Q,16),re=parseInt(re,16),he=parseInt(he,16)}}return{r:Q,g:re,b:he,a:pe,style:F}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(F,Q,re,he){if(isNaN(Q)||isNaN(re)||typeof F!="string")throw er.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(he=isNaN(he)?void 0:he,!d.call(this)){var pe=Z(this.ctx.transform.rotation),Se=this.ctx.transform.scaleX;z.call(this,{text:F,x:Q,y:re,scale:Se,angle:pe,align:this.textAlign,maxWidth:he})}},f.prototype.strokeText=function(F,Q,re,he){if(isNaN(Q)||isNaN(re)||typeof F!="string")throw er.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){he=isNaN(he)?void 0:he;var pe=Z(this.ctx.transform.rotation),Se=this.ctx.transform.scaleX;z.call(this,{text:F,x:Q,y:re,scale:Se,renderingMode:"stroke",angle:pe,align:this.textAlign,maxWidth:he})}},f.prototype.measureText=function(F){if(typeof F!="string")throw er.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Q=this.pdf,re=this.pdf.internal.scaleFactor,he=Q.internal.getFontSize(),pe=Q.getStringUnitWidth(F)*he/Q.internal.scaleFactor,Se=function(xe){var Ee=(xe=xe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ee}}),this};return new Se({width:pe*=Math.round(96*re/72*1e4)/1e4})},f.prototype.scale=function(F,Q){if(isNaN(F)||isNaN(Q))throw er.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var re=new l(F,0,0,Q,0,0);this.ctx.transform=this.ctx.transform.multiply(re)},f.prototype.rotate=function(F){if(isNaN(F))throw er.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Q=new l(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.translate=function(F,Q){if(isNaN(F)||isNaN(Q))throw er.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var re=new l(1,0,0,1,F,Q);this.ctx.transform=this.ctx.transform.multiply(re)},f.prototype.transform=function(F,Q,re,he,pe,Se){if(isNaN(F)||isNaN(Q)||isNaN(re)||isNaN(he)||isNaN(pe)||isNaN(Se))throw er.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new l(F,Q,re,he,pe,Se);this.ctx.transform=this.ctx.transform.multiply(xe)},f.prototype.setTransform=function(F,Q,re,he,pe,Se){F=isNaN(F)?1:F,Q=isNaN(Q)?0:Q,re=isNaN(re)?0:re,he=isNaN(he)?1:he,pe=isNaN(pe)?0:pe,Se=isNaN(Se)?0:Se,this.ctx.transform=new l(F,Q,re,he,pe,Se)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(F,Q,re,he,pe,Se,xe,Ee,Ge){var Be=this.pdf.getImageProperties(F),Ke=1,it=1,at=1,Re=1;he!==void 0&&Ee!==void 0&&(at=Ee/he,Re=Ge/pe,Ke=Be.width/he*Ee/he,it=Be.height/pe*Ge/pe),Se===void 0&&(Se=Q,xe=re,Q=0,re=0),he!==void 0&&Ee===void 0&&(Ee=he,Ge=pe),he===void 0&&Ee===void 0&&(Ee=Be.width,Ge=Be.height);for(var fe,vt=this.ctx.transform.decompose(),De=Z(vt.rotate.shx),ze=new l,je=(ze=(ze=(ze=ze.multiply(vt.translate)).multiply(vt.skew)).multiply(vt.scale)).applyToRectangle(new a(Se-Q*at,xe-re*Re,he*Ke,pe*it)),oe=C.call(this,je),ee=[],te=0;te<oe.length;te+=1)ee.indexOf(oe[te])===-1&&ee.push(oe[te]);if(E(ee),this.autoPaging)for(var Ne=ee[0],Oe=ee[ee.length-1],qe=Ne;qe<Oe+1;qe++){this.pdf.setPage(qe);var Qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],nt=qe===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ve=qe===1?0:lt+(qe-2)*xt;if(this.ctx.clip_path.length!==0){var ot=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(fe,this.posX+this.margin[3],-Ve+nt+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=ot}var Et=JSON.parse(JSON.stringify(je));Et=w([Et],this.posX+this.margin[3],-Ve+nt+this.ctx.prevPageLastElemOffset)[0];var mn=(qe>Ne||qe<Oe)&&y.call(this);mn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,xt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",Et.x,Et.y,Et.w,Et.h,null,null,De),mn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",je.x,je.y,je.w,je.h,null,null,De)};var C=function(F,Q,re){var he=[];Q=Q||this.pdf.internal.pageSize.width,re=re||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var pe=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":he.push(Math.floor((F.y+pe)/re)+1);break;case"arc":he.push(Math.floor((F.y+pe-F.radius)/re)+1),he.push(Math.floor((F.y+pe+F.radius)/re)+1);break;case"qct":var Se=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);he.push(Math.floor((Se.y+pe)/re)+1),he.push(Math.floor((Se.y+Se.h+pe)/re)+1);break;case"bct":var xe=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);he.push(Math.floor((xe.y+pe)/re)+1),he.push(Math.floor((xe.y+xe.h+pe)/re)+1);break;case"rect":he.push(Math.floor((F.y+pe)/re)+1),he.push(Math.floor((F.y+F.h+pe)/re)+1)}for(var Ee=0;Ee<he.length;Ee+=1)for(;this.pdf.internal.getNumberOfPages()<he[Ee];)x.call(this);return he},x=function(){var F=this.fillStyle,Q=this.strokeStyle,re=this.font,he=this.lineCap,pe=this.lineWidth,Se=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=Q,this.font=re,this.lineCap=he,this.lineWidth=pe,this.lineJoin=Se},w=function(F,Q,re){for(var he=0;he<F.length;he++)switch(F[he].type){case"bct":F[he].x2+=Q,F[he].y2+=re;case"qct":F[he].x1+=Q,F[he].y1+=re;case"mt":case"lt":case"arc":default:F[he].x+=Q,F[he].y+=re}return F},E=function(F){return F.sort(function(Q,re){return Q-re})},N=function(F,Q){for(var re,he,pe=this.fillStyle,Se=this.strokeStyle,xe=this.lineCap,Ee=this.lineWidth,Ge=Math.abs(Ee*this.ctx.transform.scaleX),Be=this.lineJoin,Ke=JSON.parse(JSON.stringify(this.path)),it=JSON.parse(JSON.stringify(this.path)),at=[],Re=0;Re<it.length;Re++)if(it[Re].x!==void 0)for(var fe=C.call(this,it[Re]),vt=0;vt<fe.length;vt+=1)at.indexOf(fe[vt])===-1&&at.push(fe[vt]);for(var De=0;De<at.length;De++)for(;this.pdf.internal.getNumberOfPages()<at[De];)x.call(this);if(E(at),this.autoPaging)for(var ze=at[0],je=at[at.length-1],oe=ze;oe<je+1;oe++){this.pdf.setPage(oe),this.fillStyle=pe,this.strokeStyle=Se,this.lineCap=xe,this.lineWidth=Ge,this.lineJoin=Be;var ee=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],te=oe===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Oe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qe=oe===1?0:Ne+(oe-2)*Oe;if(this.ctx.clip_path.length!==0){var Qe=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(re,this.posX+this.margin[3],-qe+te+this.ctx.prevPageLastElemOffset),_.call(this,F,!0),this.path=Qe}if(he=JSON.parse(JSON.stringify(Ke)),this.path=w(he,this.posX+this.margin[3],-qe+te+this.ctx.prevPageLastElemOffset),Q===!1||oe===0){var nt=(oe>ze||oe<je)&&y.call(this);nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ee,Oe,null).clip().discardPath()),_.call(this,F,Q),nt&&this.pdf.restoreGraphicsState()}this.lineWidth=Ee}else this.lineWidth=Ge,_.call(this,F,Q),this.lineWidth=Ee;this.path=Ke},_=function(F,Q){if((F!=="stroke"||Q||!m.call(this))&&(F==="stroke"||Q||!d.call(this))){for(var re,he,pe=[],Se=this.path,xe=0;xe<Se.length;xe++){var Ee=Se[xe];switch(Ee.type){case"begin":pe.push({begin:!0});break;case"close":pe.push({close:!0});break;case"mt":pe.push({start:Ee,deltas:[],abs:[]});break;case"lt":var Ge=pe.length;if(Se[xe-1]&&!isNaN(Se[xe-1].x)&&(re=[Ee.x-Se[xe-1].x,Ee.y-Se[xe-1].y],Ge>0)){for(;Ge>=0;Ge--)if(pe[Ge-1].close!==!0&&pe[Ge-1].begin!==!0){pe[Ge-1].deltas.push(re),pe[Ge-1].abs.push(Ee);break}}break;case"bct":re=[Ee.x1-Se[xe-1].x,Ee.y1-Se[xe-1].y,Ee.x2-Se[xe-1].x,Ee.y2-Se[xe-1].y,Ee.x-Se[xe-1].x,Ee.y-Se[xe-1].y],pe[pe.length-1].deltas.push(re);break;case"qct":var Be=Se[xe-1].x+2/3*(Ee.x1-Se[xe-1].x),Ke=Se[xe-1].y+2/3*(Ee.y1-Se[xe-1].y),it=Ee.x+2/3*(Ee.x1-Ee.x),at=Ee.y+2/3*(Ee.y1-Ee.y),Re=Ee.x,fe=Ee.y;re=[Be-Se[xe-1].x,Ke-Se[xe-1].y,it-Se[xe-1].x,at-Se[xe-1].y,Re-Se[xe-1].x,fe-Se[xe-1].y],pe[pe.length-1].deltas.push(re);break;case"arc":pe.push({deltas:[],abs:[],arc:!0}),Array.isArray(pe[pe.length-1].abs)&&pe[pe.length-1].abs.push(Ee)}}he=Q?null:F==="stroke"?"stroke":"fill";for(var vt=!1,De=0;De<pe.length;De++)if(pe[De].arc)for(var ze=pe[De].abs,je=0;je<ze.length;je++){var oe=ze[je];oe.type==="arc"?I.call(this,oe.x,oe.y,oe.radius,oe.startAngle,oe.endAngle,oe.counterclockwise,void 0,Q,!vt):U.call(this,oe.x,oe.y),vt=!0}else if(pe[De].close===!0)this.pdf.internal.out("h"),vt=!1;else if(pe[De].begin!==!0){var ee=pe[De].start.x,te=pe[De].start.y;$.call(this,pe[De].deltas,ee,te),vt=!0}he&&W.call(this,he),Q&&G.call(this)}},D=function(F){var Q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,re=Q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-re;case"top":return F+Q-re;case"hanging":return F+Q-2*re;case"middle":return F+Q/2-re;case"ideographic":return F;case"alphabetic":default:return F}},P=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(Q,re){this.colorStops.push([Q,re])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(F,Q,re,he,pe,Se,xe,Ee,Ge){for(var Be=se.call(this,re,he,pe,Se),Ke=0;Ke<Be.length;Ke++){var it=Be[Ke];Ke===0&&(Ge?O.call(this,it.x1+F,it.y1+Q):U.call(this,it.x1+F,it.y1+Q)),ne.call(this,F,Q,it.x2,it.y2,it.x3,it.y3,it.x4,it.y4)}Ee?G.call(this):W.call(this,xe)},W=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(F,Q){this.pdf.internal.out(n(F)+" "+r(Q)+" m")},z=function(F){var Q;switch(F.align){case"right":case"end":Q="right";break;case"center":Q="center";break;case"left":case"start":default:Q="left"}var re=this.pdf.getTextDimensions(F.text),he=D.call(this,F.y),pe=P.call(this,he)-re.h,Se=this.ctx.transform.applyToPoint(new s(F.x,he)),xe=this.ctx.transform.decompose(),Ee=new l;Ee=(Ee=(Ee=Ee.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale);for(var Ge,Be,Ke,it=this.ctx.transform.applyToRectangle(new a(F.x,he,re.w,re.h)),at=Ee.applyToRectangle(new a(F.x,pe,re.w,re.h)),Re=C.call(this,at),fe=[],vt=0;vt<Re.length;vt+=1)fe.indexOf(Re[vt])===-1&&fe.push(Re[vt]);if(E(fe),this.autoPaging)for(var De=fe[0],ze=fe[fe.length-1],je=De;je<ze+1;je++){this.pdf.setPage(je);var oe=je===1?this.posY+this.margin[0]:this.margin[0],ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],te=this.pdf.internal.pageSize.height-this.margin[2],Ne=te-this.margin[0],Oe=this.pdf.internal.pageSize.width-this.margin[1],qe=Oe-this.margin[3],Qe=je===1?0:ee+(je-2)*Ne;if(this.ctx.clip_path.length!==0){var nt=this.path;Ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Ge,this.posX+this.margin[3],-1*Qe+oe),_.call(this,"fill",!0),this.path=nt}var lt=w([JSON.parse(JSON.stringify(at))],this.posX+this.margin[3],-Qe+oe+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(Be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Be*F.scale),Ke=this.lineWidth,this.lineWidth=Ke*F.scale);var xt=this.autoPaging!=="text";if(xt||lt.y+lt.h<=te){if(xt||lt.y>=oe&&lt.x<=Oe){var Ve=xt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||Oe-lt.x)[0],ot=w([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-Qe+oe+this.ctx.prevPageLastElemOffset)[0],Et=xt&&(je>De||je<ze)&&y.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,Ne,null).clip().discardPath()),this.pdf.text(Ve,ot.x,ot.y,{angle:F.angle,align:Q,renderingMode:F.renderingMode}),Et&&this.pdf.restoreGraphicsState()}}else lt.y<te&&(this.ctx.prevPageLastElemOffset+=te-lt.y);F.scale>=.01&&(this.pdf.setFontSize(Be),this.lineWidth=Ke)}else F.scale>=.01&&(Be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Be*F.scale),Ke=this.lineWidth,this.lineWidth=Ke*F.scale),this.pdf.text(F.text,Se.x+this.posX,Se.y+this.posY,{angle:F.angle,align:Q,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(Be),this.lineWidth=Ke)},U=function(F,Q,re,he){re=re||0,he=he||0,this.pdf.internal.out(n(F+re)+" "+r(Q+he)+" l")},$=function(F,Q,re){return this.pdf.lines(F,Q,re,null,null)},ne=function(F,Q,re,he,pe,Se,xe,Ee){this.pdf.internal.out([t(i(re+F)),t(o(he+Q)),t(i(pe+F)),t(o(Se+Q)),t(i(xe+F)),t(o(Ee+Q)),"c"].join(" "))},se=function(F,Q,re,he){for(var pe=2*Math.PI,Se=Math.PI/2;Q>re;)Q-=pe;var xe=Math.abs(re-Q);xe<pe&&he&&(xe=pe-xe);for(var Ee=[],Ge=he?-1:1,Be=Q;xe>1e-5;){var Ke=Be+Ge*Math.min(xe,Se);Ee.push(ae.call(this,F,Be,Ke)),xe-=Math.abs(Ke-Be),Be=Ke}return Ee},ae=function(F,Q,re){var he=(re-Q)/2,pe=F*Math.cos(he),Se=F*Math.sin(he),xe=pe,Ee=-Se,Ge=xe*xe+Ee*Ee,Be=Ge+xe*pe+Ee*Se,Ke=4/3*(Math.sqrt(2*Ge*Be)-Be)/(xe*Se-Ee*pe),it=xe-Ke*Ee,at=Ee+Ke*xe,Re=it,fe=-at,vt=he+Q,De=Math.cos(vt),ze=Math.sin(vt);return{x1:F*Math.cos(Q),y1:F*Math.sin(Q),x2:it*De-at*ze,y2:it*ze+at*De,x3:Re*De-fe*ze,y3:Re*ze+fe*De,x4:F*Math.cos(re),y4:F*Math.sin(re)}},Z=function(F){return 180*F/Math.PI},le=function(F,Q,re,he,pe,Se){var xe=F+.5*(re-F),Ee=Q+.5*(he-Q),Ge=pe+.5*(re-pe),Be=Se+.5*(he-Se),Ke=Math.min(F,pe,xe,Ge),it=Math.max(F,pe,xe,Ge),at=Math.min(Q,Se,Ee,Be),Re=Math.max(Q,Se,Ee,Be);return new a(Ke,at,it-Ke,Re-at)},ue=function(F,Q,re,he,pe,Se,xe,Ee){var Ge,Be,Ke,it,at,Re,fe,vt,De,ze,je,oe,ee,te,Ne=re-F,Oe=he-Q,qe=pe-re,Qe=Se-he,nt=xe-pe,lt=Ee-Se;for(Be=0;Be<41;Be++)De=(fe=(Ke=F+(Ge=Be/40)*Ne)+Ge*((at=re+Ge*qe)-Ke))+Ge*(at+Ge*(pe+Ge*nt-at)-fe),ze=(vt=(it=Q+Ge*Oe)+Ge*((Re=he+Ge*Qe)-it))+Ge*(Re+Ge*(Se+Ge*lt-Re)-vt),Be==0?(je=De,oe=ze,ee=De,te=ze):(je=Math.min(je,De),oe=Math.min(oe,ze),ee=Math.max(ee,De),te=Math.max(te,ze));return new a(Math.round(je),Math.round(oe),Math.round(ee-je),Math.round(te-oe))},ge=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,Q,re=(F=this.ctx.lineDash,Q=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:Q}));this.prevLineDash!==re&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=re)}}})(Vt.API),function(e){var t=function(o){var s,a,l,c,h,f,g,d,m,y;for(a=[],l=0,c=(o+=s="\0\0\0\0".slice(o.length%4||4)).length;c>l;l+=4)(h=(o.charCodeAt(l)<<24)+(o.charCodeAt(l+1)<<16)+(o.charCodeAt(l+2)<<8)+o.charCodeAt(l+3))!==0?(f=(h=((h=((h=((h=(h-(y=h%85))/85)-(m=h%85))/85)-(d=h%85))/85)-(g=h%85))/85)%85,a.push(f+33,g+33,d+33,m+33,y+33)):a.push(122);return function(C,x){for(var w=x;w>0;w--)C.pop()}(a,s.length),String.fromCharCode.apply(String,a)+"~>"},n=function(o){var s,a,l,c,h,f=String,g="length",d=255,m="charCodeAt",y="slice",C="replace";for(o[y](-2),o=o[y](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),l=[],c=0,h=(o+=s="uuuuu"[y](o[g]%5||5))[g];h>c;c+=5)a=52200625*(o[m](c)-33)+614125*(o[m](c+1)-33)+7225*(o[m](c+2)-33)+85*(o[m](c+3)-33)+(o[m](c+4)-33),l.push(d&a>>24,d&a>>16,d&a>>8,d&a);return function(x,w){for(var E=w;E>0;E--)x.pop()}(l,s[g]),f.fromCharCode.apply(f,l)},r=function(o){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),s.test(o)===!1)return"";for(var a="",l=0;l<o.length;l+=2)a+=String.fromCharCode("0x"+(o[l]+o[l+1]));return a},i=function(o){for(var s=new Uint8Array(o.length),a=o.length;a--;)s[a]=o.charCodeAt(a);return o=(s=M6(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(o,s){var a=0,l=o||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),a=0;a<s.length;a+=1)switch(s[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Vt.API),function(e){e.loadFile=function(t,n,r){return function(i,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=function(l,c,h){var f=new XMLHttpRequest,g=0,d=function(m){var y=m.length,C=[],x=String.fromCharCode;for(g=0;g<y;g+=1)C.push(x(255&m.charCodeAt(g)));return C.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?h(d(this.responseText)):h(void 0)}),f.send(null),c&&f.status===200)return d(f.responseText)}(i,o,s)}catch{}return a}(t,n,r)},e.loadImageFile=e.loadFile}(Vt.API),function(e){function t(){return(Ut.html2canvas?Promise.resolve(Ut.html2canvas):q3(()=>import("./html2canvas.esm-9trwILPj-715FhcXw.js"),__vite__mapDeps([]))).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function n(){return(Ut.DOMPurify?Promise.resolve(Ut.DOMPurify):q3(()=>import("./purify.es-EBe4grBe-kLyTGMYI.js"),__vite__mapDeps([]))).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var r=function(s){var a=Hn(s);return a==="undefined"?"undefined":a==="string"||s instanceof String?"string":a==="number"||s instanceof Number?"number":a==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(s,a){var l=document.createElement(s);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},o=function s(a){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,s,1,[s])).set(a)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(s,a){return s.__proto__=a||o.prototype,s},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(s,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},o.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,h){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),g=c.firstChild;g;g=g.nextSibling)h!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||f.appendChild(l(g,h));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var g=0;g<c.length;++g){var d=c[g],m=d.src.find(function(y){return y.format==="truetype"});m&&l.addFont(m.url,d.ref.name,d.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),a(this.prop.container,f)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(s,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,a):this.outputPdf(s,a)},o.prototype.outputPdf=function(s,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,a)})},o.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},o.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(s){if(r(s)!=="object")return this;var a=Object.keys(s||{}).map(function(l){if(l in o.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(a)})},o.prototype.get=function(s,a){return this.then(function(){var l=s in o.template.prop?this.prop[s]:this.opt[s];return a?a(l):l})},o.prototype.setMargin=function(s){return this.then(function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},o.prototype.setPageSize=function(s){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||Vt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:a(s.inner.width,s.k),height:a(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},o.prototype.setProgress=function(s,a,l,c){return s!=null&&(this.progress.val=s),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(s,a,l,c){return this.setProgress(s?this.progress.val+s:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},o.prototype.then=function(s,a){var l=this;return this.thenCore(s,a,function(c,h){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,h).then(function(f){return l.updateProgress(1),f})})},o.prototype.thenCore=function(s,a,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),h=l.call(c,s,a);return o.convert(h,this.__proto__)},o.prototype.thenExternal=function(s,a){return Promise.prototype.then.call(this,s,a)},o.prototype.thenList=function(s){var a=this;return s.forEach(function(l){a=a.thenCore(l)}),a},o.prototype.catch=function(s){s&&(s=s.bind(this));var a=Promise.prototype.catch.call(this,s);return o.convert(a,this)},o.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},o.prototype.error=function(s){return this.then(function(){throw new Error(s)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Vt.getPageSize=function(s,a,l){if(Hn(s)==="object"){var c=s;s=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var h,f=(""+l).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+a}var d,m=0,y=0;if(g.hasOwnProperty(f))m=g[f][1]/h,y=g[f][0]/h;else try{m=l[1],y=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",y>m&&(d=y,y=m,m=d);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",m>y&&(d=y,y=m,m=d)}return{width:y,height:m,unit:a,k:h,orientation:s}},e.html=function(s,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(j6):null;var l=new o(a);return a.worker?l:l.from(s).doCallback()}}(Vt.API),Vt.API.addJS=function(e){return c9=e,this.internal.events.subscribe("postPutResources",function(){av=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(av+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),l9=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+c9+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){av!==void 0&&l9!==void 0&&this.internal.out("/Names <</JavaScript "+av+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),o=0;o<i.length;o++){var s=i[o],a=r.exec(s);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,h=[];for(o=0;o<c;o++){var f=n.internal.newObject();h.push(f);var g=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var d=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<h.length;o++)n.internal.write("(page_"+(o+1)+")"+h[o]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+d+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,o){var s={title:i,options:o,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var s=r.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])}(Vt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,o,s,a){var l,c=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(f){for(var g,d=256*f.charCodeAt(4)+f.charCodeAt(5),m=f.length,y={width:0,height:0,numcomponents:1},C=4;C<m;C+=2){if(C+=d,t.indexOf(f.charCodeAt(C+1))!==-1){g=256*f.charCodeAt(C+5)+f.charCodeAt(C+6),y={width:256*f.charCodeAt(C+7)+f.charCodeAt(C+8),height:g,numcomponents:f.charCodeAt(C+9)};break}d=256*f.charCodeAt(C+2)+f.charCodeAt(C+3)}return y}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}h={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return h}}(Vt.API);var lp,lv,h9,f9,d9,Foe=function(){var e,t,n;function r(o){var s,a,l,c,h,f,g,d,m,y,C,x,w,E;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(s=this.readUInt32(),m=(function(){var N,_;for(_=[],N=0;N<4;++N)_.push(String.fromCharCode(this.data[this.pos++]));return _}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*h/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,s-=4),o=(f!=null?f.data:void 0)||this.imgData,x=0;0<=s?x<s:x>s;0<=s?++x:--x)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((y=l-this.transparency.indexed.length)>0)for(w=0;0<=y?w<y:w>y;0<=y?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":g=(C=this.read(s)).indexOf(0),d=String.fromCharCode.apply(String,C.slice(0,g)),this.text[d]=String.fromCharCode.apply(String,C.slice(g+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(E=this.colorType)===4||E===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(o){var s,a;for(a=[],s=0;0<=o?s<o:s>o;0<=o?++s:--s)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(o){var s=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*s),l=0,c=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function h(f,g,d,m){var y,C,x,w,E,N,_,D,P,I,W,G,O,z,U,$,ne,se,ae,Z,le,ue=Math.ceil((c.width-f)/d),ge=Math.ceil((c.height-g)/m),F=c.width==ue&&c.height==ge;for(z=s*ue,G=F?a:new Uint8Array(z*ge),N=o.length,O=0,C=0;O<ge&&l<N;){switch(o[l++]){case 0:for(w=ne=0;ne<z;w=ne+=1)G[C++]=o[l++];break;case 1:for(w=se=0;se<z;w=se+=1)y=o[l++],E=w<s?0:G[C-s],G[C++]=(y+E)%256;break;case 2:for(w=ae=0;ae<z;w=ae+=1)y=o[l++],x=(w-w%s)/s,U=O&&G[(O-1)*z+x*s+w%s],G[C++]=(U+y)%256;break;case 3:for(w=Z=0;Z<z;w=Z+=1)y=o[l++],x=(w-w%s)/s,E=w<s?0:G[C-s],U=O&&G[(O-1)*z+x*s+w%s],G[C++]=(y+Math.floor((E+U)/2))%256;break;case 4:for(w=le=0;le<z;w=le+=1)y=o[l++],x=(w-w%s)/s,E=w<s?0:G[C-s],O===0?U=$=0:(U=G[(O-1)*z+x*s+w%s],$=x&&G[(O-1)*z+(x-1)*s+w%s]),_=E+U-$,D=Math.abs(_-E),I=Math.abs(_-U),W=Math.abs(_-$),P=D<=I&&D<=W?E:I<=W?U:$,G[C++]=(y+P)%256;break;default:throw new Error("Invalid filter algorithm: "+o[l-1])}if(!F){var Q=((g+O*m)*c.width+f)*s,re=O*z;for(w=0;w<ue;w+=1){for(var he=0;he<s;he+=1)a[Q++]=G[re++];Q+=(d-1)*s}}O++}}return o=yoe(o),c.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),a},r.prototype.decodePalette=function(){var o,s,a,l,c,h,f,g,d;for(a=this.palette,h=this.transparency.indexed||[],c=new Uint8Array((h.length||0)+a.length),l=0,o=0,s=f=0,g=a.length;f<g;s=f+=3)c[l++]=a[s],c[l++]=a[s+1],c[l++]=a[s+2],c[l++]=(d=h[o++])!=null?d:255;return c},r.prototype.copyToImageData=function(o,s){var a,l,c,h,f,g,d,m,y,C,x;if(l=this.colors,y=null,a=this.hasAlphaChannel,this.palette.length&&(y=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),l=4,a=!0),m=(c=o.data||o).length,f=y||s,h=g=0,l===1)for(;h<m;)d=y?4*s[h/4]:g,C=f[d++],c[h++]=C,c[h++]=C,c[h++]=C,c[h++]=a?f[d++]:255,g=d;else for(;h<m;)d=y?4*s[h/4]:g,c[h++]=f[d++],c[h++]=f[d++],c[h++]=f[d++],c[h++]=a?f[d++]:255,g=d},r.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var i=function(){if(Object.prototype.toString.call(Ut)==="[object Window]"){try{t=Ut.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(o){var s;if(i()===!0)return n.width=o.width,n.height=o.height,n.clearRect(0,0,o.width,o.height),n.putImageData(o,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(o){var s,a,l,c,h,f,g,d;if(this.animation){for(d=[],a=h=0,f=(g=this.animation.frames).length;h<f;a=++h)s=g[a],l=o.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,c),s.imageData=l,d.push(s.image=e(l));return d}},r.prototype.renderFrame=function(o,s){var a,l,c;return a=(l=this.animation.frames)[s],c=l[s-1],s===0&&o.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?o.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&o.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&o.clearRect(a.xOffset,a.yOffset,a.width,a.height),o.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(o){var s,a,l,c,h,f,g=this;return a=0,f=this.animation,c=f.numFrames,l=f.frames,h=f.numPlays,(s=function(){var d,m;if(d=a++%c,m=l[d],g.renderFrame(o,d),c>1&&a/c<h)return g.animation._timeout=setTimeout(s,m.delay)})()},r.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},r.prototype.render=function(o){var s,a;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,s=o.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(a=s.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),s.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function joe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],o=i>>7,s=1<<(7&i)+1;e[t++],e[t++];var a=null,l=null;o&&(a=t,l=s,t+=3*s);var c=!0,h=[],f=0,g=null,d=0,m=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[t++];f=e[t++]|e[t++]<<8,g=e[t++],!(1&y)&&(g=null),d=y>>2&7,t++;break;case 254:for(;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var C=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,E=e[t++]|e[t++]<<8,N=e[t++],_=N>>6&1,D=1<<(7&N)+1,P=a,I=l,W=!1;N>>7&&(W=!0,P=t,I=D,t+=3*D);var G=t;for(t++;;){var O;if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}h.push({x:C,y:x,width:w,height:E,has_local_palette:W,palette_offset:P,palette_size:I,data_offset:G,data_length:t-G,transparent_index:g,interlaced:!!_,delay:f,disposal:d});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return m},this.frameInfo=function(z){if(z<0||z>=h.length)throw new Error("Frame index out of range.");return h[z]},this.decodeAndBlitFrameBGRA=function(z,U){var $=this.frameInfo(z),ne=$.width*$.height,se=new Uint8Array(ne);p9(e,$.data_offset,se,ne);var ae=$.palette_offset,Z=$.transparent_index;Z===null&&(Z=256);var le=$.width,ue=n-le,ge=le,F=4*($.y*n+$.x),Q=4*(($.y+$.height)*n+$.x),re=F,he=4*ue;$.interlaced===!0&&(he+=4*n*7);for(var pe=8,Se=0,xe=se.length;Se<xe;++Se){var Ee=se[Se];if(ge===0&&(ge=le,(re+=he)>=Q&&(he=4*ue+4*n*(pe-1),re=F+(le+ue)*(pe<<1),pe>>=1)),Ee===Z)re+=4;else{var Ge=e[ae+3*Ee],Be=e[ae+3*Ee+1],Ke=e[ae+3*Ee+2];U[re++]=Ke,U[re++]=Be,U[re++]=Ge,U[re++]=255}--ge}},this.decodeAndBlitFrameRGBA=function(z,U){var $=this.frameInfo(z),ne=$.width*$.height,se=new Uint8Array(ne);p9(e,$.data_offset,se,ne);var ae=$.palette_offset,Z=$.transparent_index;Z===null&&(Z=256);var le=$.width,ue=n-le,ge=le,F=4*($.y*n+$.x),Q=4*(($.y+$.height)*n+$.x),re=F,he=4*ue;$.interlaced===!0&&(he+=4*n*7);for(var pe=8,Se=0,xe=se.length;Se<xe;++Se){var Ee=se[Se];if(ge===0&&(ge=le,(re+=he)>=Q&&(he=4*ue+4*n*(pe-1),re=F+(le+ue)*(pe<<1),pe>>=1)),Ee===Z)re+=4;else{var Ge=e[ae+3*Ee],Be=e[ae+3*Ee+1],Ke=e[ae+3*Ee+2];U[re++]=Ge,U[re++]=Be,U[re++]=Ke,U[re++]=255}--ge}}}function p9(e,t,n,r){for(var i=e[t++],o=1<<i,s=o+1,a=s+1,l=i+1,c=(1<<l)-1,h=0,f=0,g=0,d=e[t++],m=new Int32Array(4096),y=null;;){for(;h<16&&d!==0;)f|=e[t++]<<h,h+=8,d===1?d=e[t++]:--d;if(h<l)break;var C=f&c;if(f>>=l,h-=l,C!==o){if(C===s)break;for(var x=C<a?C:y,w=0,E=x;E>o;)E=m[E]>>8,++w;var N=E;if(g+w+(x!==C?1:0)>r)return void er.log("Warning, gif stream longer than expected.");n[g++]=N;var _=g+=w;for(x!==C&&(n[g++]=N),E=x;w--;)E=m[E],n[--_]=255&E,E>>=8;y!==null&&a<4096&&(m[a++]=y<<8|N,a>=c+1&&l<12&&(++l,c=c<<1|1)),y=C}else a=s+1,c=(1<<(l=i+1))-1,y=null}return g!==r&&er.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function a4(e){var t,n,r,i,o,s=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),h=new Array(64),f=new Array(65535),g=new Array(65535),d=new Array(64),m=new Array(64),y=[],C=0,x=7,w=new Array(64),E=new Array(64),N=new Array(64),_=new Array(256),D=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],z=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ne=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function se(F,Q){for(var re=0,he=0,pe=new Array,Se=1;Se<=16;Se++){for(var xe=1;xe<=F[Se];xe++)pe[Q[he]]=[],pe[Q[he]][0]=re,pe[Q[he]][1]=Se,he++,re++;re*=2}return pe}function ae(F){for(var Q=F[0],re=F[1]-1;re>=0;)Q&1<<re&&(C|=1<<x),re--,--x<0&&(C==255?(Z(255),Z(0)):Z(C),x=7,C=0)}function Z(F){y.push(F)}function le(F){Z(F>>8&255),Z(255&F)}function ue(F,Q,re,he,pe){for(var Se,xe=pe[0],Ee=pe[240],Ge=function(ze,je){var oe,ee,te,Ne,Oe,qe,Qe,nt,lt,xt,Ve=0;for(lt=0;lt<8;++lt){oe=ze[Ve],ee=ze[Ve+1],te=ze[Ve+2],Ne=ze[Ve+3],Oe=ze[Ve+4],qe=ze[Ve+5],Qe=ze[Ve+6];var ot=oe+(nt=ze[Ve+7]),Et=oe-nt,mn=ee+Qe,Jt=ee-Qe,Rt=te+qe,qn=te-qe,ht=Ne+Oe,Xn=Ne-Oe,Sn=ot+ht,yt=ot-ht,ln=mn+Rt,Dt=mn-Rt;ze[Ve]=Sn+ln,ze[Ve+4]=Sn-ln;var Pt=.707106781*(Dt+yt);ze[Ve+2]=yt+Pt,ze[Ve+6]=yt-Pt;var It=.382683433*((Sn=Xn+qn)-(Dt=Jt+Et)),Fr=.5411961*Sn+It,dn=1.306562965*Dt+It,ar=.707106781*(ln=qn+Jt),On=Et+ar,At=Et-ar;ze[Ve+5]=At+Fr,ze[Ve+3]=At-Fr,ze[Ve+1]=On+dn,ze[Ve+7]=On-dn,Ve+=8}for(Ve=0,lt=0;lt<8;++lt){oe=ze[Ve],ee=ze[Ve+8],te=ze[Ve+16],Ne=ze[Ve+24],Oe=ze[Ve+32],qe=ze[Ve+40],Qe=ze[Ve+48];var Li=oe+(nt=ze[Ve+56]),Fo=oe-nt,jr=ee+Qe,gr=ee-Qe,lr=te+qe,fi=te-qe,Wn=Ne+Oe,Yr=Ne-Oe,_i=Li+Wn,di=Li-Wn,yo=jr+lr,Vi=jr-lr;ze[Ve]=_i+yo,ze[Ve+32]=_i-yo;var jo=.707106781*(Vi+di);ze[Ve+16]=di+jo,ze[Ve+48]=di-jo;var Fs=.382683433*((_i=Yr+fi)-(Vi=gr+Fo)),Kl=.5411961*_i+Fs,Fc=1.306562965*Vi+Fs,jc=.707106781*(yo=fi+gr),Bc=Fo+jc,fa=Fo-jc;ze[Ve+40]=fa+Kl,ze[Ve+24]=fa-Kl,ze[Ve+8]=Bc+Fc,ze[Ve+56]=Bc-Fc,Ve++}for(lt=0;lt<64;++lt)xt=ze[lt]*je[lt],d[lt]=xt>0?xt+.5|0:xt-.5|0;return d}(F,Q),Be=0;Be<64;++Be)m[P[Be]]=Ge[Be];var Ke=m[0]-re;re=m[0],Ke==0?ae(he[0]):(ae(he[g[Se=32767+Ke]]),ae(f[Se]));for(var it=63;it>0&&m[it]==0;)it--;if(it==0)return ae(xe),re;for(var at,Re=1;Re<=it;){for(var fe=Re;m[Re]==0&&Re<=it;)++Re;var vt=Re-fe;if(vt>=16){at=vt>>4;for(var De=1;De<=at;++De)ae(Ee);vt&=15}Se=32767+m[Re],ae(pe[(vt<<4)+g[Se]]),ae(f[Se]),Re++}return it!=63&&ae(xe),re}function ge(F){F=Math.min(Math.max(F,1),100),o!=F&&(function(Q){for(var re=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],he=0;he<64;he++){var pe=s((re[he]*Q+50)/100);pe=Math.min(Math.max(pe,1),255),a[P[he]]=pe}for(var Se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var Ee=s((Se[xe]*Q+50)/100);Ee=Math.min(Math.max(Ee,1),255),l[P[xe]]=Ee}for(var Ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Be=0,Ke=0;Ke<8;Ke++)for(var it=0;it<8;it++)c[Be]=1/(a[P[Be]]*Ge[Ke]*Ge[it]*8),h[Be]=1/(l[P[Be]]*Ge[Ke]*Ge[it]*8),Be++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),o=F)}this.encode=function(F,Q){Q&&ge(Q),y=new Array,C=0,x=7,le(65496),le(65504),le(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),le(1),le(1),Z(0),Z(0),function(){le(65499),le(132),Z(0);for(var ee=0;ee<64;ee++)Z(a[ee]);Z(1);for(var te=0;te<64;te++)Z(l[te])}(),function(ee,te){le(65472),le(17),Z(8),le(te),le(ee),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)}(F.width,F.height),function(){le(65476),le(418),Z(0);for(var ee=0;ee<16;ee++)Z(I[ee+1]);for(var te=0;te<=11;te++)Z(W[te]);Z(16);for(var Ne=0;Ne<16;Ne++)Z(G[Ne+1]);for(var Oe=0;Oe<=161;Oe++)Z(O[Oe]);Z(1);for(var qe=0;qe<16;qe++)Z(z[qe+1]);for(var Qe=0;Qe<=11;Qe++)Z(U[Qe]);Z(17);for(var nt=0;nt<16;nt++)Z($[nt+1]);for(var lt=0;lt<=161;lt++)Z(ne[lt])}(),le(65498),le(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var re=0,he=0,pe=0;C=0,x=7,this.encode.displayName="_encode_";for(var Se,xe,Ee,Ge,Be,Ke,it,at,Re,fe=F.data,vt=F.width,De=F.height,ze=4*vt,je=0;je<De;){for(Se=0;Se<ze;){for(Be=ze*je+Se,it=-1,at=0,Re=0;Re<64;Re++)Ke=Be+(at=Re>>3)*ze+(it=4*(7&Re)),je+at>=De&&(Ke-=ze*(je+1+at-De)),Se+it>=ze&&(Ke-=Se+it-ze+4),xe=fe[Ke++],Ee=fe[Ke++],Ge=fe[Ke++],w[Re]=(D[xe]+D[Ee+256>>0]+D[Ge+512>>0]>>16)-128,E[Re]=(D[xe+768>>0]+D[Ee+1024>>0]+D[Ge+1280>>0]>>16)-128,N[Re]=(D[xe+1280>>0]+D[Ee+1536>>0]+D[Ge+1792>>0]>>16)-128;re=ue(w,c,re,t,r),he=ue(E,h,he,n,i),pe=ue(N,h,pe,n,i),Se+=32}je+=8}if(x>=0){var oe=[];oe[1]=x+1,oe[0]=(1<<x+1)-1,ae(oe)}return le(65497),new Uint8Array(y)},e=e||50,function(){for(var F=String.fromCharCode,Q=0;Q<256;Q++)_[Q]=F(Q)}(),t=se(I,W),n=se(z,U),r=se(G,O),i=se($,ne),function(){for(var F=1,Q=2,re=1;re<=15;re++){for(var he=F;he<Q;he++)g[32767+he]=re,f[32767+he]=[],f[32767+he][1]=re,f[32767+he][0]=he;for(var pe=-(Q-1);pe<=-F;pe++)g[32767+pe]=re,f[32767+pe]=[],f[32767+pe][1]=re,f[32767+pe][0]=Q-1+pe;F<<=1,Q<<=1}}(),function(){for(var F=0;F<256;F++)D[F]=19595*F,D[F+256>>0]=38470*F,D[F+512>>0]=7471*F+32768,D[F+768>>0]=-11059*F,D[F+1024>>0]=-21709*F,D[F+1280>>0]=32768*F+8421375,D[F+1536>>0]=-27439*F,D[F+1792>>0]=-5329*F}(),ge(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Pa(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function g9(e){function t(I){if(!I)throw Error("assert :P")}function n(I,W,G){for(var O=0;4>O;O++)if(I[W+O]!=G.charCodeAt(O))return!0;return!1}function r(I,W,G,O,z){for(var U=0;U<z;U++)I[W+U]=G[O+U]}function i(I,W,G,O){for(var z=0;z<O;z++)I[W+z]=G}function o(I){return new Int32Array(I)}function s(I,W){for(var G=[],O=0;O<I;O++)G.push(new W);return G}function a(I,W){var G=[];return function O(z,U,$){for(var ne=$[U],se=0;se<ne&&(z.push($.length>U+1?[]:new W),!($.length<U+1));se++)O(z[se],U+1,$)}(G,0,I),G}var l=function(){var I=this;function W(v,b){for(var L=1<<b-1>>>0;v&L;)L>>>=1;return L?(v&L-1)+L:v}function G(v,b,L,R,j){t(!(R%L));do v[b+(R-=L)]=j;while(0<R)}function O(v,b,L,R,j){if(t(2328>=j),512>=j)var q=o(512);else if((q=o(j))==null)return 0;return function(H,K,J,ie,be,Pe){var Te,Ae,He=K,Ie=1<<J,we=o(16),ke=o(16);for(t(be!=0),t(ie!=null),t(H!=null),t(0<J),Ae=0;Ae<be;++Ae){if(15<ie[Ae])return 0;++we[ie[Ae]]}if(we[0]==be)return 0;for(ke[1]=0,Te=1;15>Te;++Te){if(we[Te]>1<<Te)return 0;ke[Te+1]=ke[Te]+we[Te]}for(Ae=0;Ae<be;++Ae)Te=ie[Ae],0<ie[Ae]&&(Pe[ke[Te]++]=Ae);if(ke[15]==1)return(ie=new z).g=0,ie.value=Pe[0],G(H,He,1,Ie,ie),Ie;var We,Ze=-1,Ue=Ie-1,pt=0,st=1,St=1,ct=1<<J;for(Ae=0,Te=1,be=2;Te<=J;++Te,be<<=1){if(st+=St<<=1,0>(St-=we[Te]))return 0;for(;0<we[Te];--we[Te])(ie=new z).g=Te,ie.value=Pe[Ae++],G(H,He+pt,be,ct,ie),pt=W(pt,Te)}for(Te=J+1,be=2;15>=Te;++Te,be<<=1){if(st+=St<<=1,0>(St-=we[Te]))return 0;for(;0<we[Te];--we[Te]){if(ie=new z,(pt&Ue)!=Ze){for(He+=ct,We=1<<(Ze=Te)-J;15>Ze&&!(0>=(We-=we[Ze]));)++Ze,We<<=1;Ie+=ct=1<<(We=Ze-J),H[K+(Ze=pt&Ue)].g=We+J,H[K+Ze].value=He-K-Ze}ie.g=Te-J,ie.value=Pe[Ae++],G(H,He+(pt>>J),be,ct,ie),pt=W(pt,Te)}}return st!=2*ke[15]-1?0:Ie}(v,b,L,R,j,q)}function z(){this.value=this.g=0}function U(){this.value=this.g=0}function $(){this.G=s(5,z),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Hi,U)}function ne(v,b,L,R){t(v!=null),t(b!=null),t(2147483648>R),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=b,v.pa=L,v.Jd=b,v.Yc=L+R,v.Zc=4<=R?L+R-4+1:L,Se(v)}function se(v,b){for(var L=0;0<b--;)L|=Ee(v,128)<<b;return L}function ae(v,b){var L=se(v,b);return xe(v)?-L:L}function Z(v,b,L,R){var j,q=0;for(t(v!=null),t(b!=null),t(4294967288>R),v.Sb=R,v.Ra=0,v.u=0,v.h=0,4<R&&(R=4),j=0;j<R;++j)q+=b[L+j]<<8*j;v.Ra=q,v.bb=R,v.oa=b,v.pa=L}function le(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<su-8>>>0,++v.bb,v.u-=8;re(v)&&(v.h=1,v.u=0)}function ue(v,b){if(t(0<=b),!v.h&&b<=ou){var L=Q(v)&hs[b];return v.u+=b,le(v),L}return v.h=1,v.u=0}function ge(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(v){return v.Ra>>>(v.u&su-1)>>>0}function re(v){return t(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>su}function he(v,b){v.u=b,v.h=re(v)}function pe(v){v.u>=ec&&(t(v.u>=ec),le(v))}function Se(v){t(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(t(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function xe(v){return se(v,1)}function Ee(v,b){var L=v.Ca;0>v.b&&Se(v);var R=v.b,j=L*b>>>8,q=(v.I>>>R>j)+0;for(q?(L-=j,v.I-=j+1<<R>>>0):L=j+1,R=L,j=0;256<=R;)j+=8,R>>=8;return R=7^j+Oi[R],v.b-=R,v.Ca=(L<<R)-1,q}function Ge(v,b,L){v[b+0]=L>>24&255,v[b+1]=L>>16&255,v[b+2]=L>>8&255,v[b+3]=L>>0&255}function Be(v,b){return v[b+0]<<0|v[b+1]<<8}function Ke(v,b){return Be(v,b)|v[b+2]<<16}function it(v,b){return Be(v,b)|Be(v,b+2)<<16}function at(v,b){var L=1<<b;return t(v!=null),t(0<b),v.X=o(L),v.X==null?0:(v.Mb=32-b,v.Xa=b,1)}function Re(v,b){t(v!=null),t(b!=null),t(v.Xa==b.Xa),r(b.X,0,v.X,0,1<<b.Xa)}function fe(){this.X=[],this.Xa=this.Mb=0}function vt(v,b,L,R){t(L!=null),t(R!=null);var j=L[0],q=R[0];return j==0&&(j=(v*q+b/2)/b),q==0&&(q=(b*j+v/2)/v),0>=j||0>=q?0:(L[0]=j,R[0]=q,1)}function De(v,b){return v+(1<<b)-1>>>b}function ze(v,b){return((4278255360&v)+(4278255360&b)>>>0&4278255360)+((16711935&v)+(16711935&b)>>>0&16711935)>>>0}function je(v,b){I[b]=function(L,R,j,q,H,K,J){var ie;for(ie=0;ie<H;++ie){var be=I[v](K[J+ie-1],j,q+ie);K[J+ie]=ze(L[R+ie],be)}}}function oe(){this.ud=this.hd=this.jd=0}function ee(v,b){return((4278124286&(v^b))>>>1)+(v&b)>>>0}function te(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function Ne(v,b){return te(v+(v-b+.5>>1))}function Oe(v,b,L){return Math.abs(b-L)-Math.abs(v-L)}function qe(v,b,L,R,j,q,H){for(R=q[H-1],L=0;L<j;++L)q[H+L]=R=ze(v[b+L],R)}function Qe(v,b,L,R,j){var q;for(q=0;q<L;++q){var H=v[b+q],K=H>>8&255,J=16711935&(J=(J=16711935&H)+((K<<16)+K));R[j+q]=(4278255360&H)+J>>>0}}function nt(v,b){b.jd=v>>0&255,b.hd=v>>8&255,b.ud=v>>16&255}function lt(v,b,L,R,j,q){var H;for(H=0;H<R;++H){var K=b[L+H],J=K>>>8,ie=K,be=255&(be=(be=K>>>16)+((v.jd<<24>>24)*(J<<24>>24)>>>5));ie=255&(ie=(ie=ie+((v.hd<<24>>24)*(J<<24>>24)>>>5))+((v.ud<<24>>24)*(be<<24>>24)>>>5)),j[q+H]=(4278255360&K)+(be<<16)+ie}}function xt(v,b,L,R,j){I[b]=function(q,H,K,J,ie,be,Pe,Te,Ae){for(J=Pe;J<Te;++J)for(Pe=0;Pe<Ae;++Pe)ie[be++]=j(K[R(q[H++])])},I[v]=function(q,H,K,J,ie,be,Pe){var Te=8>>q.b,Ae=q.Ea,He=q.K[0],Ie=q.w;if(8>Te)for(q=(1<<q.b)-1,Ie=(1<<Te)-1;H<K;++H){var we,ke=0;for(we=0;we<Ae;++we)we&q||(ke=R(J[ie++])),be[Pe++]=j(He[ke&Ie]),ke>>=Te}else I["VP8LMapColor"+L](J,ie,He,Ie,be,Pe,H,K,Ae)}}function Ve(v,b,L,R,j){for(L=b+L;b<L;){var q=v[b++];R[j++]=q>>16&255,R[j++]=q>>8&255,R[j++]=q>>0&255}}function ot(v,b,L,R,j){for(L=b+L;b<L;){var q=v[b++];R[j++]=q>>16&255,R[j++]=q>>8&255,R[j++]=q>>0&255,R[j++]=q>>24&255}}function Et(v,b,L,R,j){for(L=b+L;b<L;){var q=(H=v[b++])>>16&240|H>>12&15,H=H>>0&240|H>>28&15;R[j++]=q,R[j++]=H}}function mn(v,b,L,R,j){for(L=b+L;b<L;){var q=(H=v[b++])>>16&248|H>>13&7,H=H>>5&224|H>>3&31;R[j++]=q,R[j++]=H}}function Jt(v,b,L,R,j){for(L=b+L;b<L;){var q=v[b++];R[j++]=q>>0&255,R[j++]=q>>8&255,R[j++]=q>>16&255}}function Rt(v,b,L,R,j,q){if(q==0)for(L=b+L;b<L;)Ge(R,((q=v[b++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),j+=32;else r(R,j,v,b,L)}function qn(v,b){I[b][0]=I[v+"0"],I[b][1]=I[v+"1"],I[b][2]=I[v+"2"],I[b][3]=I[v+"3"],I[b][4]=I[v+"4"],I[b][5]=I[v+"5"],I[b][6]=I[v+"6"],I[b][7]=I[v+"7"],I[b][8]=I[v+"8"],I[b][9]=I[v+"9"],I[b][10]=I[v+"10"],I[b][11]=I[v+"11"],I[b][12]=I[v+"12"],I[b][13]=I[v+"13"],I[b][14]=I[v+"0"],I[b][15]=I[v+"0"]}function ht(v){return v==lu||v==cu||v==uu||v==tm}function Xn(){this.eb=[],this.size=this.A=this.fb=0}function Sn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function yt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Xn,this.f.kb=new Sn,this.sd=null}function ln(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Dt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Pt(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function It(v,b){var L=v.T,R=b.ba.f.RGBA,j=R.eb,q=R.fb+v.ka*R.A,H=bo[b.ba.S],K=v.y,J=v.O,ie=v.f,be=v.N,Pe=v.ea,Te=v.W,Ae=b.cc,He=b.dc,Ie=b.Mc,we=b.Nc,ke=v.ka,We=v.ka+v.T,Ze=v.U,Ue=Ze+1>>1;for(ke==0?H(K,J,null,null,ie,be,Pe,Te,ie,be,Pe,Te,j,q,null,null,Ze):(H(b.ec,b.fc,K,J,Ae,He,Ie,we,ie,be,Pe,Te,j,q-R.A,j,q,Ze),++L);ke+2<We;ke+=2)Ae=ie,He=be,Ie=Pe,we=Te,be+=v.Rc,Te+=v.Rc,q+=2*R.A,H(K,(J+=2*v.fa)-v.fa,K,J,Ae,He,Ie,we,ie,be,Pe,Te,j,q-R.A,j,q,Ze);return J+=v.fa,v.j+We<v.o?(r(b.ec,b.fc,K,J,Ze),r(b.cc,b.dc,ie,be,Ue),r(b.Mc,b.Nc,Pe,Te,Ue),L--):1&We||H(K,J,null,null,ie,be,Pe,Te,ie,be,Pe,Te,j,q+R.A,null,null,Ze),L}function Fr(v,b,L){var R=v.F,j=[v.J];if(R!=null){var q=v.U,H=b.ba.S,K=H==Fd||H==uu;b=b.ba.f.RGBA;var J=[0],ie=v.ka;J[0]=v.T,v.Kb&&(ie==0?--J[0]:(--ie,j[0]-=v.width),v.j+v.ka+v.T==v.o&&(J[0]=v.o-v.j-ie));var be=b.eb;ie=b.fb+ie*b.A,v=zd(R,j[0],v.width,q,J,be,ie+(K?0:3),b.A),t(L==J),v&&ht(H)&&ya(be,ie,K,q,J,b.A)}return 0}function dn(v){var b=v.ma,L=b.ba.S,R=11>L,j=L==el||L==tc||L==Fd||L==em||L==12||ht(L);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!qh(b.Oa,v,j?11:12))return 0;if(j&&ht(L)&&et(),v.da)alert("todo:use_scaling");else{if(R){if(b.Ib=Pt,v.Kb){if(L=v.U+1>>1,b.memory=o(v.U+2*L),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+v.U,b.Mc=b.cc,b.Nc=b.dc+L,b.Ib=It,et()}}else alert("todo:EmitYUV");j&&(b.Jb=Fr,R&&_e())}if(R&&!e1){for(v=0;256>v;++v)Ca[v]=89858*(v-128)+Hs>>Bd,hb[v]=-22014*(v-128)+Hs,ub[v]=-45773*(v-128),cb[v]=113618*(v-128)+Hs>>Bd;for(v=tf;v<im;++v)b=76283*(v-16)+Hs>>Bd,fb[v-tf]=nr(b,255),db[v-tf]=nr(b+8>>4,15);e1=1}return 1}function ar(v){var b=v.ma,L=v.U,R=v.T;return t(!(1&v.ka)),0>=L||0>=R?0:(L=b.Ib(v,b),b.Jb!=null&&b.Jb(v,b,L),b.Dc+=L,1)}function On(v){v.ma.memory=null}function At(v,b,L,R){return ue(v,8)!=47?0:(b[0]=ue(v,14)+1,L[0]=ue(v,14)+1,R[0]=ue(v,1),ue(v,3)!=0?0:!v.h)}function Li(v,b){if(4>v)return v+1;var L=v-2>>1;return(2+(1&v)<<L)+ue(b,L)+1}function Fo(v,b){return 120<b?b-120:1<=(L=((L=rb[b-1])>>4)*v+(8-(15&L)))?L:1;var L}function jr(v,b,L){var R=Q(L),j=v[b+=255&R].g-8;return 0<j&&(he(L,L.u+8),R=Q(L),b+=v[b].value,b+=R&(1<<j)-1),he(L,L.u+v[b].g),v[b].value}function gr(v,b,L){return L.g+=v.g,L.value+=v.value<<b>>>0,t(8>=L.g),v.g}function lr(v,b,L){var R=v.xc;return t((b=R==0?0:v.vc[v.md*(L>>R)+(b>>R)])<v.Wb),v.Ya[b]}function fi(v,b,L,R){var j=v.ab,q=v.c*b,H=v.C;b=H+b;var K=L,J=R;for(R=v.Ta,L=v.Ua;0<j--;){var ie=v.gc[j],be=H,Pe=b,Te=K,Ae=J,He=(J=R,K=L,ie.Ea);switch(t(be<Pe),t(Pe<=ie.nc),ie.hc){case 2:Id(Te,Ae,(Pe-be)*He,J,K);break;case 0:var Ie=be,we=Pe,ke=J,We=K,Ze=(ct=ie).Ea;Ie==0&&(qs(Te,Ae,null,null,1,ke,We),qe(Te,Ae+1,0,0,Ze-1,ke,We+1),Ae+=Ze,We+=Ze,++Ie);for(var Ue=1<<ct.b,pt=Ue-1,st=De(Ze,ct.b),St=ct.K,ct=ct.w+(Ie>>ct.b)*st;Ie<we;){var wn=St,Nn=ct,an=1;for(Ja(Te,Ae,ke,We-Ze,1,ke,We);an<Ze;){var Kt=(an&~pt)+Ue;Kt>Ze&&(Kt=Ze),(0,da[wn[Nn++]>>8&15])(Te,Ae+ +an,ke,We+an-Ze,Kt-an,ke,We+an),an=Kt}Ae+=Ze,We+=Ze,++Ie&pt||(ct+=st)}Pe!=ie.nc&&r(J,K-He,J,K+(Pe-be-1)*He,He);break;case 1:for(He=Te,we=Ae,Ze=(Te=ie.Ea)-(We=Te&~(ke=(Ae=1<<ie.b)-1)),Ie=De(Te,ie.b),Ue=ie.K,ie=ie.w+(be>>ie.b)*Ie;be<Pe;){for(pt=Ue,st=ie,St=new oe,ct=we+We,wn=we+Te;we<ct;)nt(pt[st++],St),Vo(St,He,we,Ae,J,K),we+=Ae,K+=Ae;we<wn&&(nt(pt[st++],St),Vo(St,He,we,Ze,J,K),we+=Ze,K+=Ze),++be&ke||(ie+=Ie)}break;case 3:if(Te==J&&Ae==K&&0<ie.b){for(we=J,Te=He=K+(Pe-be)*He-(We=(Pe-be)*De(ie.Ea,ie.b)),Ae=J,ke=K,Ie=[],We=(Ze=We)-1;0<=We;--We)Ie[We]=Ae[ke+We];for(We=Ze-1;0<=We;--We)we[Te+We]=Ie[We];fs(ie,be,Pe,J,He,J,K)}else fs(ie,be,Pe,Te,Ae,J,K)}K=R,J=L}J!=L&&r(R,L,K,J,q)}function Wn(v,b){var L=v.V,R=v.Ba+v.c*v.C,j=b-v.C;if(t(b<=v.l.o),t(16>=j),0<j){var q=v.l,H=v.Ta,K=v.Ua,J=q.width;if(fi(v,j,L,R),j=K=[K],t((L=v.C)<(R=b)),t(q.v<q.va),R>q.o&&(R=q.o),L<q.j){var ie=q.j-L;L=q.j,j[0]+=ie*J}if(L>=R?L=0:(j[0]+=4*q.v,q.ka=L-q.j,q.U=q.va-q.v,q.T=R-L,L=1),L){if(K=K[0],11>(L=v.ca).S){var be=L.f.RGBA,Pe=(R=L.S,j=q.U,q=q.T,ie=be.eb,be.A),Te=q;for(be=be.fb+v.Ma*be.A;0<Te--;){var Ae=H,He=K,Ie=j,we=ie,ke=be;switch(R){case Jh:ds(Ae,He,Ie,we,ke);break;case el:Qa(Ae,He,Ie,we,ke);break;case lu:Qa(Ae,He,Ie,we,ke),ya(we,ke,0,Ie,1,0);break;case tl:ps(Ae,He,Ie,we,ke);break;case tc:Rt(Ae,He,Ie,we,ke,1);break;case cu:Rt(Ae,He,Ie,we,ke,1),ya(we,ke,0,Ie,1,0);break;case Fd:Rt(Ae,He,Ie,we,ke,0);break;case uu:Rt(Ae,He,Ie,we,ke,0),ya(we,ke,1,Ie,1,0);break;case em:Ws(Ae,He,Ie,we,ke);break;case tm:Ws(Ae,He,Ie,we,ke),wa(we,ke,Ie,1,0);break;case K2:pa(Ae,He,Ie,we,ke);break;default:t(0)}K+=J,be+=Pe}v.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");t(v.Ma<=L.height)}}v.C=b,t(v.C<=v.i)}function Yr(v){var b;if(0<v.ua)return 0;for(b=0;b<v.Wb;++b){var L=v.Ya[b].G,R=v.Ya[b].H;if(0<L[1][R[1]+0].g||0<L[2][R[2]+0].g||0<L[3][R[3]+0].g)return 0}return 1}function _i(v,b,L,R,j,q){if(v.Z!=0){var H=v.qd,K=v.rd;for(t(Uo[v.Z]!=null);b<L;++b)Uo[v.Z](H,K,R,j,R,j,q),H=R,K=j,j+=q;v.qd=H,v.rd=K}}function di(v,b){var L=v.l.ma,R=L.Z==0||L.Z==1?v.l.j:v.C;if(R=v.C<R?R:v.C,t(b<=v.l.o),b>R){var j=v.l.width,q=L.ca,H=L.tb+j*R,K=v.V,J=v.Ba+v.c*R,ie=v.gc;t(v.ab==1),t(ie[0].hc==3),Xa(ie[0],R,b,K,J,q,H),_i(L,R,b,q,H,j)}v.C=v.Ma=b}function yo(v,b,L,R,j,q,H){var K=v.$/R,J=v.$%R,ie=v.m,be=v.s,Pe=L+v.$,Te=Pe;j=L+R*j;var Ae=L+R*q,He=280+be.ua,Ie=v.Pb?K:16777216,we=0<be.ua?be.Wa:null,ke=be.wc,We=Pe<Ae?lr(be,J,K):null;t(v.C<q),t(Ae<=j);var Ze=!1;e:for(;;){for(;Ze||Pe<Ae;){var Ue=0;if(K>=Ie){var pt=Pe-L;t((Ie=v).Pb),Ie.wd=Ie.m,Ie.xd=pt,0<Ie.s.ua&&Re(Ie.s.Wa,Ie.s.vb),Ie=K+X2}if(J&ke||(We=lr(be,J,K)),t(We!=null),We.Qb&&(b[Pe]=We.qb,Ze=!0),!Ze)if(pe(ie),We.jc){Ue=ie,pt=b;var st=Pe,St=We.pd[Q(Ue)&Hi-1];t(We.jc),256>St.g?(he(Ue,Ue.u+St.g),pt[st]=St.value,Ue=0):(he(Ue,Ue.u+St.g-256),t(256<=St.value),Ue=St.value),Ue==0&&(Ze=!0)}else Ue=jr(We.G[0],We.H[0],ie);if(ie.h)break;if(Ze||256>Ue){if(!Ze)if(We.nd)b[Pe]=(We.qb|Ue<<8)>>>0;else{if(pe(ie),Ze=jr(We.G[1],We.H[1],ie),pe(ie),pt=jr(We.G[2],We.H[2],ie),st=jr(We.G[3],We.H[3],ie),ie.h)break;b[Pe]=(st<<24|Ze<<16|Ue<<8|pt)>>>0}if(Ze=!1,++Pe,++J>=R&&(J=0,++K,H!=null&&K<=q&&!(K%16)&&H(v,K),we!=null))for(;Te<Pe;)Ue=b[Te++],we.X[(506832829*Ue&4294967295)>>>we.Mb]=Ue}else if(280>Ue){if(Ue=Li(Ue-256,ie),pt=jr(We.G[4],We.H[4],ie),pe(ie),pt=Fo(R,pt=Li(pt,ie)),ie.h)break;if(Pe-L<pt||j-Pe<Ue)break e;for(st=0;st<Ue;++st)b[Pe+st]=b[Pe+st-pt];for(Pe+=Ue,J+=Ue;J>=R;)J-=R,++K,H!=null&&K<=q&&!(K%16)&&H(v,K);if(t(Pe<=j),J&ke&&(We=lr(be,J,K)),we!=null)for(;Te<Pe;)Ue=b[Te++],we.X[(506832829*Ue&4294967295)>>>we.Mb]=Ue}else{if(!(Ue<He))break e;for(Ze=Ue-280,t(we!=null);Te<Pe;)Ue=b[Te++],we.X[(506832829*Ue&4294967295)>>>we.Mb]=Ue;Ue=Pe,t(!(Ze>>>(pt=we).Xa)),b[Ue]=pt.X[Ze],Ze=!0}Ze||t(ie.h==re(ie))}if(v.Pb&&ie.h&&Pe<j)t(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&Re(v.s.vb,v.s.Wa);else{if(ie.h)break e;H!=null&&H(v,K>q?q:K),v.a=0,v.$=Pe-L}return 1}return v.a=3,0}function Vi(v){t(v!=null),v.vc=null,v.yc=null,v.Ya=null;var b=v.Wa;b!=null&&(b.X=null),v.vb=null,t(v!=null)}function jo(){var v=new eu;return v==null?null:(v.a=0,v.xb=Zh,qn("Predictor","VP8LPredictors"),qn("Predictor","VP8LPredictors_C"),qn("PredictorAdd","VP8LPredictorsAdd"),qn("PredictorAdd","VP8LPredictorsAdd_C"),Id=Qe,Vo=lt,ds=Ve,Qa=ot,Ws=Et,pa=mn,ps=Jt,I.VP8LMapColor32b=Hh,I.VP8LMapColor8b=wo,v)}function Fs(v,b,L,R,j){var q=1,H=[v],K=[b],J=R.m,ie=R.s,be=null,Pe=0;e:for(;;){if(L)for(;q&&ue(J,1);){var Te=H,Ae=K,He=R,Ie=1,we=He.m,ke=He.gc[He.ab],We=ue(we,2);if(He.Oc&1<<We)q=0;else{switch(He.Oc|=1<<We,ke.hc=We,ke.Ea=Te[0],ke.nc=Ae[0],ke.K=[null],++He.ab,t(4>=He.ab),We){case 0:case 1:ke.b=ue(we,3)+2,Ie=Fs(De(ke.Ea,ke.b),De(ke.nc,ke.b),0,He,ke.K),ke.K=ke.K[0];break;case 3:var Ze,Ue=ue(we,8)+1,pt=16<Ue?0:4<Ue?1:2<Ue?2:3;if(Te[0]=De(ke.Ea,pt),ke.b=pt,Ze=Ie=Fs(Ue,1,0,He,ke.K)){var st,St=Ue,ct=ke,wn=1<<(8>>ct.b),Nn=o(wn);if(Nn==null)Ze=0;else{var an=ct.K[0],Kt=ct.w;for(Nn[0]=ct.K[0][0],st=1;st<1*St;++st)Nn[st]=ze(an[Kt+st],Nn[st-1]);for(;st<4*wn;++st)Nn[st]=0;ct.K[0]=null,ct.K[0]=Nn,Ze=1}}Ie=Ze;break;case 2:break;default:t(0)}q=Ie}}if(H=H[0],K=K[0],q&&ue(J,1)&&!(q=1<=(Pe=ue(J,4))&&11>=Pe)){R.a=3;break e}var Fn;if(Fn=q)t:{var jn,Wt,Pr,Mi=R,un=H,vi=K,Ln=Pe,wr=L,Ri=Mi.m,Cr=Mi.s,cr=[null],yi=1,Yn=0,qo=ib[Ln];n:for(;;){if(wr&&ue(Ri,1)){var Qr=ue(Ri,3)+2,ka=De(un,Qr),nc=De(vi,Qr),rl=ka*nc;if(!Fs(ka,nc,0,Mi,cr))break n;for(cr=cr[0],Cr.xc=Qr,jn=0;jn<rl;++jn){var il=cr[jn]>>8&65535;cr[jn]=il,il>=yi&&(yi=il+1)}}if(Ri.h)break n;for(Wt=0;5>Wt;++Wt){var Jn=J2[Wt];!Wt&&0<Ln&&(Jn+=1<<Ln),Yn<Jn&&(Yn=Jn)}var Vd=s(yi*qo,z),n1=yi,r1=s(n1,$);if(r1==null)var ol=null;else t(65536>=n1),ol=r1;var nf=o(Yn);if(ol==null||nf==null||Vd==null){Mi.a=1;break n}var Ud=Vd;for(jn=Pr=0;jn<yi;++jn){var So=ol[jn],rc=So.G,gu=So.H,i1=0,qd=1,om=0;for(Wt=0;5>Wt;++Wt){Jn=J2[Wt],rc[Wt]=Ud,gu[Wt]=Pr,!Wt&&0<Ln&&(Jn+=1<<Ln);i:{var mu,sm=Jn,vu=Mi,yu=nf,o1=Ud,s1=Pr,wu=0,sl=vu.m,a1=ue(sl,1);if(i(yu,0,0,sm),a1){var l1=ue(sl,1)+1,mb=ue(sl,1),am=ue(sl,mb==0?1:8);yu[am]=1,l1==2&&(yu[am=ue(sl,8)]=1);var Wd=1}else{var Hd=o(19),lm=ue(sl,4)+4;if(19<lm){vu.a=3;var bu=0;break i}for(mu=0;mu<lm;++mu)Hd[mi[mu]]=ue(sl,3);var cm=void 0,ic=void 0,en=vu,vb=Hd,Gd=sm,xu=yu,Kd=0,al=en.m,c1=8,Co=s(128,z);r:for(;O(Co,0,7,vb,19);){if(ue(al,1)){var yb=2+2*ue(al,3);if((cm=2+ue(al,yb))>Gd)break r}else cm=Gd;for(ic=0;ic<Gd&&cm--;){pe(al);var rf=Co[0+(127&Q(al))];he(al,al.u+rf.g);var ll=rf.value;if(16>ll)xu[ic++]=ll,ll!=0&&(c1=ll);else{var u1=ll==16,um=ll-16,ko=nb[um],Ea=ue(al,Y2[um])+ko;if(ic+Ea>Gd)break r;for(var hm=u1?c1:0;0<Ea--;)xu[ic++]=hm}}Kd=1;break r}Kd||(en.a=3),Wd=Kd}(Wd=Wd&&!sl.h)&&(wu=O(o1,s1,8,yu,sm)),Wd&&wu!=0?bu=wu:(vu.a=3,bu=0)}if(bu==0)break n;if(qd&&Br[Wt]==1&&(qd=Ud[Pr].g==0),i1+=Ud[Pr].g,Pr+=bu,3>=Wt){var Su,Cu=nf[0];for(Su=1;Su<Jn;++Su)nf[Su]>Cu&&(Cu=nf[Su]);om+=Cu}}if(So.nd=qd,So.Qb=0,qd&&(So.qb=(rc[3][gu[3]+0].value<<24|rc[1][gu[1]+0].value<<16|rc[2][gu[2]+0].value)>>>0,i1==0&&256>rc[0][gu[0]+0].value&&(So.Qb=1,So.qb+=rc[0][gu[0]+0].value<<8)),So.jc=!So.Qb&&6>om,So.jc){var of,ms=So;for(of=0;of<Hi;++of){var Aa=of,Ks=ms.pd[Aa],ku=ms.G[0][ms.H[0]+Aa];256<=ku.value?(Ks.g=ku.g+256,Ks.value=ku.value):(Ks.g=0,Ks.value=0,Aa>>=gr(ku,8,Ks),Aa>>=gr(ms.G[1][ms.H[1]+Aa],16,Ks),Aa>>=gr(ms.G[2][ms.H[2]+Aa],0,Ks),gr(ms.G[3][ms.H[3]+Aa],24,Ks))}}}Cr.vc=cr,Cr.Wb=yi,Cr.Ya=ol,Cr.yc=Vd,Fn=1;break t}Fn=0}if(!(q=Fn)){R.a=3;break e}if(0<Pe){if(ie.ua=1<<Pe,!at(ie.Wa,Pe)){R.a=1,q=0;break e}}else ie.ua=0;var Ys=R,h1=H,cl=K,Yd=Ys.s,Jd=Yd.xc;if(Ys.c=h1,Ys.i=cl,Yd.md=De(h1,Jd),Yd.wc=Jd==0?-1:(1<<Jd)-1,L){R.xb=sb;break e}if((be=o(H*K))==null){R.a=1,q=0;break e}q=(q=yo(R,be,0,H,K,K,null))&&!J.h;break e}return q?(j!=null?j[0]=be:(t(be==null),t(L)),R.$=0,L||Vi(ie)):Vi(ie),q}function Kl(v,b){var L=v.c*v.i,R=L+b+16*b;return t(v.c<=b),v.V=o(R),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+L+b,1)}function Fc(v,b){var L=v.C,R=b-L,j=v.V,q=v.Ba+v.c*L;for(t(b<=v.l.o);0<R;){var H=16<R?16:R,K=v.l.ma,J=v.l.width,ie=J*H,be=K.ca,Pe=K.tb+J*L,Te=v.Ta,Ae=v.Ua;fi(v,H,j,q),H2(Te,Ae,be,Pe,ie),_i(K,L,L+H,be,Pe,J),R-=H,j+=H*v.c,L+=H}t(L==b),v.C=v.Ma=b}function jc(){this.ub=this.yd=this.td=this.Rb=0}function Bc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function fa(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function yd(){this.Yb=function(){var v=[];return function b(L,R,j){for(var q=j[R],H=0;H<q&&(L.push(j.length>R+1?[]:0),!(j.length<R+1));H++)b(L[H],R+1,j)}(v,0,[3,11]),v}()}function $c(){this.jb=o(3),this.Wc=a([4,8],yd),this.Xc=a([4,17],yd)}function Vg(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Vc(){this.ld=this.La=this.dd=this.tc=0}function wd(){this.Na=this.la=0}function bd(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Uc(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function xd(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vc),this.Y=0,this.ya=Array(new Uc),this.aa=0,this.l=new qc}function Sd(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Ug(){this.cb=this.a=0,this.sc="",this.m=new ge,this.Od=new jc,this.Kc=new Bc,this.ed=new Vg,this.Qa=new fa,this.Ic=this.$c=this.Aa=0,this.D=new xd,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,ge),this.ia=0,this.pb=s(4,bd),this.Pa=new $c,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Sd),this.Hd=0,this.rb=Array(new wd),this.sb=0,this.wa=Array(new Vc),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Uc),this.L=this.aa=0,this.gd=a([4,2],Vc),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function qc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function qg(){var v=new Ug;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,xa||(xa=Wc)),v}function mr(v,b,L){return v.a==0&&(v.a=b,v.sc=L,v.cb=0),0}function Th(v,b,L){return 3<=L&&v[b+0]==157&&v[b+1]==1&&v[b+2]==42}function Mh(v,b){if(v==null)return 0;if(v.a=0,v.sc="OK",b==null)return mr(v,2,"null VP8Io passed to VP8GetHeaders()");var L=b.data,R=b.w,j=b.ha;if(4>j)return mr(v,7,"Truncated header.");var q=L[R+0]|L[R+1]<<8|L[R+2]<<16,H=v.Od;if(H.Rb=!(1&q),H.td=q>>1&7,H.yd=q>>4&1,H.ub=q>>5,3<H.td)return mr(v,3,"Incorrect keyframe parameters.");if(!H.yd)return mr(v,4,"Frame not displayable.");R+=3,j-=3;var K=v.Kc;if(H.Rb){if(7>j)return mr(v,7,"cannot parse picture header");if(!Th(L,R,j))return mr(v,3,"Bad code word");K.c=16383&(L[R+4]<<8|L[R+3]),K.Td=L[R+4]>>6,K.i=16383&(L[R+6]<<8|L[R+5]),K.Ud=L[R+6]>>6,R+=7,j-=7,v.za=K.c+15>>4,v.Ub=K.i+15>>4,b.width=K.c,b.height=K.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,i((q=v.Pa).jb,0,255,q.jb.length),t((q=v.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,i(q.Zb,0,0,q.Zb.length),i(q.Lb,0,0,q.Lb)}if(H.ub>j)return mr(v,7,"bad partition length");ne(q=v.m,L,R,H.ub),R+=H.ub,j-=H.ub,H.Rb&&(K.Ld=xe(q),K.Kd=xe(q)),K=v.Qa;var J,ie=v.Pa;if(t(q!=null),t(K!=null),K.Cb=xe(q),K.Cb){if(K.Bb=xe(q),xe(q)){for(K.Fb=xe(q),J=0;4>J;++J)K.Zb[J]=xe(q)?ae(q,7):0;for(J=0;4>J;++J)K.Lb[J]=xe(q)?ae(q,6):0}if(K.Bb)for(J=0;3>J;++J)ie.jb[J]=xe(q)?se(q,8):255}else K.Bb=0;if(q.Ka)return mr(v,3,"cannot parse segment header");if((K=v.ed).zd=xe(q),K.Tb=se(q,6),K.wb=se(q,3),K.Pc=xe(q),K.Pc&&xe(q)){for(ie=0;4>ie;++ie)xe(q)&&(K.vd[ie]=ae(q,6));for(ie=0;4>ie;++ie)xe(q)&&(K.od[ie]=ae(q,6))}if(v.L=K.Tb==0?0:K.zd?1:2,q.Ka)return mr(v,3,"cannot parse filter header");var be=j;if(j=J=R,R=J+be,K=be,v.Xb=(1<<se(v.m,2))-1,be<3*(ie=v.Xb))L=7;else{for(J+=3*ie,K-=3*ie,be=0;be<ie;++be){var Pe=L[j+0]|L[j+1]<<8|L[j+2]<<16;Pe>K&&(Pe=K),ne(v.Jc[+be],L,J,Pe),J+=Pe,K-=Pe,j+=3}ne(v.Jc[+ie],L,J,K),L=J<R?0:5}if(L!=0)return mr(v,L,"cannot parse partitions");for(L=se(J=v.m,7),j=xe(J)?ae(J,4):0,R=xe(J)?ae(J,4):0,K=xe(J)?ae(J,4):0,ie=xe(J)?ae(J,4):0,J=xe(J)?ae(J,4):0,be=v.Qa,Pe=0;4>Pe;++Pe){if(be.Cb){var Te=be.Zb[Pe];be.Fb||(Te+=L)}else{if(0<Pe){v.pb[Pe]=v.pb[0];continue}Te=L}var Ae=v.pb[Pe];Ae.Sc[0]=nm[nr(Te+j,127)],Ae.Sc[1]=Xh[nr(Te+0,127)],Ae.Eb[0]=2*nm[nr(Te+R,127)],Ae.Eb[1]=101581*Xh[nr(Te+K,127)]>>16,8>Ae.Eb[1]&&(Ae.Eb[1]=8),Ae.Qc[0]=nm[nr(Te+ie,117)],Ae.Qc[1]=Xh[nr(Te+J,127)],Ae.lc=Te+J}if(!H.Rb)return mr(v,4,"Not a key frame.");for(xe(q),H=v.Pa,L=0;4>L;++L){for(j=0;8>j;++j)for(R=0;3>R;++R)for(K=0;11>K;++K)ie=Ee(q,du[L][j][R][K])?se(q,8):Qh[L][j][R][K],H.Wc[L][j].Yb[R][K]=ie;for(j=0;17>j;++j)H.Xc[L][j]=H.Wc[L][ob[j]]}return v.kc=xe(q),v.kc&&(v.Bd=se(q,8)),v.cb=1}function Wc(v,b,L,R,j,q,H){var K=b[j].Yb[L];for(L=0;16>j;++j){if(!Ee(v,K[L+0]))return j;for(;!Ee(v,K[L+1]);)if(K=b[++j].Yb[0],L=0,j==16)return 16;var J=b[j+1].Yb;if(Ee(v,K[L+2])){var ie=v,be=0;if(Ee(ie,(Te=K)[(Pe=L)+3]))if(Ee(ie,Te[Pe+6])){for(K=0,Pe=2*(be=Ee(ie,Te[Pe+8]))+(Te=Ee(ie,Te[Pe+9+be])),be=0,Te=rm[Pe];Te[K];++K)be+=be+Ee(ie,Te[K]);be+=3+(8<<Pe)}else Ee(ie,Te[Pe+7])?(be=7+2*Ee(ie,165),be+=Ee(ie,145)):be=5+Ee(ie,159);else be=Ee(ie,Te[Pe+4])?3+Ee(ie,Te[Pe+5]):2;K=J[2]}else be=1,K=J[1];J=H+hu[j],0>(ie=v).b&&Se(ie);var Pe,Te=ie.b,Ae=(Pe=ie.Ca>>1)-(ie.I>>Te)>>31;--ie.b,ie.Ca+=Ae,ie.Ca|=1,ie.I-=(Pe+1&Ae)<<Te,q[J]=((be^Ae)-Ae)*R[(0<j)+0]}return 16}function Rh(v){var b=v.rb[v.sb-1];b.la=0,b.Na=0,i(v.zc,0,0,v.zc.length),v.ja=0}function Cd(v,b){if(v==null)return 0;if(b==null)return mr(v,2,"NULL VP8Io parameter in VP8Decode().");if(!v.cb&&!Mh(v,b))return 0;if(t(v.cb),b.ac==null||b.ac(b)){b.ob&&(v.L=0);var L=$d[v.L];if(v.L==2?(v.yb=0,v.zb=0):(v.yb=b.v-L>>4,v.zb=b.j-L>>4,0>v.yb&&(v.yb=0),0>v.zb&&(v.zb=0)),v.Va=b.o+15+L>>4,v.Hb=b.va+15+L>>4,v.Hb>v.za&&(v.Hb=v.za),v.Va>v.Ub&&(v.Va=v.Ub),0<v.L){var R=v.ed;for(L=0;4>L;++L){var j;if(v.Qa.Cb){var q=v.Qa.Lb[L];v.Qa.Fb||(q+=R.Tb)}else q=R.Tb;for(j=0;1>=j;++j){var H=v.gd[L][j],K=q;if(R.Pc&&(K+=R.vd[0],j&&(K+=R.od[0])),0<(K=0>K?0:63<K?63:K)){var J=K;0<R.wb&&(J=4<R.wb?J>>2:J>>1)>9-R.wb&&(J=9-R.wb),1>J&&(J=1),H.dd=J,H.tc=2*K+J,H.ld=40<=K?2:15<=K?1:0}else H.tc=0;H.La=j}}}L=0}else mr(v,6,"Frame setup failed"),L=v.a;if(L=L==0){if(L){v.$c=0,0<v.Aa||(v.Ic=gb);e:{L=v.Ic,R=4*(J=v.za);var ie=32*J,be=J+1,Pe=0<v.L?J*(0<v.Aa?2:1):0,Te=(v.Aa==2?2:1)*J;if((H=R+832+(j=3*(16*L+$d[v.L])/2*ie)+(q=v.Fa!=null&&0<v.Fa.length?v.Kc.c*v.Kc.i:0))!=H)L=0;else{if(H>v.Vb){if(v.Vb=0,v.Ec=o(H),v.Fc=0,v.Ec==null){L=mr(v,1,"no memory during frame initialization.");break e}v.Vb=H}H=v.Ec,K=v.Fc,v.Ac=H,v.Bc=K,K+=R,v.Gd=s(ie,Sd),v.Hd=0,v.rb=s(be+1,wd),v.sb=1,v.wa=Pe?s(Pe,Vc):null,v.Y=0,v.D.Nb=0,v.D.wa=v.wa,v.D.Y=v.Y,0<v.Aa&&(v.D.Y+=J),t(!0),v.oc=H,v.pc=K,K+=832,v.ya=s(Te,Uc),v.aa=0,v.D.ya=v.ya,v.D.aa=v.aa,v.Aa==2&&(v.D.aa+=J),v.R=16*J,v.B=8*J,J=(ie=$d[v.L])*v.R,ie=ie/2*v.B,v.sa=H,v.ta=K+J,v.qa=v.sa,v.ra=v.ta+16*L*v.R+ie,v.Ha=v.qa,v.Ia=v.ra+8*L*v.B+ie,v.$c=0,K+=j,v.mb=q?H:null,v.nb=q?K:null,t(K+q<=v.Fc+v.Vb),Rh(v),i(v.Ac,v.Bc,0,R),L=1}}if(L){if(b.ka=0,b.y=v.sa,b.O=v.ta,b.f=v.qa,b.N=v.ra,b.ea=v.Ha,b.Vd=v.Ia,b.fa=v.R,b.Rc=v.B,b.F=null,b.J=0,!Zg){for(L=-255;255>=L;++L)G2[255+L]=0>L?-L:L;for(L=-1020;1020>=L;++L)Gh[1020+L]=-128>L?-128:127<L?127:L;for(L=-112;112>=L;++L)ba[112+L]=-16>L?-16:15<L?15:L;for(L=-255;510>=L;++L)Kh[255+L]=0>L?0:255<L?255:L;Zg=1}Ce=zh,$e=Ih,ft=kd,_t=Ed,tn=Gc,Me=Dh,Qn=Xc,yn=Ga,ga=Rd,Za=Qc,gi=Md,Pi=Zl,ma=si,Cn=Dd,Tn=Or,rr=ls,jt=Wi,va=Td,gs[0]=$s,gs[1]=Ad,gs[2]=Gg,gs[3]=Kg,gs[4]=_d,gs[5]=Yc,gs[6]=Kc,gs[7]=jh,gs[8]=Jg,gs[9]=Yg,nl[0]=Fh,nl[1]=Wg,nl[2]=Bs,nl[3]=Jl,nl[4]=pi,nl[5]=Hg,nl[6]=Ld,Sa[0]=Ha,Sa[1]=Nd,Sa[2]=Xg,Sa[3]=Pn,Sa[4]=Ql,Sa[5]=Qg,Sa[6]=Bh,L=1}else L=0}L&&(L=function(Ae,He){for(Ae.M=0;Ae.M<Ae.Va;++Ae.M){var Ie,we=Ae.Jc[Ae.M&Ae.Xb],ke=Ae.m,We=Ae;for(Ie=0;Ie<We.za;++Ie){var Ze=ke,Ue=We,pt=Ue.Ac,st=Ue.Bc+4*Ie,St=Ue.zc,ct=Ue.ya[Ue.aa+Ie];if(Ue.Qa.Bb?ct.$b=Ee(Ze,Ue.Pa.jb[0])?2+Ee(Ze,Ue.Pa.jb[2]):Ee(Ze,Ue.Pa.jb[1]):ct.$b=0,Ue.kc&&(ct.Ad=Ee(Ze,Ue.Bd)),ct.Za=!Ee(Ze,145)+0,ct.Za){var wn=ct.Ob,Nn=0;for(Ue=0;4>Ue;++Ue){var an,Kt=St[0+Ue];for(an=0;4>an;++an){Kt=jd[pt[st+an]][Kt];for(var Fn=fu[Ee(Ze,Kt[0])];0<Fn;)Fn=fu[2*Fn+Ee(Ze,Kt[Fn])];Kt=-Fn,pt[st+an]=Kt}r(wn,Nn,pt,st,4),Nn+=4,St[0+Ue]=Kt}}else Kt=Ee(Ze,156)?Ee(Ze,128)?1:3:Ee(Ze,163)?2:0,ct.Ob[0]=Kt,i(pt,st,Kt,4),i(St,0,Kt,4);ct.Dd=Ee(Ze,142)?Ee(Ze,114)?Ee(Ze,183)?1:3:2:0}if(We.m.Ka)return mr(Ae,7,"Premature end-of-partition0 encountered.");for(;Ae.ja<Ae.za;++Ae.ja){if(We=we,Ze=(ke=Ae).rb[ke.sb-1],pt=ke.rb[ke.sb+ke.ja],Ie=ke.ya[ke.aa+ke.ja],st=ke.kc?Ie.Ad:0)Ze.la=pt.la=0,Ie.Za||(Ze.Na=pt.Na=0),Ie.Hc=0,Ie.Gc=0,Ie.ia=0;else{var jn,Wt;if(Ze=pt,pt=We,st=ke.Pa.Xc,St=ke.ya[ke.aa+ke.ja],ct=ke.pb[St.$b],Ue=St.ad,wn=0,Nn=ke.rb[ke.sb-1],Kt=an=0,i(Ue,wn,0,384),St.Za)var Pr=0,Mi=st[3];else{Fn=o(16);var un=Ze.Na+Nn.Na;if(un=xa(pt,st[1],un,ct.Eb,0,Fn,0),Ze.Na=Nn.Na=(0<un)+0,1<un)Ce(Fn,0,Ue,wn);else{var vi=Fn[0]+3>>3;for(Fn=0;256>Fn;Fn+=16)Ue[wn+Fn]=vi}Pr=1,Mi=st[0]}var Ln=15&Ze.la,wr=15&Nn.la;for(Fn=0;4>Fn;++Fn){var Ri=1&wr;for(vi=Wt=0;4>vi;++vi)Ln=Ln>>1|(Ri=(un=xa(pt,Mi,un=Ri+(1&Ln),ct.Sc,Pr,Ue,wn))>Pr)<<7,Wt=Wt<<2|(3<un?3:1<un?2:Ue[wn+0]!=0),wn+=16;Ln>>=4,wr=wr>>1|Ri<<7,an=(an<<8|Wt)>>>0}for(Mi=Ln,Pr=wr>>4,jn=0;4>jn;jn+=2){for(Wt=0,Ln=Ze.la>>4+jn,wr=Nn.la>>4+jn,Fn=0;2>Fn;++Fn){for(Ri=1&wr,vi=0;2>vi;++vi)un=Ri+(1&Ln),Ln=Ln>>1|(Ri=0<(un=xa(pt,st[2],un,ct.Qc,0,Ue,wn)))<<3,Wt=Wt<<2|(3<un?3:1<un?2:Ue[wn+0]!=0),wn+=16;Ln>>=2,wr=wr>>1|Ri<<5}Kt|=Wt<<4*jn,Mi|=Ln<<4<<jn,Pr|=(240&wr)<<jn}Ze.la=Mi,Nn.la=Pr,St.Hc=an,St.Gc=Kt,St.ia=43690&Kt?0:ct.ia,st=!(an|Kt)}if(0<ke.L&&(ke.wa[ke.Y+ke.ja]=ke.gd[Ie.$b][Ie.Za],ke.wa[ke.Y+ke.ja].La|=!st),We.Ka)return mr(Ae,7,"Premature end-of-file encountered.")}if(Rh(Ae),ke=He,We=1,Ie=(we=Ae).D,Ze=0<we.L&&we.M>=we.zb&&we.M<=we.Va,we.Aa==0)e:{if(Ie.M=we.M,Ie.uc=Ze,nu(we,Ie),We=1,Ie=(Wt=we.D).Nb,Ze=(Kt=$d[we.L])*we.R,pt=Kt/2*we.B,Fn=16*Ie*we.R,vi=8*Ie*we.B,st=we.sa,St=we.ta-Ze+Fn,ct=we.qa,Ue=we.ra-pt+vi,wn=we.Ha,Nn=we.Ia-pt+vi,wr=(Ln=Wt.M)==0,an=Ln>=we.Va-1,we.Aa==2&&nu(we,Wt),Wt.uc)for(Ri=(un=we).D.M,t(un.D.uc),Wt=un.yb;Wt<un.Hb;++Wt){Pr=Wt,Mi=Ri;var Cr=(cr=(Jn=un).D).Nb;jn=Jn.R;var cr=cr.wa[cr.Y+Pr],yi=Jn.sa,Yn=Jn.ta+16*Cr*jn+16*Pr,qo=cr.dd,Qr=cr.tc;if(Qr!=0)if(t(3<=Qr),Jn.L==1)0<Pr&&rr(yi,Yn,jn,Qr+4),cr.La&&va(yi,Yn,jn,Qr),0<Mi&&Tn(yi,Yn,jn,Qr+4),cr.La&&jt(yi,Yn,jn,Qr);else{var ka=Jn.B,nc=Jn.qa,rl=Jn.ra+8*Cr*ka+8*Pr,il=Jn.Ha,Jn=Jn.Ia+8*Cr*ka+8*Pr;Cr=cr.ld,0<Pr&&(yn(yi,Yn,jn,Qr+4,qo,Cr),Za(nc,rl,il,Jn,ka,Qr+4,qo,Cr)),cr.La&&(Pi(yi,Yn,jn,Qr,qo,Cr),Cn(nc,rl,il,Jn,ka,Qr,qo,Cr)),0<Mi&&(Qn(yi,Yn,jn,Qr+4,qo,Cr),ga(nc,rl,il,Jn,ka,Qr+4,qo,Cr)),cr.La&&(gi(yi,Yn,jn,Qr,qo,Cr),ma(nc,rl,il,Jn,ka,Qr,qo,Cr))}}if(we.ia&&alert("todo:DitherRow"),ke.put!=null){if(Wt=16*Ln,Ln=16*(Ln+1),wr?(ke.y=we.sa,ke.O=we.ta+Fn,ke.f=we.qa,ke.N=we.ra+vi,ke.ea=we.Ha,ke.W=we.Ia+vi):(Wt-=Kt,ke.y=st,ke.O=St,ke.f=ct,ke.N=Ue,ke.ea=wn,ke.W=Nn),an||(Ln-=Kt),Ln>ke.o&&(Ln=ke.o),ke.F=null,ke.J=null,we.Fa!=null&&0<we.Fa.length&&Wt<Ln&&(ke.J=Uh(we,ke,Wt,Ln-Wt),ke.F=we.mb,ke.F==null&&ke.F.length==0)){We=mr(we,3,"Could not decode alpha data.");break e}Wt<ke.j&&(Kt=ke.j-Wt,Wt=ke.j,t(!(1&Kt)),ke.O+=we.R*Kt,ke.N+=we.B*(Kt>>1),ke.W+=we.B*(Kt>>1),ke.F!=null&&(ke.J+=ke.width*Kt)),Wt<Ln&&(ke.O+=ke.v,ke.N+=ke.v>>1,ke.W+=ke.v>>1,ke.F!=null&&(ke.J+=ke.v),ke.ka=Wt-ke.j,ke.U=ke.va-ke.v,ke.T=Ln-Wt,We=ke.put(ke))}Ie+1!=we.Ic||an||(r(we.sa,we.ta-Ze,st,St+16*we.R,Ze),r(we.qa,we.ra-pt,ct,Ue+8*we.B,pt),r(we.Ha,we.Ia-pt,wn,Nn+8*we.B,pt))}if(!We)return mr(Ae,6,"Output aborted.")}return 1}(v,b)),b.bc!=null&&b.bc(b),L&=1}return L?(v.cb=0,L):0}function Ui(v,b,L,R,j){j=v[b+L+32*R]+(j>>3),v[b+L+32*R]=-256&j?0>j?0:255:j}function Yl(v,b,L,R,j,q){Ui(v,b,0,L,R+j),Ui(v,b,1,L,R+q),Ui(v,b,2,L,R-q),Ui(v,b,3,L,R-j)}function qi(v){return(20091*v>>16)+v}function Hc(v,b,L,R){var j,q=0,H=o(16);for(j=0;4>j;++j){var K=v[b+0]+v[b+8],J=v[b+0]-v[b+8],ie=(35468*v[b+4]>>16)-qi(v[b+12]),be=qi(v[b+4])+(35468*v[b+12]>>16);H[q+0]=K+be,H[q+1]=J+ie,H[q+2]=J-ie,H[q+3]=K-be,q+=4,b++}for(j=q=0;4>j;++j)K=(v=H[q+0]+4)+H[q+8],J=v-H[q+8],ie=(35468*H[q+4]>>16)-qi(H[q+12]),Ui(L,R,0,0,K+(be=qi(H[q+4])+(35468*H[q+12]>>16))),Ui(L,R,1,0,J+ie),Ui(L,R,2,0,J-ie),Ui(L,R,3,0,K-be),q++,R+=32}function Dh(v,b,L,R){var j=v[b+0]+4,q=35468*v[b+4]>>16,H=qi(v[b+4]),K=35468*v[b+1]>>16;Yl(L,R,0,j+H,v=qi(v[b+1]),K),Yl(L,R,1,j+q,v,K),Yl(L,R,2,j-q,v,K),Yl(L,R,3,j-H,v,K)}function Ih(v,b,L,R,j){Hc(v,b,L,R),j&&Hc(v,b+16,L,R+4)}function kd(v,b,L,R){$e(v,b+0,L,R,1),$e(v,b+32,L,R+128,1)}function Ed(v,b,L,R){var j;for(v=v[b+0]+4,j=0;4>j;++j)for(b=0;4>b;++b)Ui(L,R,b,j,v)}function Gc(v,b,L,R){v[b+0]&&_t(v,b+0,L,R),v[b+16]&&_t(v,b+16,L,R+4),v[b+32]&&_t(v,b+32,L,R+128),v[b+48]&&_t(v,b+48,L,R+128+4)}function zh(v,b,L,R){var j,q=o(16);for(j=0;4>j;++j){var H=v[b+0+j]+v[b+12+j],K=v[b+4+j]+v[b+8+j],J=v[b+4+j]-v[b+8+j],ie=v[b+0+j]-v[b+12+j];q[0+j]=H+K,q[8+j]=H-K,q[4+j]=ie+J,q[12+j]=ie-J}for(j=0;4>j;++j)H=(v=q[0+4*j]+3)+q[3+4*j],K=q[1+4*j]+q[2+4*j],J=q[1+4*j]-q[2+4*j],ie=v-q[3+4*j],L[R+0]=H+K>>3,L[R+16]=ie+J>>3,L[R+32]=H-K>>3,L[R+48]=ie-J>>3,R+=64}function js(v,b,L){var R,j=b-32,q=Gi,H=255-v[j-1];for(R=0;R<L;++R){var K,J=q,ie=H+v[b-1];for(K=0;K<L;++K)v[b+K]=J[ie+v[j+K]];b+=32}}function Ad(v,b){js(v,b,4)}function Nd(v,b){js(v,b,8)}function Wg(v,b){js(v,b,16)}function Bs(v,b){var L;for(L=0;16>L;++L)r(v,b+32*L,v,b-32,16)}function Jl(v,b){var L;for(L=16;0<L;--L)i(v,b,v[b-1],16),b+=32}function Xl(v,b,L){var R;for(R=0;16>R;++R)i(b,L+32*R,v,16)}function Fh(v,b){var L,R=16;for(L=0;16>L;++L)R+=v[b-1+32*L]+v[b+L-32];Xl(R>>5,v,b)}function pi(v,b){var L,R=8;for(L=0;16>L;++L)R+=v[b-1+32*L];Xl(R>>4,v,b)}function Hg(v,b){var L,R=8;for(L=0;16>L;++L)R+=v[b+L-32];Xl(R>>4,v,b)}function Ld(v,b){Xl(128,v,b)}function qt(v,b,L){return v+2*b+L+2>>2}function Gg(v,b){var L,R=b-32;for(R=new Uint8Array([qt(v[R-1],v[R+0],v[R+1]),qt(v[R+0],v[R+1],v[R+2]),qt(v[R+1],v[R+2],v[R+3]),qt(v[R+2],v[R+3],v[R+4])]),L=0;4>L;++L)r(v,b+32*L,R,0,R.length)}function Kg(v,b){var L=v[b-1],R=v[b-1+32],j=v[b-1+64],q=v[b-1+96];Ge(v,b+0,16843009*qt(v[b-1-32],L,R)),Ge(v,b+32,16843009*qt(L,R,j)),Ge(v,b+64,16843009*qt(R,j,q)),Ge(v,b+96,16843009*qt(j,q,q))}function $s(v,b){var L,R=4;for(L=0;4>L;++L)R+=v[b+L-32]+v[b-1+32*L];for(R>>=3,L=0;4>L;++L)i(v,b+32*L,R,4)}function _d(v,b){var L=v[b-1+0],R=v[b-1+32],j=v[b-1+64],q=v[b-1-32],H=v[b+0-32],K=v[b+1-32],J=v[b+2-32],ie=v[b+3-32];v[b+0+96]=qt(R,j,v[b-1+96]),v[b+1+96]=v[b+0+64]=qt(L,R,j),v[b+2+96]=v[b+1+64]=v[b+0+32]=qt(q,L,R),v[b+3+96]=v[b+2+64]=v[b+1+32]=v[b+0+0]=qt(H,q,L),v[b+3+64]=v[b+2+32]=v[b+1+0]=qt(K,H,q),v[b+3+32]=v[b+2+0]=qt(J,K,H),v[b+3+0]=qt(ie,J,K)}function Kc(v,b){var L=v[b+1-32],R=v[b+2-32],j=v[b+3-32],q=v[b+4-32],H=v[b+5-32],K=v[b+6-32],J=v[b+7-32];v[b+0+0]=qt(v[b+0-32],L,R),v[b+1+0]=v[b+0+32]=qt(L,R,j),v[b+2+0]=v[b+1+32]=v[b+0+64]=qt(R,j,q),v[b+3+0]=v[b+2+32]=v[b+1+64]=v[b+0+96]=qt(j,q,H),v[b+3+32]=v[b+2+64]=v[b+1+96]=qt(q,H,K),v[b+3+64]=v[b+2+96]=qt(H,K,J),v[b+3+96]=qt(K,J,J)}function Yc(v,b){var L=v[b-1+0],R=v[b-1+32],j=v[b-1+64],q=v[b-1-32],H=v[b+0-32],K=v[b+1-32],J=v[b+2-32],ie=v[b+3-32];v[b+0+0]=v[b+1+64]=q+H+1>>1,v[b+1+0]=v[b+2+64]=H+K+1>>1,v[b+2+0]=v[b+3+64]=K+J+1>>1,v[b+3+0]=J+ie+1>>1,v[b+0+96]=qt(j,R,L),v[b+0+64]=qt(R,L,q),v[b+0+32]=v[b+1+96]=qt(L,q,H),v[b+1+32]=v[b+2+96]=qt(q,H,K),v[b+2+32]=v[b+3+96]=qt(H,K,J),v[b+3+32]=qt(K,J,ie)}function jh(v,b){var L=v[b+0-32],R=v[b+1-32],j=v[b+2-32],q=v[b+3-32],H=v[b+4-32],K=v[b+5-32],J=v[b+6-32],ie=v[b+7-32];v[b+0+0]=L+R+1>>1,v[b+1+0]=v[b+0+64]=R+j+1>>1,v[b+2+0]=v[b+1+64]=j+q+1>>1,v[b+3+0]=v[b+2+64]=q+H+1>>1,v[b+0+32]=qt(L,R,j),v[b+1+32]=v[b+0+96]=qt(R,j,q),v[b+2+32]=v[b+1+96]=qt(j,q,H),v[b+3+32]=v[b+2+96]=qt(q,H,K),v[b+3+64]=qt(H,K,J),v[b+3+96]=qt(K,J,ie)}function Yg(v,b){var L=v[b-1+0],R=v[b-1+32],j=v[b-1+64],q=v[b-1+96];v[b+0+0]=L+R+1>>1,v[b+2+0]=v[b+0+32]=R+j+1>>1,v[b+2+32]=v[b+0+64]=j+q+1>>1,v[b+1+0]=qt(L,R,j),v[b+3+0]=v[b+1+32]=qt(R,j,q),v[b+3+32]=v[b+1+64]=qt(j,q,q),v[b+3+64]=v[b+2+64]=v[b+0+96]=v[b+1+96]=v[b+2+96]=v[b+3+96]=q}function Jg(v,b){var L=v[b-1+0],R=v[b-1+32],j=v[b-1+64],q=v[b-1+96],H=v[b-1-32],K=v[b+0-32],J=v[b+1-32],ie=v[b+2-32];v[b+0+0]=v[b+2+32]=L+H+1>>1,v[b+0+32]=v[b+2+64]=R+L+1>>1,v[b+0+64]=v[b+2+96]=j+R+1>>1,v[b+0+96]=q+j+1>>1,v[b+3+0]=qt(K,J,ie),v[b+2+0]=qt(H,K,J),v[b+1+0]=v[b+3+32]=qt(L,H,K),v[b+1+32]=v[b+3+64]=qt(R,L,H),v[b+1+64]=v[b+3+96]=qt(j,R,L),v[b+1+96]=qt(q,j,R)}function Xg(v,b){var L;for(L=0;8>L;++L)r(v,b+32*L,v,b-32,8)}function Pn(v,b){var L;for(L=0;8>L;++L)i(v,b,v[b-1],8),b+=32}function vn(v,b,L){var R;for(R=0;8>R;++R)i(b,L+32*R,v,8)}function Ha(v,b){var L,R=8;for(L=0;8>L;++L)R+=v[b+L-32]+v[b-1+32*L];vn(R>>4,v,b)}function Qg(v,b){var L,R=4;for(L=0;8>L;++L)R+=v[b+L-32];vn(R>>3,v,b)}function Ql(v,b){var L,R=4;for(L=0;8>L;++L)R+=v[b-1+32*L];vn(R>>3,v,b)}function Bh(v,b){vn(128,v,b)}function Jc(v,b,L){var R=v[b-L],j=v[b+0],q=3*(j-R)+au[1020+v[b-2*L]-v[b+L]],H=Yh[112+(q+4>>3)];v[b-L]=Gi[255+R+Yh[112+(q+3>>3)]],v[b+0]=Gi[255+j-H]}function Od(v,b,L,R){var j=v[b+0],q=v[b+L];return Ti[255+v[b-2*L]-v[b-L]]>R||Ti[255+q-j]>R}function $h(v,b,L,R){return 4*Ti[255+v[b-L]-v[b+0]]+Ti[255+v[b-2*L]-v[b+L]]<=R}function Pd(v,b,L,R,j){var q=v[b-3*L],H=v[b-2*L],K=v[b-L],J=v[b+0],ie=v[b+L],be=v[b+2*L],Pe=v[b+3*L];return 4*Ti[255+K-J]+Ti[255+H-ie]>R?0:Ti[255+v[b-4*L]-q]<=j&&Ti[255+q-H]<=j&&Ti[255+H-K]<=j&&Ti[255+Pe-be]<=j&&Ti[255+be-ie]<=j&&Ti[255+ie-J]<=j}function Or(v,b,L,R){var j=2*R+1;for(R=0;16>R;++R)$h(v,b+R,L,j)&&Jc(v,b+R,L)}function ls(v,b,L,R){var j=2*R+1;for(R=0;16>R;++R)$h(v,b+R*L,1,j)&&Jc(v,b+R*L,1)}function Wi(v,b,L,R){var j;for(j=3;0<j;--j)Or(v,b+=4*L,L,R)}function Td(v,b,L,R){var j;for(j=3;0<j;--j)ls(v,b+=4,L,R)}function Vs(v,b,L,R,j,q,H,K){for(q=2*q+1;0<j--;){if(Pd(v,b,L,q,H))if(Od(v,b,L,K))Jc(v,b,L);else{var J=v,ie=b,be=L,Pe=J[ie-2*be],Te=J[ie-be],Ae=J[ie+0],He=J[ie+be],Ie=J[ie+2*be],we=27*(We=au[1020+3*(Ae-Te)+au[1020+Pe-He]])+63>>7,ke=18*We+63>>7,We=9*We+63>>7;J[ie-3*be]=Gi[255+J[ie-3*be]+We],J[ie-2*be]=Gi[255+Pe+ke],J[ie-be]=Gi[255+Te+we],J[ie+0]=Gi[255+Ae-we],J[ie+be]=Gi[255+He-ke],J[ie+2*be]=Gi[255+Ie-We]}b+=R}}function vr(v,b,L,R,j,q,H,K){for(q=2*q+1;0<j--;){if(Pd(v,b,L,q,H))if(Od(v,b,L,K))Jc(v,b,L);else{var J=v,ie=b,be=L,Pe=J[ie-be],Te=J[ie+0],Ae=J[ie+be],He=Yh[112+((Ie=3*(Te-Pe))+4>>3)],Ie=Yh[112+(Ie+3>>3)],we=He+1>>1;J[ie-2*be]=Gi[255+J[ie-2*be]+we],J[ie-be]=Gi[255+Pe+Ie],J[ie+0]=Gi[255+Te-He],J[ie+be]=Gi[255+Ae-we]}b+=R}}function Xc(v,b,L,R,j,q){Vs(v,b,L,1,16,R,j,q)}function Ga(v,b,L,R,j,q){Vs(v,b,1,L,16,R,j,q)}function Md(v,b,L,R,j,q){var H;for(H=3;0<H;--H)vr(v,b+=4*L,L,1,16,R,j,q)}function Zl(v,b,L,R,j,q){var H;for(H=3;0<H;--H)vr(v,b+=4,1,L,16,R,j,q)}function Rd(v,b,L,R,j,q,H,K){Vs(v,b,j,1,8,q,H,K),Vs(L,R,j,1,8,q,H,K)}function Qc(v,b,L,R,j,q,H,K){Vs(v,b,1,j,8,q,H,K),Vs(L,R,1,j,8,q,H,K)}function si(v,b,L,R,j,q,H,K){vr(v,b+4*j,j,1,8,q,H,K),vr(L,R+4*j,j,1,8,q,H,K)}function Dd(v,b,L,R,j,q,H,K){vr(v,b+4,1,j,8,q,H,K),vr(L,R+4,1,j,8,q,H,K)}function ai(){this.ba=new yt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Dt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Vh(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Zc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function cs(){this.ua=0,this.Wa=new fe,this.vb=new fe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new $,this.yc=new z}function eu(){this.xb=this.a=0,this.l=new qc,this.ca=new yt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new cs,this.ab=0,this.gc=s(4,Zc),this.Oc=0}function Ka(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function An(v,b,L,R,j,q,H){for(v=v==null?0:v[b+0],b=0;b<H;++b)j[q+b]=v+L[R+b]&255,v=j[q+b]}function Bo(v,b,L,R,j,q,H){var K;if(v==null)An(null,null,L,R,j,q,H);else for(K=0;K<H;++K)j[q+K]=v[b+K]+L[R+K]&255}function Us(v,b,L,R,j,q,H){if(v==null)An(null,null,L,R,j,q,H);else{var K,J=v[b+0],ie=J,be=J;for(K=0;K<H;++K)ie=be+(J=v[b+K])-ie,be=L[R+K]+(-256&ie?0>ie?0:255:ie)&255,ie=J,j[q+K]=be}}function Uh(v,b,L,R){var j=b.width,q=b.o;if(t(v!=null&&b!=null),0>L||0>=R||L+R>q)return null;if(!v.Cc){if(v.ga==null){var H;if(v.ga=new Ka,(H=v.ga==null)||(H=b.width*b.o,t(v.Gb.length==0),v.Gb=o(H),v.Uc=0,v.Gb==null?H=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,H=1),H=!H),!H){H=v.ga;var K=v.Fa,J=v.P,ie=v.qc,be=v.mb,Pe=v.nb,Te=J+1,Ae=ie-1,He=H.l;if(t(K!=null&&be!=null&&b!=null),Uo[0]=null,Uo[1]=An,Uo[2]=Bo,Uo[3]=Us,H.ca=be,H.tb=Pe,H.c=b.width,H.i=b.height,t(0<H.c&&0<H.i),1>=ie)b=0;else if(H.$a=K[J+0]>>0&3,H.Z=K[J+0]>>2&3,H.Lc=K[J+0]>>4&3,J=K[J+0]>>6&3,0>H.$a||1<H.$a||4<=H.Z||1<H.Lc||J)b=0;else if(He.put=ar,He.ac=dn,He.bc=On,He.ma=H,He.width=b.width,He.height=b.height,He.Da=b.Da,He.v=b.v,He.va=b.va,He.j=b.j,He.o=b.o,H.$a)e:{t(H.$a==1),b=jo();t:for(;;){if(b==null){b=0;break e}if(t(H!=null),H.mc=b,b.c=H.c,b.i=H.i,b.l=H.l,b.l.ma=H,b.l.width=H.c,b.l.height=H.i,b.a=0,Z(b.m,K,Te,Ae),!Fs(H.c,H.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&Yr(b.s)?(H.ic=1,K=b.c*b.i,b.Ta=null,b.Ua=0,b.V=o(K),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(H.ic=0,b=Kl(b,H.c)),!b))break t;b=1;break e}H.mc=null,b=0}else b=Ae>=H.c*H.i;H=!b}if(H)return null;v.ga.Lc!=1?v.Ga=0:R=q-L}t(v.ga!=null),t(L+R<=q);e:{if(b=(K=v.ga).c,q=K.l.o,K.$a==0){if(Te=v.rc,Ae=v.Vc,He=v.Fa,J=v.P+1+L*b,ie=v.mb,be=v.nb+L*b,t(J<=v.P+v.qc),K.Z!=0)for(t(Uo[K.Z]!=null),H=0;H<R;++H)Uo[K.Z](Te,Ae,He,J,ie,be,b),Te=ie,Ae=be,be+=b,J+=b;else for(H=0;H<R;++H)r(ie,be,He,J,b),Te=ie,Ae=be,be+=b,J+=b;v.rc=Te,v.Vc=Ae}else{if(t(K.mc!=null),b=L+R,t((H=K.mc)!=null),t(b<=H.i),H.C>=b)b=1;else if(K.ic||_e(),K.ic){K=H.V,Te=H.Ba,Ae=H.c;var Ie=H.i,we=(He=1,J=H.$/Ae,ie=H.$%Ae,be=H.m,Pe=H.s,H.$),ke=Ae*Ie,We=Ae*b,Ze=Pe.wc,Ue=we<We?lr(Pe,ie,J):null;t(we<=ke),t(b<=Ie),t(Yr(Pe));t:for(;;){for(;!be.h&&we<We;){if(ie&Ze||(Ue=lr(Pe,ie,J)),t(Ue!=null),pe(be),256>(Ie=jr(Ue.G[0],Ue.H[0],be)))K[Te+we]=Ie,++we,++ie>=Ae&&(ie=0,++J<=b&&!(J%16)&&di(H,J));else{if(!(280>Ie)){He=0;break t}Ie=Li(Ie-256,be);var pt,st=jr(Ue.G[4],Ue.H[4],be);if(pe(be),!(we>=(st=Fo(Ae,st=Li(st,be)))&&ke-we>=Ie)){He=0;break t}for(pt=0;pt<Ie;++pt)K[Te+we+pt]=K[Te+we+pt-st];for(we+=Ie,ie+=Ie;ie>=Ae;)ie-=Ae,++J<=b&&!(J%16)&&di(H,J);we<We&&ie&Ze&&(Ue=lr(Pe,ie,J))}t(be.h==re(be))}di(H,J>b?b:J);break t}!He||be.h&&we<ke?(He=0,H.a=be.h?5:3):H.$=we,b=He}else b=yo(H,H.V,H.Ba,H.c,H.i,b,Fc);if(!b){R=0;break e}}L+R>=q&&(v.Cc=1),R=1}if(!R)return null;if(v.Cc&&((R=v.ga)!=null&&(R.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+L*j}function A(v,b,L,R,j,q){for(;0<j--;){var H,K=v,J=b+(L?1:0),ie=v,be=b+(L?0:3);for(H=0;H<R;++H){var Pe=ie[be+4*H];Pe!=255&&(Pe*=32897,K[J+4*H+0]=K[J+4*H+0]*Pe>>23,K[J+4*H+1]=K[J+4*H+1]*Pe>>23,K[J+4*H+2]=K[J+4*H+2]*Pe>>23)}b+=q}}function V(v,b,L,R,j){for(;0<R--;){var q;for(q=0;q<L;++q){var H=v[b+2*q+0],K=15&(ie=v[b+2*q+1]),J=4369*K,ie=(240&ie|ie>>4)*J>>16;v[b+2*q+0]=(240&H|H>>4)*J>>16&240|(15&H|H<<4)*J>>16>>4&15,v[b+2*q+1]=240&ie|K}b+=j}}function ce(v,b,L,R,j,q,H,K){var J,ie,be=255;for(ie=0;ie<j;++ie){for(J=0;J<R;++J){var Pe=v[b+J];q[H+4*J]=Pe,be&=Pe}b+=L,H+=K}return be!=255}function ve(v,b,L,R,j){var q;for(q=0;q<j;++q)L[R+q]=v[b+q]>>8}function _e(){ya=A,wa=V,zd=ce,H2=ve}function Fe(v,b,L){I[v]=function(R,j,q,H,K,J,ie,be,Pe,Te,Ae,He,Ie,we,ke,We,Ze){var Ue,pt=Ze-1>>1,st=K[J+0]|ie[be+0]<<16,St=Pe[Te+0]|Ae[He+0]<<16;t(R!=null);var ct=3*st+St+131074>>2;for(b(R[j+0],255&ct,ct>>16,Ie,we),q!=null&&(ct=3*St+st+131074>>2,b(q[H+0],255&ct,ct>>16,ke,We)),Ue=1;Ue<=pt;++Ue){var wn=K[J+Ue]|ie[be+Ue]<<16,Nn=Pe[Te+Ue]|Ae[He+Ue]<<16,an=st+wn+St+Nn+524296,Kt=an+2*(wn+St)>>3;ct=Kt+st>>1,st=(an=an+2*(st+Nn)>>3)+wn>>1,b(R[j+2*Ue-1],255&ct,ct>>16,Ie,we+(2*Ue-1)*L),b(R[j+2*Ue-0],255&st,st>>16,Ie,we+(2*Ue-0)*L),q!=null&&(ct=an+St>>1,st=Kt+Nn>>1,b(q[H+2*Ue-1],255&ct,ct>>16,ke,We+(2*Ue-1)*L),b(q[H+2*Ue+0],255&st,st>>16,ke,We+(2*Ue+0)*L)),st=wn,St=Nn}1&Ze||(ct=3*st+St+131074>>2,b(R[j+Ze-1],255&ct,ct>>16,Ie,we+(Ze-1)*L),q!=null&&(ct=3*St+st+131074>>2,b(q[H+Ze-1],255&ct,ct>>16,ke,We+(Ze-1)*L)))}}function et(){bo[Jh]=Y,bo[el]=ef,bo[tl]=pu,bo[tc]=xo,bo[Fd]=sn,bo[em]=Q2,bo[K2]=ab,bo[lu]=ef,bo[cu]=xo,bo[uu]=sn,bo[tm]=Q2}function gt(v){return v&~lb?0>v?0:255:v>>Z2}function Lt(v,b){return gt((19077*v>>8)+(26149*b>>8)-14234)}function Ht(v,b,L){return gt((19077*v>>8)-(6419*b>>8)-(13320*L>>8)+8708)}function Xt(v,b){return gt((19077*v>>8)+(33050*b>>8)-17685)}function cn(v,b,L,R,j){R[j+0]=Lt(v,L),R[j+1]=Ht(v,b,L),R[j+2]=Xt(v,b)}function tr(v,b,L,R,j){R[j+0]=Xt(v,b),R[j+1]=Ht(v,b,L),R[j+2]=Lt(v,L)}function Sr(v,b,L,R,j){var q=Ht(v,b,L);b=q<<3&224|Xt(v,b)>>3,R[j+0]=248&Lt(v,L)|q>>5,R[j+1]=b}function yr(v,b,L,R,j){var q=240&Xt(v,b)|15;R[j+0]=240&Lt(v,L)|Ht(v,b,L)>>4,R[j+1]=q}function Jr(v,b,L,R,j){R[j+0]=255,cn(v,b,L,R,j+1)}function Xr(v,b,L,R,j){tr(v,b,L,R,j),R[j+3]=255}function $o(v,b,L,R,j){cn(v,b,L,R,j),R[j+3]=255}function nr(v,b){return 0>v?0:v>b?b:v}function us(v,b,L){I[v]=function(R,j,q,H,K,J,ie,be,Pe){for(var Te=be+(-2&Pe)*L;be!=Te;)b(R[j+0],q[H+0],K[J+0],ie,be),b(R[j+1],q[H+0],K[J+0],ie,be+L),j+=2,++H,++J,be+=2*L;1&Pe&&b(R[j+0],q[H+0],K[J+0],ie,be)}}function Ya(v,b,L){return L==0?v==0?b==0?6:5:b==0?4:0:L}function tu(v,b,L,R,j){switch(v>>>30){case 3:$e(b,L,R,j,0);break;case 2:Me(b,L,R,j);break;case 1:_t(b,L,R,j)}}function nu(v,b){var L,R,j=b.M,q=b.Nb,H=v.oc,K=v.pc+40,J=v.oc,ie=v.pc+584,be=v.oc,Pe=v.pc+600;for(L=0;16>L;++L)H[K+32*L-1]=129;for(L=0;8>L;++L)J[ie+32*L-1]=129,be[Pe+32*L-1]=129;for(0<j?H[K-1-32]=J[ie-1-32]=be[Pe-1-32]=129:(i(H,K-32-1,127,21),i(J,ie-32-1,127,9),i(be,Pe-32-1,127,9)),R=0;R<v.za;++R){var Te=b.ya[b.aa+R];if(0<R){for(L=-1;16>L;++L)r(H,K+32*L-4,H,K+32*L+12,4);for(L=-1;8>L;++L)r(J,ie+32*L-4,J,ie+32*L+4,4),r(be,Pe+32*L-4,be,Pe+32*L+4,4)}var Ae=v.Gd,He=v.Hd+R,Ie=Te.ad,we=Te.Hc;if(0<j&&(r(H,K-32,Ae[He].y,0,16),r(J,ie-32,Ae[He].f,0,8),r(be,Pe-32,Ae[He].ea,0,8)),Te.Za){var ke=H,We=K-32+16;for(0<j&&(R>=v.za-1?i(ke,We,Ae[He].y[15],4):r(ke,We,Ae[He+1].y,0,4)),L=0;4>L;L++)ke[We+128+L]=ke[We+256+L]=ke[We+384+L]=ke[We+0+L];for(L=0;16>L;++L,we<<=2)ke=H,We=K+Gs[L],gs[Te.Ob[L]](ke,We),tu(we,Ie,16*+L,ke,We)}else if(ke=Ya(R,j,Te.Ob[0]),nl[ke](H,K),we!=0)for(L=0;16>L;++L,we<<=2)tu(we,Ie,16*+L,H,K+Gs[L]);for(L=Te.Gc,ke=Ya(R,j,Te.Dd),Sa[ke](J,ie),Sa[ke](be,Pe),we=Ie,ke=J,We=ie,255&(Te=L>>0)&&(170&Te?ft(we,256,ke,We):tn(we,256,ke,We)),Te=be,we=Pe,255&(L>>=8)&&(170&L?ft(Ie,320,Te,we):tn(Ie,320,Te,we)),j<v.Ub-1&&(r(Ae[He].y,0,H,K+480,16),r(Ae[He].f,0,J,ie+224,8),r(Ae[He].ea,0,be,Pe+224,8)),L=8*q*v.B,Ae=v.sa,He=v.ta+16*R+16*q*v.R,Ie=v.qa,Te=v.ra+8*R+L,we=v.Ha,ke=v.Ia+8*R+L,L=0;16>L;++L)r(Ae,He+L*v.R,H,K+32*L,16);for(L=0;8>L;++L)r(Ie,Te+L*v.B,J,ie+32*L,8),r(we,ke+L*v.B,be,Pe+32*L,8)}}function ru(v,b,L,R,j,q,H,K,J){var ie=[0],be=[0],Pe=0,Te=J!=null?J.kd:0,Ae=J??new Vh;if(v==null||12>L)return 7;Ae.data=v,Ae.w=b,Ae.ha=L,b=[b],L=[L],Ae.gb=[Ae.gb];e:{var He=b,Ie=L,we=Ae.gb;if(t(v!=null),t(Ie!=null),t(we!=null),we[0]=0,12<=Ie[0]&&!n(v,He[0],"RIFF")){if(n(v,He[0]+8,"WEBP")){we=3;break e}var ke=it(v,He[0]+4);if(12>ke||4294967286<ke){we=3;break e}if(Te&&ke>Ie[0]-8){we=7;break e}we[0]=ke,He[0]+=12,Ie[0]-=12}we=0}if(we!=0)return we;for(ke=0<Ae.gb[0],L=L[0];;){e:{var We=v;Ie=b,we=L;var Ze=ie,Ue=be,pt=He=[0];if((ct=Pe=[Pe])[0]=0,8>we[0])we=7;else{if(!n(We,Ie[0],"VP8X")){if(it(We,Ie[0]+4)!=10){we=3;break e}if(18>we[0]){we=7;break e}var st=it(We,Ie[0]+8),St=1+Ke(We,Ie[0]+12);if(2147483648<=St*(We=1+Ke(We,Ie[0]+15))){we=3;break e}pt!=null&&(pt[0]=st),Ze!=null&&(Ze[0]=St),Ue!=null&&(Ue[0]=We),Ie[0]+=18,we[0]-=18,ct[0]=1}we=0}}if(Pe=Pe[0],He=He[0],we!=0)return we;if(Ie=!!(2&He),!ke&&Pe)return 3;if(q!=null&&(q[0]=!!(16&He)),H!=null&&(H[0]=Ie),K!=null&&(K[0]=0),H=ie[0],He=be[0],Pe&&Ie&&J==null){we=0;break}if(4>L){we=7;break}if(ke&&Pe||!ke&&!Pe&&!n(v,b[0],"ALPH")){L=[L],Ae.na=[Ae.na],Ae.P=[Ae.P],Ae.Sa=[Ae.Sa];e:{st=v,we=b,ke=L;var ct=Ae.gb;Ze=Ae.na,Ue=Ae.P,pt=Ae.Sa,St=22,t(st!=null),t(ke!=null),We=we[0];var wn=ke[0];for(t(Ze!=null),t(pt!=null),Ze[0]=null,Ue[0]=null,pt[0]=0;;){if(we[0]=We,ke[0]=wn,8>wn){we=7;break e}var Nn=it(st,We+4);if(4294967286<Nn){we=3;break e}var an=8+Nn+1&-2;if(St+=an,0<ct&&St>ct){we=3;break e}if(!n(st,We,"VP8 ")||!n(st,We,"VP8L")){we=0;break e}if(wn[0]<an){we=7;break e}n(st,We,"ALPH")||(Ze[0]=st,Ue[0]=We+8,pt[0]=Nn),We+=an,wn-=an}}if(L=L[0],Ae.na=Ae.na[0],Ae.P=Ae.P[0],Ae.Sa=Ae.Sa[0],we!=0)break}L=[L],Ae.Ja=[Ae.Ja],Ae.xa=[Ae.xa];e:if(ct=v,we=b,ke=L,Ze=Ae.gb[0],Ue=Ae.Ja,pt=Ae.xa,st=we[0],We=!n(ct,st,"VP8 "),St=!n(ct,st,"VP8L"),t(ct!=null),t(ke!=null),t(Ue!=null),t(pt!=null),8>ke[0])we=7;else{if(We||St){if(ct=it(ct,st+4),12<=Ze&&ct>Ze-12){we=3;break e}if(Te&&ct>ke[0]-8){we=7;break e}Ue[0]=ct,we[0]+=8,ke[0]-=8,pt[0]=St}else pt[0]=5<=ke[0]&&ct[st+0]==47&&!(ct[st+4]>>5),Ue[0]=ke[0];we=0}if(L=L[0],Ae.Ja=Ae.Ja[0],Ae.xa=Ae.xa[0],b=b[0],we!=0)break;if(4294967286<Ae.Ja)return 3;if(K==null||Ie||(K[0]=Ae.xa?2:1),H=[H],He=[He],Ae.xa){if(5>L){we=7;break}K=H,Te=He,Ie=q,v==null||5>L?v=0:5<=L&&v[b+0]==47&&!(v[b+4]>>5)?(ke=[0],ct=[0],Ze=[0],Z(Ue=new F,v,b,L),At(Ue,ke,ct,Ze)?(K!=null&&(K[0]=ke[0]),Te!=null&&(Te[0]=ct[0]),Ie!=null&&(Ie[0]=Ze[0]),v=1):v=0):v=0}else{if(10>L){we=7;break}K=He,v==null||10>L||!Th(v,b+3,L-3)?v=0:(Te=v[b+0]|v[b+1]<<8|v[b+2]<<16,Ie=16383&(v[b+7]<<8|v[b+6]),v=16383&(v[b+9]<<8|v[b+8]),1&Te||3<(Te>>1&7)||!(Te>>4&1)||Te>>5>=Ae.Ja||!Ie||!v?v=0:(H&&(H[0]=Ie),K&&(K[0]=v),v=1))}if(!v||(H=H[0],He=He[0],Pe&&(ie[0]!=H||be[0]!=He)))return 3;J!=null&&(J[0]=Ae,J.offset=b-J.w,t(4294967286>b-J.w),t(J.offset==J.ha-L));break}return we==0||we==7&&Pe&&J==null?(q!=null&&(q[0]|=Ae.na!=null&&0<Ae.na.length),R!=null&&(R[0]=H),j!=null&&(j[0]=He),0):we}function qh(v,b,L){var R=b.width,j=b.height,q=0,H=0,K=R,J=j;if(b.Da=v!=null&&0<v.Da,b.Da&&(K=v.cd,J=v.bd,q=v.v,H=v.j,11>L||(q&=-2,H&=-2),0>q||0>H||0>=K||0>=J||q+K>R||H+J>j))return 0;if(b.v=q,b.j=H,b.va=q+K,b.o=H+J,b.U=K,b.T=J,b.da=v!=null&&0<v.da,b.da){if(!vt(K,J,L=[v.ib],q=[v.hb]))return 0;b.ib=L[0],b.hb=q[0]}return b.ob=v!=null&&v.ob,b.Kb=v==null||!v.Sd,b.da&&(b.ob=b.ib<3*R/4&&b.hb<3*j/4,b.Kb=0),1}function Wh(v){if(v==null)return 2;if(11>v.S){var b=v.f.RGBA;b.fb+=(v.height-1)*b.A,b.A=-b.A}else b=v.f.kb,v=v.height,b.O+=(v-1)*b.fa,b.fa=-b.fa,b.N+=(v-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(v-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(v-1)*b.lb,b.lb=-b.lb);return 0}function iu(v,b,L,R){if(R==null||0>=v||0>=b)return 2;if(L!=null){if(L.Da){var j=L.cd,q=L.bd,H=-2&L.v,K=-2&L.j;if(0>H||0>K||0>=j||0>=q||H+j>v||K+q>b)return 2;v=j,b=q}if(L.da){if(!vt(v,b,j=[L.ib],q=[L.hb]))return 2;v=j[0],b=q[0]}}R.width=v,R.height=b;e:{var J=R.width,ie=R.height;if(v=R.S,0>=J||0>=ie||!(v>=Jh&&13>v))v=2;else{if(0>=R.Rd&&R.sd==null){H=q=j=b=0;var be=(K=J*t1[v])*ie;if(11>v||(q=(ie+1)/2*(b=(J+1)/2),v==12&&(H=(j=J)*ie)),(ie=o(be+2*q+H))==null){v=1;break e}R.sd=ie,11>v?((J=R.f.RGBA).eb=ie,J.fb=0,J.A=K,J.size=be):((J=R.f.kb).y=ie,J.O=0,J.fa=K,J.Fd=be,J.f=ie,J.N=0+be,J.Ab=b,J.Cd=q,J.ea=ie,J.W=0+be+q,J.Db=b,J.Ed=q,v==12&&(J.F=ie,J.J=0+be+2*q),J.Tc=H,J.lb=j)}if(b=1,j=R.S,q=R.width,H=R.height,j>=Jh&&13>j)if(11>j)v=R.f.RGBA,b&=(K=Math.abs(v.A))*(H-1)+q<=v.size,b&=K>=q*t1[j],b&=v.eb!=null;else{v=R.f.kb,K=(q+1)/2,be=(H+1)/2,J=Math.abs(v.fa),ie=Math.abs(v.Ab);var Pe=Math.abs(v.Db),Te=Math.abs(v.lb),Ae=Te*(H-1)+q;b&=J*(H-1)+q<=v.Fd,b&=ie*(be-1)+K<=v.Cd,b=(b&=Pe*(be-1)+K<=v.Ed)&J>=q&ie>=K&Pe>=K,b&=v.y!=null,b&=v.f!=null,b&=v.ea!=null,j==12&&(b&=Te>=q,b&=Ae<=v.Tc,b&=v.F!=null)}else b=0;v=b?0:2}}return v!=0||L!=null&&L.fd&&(v=Wh(R)),v}var Hi=64,hs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ou=24,su=32,ec=8,Oi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];je("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(v){return v},I.Predictor2=function(v,b,L){return b[L+0]},I.Predictor3=function(v,b,L){return b[L+1]},I.Predictor4=function(v,b,L){return b[L-1]},I.Predictor5=function(v,b,L){return ee(ee(v,b[L+1]),b[L+0])},I.Predictor6=function(v,b,L){return ee(v,b[L-1])},I.Predictor7=function(v,b,L){return ee(v,b[L+0])},I.Predictor8=function(v,b,L){return ee(b[L-1],b[L+0])},I.Predictor9=function(v,b,L){return ee(b[L+0],b[L+1])},I.Predictor10=function(v,b,L){return ee(ee(v,b[L-1]),ee(b[L+0],b[L+1]))},I.Predictor11=function(v,b,L){var R=b[L+0];return 0>=Oe(R>>24&255,v>>24&255,(b=b[L-1])>>24&255)+Oe(R>>16&255,v>>16&255,b>>16&255)+Oe(R>>8&255,v>>8&255,b>>8&255)+Oe(255&R,255&v,255&b)?R:v},I.Predictor12=function(v,b,L){var R=b[L+0];return(te((v>>24&255)+(R>>24&255)-((b=b[L-1])>>24&255))<<24|te((v>>16&255)+(R>>16&255)-(b>>16&255))<<16|te((v>>8&255)+(R>>8&255)-(b>>8&255))<<8|te((255&v)+(255&R)-(255&b)))>>>0},I.Predictor13=function(v,b,L){var R=b[L-1];return(Ne((v=ee(v,b[L+0]))>>24&255,R>>24&255)<<24|Ne(v>>16&255,R>>16&255)<<16|Ne(v>>8&255,R>>8&255)<<8|Ne(v>>0&255,R>>0&255))>>>0};var qs=I.PredictorAdd0;I.PredictorAdd1=qe,je("Predictor2","PredictorAdd2"),je("Predictor3","PredictorAdd3"),je("Predictor4","PredictorAdd4"),je("Predictor5","PredictorAdd5"),je("Predictor6","PredictorAdd6"),je("Predictor7","PredictorAdd7"),je("Predictor8","PredictorAdd8"),je("Predictor9","PredictorAdd9"),je("Predictor10","PredictorAdd10"),je("Predictor11","PredictorAdd11"),je("Predictor12","PredictorAdd12"),je("Predictor13","PredictorAdd13");var Ja=I.PredictorAdd2;xt("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),xt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var Id,fs=I.ColorIndexInverseTransform,Hh=I.MapARGB,Xa=I.VP8LColorIndexInverseTransformAlpha,wo=I.MapAlpha,da=I.VP8LPredictorsAdd=[];da.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var Vo,ds,Qa,Ws,pa,ps,Ce,$e,Me,ft,_t,tn,Qn,yn,ga,Za,gi,Pi,ma,Cn,Tn,rr,jt,va,ya,wa,zd,H2,G2=o(511),Gh=o(2041),ba=o(225),Kh=o(767),Zg=0,au=Gh,Yh=ba,Gi=Kh,Ti=G2,Jh=0,el=1,tl=2,tc=3,Fd=4,em=5,K2=6,lu=7,cu=8,uu=9,tm=10,Y2=[2,3,7],nb=[3,3,11],J2=[280,256,256,256,40],Br=[0,1,1,1,0],mi=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],rb=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ib=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],X2=8,nm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Xh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],xa=null,rm=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],hu=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],fu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Qh=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],jd=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],du=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ob=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],nl=[],gs=[],Sa=[],sb=1,Zh=2,Uo=[],bo=[];Fe("UpsampleRgbLinePair",cn,3),Fe("UpsampleBgrLinePair",tr,3),Fe("UpsampleRgbaLinePair",$o,4),Fe("UpsampleBgraLinePair",Xr,4),Fe("UpsampleArgbLinePair",Jr,4),Fe("UpsampleRgba4444LinePair",yr,2),Fe("UpsampleRgb565LinePair",Sr,2);var Y=I.UpsampleRgbLinePair,pu=I.UpsampleBgrLinePair,ef=I.UpsampleRgbaLinePair,xo=I.UpsampleBgraLinePair,sn=I.UpsampleArgbLinePair,Q2=I.UpsampleRgba4444LinePair,ab=I.UpsampleRgb565LinePair,Bd=16,Hs=1<<Bd-1,tf=-227,im=482,Z2=6,lb=(256<<Z2)-1,e1=0,Ca=o(256),cb=o(256),ub=o(256),hb=o(256),fb=o(im-tf),db=o(im-tf);us("YuvToRgbRow",cn,3),us("YuvToBgrRow",tr,3),us("YuvToRgbaRow",$o,4),us("YuvToBgraRow",Xr,4),us("YuvToArgbRow",Jr,4),us("YuvToRgba4444Row",yr,2),us("YuvToRgb565Row",Sr,2);var Gs=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],$d=[0,2,8],pb=[8,7,6,4,4,2,2,2,1,1,1,1],gb=1;this.WebPDecodeRGBA=function(v,b,L,R,j){var q=el,H=new ai,K=new yt;H.ba=K,K.S=q,K.width=[K.width],K.height=[K.height];var J=K.width,ie=K.height,be=new ln;if(be==null||v==null)var Pe=2;else t(be!=null),Pe=ru(v,b,L,be.width,be.height,be.Pd,be.Qd,be.format,null);if(Pe!=0?J=0:(J!=null&&(J[0]=be.width[0]),ie!=null&&(ie[0]=be.height[0]),J=1),J){K.width=K.width[0],K.height=K.height[0],R!=null&&(R[0]=K.width),j!=null&&(j[0]=K.height);e:{if(R=new qc,(j=new Vh).data=v,j.w=b,j.ha=L,j.kd=1,b=[0],t(j!=null),((v=ru(j.data,j.w,j.ha,null,null,null,b,null,j))==0||v==7)&&b[0]&&(v=4),(b=v)==0){if(t(H!=null),R.data=j.data,R.w=j.w+j.offset,R.ha=j.ha-j.offset,R.put=ar,R.ac=dn,R.bc=On,R.ma=H,j.xa){if((v=jo())==null){H=1;break e}if(function(Te,Ae){var He=[0],Ie=[0],we=[0];t:for(;;){if(Te==null)return 0;if(Ae==null)return Te.a=2,0;if(Te.l=Ae,Te.a=0,Z(Te.m,Ae.data,Ae.w,Ae.ha),!At(Te.m,He,Ie,we)){Te.a=3;break t}if(Te.xb=Zh,Ae.width=He[0],Ae.height=Ie[0],!Fs(He[0],Ie[0],1,Te,null))break t;return 1}return t(Te.a!=0),0}(v,R)){if(R=(b=iu(R.width,R.height,H.Oa,H.ba))==0){t:{R=v;n:for(;;){if(R==null){R=0;break t}if(t(R.s.yc!=null),t(R.s.Ya!=null),t(0<R.s.Wb),t((L=R.l)!=null),t((j=L.ma)!=null),R.xb!=0){if(R.ca=j.ba,R.tb=j.tb,t(R.ca!=null),!qh(j.Oa,L,tc)){R.a=2;break n}if(!Kl(R,L.width)||L.da)break n;if((L.da||ht(R.ca.S))&&_e(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&_e()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!at(R.s.vb,R.s.Wa.Xa)){R.a=1;break n}R.xb=0}if(!yo(R,R.V,R.Ba,R.c,R.i,L.o,Wn))break n;j.Dc=R.Ma,R=1;break t}t(R.a!=0),R=0}R=!R}R&&(b=v.a)}else b=v.a}else{if((v=new qg)==null){H=1;break e}if(v.Fa=j.na,v.P=j.P,v.qc=j.Sa,Mh(v,R)){if((b=iu(R.width,R.height,H.Oa,H.ba))==0){if(v.Aa=0,L=H.Oa,t((j=v)!=null),L!=null){if(0<(J=0>(J=L.Md)?0:100<J?255:255*J/100)){for(ie=be=0;4>ie;++ie)12>(Pe=j.pb[ie]).lc&&(Pe.ia=J*pb[0>Pe.lc?0:Pe.lc]>>3),be|=Pe.ia;be&&(alert("todo:VP8InitRandom"),j.ia=1)}j.Ga=L.Id,100<j.Ga?j.Ga=100:0>j.Ga&&(j.Ga=0)}Cd(v,R)||(b=v.a)}}else b=v.a}b==0&&H.Oa!=null&&H.Oa.fd&&(b=Wh(H.ba))}H=b}q=H!=0?null:11>q?K.f.RGBA.eb:K.f.kb.y}else q=null;return q};var t1=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(I,W){for(var G="",O=0;O<4;O++)G+=String.fromCharCode(I[W++]);return G}function h(I,W){return(I[W+0]<<0|I[W+1]<<8|I[W+2]<<16)>>>0}function f(I,W){return(I[W+0]<<0|I[W+1]<<8|I[W+2]<<16|I[W+3]<<24)>>>0}new l;var g=[0],d=[0],m=[],y=new l,C=e,x=function(I,W){var G={},O=0,z=!1,U=0,$=0;if(G.frames=[],!function(Q,re,he,pe){for(var Se=0;Se<pe;Se++)if(Q[re+Se]!=he.charCodeAt(Se))return!0;return!1}(I,W,"RIFF",4)){var ne,se;for(f(I,W+=4),W+=8;W<I.length;){var ae=c(I,W),Z=f(I,W+=4);W+=4;var le=Z+(1&Z);switch(ae){case"VP8 ":case"VP8L":G.frames[O]===void 0&&(G.frames[O]={}),(F=G.frames[O]).src_off=z?$:W-8,F.src_size=U+Z+8,O++,z&&(z=!1,U=0,$=0);break;case"VP8X":(F=G.header={}).feature_flags=I[W];var ue=W+4;F.canvas_width=1+h(I,ue),ue+=3,F.canvas_height=1+h(I,ue),ue+=3;break;case"ALPH":z=!0,U=le+8,$=W-8;break;case"ANIM":(F=G.header).bgcolor=f(I,W),ue=W+4,F.loop_count=(ne=I)[(se=ue)+0]<<0|ne[se+1]<<8,ue+=2;break;case"ANMF":var ge,F;(F=G.frames[O]={}).offset_x=2*h(I,W),W+=3,F.offset_y=2*h(I,W),W+=3,F.width=1+h(I,W),W+=3,F.height=1+h(I,W),W+=3,F.duration=h(I,W),W+=3,ge=I[W++],F.dispose=1&ge,F.blend=ge>>1&1}ae!="ANMF"&&(W+=le)}return G}}(C,0);x.response=C,x.rgbaoutput=!0,x.dataurl=!1;var w=x.header?x.header:null,E=x.frames?x.frames:null;if(w){w.loop_counter=w.loop_count,g=[w.canvas_height],d=[w.canvas_width];for(var N=0;N<E.length&&E[N].blend!=0;N++);}var _=E[0],D=y.WebPDecodeRGBA(C,_.src_off,_.src_size,d,g);_.rgba=D,_.imgwidth=d[0],_.imgheight=g[0];for(var P=0;P<d[0]*g[0]*4;P++)m[P]=D[P];return this.width=d,this.height=g,this.data=m,this}(function(e){var t=function(){return typeof M6=="function"},n=function(g,d,m,y){var C=4,x=s;switch(y){case e.image_compression.FAST:C=1,x=o;break;case e.image_compression.MEDIUM:C=6,x=a;break;case e.image_compression.SLOW:C=9,x=l}g=r(g,d,m,x);var w=M6(g,{level:C});return e.__addimage__.arrayBufferToBinaryString(w)},r=function(g,d,m,y){for(var C,x,w,E=g.length/d,N=new Uint8Array(g.length+E),_=h(),D=0;D<E;D+=1){if(w=D*d,C=g.subarray(w,w+d),y)N.set(y(C,m,x),w+D);else{for(var P,I=_.length,W=[];P<I;P+=1)W[P]=_[P](C,m,x);var G=f(W.concat());N.set(W[G],w+D)}x=C}return N},i=function(g){var d=Array.apply([],g);return d.unshift(0),d},o=function(g,d){var m,y=[],C=g.length;y[0]=1;for(var x=0;x<C;x+=1)m=g[x-d]||0,y[x+1]=g[x]-m+256&255;return y},s=function(g,d,m){var y,C=[],x=g.length;C[0]=2;for(var w=0;w<x;w+=1)y=m&&m[w]||0,C[w+1]=g[w]-y+256&255;return C},a=function(g,d,m){var y,C,x=[],w=g.length;x[0]=3;for(var E=0;E<w;E+=1)y=g[E-d]||0,C=m&&m[E]||0,x[E+1]=g[E]+256-(y+C>>>1)&255;return x},l=function(g,d,m){var y,C,x,w,E=[],N=g.length;E[0]=4;for(var _=0;_<N;_+=1)y=g[_-d]||0,C=m&&m[_]||0,x=m&&m[_-d]||0,w=c(y,C,x),E[_+1]=g[_]-w+256&255;return E},c=function(g,d,m){if(g===d&&d===m)return g;var y=Math.abs(d-m),C=Math.abs(g-m),x=Math.abs(g+d-m-m);return y<=C&&y<=x?g:C<=x?d:m},h=function(){return[i,o,s,a,l]},f=function(g){var d=g.map(function(m){return m.reduce(function(y,C){return y+Math.abs(C)},0)});return d.indexOf(Math.min.apply(null,d))};e.processPNG=function(g,d,m,y){var C,x,w,E,N,_,D,P,I,W,G,O,z,U,$,ne=this.decode.FLATE_DECODE,se="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(w=new Foe(g)).imgData,x=w.bits,C=w.colorSpace,N=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){I=(P=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,G=new Uint8Array(I*w.colors),W=new Uint8Array(I);var ae,Z=w.pixelBitlength-w.bits;for(U=0,$=0;U<I;U++){for(z=P[U],ae=0;ae<Z;)G[$++]=z>>>ae&255,ae+=w.bits;W[U]=z>>>ae&255}}if(w.bits===16){I=(P=new Uint32Array(w.decodePixels().buffer)).length,G=new Uint8Array(I*(32/w.pixelBitlength)*w.colors),W=new Uint8Array(I*(32/w.pixelBitlength)),O=w.colors>1,U=0,$=0;for(var le=0;U<I;)z=P[U++],G[$++]=z>>>0&255,O&&(G[$++]=z>>>16&255,z=P[U++],G[$++]=z>>>0&255),W[le++]=z>>>16&255;x=8}y!==e.image_compression.NONE&&t()?(g=n(G,w.width*w.colors,w.colors,y),D=n(W,w.width,1,y)):(g=G,D=W,ne=void 0)}if(w.colorType===3&&(C=this.color_spaces.INDEXED,_=w.palette,w.transparency.indexed)){var ue=w.transparency.indexed,ge=0;for(U=0,I=ue.length;U<I;++U)ge+=ue[U];if((ge/=255)===I-1&&ue.indexOf(0)!==-1)E=[ue.indexOf(0)];else if(ge!==I){for(P=w.decodePixels(),W=new Uint8Array(P.length),U=0,I=P.length;U<I;U++)W[U]=ue[P[U]];D=n(W,w.width,1)}}var F=function(Q){var re;switch(Q){case e.image_compression.FAST:re=11;break;case e.image_compression.MEDIUM:re=13;break;case e.image_compression.SLOW:re=14;break;default:re=12}return re}(y);return ne===this.decode.FLATE_DECODE&&(se="/Predictor "+F+" "),se+="/Colors "+N+" /BitsPerComponent "+x+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(D&&this.__addimage__.isArrayBuffer(D)||this.__addimage__.isArrayBufferView(D))&&(D=this.__addimage__.arrayBufferToBinaryString(D)),{alias:m,data:g,index:d,filter:ne,decodeParameters:se,transparency:E,palette:_,sMask:D,predictor:F,width:w.width,height:w.height,bitsPerComponent:x,colorSpace:C}}}})(Vt.API),function(e){e.processGIF89A=function(t,n,r,i){var o=new joe(t),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:a},h=new a4(100).encode(c,100);return e.processJPEG.call(this,h,n,r,i)},e.processGIF87A=e.processGIF89A}(Vt.API),Pa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Pa.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){er.log("bit decode error:"+n)}},Pa.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Pa.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,a=o>>4,l=15&o,c=this.palette[a];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Pa.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}e!==0&&(this.pos+=4-e)}},Pa.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,a=(o>>5&t)/t*255|0,l=(o>>10&t)/t*255|0,c=o>>15?255:0,h=r*this.width*4+4*i;this.data[h]=l,this.data[h+1]=a,this.data[h+2]=s,this.data[h+3]=c}this.pos+=e}},Pa.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,l=(s>>5&n)/n*255|0,c=(s>>11)/t*255|0,h=i*this.width*4+4*o;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=a,this.data[h+3]=255}this.pos+=e}},Pa.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Pa.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},Pa.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var o=new Pa(t,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new a4(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(Vt.API),g9.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var o=new g9(t),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new a4(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(Vt.API),Vt.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var h=r[c],f=r[c+1],g=r[c+2],d=r[c+3];o[a++]=h,o[a++]=f,o[a++]=g,s[l++]=d}var m=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:m,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Vt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},lp=Vt.API,lv=lp.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,h=c.fof?c.fof:1,f=t.doKerning!==!1,g=0,d=e.length,m=0,y=a[0]||l,C=[];for(n=0;n<d;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?C.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/o)||0)/1e3):(g=f&&Hn(c[r])==="object"&&!isNaN(parseInt(c[r][m],10))?c[r][m]/h:0,C.push((a[r]||y)/l+g)),m=r;return C},h9=lp.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return lp.processArabic&&(e=lp.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:lv.apply(this,arguments).reduce(function(o,s){return o+s},0)},f9=function(e,t,n,r){for(var i=[],o=0,s=e.length,a=0;o!==s&&a+t[o]<n;)a+=t[o],o++;i.push(e.slice(0,o));var l=o;for(a=0;o!==s;)a+t[o]>r&&(i.push(e.slice(l,o)),a=0,l=o),a+=t[o],o++;return l!==o&&i.push(e.slice(l,o)),i},d9=function(e,t,n){n||(n={});var r,i,o,s,a,l,c,h=[],f=[h],g=n.textIndent||0,d=0,m=0,y=e.split(" "),C=lv.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?y[0].length+2:n.lineIndent||0){var x=Array(l).join(" "),w=[];y.map(function(N){(N=N.split(/\s*\n/)).length>1?w=w.concat(N.map(function(_,D){return(D&&_.length?`
`:"")+_})):w.push(N[0])}),y=w,l=h9.apply(this,[x,n])}for(o=0,s=y.length;o<s;o++){var E=0;if(r=y[o],l&&r[0]==`
`&&(r=r.substr(1),E=1),g+d+(m=(i=lv.apply(this,[r,n])).reduce(function(N,_){return N+_},0))>t||E){if(m>t){for(a=f9.apply(this,[r,i,t-(g+d),t]),h.push(a.shift()),h=[a.pop()];a.length;)f.push([a.shift()]);m=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(N,_){return N+_},0)}else h=[r];f.push(h),g=m+l,d=C}else h.push(r),g+=d+m,d=C}return c=l?function(N,_){return(_?x:"")+N.join(" ")}:function(N){return N.join(" ")},f.map(c)},lp.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var f=this.internal.getFont(h.fontName,h.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(d9.apply(this,[r[a],s,o]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var o=function(f){return"0x"+parseInt(f,10).toString(16)},s=e.__fontmetrics__.compress=function(f){var g,d,m,y,C=["{"];for(var x in f){if(g=f[x],isNaN(parseInt(x,10))?d="'"+x+"'":(x=parseInt(x,10),d=(d=o(x).slice(2)).slice(0,-1)+r[d.slice(-1)]),typeof g=="number")g<0?(m=o(g).slice(3),y="-"):(m=o(g).slice(2),y=""),m=y+m.slice(0,-1)+r[m.slice(-1)];else{if(Hn(g)!=="object")throw new Error("Don't know what to do with value type "+Hn(g)+".");m=s(g)}C.push(d+m)}return C.push("}"),C.join("")},a=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,d,m,y,C={},x=1,w=C,E=[],N="",_="",D=f.length-1,P=1;P<D;P+=1)(y=f[P])=="'"?g?(m=g.join(""),g=void 0):g=[]:g?g.push(y):y=="{"?(E.push([w,m]),w={},m=void 0):y=="}"?((d=E.pop())[0][d[1]]=w,m=void 0,w=d[0]):y=="-"?x=-1:m===void 0?n.hasOwnProperty(y)?(N+=n[y],m=parseInt(N,16)*x,x=1,N=""):N+=y:n.hasOwnProperty(y)?(_+=n[y],w[m]=parseInt(_,16)*x,x=1,m=void 0,_=""):_+=y;return C},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},h={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var g=f.font,d=h.Unicode[g.postScriptName];d&&(g.metadata.Unicode={},g.metadata.Unicode.widths=d.widths,g.metadata.Unicode.kerning=d.kerning);var m=c.Unicode[g.postScriptName];m&&(g.metadata.Unicode.encoding=m,g.encoding=m.codePages[0])}])}(Vt.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=n.charCodeAt(o);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(h0(a)),s.metadata=e.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(Vt),function(e){function t(){return(Ut.canvg?Promise.resolve(Ut.canvg):q3(()=>import("./index.es-Rr62R79D-QlwDTWoD.js"),__vite__mapDeps([]))).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Vt.API.addSvgAsImage=function(n,r,i,o,s,a,l,c){if(isNaN(r)||isNaN(i))throw er.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(s))throw er.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=o,h.height=s;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return t().then(function(m){return m.fromString(f,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(g)}).then(function(){d.addImage(h.toDataURL("image/jpeg",1),r,i,o,s,l,c)})}}(),Vt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},Vt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],c=0,h=0,f=0;function g(m,y){var C,x=!1;for(C=0;C<m.length;C+=1)m[C]===y&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var d=a.length;for(f=0;f<d;f+=1)n[a[f]].value=n[a[f]].defaultValue,n[a[f]].explicitSet=!1}if(Hn(e)==="object"){for(i in e)if(o=e[i],g(a,i)&&o!==void 0){if(n[i].type==="boolean"&&typeof o=="boolean")n[i].value=o;else if(n[i].type==="name"&&g(n[i].valueSet,o))n[i].value=o;else if(n[i].type==="integer"&&Number.isInteger(o))n[i].value=o;else if(n[i].type==="array"){for(c=0;c<o.length;c+=1)if(r=!0,o[c].length===1&&typeof o[c][0]=="number")l.push(String(o[c]-1));else if(o[c].length>1){for(h=0;h<o[c].length;h+=1)typeof o[c][h]!="number"&&(r=!1);r===!0&&l.push([o[c][0]-1,o[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,y=[];for(m in n)n[m].explicitSet===!0&&(n[m].type==="name"?y.push("/"+m+" /"+n[m].value):y.push("/"+m+" "+n[m].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+s.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Vt.API),function(e){var t=e.API,n=t.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],h=[""],f=0,g=o.length;f<g;++f){if(a=s.metadata.characterToGlyph(o.charCodeAt(f)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(f),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return h.join("");a=a.toString(16),h.push(c[4-a.length],a)}return h.join("")},r=function(o){var s,a,l,c,h,f,g;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,g=(a=Object.keys(o).sort(function(d,m){return d-m})).length;f<g;f++)s=a[f],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(c=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,h=s.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="Identity-H"){for(var f=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),d="",m=0;m<g.length;m++)d+=String.fromCharCode(g[m]);var y=c();h({data:d,addLength1:!0,objectId:y}),l("endobj");var C=c();h({data:r(a.metadata.toUnicode),addLength1:!0,objectId:C}),l("endobj");var x=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+dp(a.fontName)),l("/FontFile2 "+y+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+dp(a.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+C+" 0 R"),l("/BaseFont /"+dp(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,h=s.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var f=a.metadata.rawData,g="",d=0;d<f.length;d++)g+=String.fromCharCode(f[d]);var m=c();h({data:g,addLength1:!0,objectId:m}),l("endobj");var y=c();h({data:r(a.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var C=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+dp(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var x=0;x<a.metadata.hmtx.widths.length;x++)a.metadata.hmtx.widths[x]=parseInt(a.metadata.hmtx.widths[x]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+dp(a.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]);var i=function(o){var s,a=o.text||"",l=o.x,c=o.y,h=o.options||{},f=o.mutex||{},g=f.pdfEscape,d=f.activeFontKey,m=f.fonts,y=d,C="",x=0,w="",E=m[y].encoding;if(m[y].encoding!=="Identity-H")return{text:a,x:l,y:c,options:h,mutex:f};for(w=a,y=d,Array.isArray(a)&&(w=a[0]),x=0;x<w.length;x+=1)m[y].metadata.hasOwnProperty("cmap")&&(s=m[y].metadata.cmap.unicode.codeMap[w[x].charCodeAt(0)]),s||w[x].charCodeAt(0)<256&&m[y].metadata.hasOwnProperty("Unicode")?C+=w[x]:C+="";var N="";return parseInt(y.slice(1))<14||E==="WinAnsiEncoding"?N=g(C,y).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(N=n(C,m[y])),f.isHex=!0,{text:N,x:l,y:c,options:h,mutex:f}};t.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?a.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):a.push(i(Object.assign({},l,{text:s[c]})).text);o.text=a}else o.text=i(Object.assign({},l,{text:s})).text}])}(Vt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Vt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,o,s,a,l,c,h,f=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,E=0;this.__bidiEngine__={};var N=function(O){var z=O.charCodeAt(),U=z>>8,$=y[U];return $!==void 0?f[256*$+(255&z)]:U===252||U===253?"AL":x.test(U)?"L":U===8?"R":"N"},_=function(O){for(var z,U=0;U<O.length;U++){if((z=N(O.charAt(U)))==="L")return!1;if(z==="R")return!0}return!1},D=function(O,z,U,$){var ne,se,ae,Z,le=z[$];switch(le){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(le="AN");break;case"AL":w=!0,le="R";break;case"WS":le="N";break;case"CS":$<1||$+1>=z.length||(ne=U[$-1])!=="EN"&&ne!=="AN"||(se=z[$+1])!=="EN"&&se!=="AN"?le="N":w&&(se="AN"),le=se===ne?se:"N";break;case"ES":le=(ne=$>0?U[$-1]:"B")==="EN"&&$+1<z.length&&z[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&U[$-1]==="EN"){le="EN";break}if(w){le="N";break}for(ae=$+1,Z=z.length;ae<Z&&z[ae]==="ET";)ae++;le=ae<Z&&z[ae]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for(Z=z.length,ae=$+1;ae<Z&&z[ae]==="NSM";)ae++;if(ae<Z){var ue=O[$],ge=ue>=1425&&ue<=2303||ue===64286;if(ne=z[ae],ge&&(ne==="R"||ne==="AL")){le="R";break}}}le=$<1||(ne=z[$-1])==="B"?"N":U[$-1];break;case"B":w=!1,i=!0,le=E;break;case"S":o=!0,le="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":le="N"}return le},P=function(O,z,U){var $=O.split("");return U&&I($,U,{hiLevel:E}),$.reverse(),z&&z.reverse(),$.join("")},I=function(O,z,U){var $,ne,se,ae,Z,le=-1,ue=O.length,ge=0,F=[],Q=E?d:g,re=[];for(w=!1,i=!1,o=!1,ne=0;ne<ue;ne++)re[ne]=N(O[ne]);for(se=0;se<ue;se++){if(Z=ge,F[se]=D(O,re,F,se),$=240&(ge=Q[Z][m[F[se]]]),ge&=15,z[se]=ae=Q[ge][5],$>0)if($===16){for(ne=le;ne<se;ne++)z[ne]=1;le=-1}else le=-1;if(Q[ge][6])le===-1&&(le=se);else if(le>-1){for(ne=le;ne<se;ne++)z[ne]=ae;le=-1}re[se]==="B"&&(z[se]=0),U.hiLevel|=ae}o&&function(he,pe,Se){for(var xe=0;xe<Se;xe++)if(he[xe]==="S"){pe[xe]=E;for(var Ee=xe-1;Ee>=0&&he[Ee]==="WS";Ee--)pe[Ee]=E}}(re,z,ue)},W=function(O,z,U,$,ne){if(!(ne.hiLevel<O)){if(O===1&&E===1&&!i)return z.reverse(),void(U&&U.reverse());for(var se,ae,Z,le,ue=z.length,ge=0;ge<ue;){if($[ge]>=O){for(Z=ge+1;Z<ue&&$[Z]>=O;)Z++;for(le=ge,ae=Z-1;le<ae;le++,ae--)se=z[le],z[le]=z[ae],z[ae]=se,U&&(se=U[le],U[le]=U[ae],U[ae]=se);ge=Z}ge++}}},G=function(O,z,U){var $=O.split(""),ne={hiLevel:E};return U||(U=[]),I($,U,ne),function(se,ae,Z){if(Z.hiLevel!==0&&h)for(var le,ue=0;ue<se.length;ue++)ae[ue]===1&&(le=C.indexOf(se[ue]))>=0&&(se[ue]=C[le+1])}($,U,ne),W(2,$,z,U,ne),W(1,$,z,U,ne),$.join("")};return this.__bidiEngine__.doBidiReorder=function(O,z,U){if(function(ne,se){if(se)for(var ae=0;ae<ne.length;ae++)se[ae]=ae;a===void 0&&(a=_(ne)),c===void 0&&(c=_(ne))}(O,z),s||!l||c)if(s&&l&&a^c)E=a?1:0,O=P(O,z,U);else if(!s&&l&&c)E=a?1:0,O=G(O,z,U),O=P(O,z);else if(!s||a||l||c){if(s&&!l&&a^c)O=P(O,z),a?(E=0,O=G(O,z,U)):(E=1,O=G(O,z,U),O=P(O,z));else if(s&&a&&!l&&c)E=1,O=G(O,z,U),O=P(O,z);else if(!s&&!l&&a^c){var $=h;a?(E=1,O=G(O,z,U),E=0,h=!1,O=G(O,z,U),h=$):(E=0,O=G(O,z,U),O=P(O,z),E=1,h=!1,O=G(O,z,U),h=$,O=P(O,z))}}else E=0,O=G(O,z,U);else E=a?1:0,O=G(O,z,U);return O},this.__bidiEngine__.setOptions=function(O){O&&(s=O.isInputVisual,l=O.isOutputVisual,a=O.isInputRtl,c=O.isOutputRtl,h=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text,o=(r.x,r.y,r.options||{}),s=(r.mutex,o.lang,[]);if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(s=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?s.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):s.push([n.doBidiReorder(i[a])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Vt),Vt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new wh(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new ese(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Boe(this.contents),this.head=new Voe(this),this.name=new Goe(this),this.cmap=new uI(this),this.toUnicode={},this.hhea=new Uoe(this),this.maxp=new Koe(this),this.hmtx=new Yoe(this),this.post=new Woe(this),this.os2=new qoe(this),this.loca=new Zoe(this),this.glyf=new Joe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,a,l,c;for(c=[],s=0,a=(l=this.bbox).length;s<a;s++)t=l[s],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,o,s,a;for(s=0,o=0,a=(t=""+t).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=t.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var qa,wh=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,o,s,a,l;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*o+65536*s+256*a+l},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,o;for(o=[],r=0,i=t.length;r<i;r++)n=t[r],o.push(this.writeByte(n));return o},e}(),Boe=function(){var e;function t(n){var r,i,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,o,s,a,l,c,h,f,g,d,m,y;for(y in d=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(d)/l),s=Math.floor(f/l),h=16*d-f,(i=new wh).writeInt(this.scalarType),i.writeShort(d),i.writeShort(f),i.writeShort(s),i.writeShort(h),o=16*d,c=i.pos+o,a=null,m=[],n)for(g=n[y],i.writeString(y),i.writeInt(e(g)),i.writeInt(c),i.writeInt(g.length),m=m.concat(g),y==="head"&&(a=c),c+=g.length;c%4;)m.push(0),c++;return i.write(m),r=2981146554-e(i.data),i.pos=a+8,i.writeUInt32(r),i.data},e=function(n){var r,i,o,s;for(n=hI.call(n);n.length%4;)n.push(0);for(o=new wh(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=o.readUInt32();return 4294967295&i},t}(),$oe={}.hasOwnProperty,Hl=function(e,t){for(var n in t)$oe.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};qa=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Voe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,qa),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new wh).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),m9=function(){function e(t,n){var r,i,o,s,a,l,c,h,f,g,d,m,y,C,x,w,E;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(d=t.readUInt16(),g=d/2,t.pos+=6,o=function(){var N,_;for(_=[],l=N=0;0<=g?N<g:N>g;l=0<=g?++N:--N)_.push(t.readUInt16());return _}(),t.pos+=2,y=function(){var N,_;for(_=[],l=N=0;0<=g?N<g:N>g;l=0<=g?++N:--N)_.push(t.readUInt16());return _}(),c=function(){var N,_;for(_=[],l=N=0;0<=g?N<g:N>g;l=0<=g?++N:--N)_.push(t.readUInt16());return _}(),h=function(){var N,_;for(_=[],l=N=0;0<=g?N<g:N>g;l=0<=g?++N:--N)_.push(t.readUInt16());return _}(),i=(this.length-t.pos+this.offset)/2,a=function(){var N,_;for(_=[],l=N=0;0<=i?N<i:N>i;l=0<=i?++N:--N)_.push(t.readUInt16());return _}(),l=x=0,E=o.length;x<E;l=++x)for(C=o[l],r=w=m=y[l];m<=C?w<=C:w>=C;r=m<=C?++w:--w)h[l]===0?s=r+c[l]:(s=a[h[l]/2+(r-m)-(g-l)]||0)!==0&&(s+=c[l]),this.codeMap[r]=65535&s}t.pos=f}return e.encode=function(t,n){var r,i,o,s,a,l,c,h,f,g,d,m,y,C,x,w,E,N,_,D,P,I,W,G,O,z,U,$,ne,se,ae,Z,le,ue,ge,F,Q,re,he,pe,Se,xe,Ee,Ge,Be,Ke;switch($=new wh,s=Object.keys(t).sort(function(it,at){return it-at}),n){case"macroman":for(y=0,C=function(){var it=[];for(m=0;m<256;++m)it.push(0);return it}(),w={0:0},o={},ne=0,le=s.length;ne<le;ne++)w[Ee=t[i=s[ne]]]==null&&(w[Ee]=++y),o[i]={old:t[i],new:w[t[i]]},C[i]=w[t[i]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(C),{charMap:o,subtable:$.data,maxGlyphID:y+1};case"unicode":for(z=[],f=[],E=0,w={},r={},x=c=null,se=0,ue=s.length;se<ue;se++)w[_=t[i=s[se]]]==null&&(w[_]=++E),r[i]={old:_,new:w[_]},a=w[_]-i,x!=null&&a===c||(x&&f.push(x),z.push(i),c=a),x=i;for(x&&f.push(x),f.push(65535),z.push(65535),G=2*(W=z.length),I=2*Math.pow(Math.log(W)/Math.LN2,2),g=Math.log(I/2)/Math.LN2,P=2*W-I,l=[],D=[],d=[],m=ae=0,ge=z.length;ae<ge;m=++ae){if(O=z[m],h=f[m],O===65535){l.push(0),D.push(0);break}if(O-(U=r[O].new)>=32768)for(l.push(0),D.push(2*(d.length+W-m)),i=Z=O;O<=h?Z<=h:Z>=h;i=O<=h?++Z:--Z)d.push(r[i].new);else l.push(U-O),D.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*W+2*d.length),$.writeUInt16(0),$.writeUInt16(G),$.writeUInt16(I),$.writeUInt16(g),$.writeUInt16(P),Se=0,F=f.length;Se<F;Se++)i=f[Se],$.writeUInt16(i);for($.writeUInt16(0),xe=0,Q=z.length;xe<Q;xe++)i=z[xe],$.writeUInt16(i);for(Ge=0,re=l.length;Ge<re;Ge++)a=l[Ge],$.writeUInt16(a);for(Be=0,he=D.length;Be<he;Be++)N=D[Be],$.writeUInt16(N);for(Ke=0,pe=d.length;Ke<pe;Ke++)y=d[Ke],$.writeUInt16(y);return{charMap:r,subtable:$.data,maxGlyphID:E+1}}},e}(),uI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,qa),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,i,o;for(n.pos=this.offset,this.version=n.readUInt16(),o=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=o?i<o:i>o;i=0<=o?++i:--i)r=new m9(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var i,o;return r==null&&(r="macroman"),i=m9.encode(n,r),(o=new wh).writeUInt16(0),o.writeUInt16(1),i.table=o.data.concat(i.subtable),i},t}(),Uoe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,qa),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),qoe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,qa),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),Woe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,qa),t.prototype.tag="post",t.prototype.parse=function(n){var r,i,o;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var s;for(i=n.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],o=[];n.pos<this.offset+this.length;)r=n.readByte(),o.push(this.names.push(n.readString(r)));return o;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],s=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;s=0<=l?++a:--a)c.push(n.readUInt32());return c}).call(this)}},t}(),Hoe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Goe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,qa),t.prototype.tag="name",t.prototype.parse=function(n){var r,i,o,s,a,l,c,h,f,g,d;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(c={},s=f=0,g=i.length;f<g;s=++f)o=i[s],n.pos=o.offset,h=n.readString(o.length),a=new Hoe(h,o),c[d=o.nameID]==null&&(c[d]=[]),c[o.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),Koe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,qa),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),Yoe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,qa),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,i,o,s,a,l,c;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,f;for(f=[],r=h=0;0<=o?h<o:h>o;r=0<=o?++h:--h)f.push(n.readInt16());return f}(),this.widths=(function(){var h,f,g,d;for(d=[],h=0,f=(g=this.metrics).length;h<f;h++)s=g[h],d.push(s.advance);return d}).call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=o?a<o:a>o;r=0<=o?++a:--a)c.push(this.widths.push(i));return c},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),hI=[].slice,Joe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,qa),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,i,o,s,a,l,c,h,f,g;return n in this.cache?this.cache[n]:(s=this.file.loca,r=this.file.contents,i=s.indexOf(n),(o=s.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new wh(r.read(o))).readShort(),h=l.readShort(),g=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[n]=a===-1?new Qoe(l,h,g,c,f):new Xoe(l,a,h,g,c,f),this.cache[n]))},t.prototype.encode=function(n,r,i){var o,s,a,l,c;for(a=[],s=[],l=0,c=r.length;l<c;l++)o=n[r[l]],s.push(a.length),o&&(a=a.concat(o.encode(i)));return s.push(a.length),{table:a,offsets:s}},t}(),Xoe=function(){function e(t,n,r,i,o,s){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Qoe=function(){function e(t,n,r,i,o){var s,a;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new wh(hI.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),Zoe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,qa),t.prototype.tag="loca",t.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var o,s;for(s=[],i=0,o=this.length;i<o;i+=2)s.push(2*n.readUInt16());return s}).call(this):(function(){var o,s;for(s=[],i=0,o=this.length;i<o;i+=4)s.push(n.readUInt32());return s}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),o=0,s=0,a=0;a<i.length;++a)if(i[a]=o,s<r.length&&r[s]==a){++s,i[a]=o;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(o+=c)}for(var h=new Array(4*i.length),f=0;f<i.length;++f)h[4*f+3]=255&i[f],h[4*f+2]=(65280&i[f])>>8,h[4*f+1]=(16711680&i[f])>>16,h[4*f]=(4278190080&i[f])>>24;return h},t}(),ese=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,o;for(n in i=this.font.cmap.tables[0].codeMap,t={},o=this.subset)r=o[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,o,s,a,l;for(i={},s=0,a=t.length;s<a;s++)i[o=t[s]]=this.font.glyf.glyphFor(o);for(o in n=[],i)(r=i[o])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(o in l=this.glyphsFor(n))r=l[o],i[o]=r;return i},e.prototype.encode=function(t,n){var r,i,o,s,a,l,c,h,f,g,d,m,y,C,x;for(i in r=uI.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),d={0:0},x=r.charMap)d[(l=x[i]).old]=l.new;for(m in g=r.maxGlyphID,s)m in d||(d[m]=g++);return h=function(w){var E,N;for(E in N={},w)N[w[E]]=E;return N}(d),f=Object.keys(h).sort(function(w,E){return w-E}),y=function(){var w,E,N;for(N=[],w=0,E=f.length;w<E;w++)a=f[w],N.push(h[a]);return N}(),o=this.font.glyf.encode(s,y,d),c=this.font.loca.encode(o.offsets,y),C={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},e}();Vt.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,o,s;if(Array.isArray(n))return"["+function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)r=n[a],c.push(t.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in o=["<<"],n)s=n[i],o.push("/"+i+" "+t.convert(s));return o.push(">>"),o.join(`
`)}return""+n},t}();const tse=({data:e,onChanges:t})=>{var n,r,i,o;const s=JR(),a=M.useRef(null),l=M.useRef(null),c=M.useRef([]),h=M.useRef(null),{usedFonts:f}=xw(),[g,d]=M.useState({x:0,y:0}),{config:{editorAssetsUrl:m}}=M.useContext(fd);xee(a.current);const{name:y,actions:C,query:x,scale:w,pages:E,hoveredPage:N,hoveredLayer:_,selectStatus:D,rotateData:P,resizeData:I,controlBox:W,activePage:G,dragData:O,imageEditor:z,pageSize:U,openPageSettings:$,downloadPNGCmd:ne,downloadPDFCmd:se}=Ot(De=>{const ze=parseInt(Object.keys(De.hoveredLayer)[0]),je=De.hoveredLayer[ze];return{name:De.name,scale:De.scale,pages:De.pages,hoveredPage:ze,hoveredLayer:je?De.pages[ze].layers[je]:null,selectStatus:De.selectData.status,rotateData:De.rotateData,resizeData:De.resizeData,controlBox:De.controlBox,activePage:De.activePage,dragData:De.dragData,imageEditor:De.imageEditor,pageSize:De.pageSize,openPageSettings:De.openPageSettings,downloadPNGCmd:De.downloadPNGCmd,downloadPDFCmd:De.downloadPDFCmd}}),{pageTransform:ae,onZoomStart:Z,onZoomMove:le,onZoomEnd:ue,onMoveStart:ge,onMove:F,onMoveEnd:Q,onMovePage:re,onMovePageEnd:he}=See(a,c,l);M.useEffect(()=>{const De=xg(e);C.setData(De),setTimeout(()=>{var ze;const je=((((ze=a==null?void 0:a.current)==null?void 0:ze.offsetWidth)||0)-(u0?32:112))/U.width;C.setScale(je>.5?.5:je)},16)},[e,C]),M.useEffect(()=>{if(ne!==-1){if(ne===1){Ke(G),C.fireDownloadPNGCmd(-1);return}if(ne===0){E.forEach((De,ze)=>Ke(ze)),C.fireDownloadPNGCmd(-1);return}}},[ne]),M.useEffect(()=>{if(ne!==-1&&se===0){it();return}},[se]),Ire(()=>{t&&t(iy(x.serialize(),ry)[0])},500,[E]),Cee(h,()=>{C.hideContextMenu()},"mousedown",{capture:!0});const pe=M.useRef(null),{selectedLayerIds:Se}=Ni(),xe=()=>{if(!O.status&&!D){const De=a.current;c.current[G]&&!lN(De,c.current[G])&&c.current.some((ze,je)=>{if(lN(De,ze))return C.selectLayers(je,"ROOT"),!0})}},[Ee,Ge]=M.useState(w);M.useEffect(()=>{var De,ze;if(u0)return;let je={x:((De=a==null?void 0:a.current)==null?void 0:De.scrollLeft)||0,y:((ze=a==null?void 0:a.current)==null?void 0:ze.scrollTop)||0},oe={x:g.x+je.x,y:g.y+je.y},ee={x:oe.x/Ee,y:oe.y/Ee},te={x:ee.x*w,y:ee.y*w},Ne={x:te.x-g.x,y:te.y-g.y};a!=null&&a.current&&(a.current.scrollTop=Ne.y,a.current.scrollLeft=Ne.x),Ge(w)},[w]),M.useEffect(()=>{const De=je=>{d({x:je.pageX,y:je.pageY})},ze=()=>{var je,oe;d({x:(((je=a.current)==null?void 0:je.offsetWidth)||2)/2,y:(((oe=a.current)==null?void 0:oe.offsetHeight)||2)/2})};return a!=null&&a.current&&(a.current.addEventListener("mousemove",De),a.current.addEventListener("mouseleave",ze)),()=>{a!=null&&a.current&&(a.current.removeEventListener("mousemove",De),a.current.removeEventListener("mouseleave",ze))}},[a==null?void 0:a.current]);const Be=De=>{setTimeout(()=>{c.current[De].scrollIntoView({behavior:"smooth",block:"center"})},16)},Ke=async De=>{var ze;const je=(ze=c.current[De])==null?void 0:ze.querySelector(".page-content");if(je)try{const oe=await YN(je,{width:U.width,height:U.height}),ee=document.createElement("a");ee.download=`design-id-page-${De+1}.png`,ee.href=oe,ee.click()}catch(oe){window.alert("Cannot download: "+oe.message)}},it=async()=>{const De=[];E.forEach((ee,te)=>{var Ne;const Oe=(Ne=c.current[te])==null?void 0:Ne.querySelector(".page-content");De.push(YN(Oe,{width:U.width,height:U.height}))});const ze=await Promise.all(De),je=new Vt({unit:"px"});ze.forEach((ee,te)=>{je.internal.pageSize.width=U.width,je.internal.pageSize.height=U.height,je.addImage(ee,"PNG",0,0,U.width,U.height,"p"+te,"SLOW"),te!==ze.length-1&&(je.addPage(),je.internal.pageSize.width=U.width,je.internal.pageSize.height=U.height)});const oe=y?roe(y):"untitled-design";je.save(oe+".pdf"),C.fireDownloadPDFCmd(-1)},{tmpSelected:at,onSelectStart:Re}=kee({frameRef:a,pageListRef:c,selectionBoxRef:pe}),{onDragStart:fe}=Eee({frameRef:a,pageListRef:c}),vt=M.useCallback(De=>{if(nN(De)&&De.button===2||z||f6(De)&&De.touches.length>1)return;const ze=c.current.find(Ne=>Ne.contains(De.target)),je=c.current.find(Ne=>De.target.contains(Ne)),{clientX:oe,clientY:ee}=zr(De);if(!ze&&!je)return;let te=!1;if(W){const Ne=new WebKitCSSMatrix(gn({rotate:W.rotate})),Oe=c.current[G].getBoundingClientRect(),qe=ks({width:W.boxSize.width*w,height:W.boxSize.height*w},Ne,{x:Oe.x+W.position.x*w,y:Oe.y+W.position.y*w});te=J0({x:oe,y:ee},qe)}_&&_.id!=="ROOT"&&!Se.includes(_.id)&&(!te||W&&QR(_.data.props,W))&&C.selectLayers(N,_.id,s.current?"add":"replace"),_&&_.id!=="ROOT"&&!_.data.locked||te?(fe(De),De.stopPropagation()):nN(De)?(Re(De),De.stopPropagation()):f6(De)&&ge(De)},[_,W,Se,O]);return me(M.Fragment,{children:[S("div",{ref:a,css:{display:"flex",position:"relative",height:"100%",overflow:"auto",...(()=>{if(P.status){const De=Math.round((P.rotate||0)/10);return{cursor:`url('${m}/cursors/rotate/${De===36?0:De}.png') 12 12, auto;`}}else if(I.status){const De={bottomLeft:45,left:90,topLeft:135,top:180,topRight:225,right:270,bottomRight:315,bottom:0},ze=(I.rotate||0)+De[I.direction||"bottom"]+90,je=Math.round(ze%180/10);return{cursor:`url('${m}/cursors/resize/${je}.png') 12 12, auto`}}else if(O.status)return{cursor:"move"};return{}})(),"@media (max-width: 900px)":{overflow:"hidden",height:"calc(100% - 72px)"}},tabIndex:0,onTouchStart:Z,onTouchMove:le,onTouchEnd:ue,onScroll:()=>{xe()},children:S("div",{css:{position:"absolute",display:"flex",minWidth:"100%",minHeight:"100%"},onMouseDown:De=>vt(De.nativeEvent),onTouchStart:De=>vt(De.nativeEvent),children:me("div",{css:{position:"relative",display:"flex",flexGrow:1,touchAction:"pinch-zoom"},children:[me("div",{ref:l,css:{display:"flex",position:"relative",flexDirection:"row",justifyContent:"center",margin:"auto","@media (max-width: 900px)":{transition:"transform 250ms linear 0s",margin:"initial"}},style:{transform:`translateX(-${u0?window.innerWidth*G:0}px)`},children:[me("div",{css:{marginLeft:56,"@media (max-width: 900px)":{display:"flex",marginLeft:0}},onTouchMove:De=>{F(De),re(De)},onTouchEnd:()=>{Q(),he()},children:[S(uT,{fonts:f,mode:"editor"}),E.map((De,ze)=>S("div",{css:{"@media (max-width: 900px)":{padding:"0 16px",width:window.innerWidth,height:window.innerHeight,overflow:"hidden",marginTop:5}},children:S(bee,{ref:je=>je&&(c.current[ze]=je),pageIndex:ze,pageName:De.name,width:U.width,height:U.height,transform:ae,onMovePageUp:()=>{C.movePageUp(ze),Be(G-1)},onMovePageDown:()=>{C.movePageDown(ze),Be(G+1)}})},ze)),S("button",{css:{alignItems:"center",justifyItems:"center",marginTop:20,marginBottom:20,background:"rgba(64,87,109,.07)",color:"#0d1216",width:U.width*w,height:40,textAlign:"center",padding:"0 2px",fontWeight:600,borderRadius:3,"@media (max-width: 900px)":{display:"none"}},onClick:()=>{C.addPage(),Be(G+1)},children:"+ Add Page"})]}),S("div",{css:{width:56,pointerEvents:"none","@media (max-width: 900px)":{width:0}}})]}),S(Bee,{ref:h}),D&&S(Vee,{ref:pe,selectedLayers:at==null?void 0:at.selectedLayers})]})})}),I.status&&me("div",{css:{position:"fixed",top:`${(((n=I.cursor)==null?void 0:n.clientY)||0)+36}px`,left:`${(((r=I.cursor)==null?void 0:r.clientX)||0)+60}px`,whiteSpace:"nowrap",background:"#3a3a4c",padding:"3px 8px",borderRadius:4,textAlign:"center",color:"white",fontSize:12,fontWeight:700},children:["w: ",Math.round(((i=I.boxSize)==null?void 0:i.width)||0)," h:"," ",Math.round(((o=I.boxSize)==null?void 0:o.height)||0)]}),$&&S(Rre,{onChangePage:De=>{C.setActivePage(De),c.current[De].scrollIntoView({block:"center"})}})]})};var b8=Symbol.for("immer-nothing"),f0=Symbol.for("immer-draftable"),Ps=Symbol.for("immer-state");function co(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var rd=Object.getPrototypeOf;function id(e){return!!e&&!!e[Ps]}function bh(e){var t;return e?fI(e)||Array.isArray(e)||!!e[f0]||!!((t=e.constructor)!=null&&t[f0])||z2(e)||F2(e):!1}var nse=Object.prototype.constructor.toString();function fI(e){if(!e||typeof e!="object")return!1;const t=rd(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===nse}function Cg(e,t){od(e)===0?Object.entries(e).forEach(([n,r])=>{t(n,r,e)}):e.forEach((n,r)=>t(r,n,e))}function od(e){const t=e[Ps];return t?t.type_:Array.isArray(e)?1:z2(e)?2:F2(e)?3:0}function i2(e,t){return od(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function l4(e,t){return od(e)===2?e.get(t):e[t]}function dI(e,t,n){const r=od(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function rse(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function z2(e){return e instanceof Map}function F2(e){return e instanceof Set}function mf(e){return e.copy_||e.base_}function B6(e,t){if(z2(e))return new Map(e);if(F2(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&fI(e))return rd(e)?{...e}:Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[Ps];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const o=r[i],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(rd(e),n)}function x8(e,t=!1){return Tw(e)||id(e)||!bh(e)||(od(e)>1&&(e.set=e.add=e.clear=e.delete=ise),Object.freeze(e),t&&Cg(e,(n,r)=>x8(r,!0))),e}function ise(){co(2)}function Tw(e){return Object.isFrozen(e)}var $6={};function sd(e){const t=$6[e];return t||co(0,e),t}function ose(e,t){$6[e]||($6[e]=t)}var o2;function pI(){return o2}function sse(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function v9(e,t){t&&(sd("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function V6(e){U6(e),e.drafts_.forEach(ase),e.drafts_=null}function U6(e){e===o2&&(o2=e.parent_)}function y9(e){return o2=sse(o2,e)}function ase(e){const t=e[Ps];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function w9(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ps].modified_&&(V6(t),co(4)),bh(e)&&(e=cy(t,e),t.parent_||uy(t,e)),t.patches_&&sd("Patches").generateReplacementPatches_(n[Ps].base_,e,t.patches_,t.inversePatches_)):e=cy(t,n,[]),V6(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==b8?e:void 0}function cy(e,t,n){if(Tw(t))return t;const r=t[Ps];if(!r)return Cg(t,(i,o)=>b9(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return uy(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),Cg(o,(a,l)=>b9(e,r,i,a,l,n,s)),uy(e,i,!1),n&&e.patches_&&sd("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function b9(e,t,n,r,i,o,s){if(id(i)){const a=o&&t&&t.type_!==3&&!i2(t.assigned_,r)?o.concat(r):void 0,l=cy(e,i,a);if(dI(n,r,l),id(l))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(bh(i)&&!Tw(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;cy(e,i),(!t||!t.scope_.parent_)&&uy(e,i)}}function uy(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&x8(t,n)}function lse(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:pI(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=S8;n&&(i=[r],o=s2);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var S8={get(e,t){if(t===Ps)return e;const n=mf(e);if(!i2(n,t))return cse(e,n,t);const r=n[t];return e.finalized_||!bh(r)?r:r===c4(e.base_,t)?(u4(e),e.copy_[t]=W6(r,e)):r},has(e,t){return t in mf(e)},ownKeys(e){return Reflect.ownKeys(mf(e))},set(e,t,n){const r=gI(mf(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=c4(mf(e),t),o=i==null?void 0:i[Ps];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(rse(n,i)&&(n!==void 0||i2(e.base_,t)))return!0;u4(e),q6(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return c4(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,u4(e),q6(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=mf(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){co(11)},getPrototypeOf(e){return rd(e.base_)},setPrototypeOf(){co(12)}},s2={};Cg(S8,(e,t)=>{s2[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});s2.deleteProperty=function(e,t){return s2.set.call(this,e,t,void 0)};s2.set=function(e,t,n){return S8.set.call(this,e[0],t,n,e[0])};function c4(e,t){const n=e[Ps];return(n?mf(n):e)[t]}function cse(e,t,n){var r;const i=gI(t,n);return i?"value"in i?i.value:(r=i.get)==null?void 0:r.call(e.draft_):void 0}function gI(e,t){if(!(t in e))return;let n=rd(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=rd(n)}}function q6(e){e.modified_||(e.modified_=!0,e.parent_&&q6(e.parent_))}function u4(e){e.copy_||(e.copy_=B6(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var use=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const s=this;return function(a=o,...l){return s.produce(a,c=>n.call(this,c,...l))}}typeof n!="function"&&co(6),r!==void 0&&typeof r!="function"&&co(7);let i;if(bh(t)){const o=y9(this),s=W6(t,void 0);let a=!0;try{i=n(s),a=!1}finally{a?V6(o):U6(o)}return v9(o,r),w9(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===b8&&(i=void 0),this.autoFreeze_&&x8(i,!0),r){const o=[],s=[];sd("Patches").generateReplacementPatches_(t,i,o,s),r(o,s)}return i}else co(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,a=>t(a,...s));let r,i;return[this.produce(t,n,(o,s)=>{r=o,i=s}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){bh(e)||co(8),id(e)&&(e=hse(e));const t=y9(this),n=W6(e,void 0);return n[Ps].isManual_=!0,U6(t),n}finishDraft(e,t){const n=e&&e[Ps];(!n||!n.isManual_)&&co(9);const{scope_:r}=n;return v9(r,t),w9(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=sd("Patches").applyPatches_;return id(e)?r(e,t):this.produce(e,i=>r(i,t))}};function W6(e,t){const n=z2(e)?sd("MapSet").proxyMap_(e,t):F2(e)?sd("MapSet").proxySet_(e,t):lse(e,t);return(t?t.scope_:pI()).drafts_.push(n),n}function hse(e){return id(e)||co(10,e),mI(e)}function mI(e){if(!bh(e)||Tw(e))return e;const t=e[Ps];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=B6(e,t.scope_.immer_.useStrictShallowCopy_)}else n=B6(e,!0);return Cg(n,(r,i)=>{dI(n,r,mI(i))}),t&&(t.finalized_=!1),n}function fse(){const e="replace",t="add",n="remove";function r(f,g,d,m){switch(f.type_){case 0:case 2:return o(f,g,d,m);case 1:return i(f,g,d,m);case 3:return s(f,g,d,m)}}function i(f,g,d,m){let{base_:y,assigned_:C}=f,x=f.copy_;x.length<y.length&&([y,x]=[x,y],[d,m]=[m,d]);for(let w=0;w<y.length;w++)if(C[w]&&x[w]!==y[w]){const E=g.concat([w]);d.push({op:e,path:E,value:h(x[w])}),m.push({op:e,path:E,value:h(y[w])})}for(let w=y.length;w<x.length;w++){const E=g.concat([w]);d.push({op:t,path:E,value:h(x[w])})}for(let w=x.length-1;y.length<=w;--w){const E=g.concat([w]);m.push({op:n,path:E})}}function o(f,g,d,m){const{base_:y,copy_:C}=f;Cg(f.assigned_,(x,w)=>{const E=l4(y,x),N=l4(C,x),_=w?i2(y,x)?e:t:n;if(E===N&&_===e)return;const D=g.concat(x);d.push(_===n?{op:_,path:D}:{op:_,path:D,value:N}),m.push(_===t?{op:n,path:D}:_===n?{op:t,path:D,value:h(E)}:{op:e,path:D,value:h(E)})})}function s(f,g,d,m){let{base_:y,copy_:C}=f,x=0;y.forEach(w=>{if(!C.has(w)){const E=g.concat([x]);d.push({op:n,path:E,value:w}),m.unshift({op:t,path:E,value:w})}x++}),x=0,C.forEach(w=>{if(!y.has(w)){const E=g.concat([x]);d.push({op:t,path:E,value:w}),m.unshift({op:n,path:E,value:w})}x++})}function a(f,g,d,m){d.push({op:e,path:[],value:g===b8?void 0:g}),m.push({op:e,path:[],value:f})}function l(f,g){return g.forEach(d=>{const{path:m,op:y}=d;let C=f;for(let N=0;N<m.length-1;N++){const _=od(C);let D=m[N];typeof D!="string"&&typeof D!="number"&&(D=""+D),(_===0||_===1)&&(D==="__proto__"||D==="constructor")&&co(19),typeof C=="function"&&D==="prototype"&&co(19),C=l4(C,D),typeof C!="object"&&co(18,m.join("/"))}const x=od(C),w=c(d.value),E=m[m.length-1];switch(y){case e:switch(x){case 2:return C.set(E,w);case 3:co(16);default:return C[E]=w}case t:switch(x){case 1:return E==="-"?C.push(w):C.splice(E,0,w);case 2:return C.set(E,w);case 3:return C.add(w);default:return C[E]=w}case n:switch(x){case 1:return C.splice(E,1);case 2:return C.delete(E);case 3:return C.delete(d.value);default:return delete C[E]}default:co(17,y)}}),f}function c(f){if(!bh(f))return f;if(Array.isArray(f))return f.map(c);if(z2(f))return new Map(Array.from(f.entries()).map(([d,m])=>[d,c(m)]));if(F2(f))return new Set(Array.from(f).map(c));const g=Object.create(rd(f));for(const d in f)g[d]=c(f[d]);return i2(f,f0)&&(g[f0]=f[f0]),g}function h(f){return id(f)?c(f):f}ose("Patches",{applyPatches_:l,generatePatches_:r,generateReplacementPatches_:a})}var Ts=new use,dse=Ts.produce,pse=Ts.produceWithPatches.bind(Ts);Ts.setAutoFreeze.bind(Ts);Ts.setUseStrictShallowCopy.bind(Ts);var x9=Ts.applyPatches.bind(Ts);Ts.createDraft.bind(Ts);Ts.finishDraft.bind(Ts);const Zn={UNDO:"HISTORY_UNDO",REDO:"HISTORY_REDO",THROTTLE:"HISTORY_THROTTLE",IGNORE:"HISTORY_IGNORE",MERGE:"HISTORY_MERGE",CLEAR:"HISTORY_CLEAR",NEW:"HISTORY_NEW",BACK:"HISTORY_BACK"};class gse{constructor(){_n(this,"timeline",[]),_n(this,"pointer",-1)}add(t,n){this.pointer=this.pointer+1,this.timeline.length=this.pointer,this.timeline[this.pointer]={patches:t,inversePatches:n,timestamp:Date.now()}}throttleAdd(t,n,r=500){if(this.timeline.length&&this.pointer>=0){const{patches:i,inversePatches:o,timestamp:s}=this.timeline[this.pointer];if(new Date().getTime()-s<r){this.timeline[this.pointer]={timestamp:s,patches:[...i,...t],inversePatches:[...n,...o]};return}}this.add(t,n)}back(){this.canUndo()&&(this.timeline.splice(this.pointer,1),this.pointer=this.pointer-1)}merge(t,n){if(!(t.length===0&&n.length===0)){if(this.timeline.length&&this.pointer>=0){const{patches:r,inversePatches:i,timestamp:o}=this.timeline[this.pointer];this.timeline[this.pointer]={timestamp:o,patches:[...r,...t],inversePatches:[...n,...i]};return}this.add(t,n)}}clear(){this.timeline=[],this.pointer=-1}canUndo(){return this.pointer>=0}canRedo(){return this.pointer<this.timeline.length-1}undo(t){if(!this.canUndo())return;const{inversePatches:n}=this.timeline[this.pointer];this.pointer=this.pointer-1;const r=n.filter(i=>i.path[0]!=="textEditor");return x9(t,r)}redo(t){if(!this.canRedo())return;this.pointer=this.pointer+1;const{patches:n}=this.timeline[this.pointer],r=n.filter(i=>i.path[0]!=="textEditor");return x9(t,r)}}function mse(e){const t=`<body>${e}</body>`;return new window.DOMParser().parseFromString(t,"text/html").body}function vse(e,t){return Xf.fromSchema(t).parse(mse(e))}function yse(e,t){return vse(e,t)}const wse=e=>(t,n)=>{const r=t.tr,{doc:i}=r,o=yse(e,t.schema);return n?(r.replaceWith(0,i.content.size,o),n(r),!0):!1},pp=(e,t)=>({x:(e.width-t.width)/2,y:(e.height-t.height)/2}),bse=e=>{const t=(n,{rootId:r,layers:i},o="ROOT")=>{const s=(h,f)=>({id:Nu(),data:dl({...h,parent:f,child:[]})}),a=s(i[r],o),l=((h,f)=>{const g=[];return i[h].child.forEach(d=>{var m;const y=s(i[d],f);y!=null&&y.data&&(g.push([y.id,y]),(m=a.data)==null||m.child.push(y.id))}),g})(r,a.id),c=Object.fromEntries([[a.id,a],...l]);return Object.entries(c).forEach(([h,f])=>{e.pages[e.activePage].layers[h]=f}),e.pages[n].layers[o].data.child.push(a.id),a};return{setProp(n,r,i,o){const s=[];mt.isArray(r)?s.push(...r):s.push(r),s.forEach(a=>{e.pages[n].layers[a].data.props=Ru(e.pages[n].layers[a].data.props,i,o)})},moveSelectedLayers:(n,r)=>{e.controlBox=void 0,e.selectedLayers[e.activePage].forEach(i=>{n==="right"?e.pages[e.activePage].layers[i].data.props.position.x+=r:n==="left"?e.pages[e.activePage].layers[i].data.props.position.x-=r:n==="top"?e.pages[e.activePage].layers[i].data.props.position.y-=r:n==="bottom"&&(e.pages[e.activePage].layers[i].data.props.position.y+=r)})},setName:n=>{e.name=n},changePageSize:n=>{const r=n.width-e.pageSize.width,i=n.height-e.pageSize.height;e.pageSize=n;const o=n.width/n.height;e.pages.forEach(s=>{Object.entries(s.layers).forEach(([,a])=>{if(!hh(a)&&XZ(a)&&(a.data.props.position.x+=r/2,a.data.props.position.y+=i/2),hh(a)&&(a.data.props.boxSize=n,a.data.props.image)){const l=a.data.props.image.boxSize.width/a.data.props.image.boxSize.height;l>o?(a.data.props.image.boxSize.height=n.height,a.data.props.image.boxSize.width=n.height*l):(a.data.props.image.boxSize.width=n.width,a.data.props.image.boxSize.height=n.width/l),a.data.props.image.position.y=(n.height-a.data.props.image.boxSize.height)/2,a.data.props.image.position.x=(n.width-a.data.props.image.boxSize.width)/2}})})},setScale:n=>{e.scale=n},setGuideline:({vertical:n,horizontal:r})=>{e.guideline.vertical=n,e.guideline.horizontal=r},togglePageSettings:()=>{e.sidebar=null,e.sideBarTab=null,e.openPageSettings=!e.openPageSettings},setSidebarTab:(n=null)=>{e.openPageSettings=!1,e.sideBarTab=n},selectLayers(n,r,i="replace"){const o=typeof r=="object"?r:[r];if(e.textEditor=void 0,e.imageEditor=void 0,n!==e.activePage&&(e.selectedLayers={}),i==="replace"||e.selectedLayers[n]&&e.selectedLayers[n].includes("ROOT")||o.includes("ROOT")){e.selectedLayers={[n]:o};const s=e.hoveredLayer[n];s&&o.includes(s)&&(e.hoveredLayer={[n]:null})}else e.selectedLayers[n]=mt.uniq([...e.selectedLayers[n]||[],...o]);e.activePage=n},selectAllLayers:()=>{e.imageEditor=void 0,e.textEditor=void 0,e.selectedLayers={[e.activePage]:Object.entries(e.pages[e.activePage].layers).reduce((n,[r,i])=>(i.data.parent==="ROOT"&&n.push(r),n),[])}},resetSelectLayer:()=>{e.selectedLayers={},e.hoveredLayer={},e.textEditor=void 0,e.imageEditor=void 0},hoverLayer:(n,r)=>{e.hoveredLayer={[n]:r}},setAlign(n){const r=(s,a)=>{const l=fo(a.data.props.boxSize,a.data.props.position,a.data.props.rotate);return n==="left"?s.position.x-(a.data.props.boxSize.width-l.width)/2:n==="right"?s.position.x+s.boxSize.width-l.width-(a.data.props.boxSize.width-l.width)/2:s.position.x+(s.boxSize.width-a.data.props.boxSize.width)/2},i=(s,a)=>{const l=fo(a.data.props.boxSize,a.data.props.position,a.data.props.rotate);return n==="top"?s.position.y-(a.data.props.boxSize.height-l.height)/2:n==="bottom"?s.position.y+s.boxSize.height-l.height-(a.data.props.boxSize.height-l.height)/2:s.position.y+(s.boxSize.height-a.data.props.boxSize.height)/2},o=e.selectedLayers[e.activePage].map(s=>e.pages[e.activePage].layers[s]);if(o.length===1)if(["left","right","center"].includes(n)){const s=r(e.pages[e.activePage].layers.ROOT.data.props,o[0]);e.pages[e.activePage].layers[o[0].id].data.props.position.x=s,e.controlBox&&(e.controlBox.position.x=s)}else{const s=i(e.pages[e.activePage].layers.ROOT.data.props,o[0]);e.pages[e.activePage].layers[o[0].id].data.props.position.y=s,e.controlBox&&(e.controlBox.position.y=s)}else if(o.length>1){const s=o.reduce((c,h)=>(c[h.id]=h.data.props,c),{}),a=X0(s),l={};o.forEach(c=>{["left","right","center"].includes(n)?e.pages[e.activePage].layers[c.id].data.props.position.x=r(a,c):e.pages[e.activePage].layers[c.id].data.props.position.y=i(a,c),l[c.id]=e.pages[e.activePage].layers[c.id].data.props}),e.controlBox=X0(l)}},setTextEditor:(n,r,i)=>{e.pages[n].layers[r].data.editor=i},setData:n=>{e.activePage=0,e.selectedLayers={},e.hoveredLayer={};const r=[],i=(o,s)=>({id:o.parent===null?"ROOT":Nu(),data:dl({...o,parent:s,child:[]})});n.forEach((o,s)=>{s===0&&(e.pageSize=o.layers.ROOT.props.boxSize);const a={name:o.name,notes:o.notes,layers:{}};a.layers.ROOT=i(o.layers.ROOT,null);const l=(f,g)=>{const d=[];return o.layers[f].child.forEach(m=>{const y=i(o.layers[m],g);d.push([y.id,y]),a.layers[y.id]=y,a.layers[g].data.child.push(y.id),o.layers[m].child.length>0&&d.push(...l(m,y.id))}),d},c=l("ROOT","ROOT"),h=Object.fromEntries(c);Object.entries(h).forEach(([f,g])=>{a.layers[f]=g}),r.push(a)}),e.pages=r},setPage:(n,r)=>{const i={name:"",notes:"",layers:{}},o=(c,h)=>({id:c.parent===null?"ROOT":Nu(),data:dl({...c,parent:h,child:[]})});i.layers.ROOT=o(r.layers.ROOT,null);const s=(c,h)=>{const f=[];return r.layers[c].child.forEach(g=>{const d=o(r.layers[g],h);f.push([d.id,d]),i.layers[d.id]=d,i.layers[h].data.child.push(d.id),r.layers[g].child.length>0&&f.push(...s(g,d.id))}),f},a=s("ROOT","ROOT"),l=Object.fromEntries(a);Object.entries(l).forEach(([c,h])=>{i.layers[c]=h}),e.selectedLayers={},e.pages[n]=i},setPageName(n,r){e.pages[n].name=r},setPageNotes(n,r){e.pages[n].notes=r},setActivePage(n){e.selectedLayers={},e.hoveredLayer={},e.textEditor=void 0,e.activePage=n},deleteLayer:(n,r)=>{const i=[];typeof r=="object"?i.push(...r):i.push(r),e.selectedLayers[n]=e.selectedLayers[n].filter(o=>!i.includes(o)),i.forEach(o=>{const s=e.pages[n].layers[o].data.parent;delete e.pages[n].layers[o],s&&e.pages[n].layers[s]&&(e.pages[n].layers[s].data.child=e.pages[n].layers[s].data.child.filter(a=>a!==o))})},openTextEditor(n,r){e.textEditor={pageIndex:n,layerId:r,editor:null}},setOpeningEditor(n){e.textEditor&&(e.textEditor.editor=n)},closeTextEditor(){var n,r,i,o;if((n=e.textEditor)!=null&&n.editor){const s=e.textEditor?e.pages[e.textEditor.pageIndex].layers[e.textEditor.layerId]:null;(o=s==null?void 0:s.data.editor)==null||o.updateState((i=(r=e.textEditor)==null?void 0:r.editor)==null?void 0:i.state);return}e.textEditor=void 0},lockPage:n=>{e.pages[n].layers.ROOT.data.locked=!0},unlockPage:n=>{e.pages[n].layers.ROOT.data.locked=!1},deletePage:n=>{e.selectedLayers={},e.hoveredLayer={},e.pages.splice(n,1),e.pages.length===1&&(e.activePage=0)},duplicatePage(n){e.textEditor=void 0,e.imageEditor=void 0;const r={name:"",notes:"",layers:{}};Object.entries(mt.cloneDeep(P2(e.pages[n].layers,"ROOT"))).map(([i,o])=>{r.layers[i]={id:i,data:dl(o)}}),e.pages.splice(n,0,r),e.activePage=n+1,e.selectedLayers={[n+1]:["ROOT"]}},addPage:n=>{const r={name:"",notes:"",layers:{}};r.layers.ROOT={id:"ROOT",data:dl({type:{resolvedName:"RootLayer"},props:{boxSize:{width:e.pageSize.width,height:e.pageSize.height},position:{x:0,y:0},rotate:0,color:"#fff",image:null},locked:!1,parent:null,child:[]})},typeof n<"u"?(e.pages.splice(n+1,0,r),e.activePage=n+1):(e.pages.push(r),e.activePage=e.activePage+1),e.selectedLayers[e.activePage]=["ROOT"]},movePageUp:n=>{const r=mt.cloneDeep(e.pages[n]);e.pages.splice(n,1),e.pages.splice(n-1,0,r),e.activePage=n-1},movePageDown:n=>{const r=mt.cloneDeep(e.pages[n]);e.pages.splice(n,1),e.pages.splice(n+1,0,r),e.activePage=n+1},swapPagePosition:(n,r)=>{Qee(e.pages,n,r)},lock:(n,r)=>{const i=[];typeof r=="object"?i.push(...r):i.push(r),i.forEach(o=>{e.pages[n].layers[o].data.locked=!0})},unlock:(n,r)=>{const i=[];typeof r=="object"?i.push(...r):i.push(r),i.forEach(o=>{e.pages[n].layers[o].data.locked=!1})},ungroup(n){const r=e.activePage,i=e.pages[e.activePage].layers,o=i[n],s=i[n].data.child,a=i[n].data.parent,l=i[a],c=s.reduce((f,g)=>(f[g]=YR(o.data.props,i[g].data.props),f),{}),h=l.data.child.indexOf(n);return s.forEach(f=>{const g=e.pages[r].layers[f];g.data.parent="ROOT",g.data.props.position.x=c[f].x,g.data.props.position.y=c[f].y,g.data.props.rotate=c[f].rotate,g.data.props.boxSize.width=g.data.props.boxSize.width*o.data.props.scale,g.data.props.boxSize.height=g.data.props.boxSize.height*o.data.props.scale,Tc(g)&&(g.data.props.scale=g.data.props.scale*o.data.props.scale)}),e.pages[r].layers[a].data.child.splice(h,1),e.pages[r].layers[a].data.child.splice(h,0,...s),delete e.pages[r].layers[n],e.selectedLayers={[r]:s},s},group(n){const r=[],i=e.activePage,o=e.pages[e.activePage].layers;n.forEach(y=>{mg(o[y])?r.push(...this.ungroup(y)):r.push(y)});const{left:s,right:a,top:l,bottom:c}=r.reduce((y,C)=>{const x=o[C].data.props,w=fo(x.boxSize,x.position,x.rotate);return(y.left===null||y.left>w.x)&&(y.left=w.x),(y.right===null||y.right<w.x+w.width)&&(y.right=w.x+w.width),(y.top===null||y.top>w.y)&&(y.top=w.y),(y.bottom===null||y.bottom<w.y+w.height)&&(y.bottom=w.y+w.height),y},{left:null,right:null,top:null,bottom:null}),h={type:{resolvedName:"GroupLayer"},props:{position:{x:s,y:l},boxSize:{width:a-s,height:c-l},scale:1,rotate:0},locked:!1,hidden:!1,parent:"ROOT",child:r},f=Nu(),g=dl(h),d=o.ROOT.data.child;e.pages[i].layers[f]={id:f,data:g},r.sort((y,C)=>d.indexOf(y)-d.indexOf(C));const m=e.pages[i].layers.ROOT.data.child.findLastIndex(y=>r.includes(y));return r.forEach(y=>{const C=e.pages[i].layers.ROOT.data.child.findIndex(w=>w===y);e.pages[i].layers.ROOT.data.child.splice(C,1),e.pages[i].layers[y].data.parent=f;const x=e.pages[i].layers[y].data.props;e.pages[i].layers[y].data.props.position.x=x.position.x-s,e.pages[i].layers[y].data.props.position.y=x.position.y-l}),e.pages[i].layers.ROOT.data.child.splice(m-n.length+1,0,f),e.selectedLayers={[i]:[f]},f},bringToFront:(n,r,i=-1)=>{const o=[];typeof r=="object"?o.push(...r):o.push(r);const s=e.pages[n].layers.ROOT.data.child;o.sort((a,l)=>s.indexOf(a)-s.indexOf(l)),o.forEach(a=>{const l=s.findIndex(c=>c===a);s.splice(l,1),s.splice(i===-1?s.length:i,0,a)})},bringForward:(n,r)=>{const i=[];typeof r=="object"?i.push(...r):i.push(r);const o=e.pages[n].layers.ROOT.data.child,s=o.findLastIndex(a=>i.includes(a));i.sort((a,l)=>o.indexOf(a)-o.indexOf(l)),i.forEach(a=>{const l=o.findIndex(c=>c===a);o.splice(l,1),o.splice(s+1,0,a)})},sendToBack:(n,r,i=-1)=>{const o=[];typeof r=="object"?o.push(...r):o.push(r);const s=e.pages[n].layers.ROOT.data.child;o.sort((a,l)=>s.indexOf(l)-s.indexOf(a)),o.forEach(a=>{const l=s.findIndex(c=>c===a);s.splice(l,1),s.splice(i===-1?0:i,0,a)})},sendBackward:(n,r)=>{const i=[];typeof r=="object"?i.push(...r):i.push(r);const o=e.pages[n].layers.ROOT.data.child,s=o.findIndex(a=>i.includes(a));i.sort((a,l)=>o.indexOf(l)-o.indexOf(a)),i.forEach(a=>{const l=o.findIndex(c=>c===a);o.splice(l,1),o.splice(s-1,0,a)})},setFontList(n){e.fontList=n},appendFontList(n){e.fontList.push(...n)},addLayer(n,r="ROOT"){const i=Nu(),o=dl({...n,locked:!1,parent:r,child:[]});e.pages[e.activePage].layers[i]={id:i,data:Ru(o,{props:{position:o.props.position||pp(e.pageSize,o.props.boxSize)}})},e.pages[e.activePage].layers[r].data.child.push(i),this.selectLayers(e.activePage,i)},addShapeLayer(n,r="ROOT"){const i=Nu(),o=dl({...n,locked:!1,parent:r,child:[]}),s=e.pageSize.width/e.pageSize.height,a=o.props.boxSize.width/o.props.boxSize.height;let l=1,c=o.props.boxSize.width,h=o.props.boxSize.height;const f=.3;a>s?(c=e.pageSize.width*f,h=c/a,l=c/o.props.boxSize.width):(h=e.pageSize.height*f,c=h*a,l=h/o.props.boxSize.height),e.pages[e.activePage].layers[i]={id:i,data:Ru(mt.cloneDeep(o),{props:{boxSize:{width:c,height:h},position:o.props.position||pp(e.pageSize,{width:o.props.boxSize.width*l,height:o.props.boxSize.height*l}),scale:l}})},e.pages[e.activePage].layers[r].data.child.push(i),this.selectLayers(e.activePage,i)},addFrameLayer(n,r="ROOT"){const i=Nu(),o=dl({...n,locked:!1,parent:r,child:[]});e.pages[e.activePage].layers[i]={id:i,data:Ru(mt.cloneDeep(o),{props:{position:pp(e.pageSize,o.props.boxSize)}})},e.pages[e.activePage].layers[r].data.child.push(i),this.selectLayers(e.activePage,i)},addImageLayer({thumb:n,url:r,position:i},o,s="ROOT"){const a=Nu(),l=e.pageSize,c=l.width/l.height,h=o.width/o.height,f=c<h?l.width*.8:l.height*h*.8,g=f/h,d=dl({type:{resolvedName:"ImageLayer"},props:{image:{url:r,thumb:n,boxSize:{width:f,height:g},position:{x:0,y:0},rotate:0},position:i||pp(e.pageSize,{width:f,height:g}),boxSize:{width:f,height:g},rotate:0},locked:!1,parent:s,child:[]});e.pages[e.activePage].layers[a]={id:a,data:Ru(d,{props:{position:d.props.position||pp(e.pageSize,d.props.boxSize)}})},e.pages[e.activePage].layers[s].data.child.push(a),this.selectLayers(e.activePage,a)},addLayerTree({layers:n,rootId:r}){const i=t(e.activePage,{layers:n,rootId:r});this.selectLayers(e.activePage,i.id)},addLayerTrees(n){const r=[],i=n.map(o=>{const s=t(e.activePage,o);return r.push(s.id),s});return this.selectLayers(e.activePage,r),i},showContextMenu:({clientX:n,clientY:r})=>{e.openMenu={clientX:n,clientY:r}},hideContextMenu:()=>{e.openMenu=null},setSelectData:n=>{e.selectData.status=n},setResizeData:(n,r,i,o,s,a)=>{e.resizeData={status:n,layerIds:r,direction:i,rotate:o,boxSize:s,cursor:a}},setRotateData:(n,r)=>{e.rotateData={status:n,rotate:r}},setDragData:(n,r)=>{e.dragData={status:n,layerIds:r}},setControlBox:n=>{e.controlBox=n},setSidebar:n=>{e.sidebar=n||null},openImageEditor(n,r,{boxSize:i,position:o,rotate:s,image:a}){a!=null&&a.url&&(e.imageEditor=mt.cloneDeep({pageIndex:n,layerId:r,boxSize:i,position:o,rotate:s,image:a}))},updateImageEditor(n){e.imageEditor&&(e.imageEditor=Ru(e.imageEditor,n))},closeImageEditor(){const n=e.imageEditor;if(n!=null&&n.image){const r=e.pages[n.pageIndex].layers[n.layerId];e.pages[n.pageIndex].layers[n.layerId].data.props=Ru(e.pages[n.pageIndex].layers[n.layerId].data.props,{boxSize:n.boxSize,position:n.position,rotate:n.rotate,image:{boxSize:{width:n.image.boxSize.width/(r.data.props.scale||1),height:n.image.boxSize.height/(r.data.props.scale||1)},position:{x:n.image.position.x/(r.data.props.scale||1),y:n.image.position.y/(r.data.props.scale||1)},rotate:n.image.rotate}})}e.imageEditor=void 0},fireDownloadPNGCmd(n){e.downloadPNGCmd=n},fireDownloadPDFCmd(n){e.downloadPDFCmd=n},goToGithubPage(){var n;(n=window==null?void 0:window.open(e.githubLink,"_blank"))==null||n.focus()}}},xse=e=>e.map(t=>({name:t.name,notes:t.notes,locked:t.locked,layers:P2(t.layers,"ROOT")})),S9=e=>({getPageSize(){return e.pages[0]&&e.pages[0].layers.ROOT.data.props.boxSize||{width:0,height:0}},serialize(){return xse(e.pages)},getLayers(t){return e.pages[t]&&e.pages[t].layers},getLayer(t,n){const r=e.pages[t]&&e.pages[t].layers;if(r)return r[n]}});fse();const cv=["hoverLayer","selectLayers","setControlBox","setScale","setEditing","selectAllLayers","resetSelectLayer","hoverLayer","setTextEditor","setData","showContextMenu","hideContextMenu","setResizeData","setRotateData","setDragData","setSelectData","setSidebar","imageEditor","fireDownloadCmd","goToGithubPage"],Sse=["setProp","ungroup","group","setHidden","lock","unlock","lockPage","unlockPage","deletePage","duplicatePage","addPage","movePageUp","movePageDown","bringForward","sendBackward","bringToFront","sendToBack","addLayer","addImageLayer","addLayerTree","deleteLayer"],Cse=()=>{const e=M.useMemo(()=>new gse,[]),t=M.useRef(),n=M.useCallback(()=>t.current,[]),r=bse,i=M.useMemo(()=>{const h=S9;return Object.keys(h()).reduce((f,g)=>({...f,[g]:(...d)=>{const m=h(n())[g];return m(...d)}}),{})},[n,S9]),o=M.useMemo(()=>({...i,history:{canUndo(){return e.canUndo()},canRedo(){return e.canRedo()}}}),[i,e]),[s]=M.useMemo(()=>[(h,f)=>{let g;const[d,m,y]=pse(h,C=>{switch(f.type){case Zn.NEW:break;case Zn.BACK:e.back();break;case Zn.UNDO:return e.undo(C);case Zn.REDO:return e.redo(C);case Zn.CLEAR:return e.clear(),{...C};case Zn.IGNORE:case Zn.MERGE:case Zn.THROTTLE:const[x,...w]=f.payload;r(C)[x](...w);break;default:r(C)[f.type](...f.payload)}});return g=d,[Zn.UNDO,Zn.REDO].includes(f.type)&&(g=dse(g,C=>{C.pages.forEach(x=>{Object.entries(x.layers).forEach(([,w])=>{const E=w;if(Tc(E)){const N=E.data.editor;N&&wse(E.data.props.text)(N.state,N.dispatch)}})}),C.textEditor=void 0,C.selectedLayers={},C.hoveredLayer={},C.controlBox=void 0})),[...cv,Zn.UNDO,Zn.REDO,Zn.CLEAR,Zn.IGNORE,Zn.NEW].includes(f.type)||(f.type===Zn.THROTTLE?e.throttleAdd(m,y,f.config&&f.config.rate):Sse.includes(f.type)?e.add(m,y):e.merge(m,y)),Zn.NEW===f.type&&e.add(m,y),Zn.MERGE===f.type&&e.merge(m,y),Zn.THROTTLE===f.type&&e.throttleAdd(m,y),g}],[e,o]),[a,l]=M.useReducer(s,{selectedLayers:{},hoveredLayer:{},openMenu:null,scale:1,activePage:0,pageSize:{width:1640,height:924},pages:[],fontList:[],guideline:{vertical:[],horizontal:[]},sidebar:null,resizeData:{status:!1},dragData:{status:!1},rotateData:{status:!1},selectData:{status:!1},downloadCmd:-1,githubLink:"https://github.com/kenvinlu/canva-editor/"}),c=M.useMemo(()=>{const h=Object.keys(r(null));return{...h.reduce((f,g)=>(f[g]=(...d)=>l({type:g,payload:d}),f),{}),history:{new(){l({type:Zn.NEW})},undo(){return l({type:Zn.UNDO})},redo(){return l({type:Zn.REDO})},clear:()=>l({type:Zn.CLEAR}),back:()=>l({type:Zn.BACK}),ignore:()=>h.filter(f=>!cv.includes(f)).reduce((f,g)=>(f[g]=(...d)=>l({type:Zn.IGNORE,payload:[g,...d]}),f),{}),throttle:f=>h.filter(g=>!cv.includes(g)).reduce((g,d)=>(g[d]=(...m)=>l({type:Zn.THROTTLE,payload:[d,...m],config:{rate:f}}),g),{}),merge:()=>h.filter(f=>!cv.includes(f)).reduce((f,g)=>(f[g]=(...d)=>l({type:Zn.MERGE,payload:[g,...d]}),f),{})}}},[r]);return t.current=a,M.useMemo(()=>({getState:n,actions:c,query:o}),[c,n])},kse=({className:e="",fill:t="url(#_2002046508__f)"})=>me("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"80",height:"30",viewBox:"0 0 80 30",children:[me("defs",{children:[me("radialGradient",{id:"_2002046508__a",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(16.80002 -17.28 11.48403 11.16504 40.96 29)",gradientUnits:"userSpaceOnUse",children:[S("stop",{stopColor:"#6420FF"}),S("stop",{offset:"1",stopColor:"#6420FF",stopOpacity:"0"})]}),me("radialGradient",{id:"_2002046508__b",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(46.71996 4.16 -3.31561 37.23688 1.92 17.64)",gradientUnits:"userSpaceOnUse",children:[S("stop",{offset:".25",stopColor:"#00C4CC"}),S("stop",{offset:"1",stopColor:"#00C4CC",stopOpacity:"0"})]}),me("radialGradient",{id:"_2002046508__c",cx:"0",cy:"0",r:"1",gradientTransform:"rotate(-38.85 54.22 -35.3) scale(30.226 20.6676)",gradientUnits:"userSpaceOnUse",children:[S("stop",{stopColor:"#6420FF"}),S("stop",{offset:"1",stopColor:"#6420FF",stopOpacity:"0"})]}),me("radialGradient",{id:"_2002046508__d",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(31.32001 -15.36 10.50269 21.41566 2.28 26.2)",gradientUnits:"userSpaceOnUse",children:[S("stop",{stopColor:"#6420FF"}),S("stop",{offset:"1",stopColor:"#6420FF",stopOpacity:"0"})]}),me("radialGradient",{id:"_2002046508__e",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(67.99982 15.03996 -18.44596 83.39925 7.68 2.92)",gradientUnits:"userSpaceOnUse",children:[S("stop",{stopColor:"#00C4CC"}),S("stop",{offset:"1",stopColor:"#00C4CC",stopOpacity:"0"})]}),me("pattern",{id:"_2002046508__f",width:"1",height:"1",children:[S("path",{fill:"#7D2AE7",d:"M0 0h100v100H0z"}),S("path",{fill:"url(#_2002046508__a)",d:"M0 0h100v100H0z"}),S("path",{fill:"url(#_2002046508__b)",d:"M0 0h100v100H0z"}),S("path",{fill:"url(#_2002046508__c)",d:"M0 0h100v100H0z"}),S("path",{fill:"url(#_2002046508__d)",d:"M0 0h100v100H0z"}),S("path",{fill:"url(#_2002046508__e)",d:"M0 0h100v100H0z"})]})]}),S("path",{fill:t,d:"M79.444 18.096c-.136 0-.26.088-.324.272-.82 2.34-1.928 3.732-2.84 3.732-.524 0-.736-.584-.736-1.5 0-2.292 1.372-7.152 2.064-9.368.08-.268.132-.508.132-.712 0-.644-.352-.96-1.224-.96-.94 0-1.952.368-2.936 2.092-.34-1.52-1.368-2.184-2.804-2.184-1.66 0-3.264 1.068-4.584 2.8-1.32 1.732-2.872 2.3-4.04 2.02.84-2.056 1.152-3.592 1.152-4.732 0-1.788-.884-2.868-2.312-2.868-2.172 0-3.424 2.072-3.424 4.252 0 1.684.764 3.416 2.444 4.256-1.408 3.184-3.464 6.064-4.244 6.064-1.008 0-1.304-4.932-1.248-8.46.036-2.024.204-2.128.204-2.74 0-.352-.228-.592-1.144-.592-2.136 0-2.796 1.808-2.896 3.884a10.233 10.233 0 0 1-.368 2.332c-.892 3.184-2.732 5.6-3.932 5.6-.556 0-.708-.556-.708-1.284 0-2.292 1.284-5.156 1.284-7.6 0-1.796-.788-2.932-2.272-2.932-1.748 0-4.06 2.08-6.248 5.976.72-2.984 1.016-5.872-1.116-5.872A2.886 2.886 0 0 0 36 9.916a.752.752 0 0 0-.432.728c.204 3.176-2.56 11.312-5.18 11.312-.476 0-.708-.516-.708-1.348 0-2.296 1.368-7.144 2.056-9.364.088-.288.136-.536.136-.752 0-.608-.376-.92-1.228-.92-.936 0-1.952.356-2.932 2.08-.344-1.52-1.372-2.184-2.808-2.184-2.356 0-4.988 2.492-6.144 5.74-1.548 4.336-4.668 8.524-8.868 8.524-3.812 0-5.824-3.172-5.824-8.184C4.068 8.312 9.38 2.4 13.32 2.4c1.884 0 2.784 1.2 2.784 3.04 0 2.228-1.244 3.264-1.244 4.112 0 .26.216.516.644.516 1.712 0 3.728-2.012 3.728-4.756S17.004.56 13.064.56C6.552.56 0 7.112 0 15.508c0 6.68 3.296 10.708 8.996 10.708 3.888 0 7.284-3.024 9.116-6.552.208 2.924 1.536 4.452 3.56 4.452 1.8 0 3.256-1.072 4.368-2.956.428 1.972 1.564 2.936 3.04 2.936 1.692 0 3.108-1.072 4.456-3.064-.02 1.564.336 3.036 1.692 3.036.64 0 1.404-.148 1.54-.708 1.428-5.904 4.956-10.724 6.036-10.724.32 0 .408.308.408.672 0 1.604-1.132 4.892-1.132 6.992 0 2.268.964 3.768 2.956 3.768 2.208 0 4.452-2.704 5.948-6.656.468 3.692 1.48 6.672 3.064 6.672 1.944 0 5.396-4.092 7.488-8.424.82.104 2.052.076 3.236-.76-.504 1.276-.8 2.672-.8 4.068 0 4.02 1.92 5.148 3.572 5.148 1.796 0 3.252-1.072 4.368-2.956.368 1.7 1.308 2.932 3.036 2.932 2.704 0 5.052-2.764 5.052-5.032 0-.6-.256-.964-.556-.964zM23.32 21.888c-1.092 0-1.52-1.1-1.52-2.74 0-2.848 1.948-7.604 4.008-7.604.9 0 1.24 1.06 1.24 2.356 0 2.892-1.852 7.988-3.728 7.988zm37.404-8.5c-.652-.776-.888-1.832-.888-2.772 0-1.16.424-2.14.932-2.14s.664.5.664 1.196c0 1.164-.416 2.864-.708 3.716zm8.468 8.5c-1.092 0-1.52-1.264-1.52-2.74 0-2.748 1.948-7.604 4.024-7.604.9 0 1.22 1.052 1.22 2.356 0 2.892-1.82 7.988-3.724 7.988z"})]}),a2=({background:e="rgba(57,76,96,.15)"})=>S("div",{css:{height:24,width:1,background:e}}),Ese=({className:e=""})=>S("svg",{className:e,width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S("path",{fill:"currentColor",d:"m18.054 7.252-2.296-2.296a.75.75 0 0 1 1.06-1.06l2.83 2.828a1.75 1.75 0 0 1 0 2.475l-2.832 2.831a.75.75 0 0 1-1.06-1.06l2.219-2.22H8a4.25 4.25 0 0 0 0 8.5h4a.75.75 0 0 1 0 1.5H8a5.75 5.75 0 0 1 0-11.5h10c.018 0 .036 0 .054.002Z"})}),Ase=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",d:"m6.05 7.25 2.22-2.22A.75.75 0 0 0 7.2 3.97L4.43 6.75c-.69.68-.69 1.8 0 2.48l2.83 2.83A.75.75 0 0 0 8.32 11L6.07 8.75H16a4.25 4.25 0 1 1 0 8.5h-4a.75.75 0 1 0 0 1.5h4a5.75 5.75 0 0 0 0-11.5H6.05z"})}),vI=({className:e=""})=>S("svg",{className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 3a6 6 0 0 0-5.99 5.661A5.627 5.627 0 0 0 7 19.5v.001h10v-.001a5.625 5.625 0 0 0 2.67-10.506l-1.114 1.114a4.126 4.126 0 0 1-1.806 7.891V18h-9.5v-.002a4.125 4.125 0 0 1-.681-8.21 4.5 4.5 0 0 1 8.549-2.606l1.116-1.117A5.998 5.998 0 0 0 11 3Zm7.631 4.91a.75.75 0 1 0-1.053-1.068L10.67 13.75l-1.93-1.93a.75.75 0 1 0-1.088 1.03l-.001.002 2.444 2.445a.748.748 0 0 0 1.11.037v.001l7.425-7.424Z",fill:"currentColor"})}),Nse=({text:e,header:t,items:n})=>{const[r,i]=M.useState(!1),[o,s]=M.useState(-1),a=M.useRef(null),l=_r(),c=g=>{a.current&&!a.current.contains(g.target)&&i(!1)},h=()=>{i(!r)};M.useEffect(()=>(document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}),[]);const f=(g,d)=>{const m=l?{left:l?6:"100%",top:l?"100%":0}:{},y=()=>{l&&s(o===-1?d:-1)};if(g.type==="divider")return S("div",{className:"menu-divider"},d);if(g.type==="groupname")return S("p",{className:"menu-groupname",children:g.label},d);const C=`menu-item ${g.type==="submenu"?"with-submenu":""}`,x=w=>l?o===w:!0;return me("div",{className:C,children:[me("button",{disabled:g.disabled,onClick:(...w)=>{y(),!(g.disabled||!g.action)&&(g.action(...w),i(!1))},children:[g==null?void 0:g.icon,S("p",{css:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:13,margin:0},children:g.label}),g.hint&&S("p",{className:"hint",children:g.hint}),g.type==="submenu"&&S("span",{className:`submenu-arrow ${o===d?"open":""}`,children:S(Q0,{})}),g.shortcut&&S("span",{className:"shortcut",children:S("kbd",{children:g.shortcut})})]}),x(d)&&g.items&&S("div",{className:"submenu",style:m,children:g.items.map((w,E)=>f(w,E))})]},d)};return me("div",{className:"dropdown",ref:a,children:[S("button",{className:`dropdown-button ${r?"is-active":""}`,onClick:h,children:e}),r&&me("div",{className:"dropdown-menu",children:[t&&me(jl,{children:[t,S("div",{className:"menu-divider"},-1)]}),n.map((g,d)=>f(g,d))]})]})},Lse=(e,t)=>{const n="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t)),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",e+".json"),document.body.appendChild(r),r.click(),r.remove()},_se=({open:e,children:t,onClose:n,...r},i)=>{const o=me("div",{ref:i,css:{position:"absolute",right:10,top:120,minWidth:150,zIndex:1,backgroundColor:"#fff",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",borderRadius:4,border:"1px solid #e3e6e9"},...r,children:[S("div",{children:S(Il,{onClick:n,css:{margin:"8px 8px 0 auto"},children:S(dd,{css:{width:22,height:22}})})}),t]});return e?o:null},Ose=M.forwardRef(_se),yI=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",d:"M12.75 13.81v7.44a.75.75 0 1 1-1.5 0v-7.4L9.49 15.6a.75.75 0 1 1-1.06-1.06l2.35-2.36c.68-.68 1.8-.68 2.48 0l2.35 2.36a.75.75 0 1 1-1.06 1.06l-1.8-1.8zM9 18v1.5H6.75v-.01A5.63 5.63 0 0 1 5.01 8.66a6 6 0 0 1 11.94-.4 5.63 5.63 0 0 1 .3 11.23v.01H15V18h1.88a4.12 4.12 0 1 0-1.5-7.97A4.51 4.51 0 0 0 11 4.5a4.5 4.5 0 0 0-4.43 5.29 4.13 4.13 0 0 0 .68 8.2V18H9z"})}),Pse=({className:e=""})=>S("svg",{className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S("path",{fill:"currentColor",d:"m11.25 15.85-4.38-4.38a.75.75 0 0 0-1.06 1.06l4.95 4.95c.69.68 1.8.68 2.48 0l4.95-4.95a.75.75 0 1 0-1.06-1.06l-4.38 4.38V4.25a.75.75 0 1 0-1.5 0v11.6zm-7.5 3.4h16.5a.75.75 0 1 1 0 1.5H3.75a.75.75 0 1 1 0-1.5z"})}),C9=({className:e=""})=>S("svg",{className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S("path",{d:"M3 6.165V19a2 2 0 0 0 2 2h12.835c-.06-.05-.12-.102-.176-.159L16.318 19.5H5a.5.5 0 0 1-.5-.5V7.682L3.159 6.341A2.275 2.275 0 0 1 3 6.165ZM17.28 4.22a.75.75 0 0 1 0 1.06l-2 2a.75.75 0 1 1-1.06-1.06l.72-.72H6.56l.72.72a.75.75 0 0 1-1.06 1.06l-2-2a.75.75 0 0 1 0-1.06l2-2a.75.75 0 0 1 1.06 1.06L6.56 4h8.38l-.72-.72a.75.75 0 0 1 1.06-1.06l2 2ZM19.78 19.78a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 1 1 1.06-1.06l.72.72V9.06l-.72.72a.75.75 0 1 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1-1.06 1.06L20 9.06v8.38l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2Z",fill:"currentColor"})}),Tse=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",d:"M12 22a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-1.5a8.5 8.5 0 1 0 0-17 8.5 8.5 0 0 0 0 17zM8.75 9.85c.05-1.62 1.17-2.8 3.2-2.8 1.87 0 3.12 1.08 3.12 2.6 0 1.04-.52 1.77-1.45 2.33-.9.52-1.15.87-1.15 1.55v.39H10.9l-.01-.47c-.06-1.02.33-1.64 1.28-2.2.84-.5 1.13-.87 1.13-1.54 0-.71-.57-1.23-1.43-1.23-.89 0-1.45.54-1.5 1.37H8.74zm3 7.33c-.68 0-1.13-.43-1.13-1.09 0-.66.45-1.1 1.13-1.1.7 0 1.14.44 1.14 1.1 0 .66-.44 1.09-1.14 1.09z"})}),Mse=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",d:"M9 17.77c.37.19.75.34 1.15.46l.71 2.2c.73.1 1.47.1 2.2 0l.7-2.17c.47-.13.9-.31 1.31-.53l2.09 1.03c.58-.44 1.1-.96 1.55-1.53l-1.02-2.08c.25-.46.45-.95.6-1.47l2.16-.78c.08-.73.07-1.46-.05-2.18l-2.2-.7a6.47 6.47 0 0 0-.58-1.3l1-2.05c-.46-.57-1-1.09-1.59-1.52L15 6.23a6.46 6.46 0 0 0-1.15-.46l-.71-2.2c-.73-.1-1.47-.1-2.2 0l-.7 2.17c-.47.13-.9.31-1.31.53L6.84 5.24c-.58.44-1.1.96-1.55 1.53l1.02 2.08c-.25.46-.45.95-.6 1.47l-2.16.78c-.08.73-.07 1.46.05 2.18l2.2.7c.15.46.35.89.58 1.3l-1 2.05c.46.57 1 1.09 1.59 1.52L9 17.77zm-.02 1.71-2.1 1.11a9.94 9.94 0 0 1-3.24-3.1l1.1-2.27-2.44-.78a9.95 9.95 0 0 1-.1-4.45l2.55-.92-1.2-2.43a9.95 9.95 0 0 1 3.17-3.13l2.3 1.13.77-2.4a9.94 9.94 0 0 1 4.5.02l.73 2.26 2.1-1.11a9.94 9.94 0 0 1 3.24 3.1l-1.1 2.27 2.44.78c.36 1.43.4 2.95.1 4.45l-2.55.92 1.2 2.43a9.95 9.95 0 0 1-3.17 3.13l-2.3-1.13-.77 2.4a9.94 9.94 0 0 1-4.5-.02l-.73-2.26zM12 14.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5zm0 1.5a4 4 0 1 1 0-8 4 4 0 0 1 0 8z"})}),wI=({className:e=""})=>S("svg",{className:e,width:"25px",height:"25px",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S("path",{d:"M8 5.5H6.5V19.5H10.5M17 5.5H18.5V11.5M10.5 18.5L12.73 15.8983C13.1327 15.4285 13.8613 15.4335 14.2575 15.909L15.299 17.1588C15.6754 17.6105 16.3585 17.6415 16.7743 17.2257L16.9903 17.0097C17.2947 16.7053 17.7597 16.6298 18.1447 16.8223L20.5 18M10.5 11.5H20.5V21.5H10.5V11.5ZM12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:"1.5"})}),Rse=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"})}),Dse=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"})});let k9;const Ise=({onClose:e})=>{const{pages:t,pageSize:n}=Ot(c=>({pages:c.pages,pageSize:c.pageSize})),[r,i]=M.useState(0),[o,s]=M.useState({width:0,height:0,scale:1}),{usedFonts:a}=xw(),l=M.useCallback(c=>{i(h=>{const f=(h+c)%t.length;return f>=0?f:t.length+f})},[i,t.length]);return M.useEffect(()=>(k9=setTimeout(()=>{l(1)},5e3),()=>{clearTimeout(k9)}),[l,r]),M.useEffect(()=>{const c=()=>{const{clientWidth:h,clientHeight:f}=window.document.body,g=h/f,d=n.width/n.height;if(g>d){const m=f*d;s({width:m,height:f,scale:m/n.width})}else{const m=h,y=m/d;s({width:m,height:y,scale:m/n.width})}};return c(),window.addEventListener("resize",c),()=>{window.removeEventListener("resize",c)}},[n]),M.useEffect(()=>{const c=h=>{h.code==="ArrowRight"?t.length>1&&l(1):h.code==="ArrowLeft"?t.length>1&&l(-1):h.code==="Escape"&&e()};return document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}},[]),o.width===0?null:me("div",{css:{position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:[S(uT,{fonts:a}),t.length>1&&me(jl,{children:[S("div",{css:{position:"absolute",top:"50%",transform:"translate(0, -50%)",left:"16px",zIndex:1050},children:S("div",{css:{border:"1px solid #fff",background:"transparent",width:60,height:60,display:"flex",alignItems:"center",justifyContent:"center",fontSize:32,color:"#fff",borderRadius:"50%",cursor:"pointer",":hover":{background:"rgba(255,255,255,0.3)",transition:"background-color 200ms linear"}},onClick:()=>l(-1),children:S(Rse,{})})}),S("div",{css:{position:"absolute",top:"50%",transform:"translate(0, -50%)",right:"16px",zIndex:1050},children:S("div",{css:{border:"1px solid #fff",background:"transparent",width:60,height:60,display:"flex",alignItems:"center",justifyContent:"center",fontSize:32,color:"#fff",borderRadius:"50%",cursor:"pointer",":hover":{background:"rgba(255,255,255,0.3)",transition:"background-color 200ms linear"}},onClick:()=>l(1),children:S(Dse,{})})})]}),S("div",{css:{width:o.width,height:o.height},children:S("div",{css:{position:"relative"},children:t.map((c,h)=>S("div",{children:S(hD,{pageIndex:h,width:n.width,height:n.height,scale:o.scale,isActive:r===h})},h))})})]})},zse=({onClose:e})=>me("div",{css:{position:"fixed",inset:0,zIndex:1040,background:"rgba(13,18,22,.95)"},children:[S(Ise,{onClose:()=>e()}),S("div",{css:{background:"transparent",width:60,height:60,display:"flex",alignItems:"center",justifyContent:"center",position:"fixed",right:24,top:24,borderRadius:"50%",fontSize:36,color:"#fff",cursor:"pointer",":hover":{background:"rgba(255,255,255,0.3)",transition:"background-color 200ms linear"}},onClick:e,children:S(dd,{})})]}),E9=()=>S("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",children:me("g",{id:"surface1",children:[S("path",{fill:"#3f51b5",d:"M 12 2 C 6.476562 2 2 6.476562 2 12 C 2 17.523438 6.476562 22 12 22 C 17.523438 22 22 17.523438 22 12 C 22 6.476562 17.523438 2 12 2 Z M 12 2 "}),S("path",{fill:"#fff",d:"M 14.683594 12 L 13 12 L 13 18 L 10.5 18 L 10.5 12 L 9 12 L 9 10 L 10.5 10 L 10.5 8.796875 C 10.5 7.039062 11.230469 6 13.296875 6 L 15 6 L 15 8 L 13.855469 8 C 13.050781 8 13 8.300781 13 8.863281 L 13 10 L 15 10 Z M 14.683594 12 "})]})}),Fse=()=>me("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"24",height:"24",children:[me("radialGradient",{id:"yOrnnhliCrdS2gy~4tD8ma",cx:"19.38",cy:"42.035",r:"44.899",gradientUnits:"userSpaceOnUse",children:[S("stop",{offset:"0",stopColor:"#fd5"}),S("stop",{offset:".328",stopColor:"#ff543f"}),S("stop",{offset:".348",stopColor:"#fc5245"}),S("stop",{offset:".504",stopColor:"#e64771"}),S("stop",{offset:".643",stopColor:"#d53e91"}),S("stop",{offset:".761",stopColor:"#cc39a4"}),S("stop",{offset:".841",stopColor:"#c837ab"})]}),S("path",{fill:"url(#yOrnnhliCrdS2gy~4tD8ma)",d:"M34.017,41.99l-20,0.019c-4.4,0.004-8.003-3.592-8.008-7.992l-0.019-20 c-0.004-4.4,3.592-8.003,7.992-8.008l20-0.019c4.4-0.004,8.003,3.592,8.008,7.992l0.019,20 C42.014,38.383,38.417,41.986,34.017,41.99z"}),me("radialGradient",{id:"yOrnnhliCrdS2gy~4tD8mb",cx:"11.786",cy:"5.54",r:"29.813",gradientTransform:"matrix(1 0 0 .6663 0 1.849)",gradientUnits:"userSpaceOnUse",children:[S("stop",{offset:"0",stopColor:"#4168c9"}),S("stop",{offset:".999",stopColor:"#4168c9",stopOpacity:"0"})]}),S("path",{fill:"url(#yOrnnhliCrdS2gy~4tD8mb)",d:"M34.017,41.99l-20,0.019c-4.4,0.004-8.003-3.592-8.008-7.992l-0.019-20 c-0.004-4.4,3.592-8.003,7.992-8.008l20-0.019c4.4-0.004,8.003,3.592,8.008,7.992l0.019,20 C42.014,38.383,38.417,41.986,34.017,41.99z"}),S("path",{fill:"#fff",d:"M24,31c-3.859,0-7-3.14-7-7s3.141-7,7-7s7,3.14,7,7S27.859,31,24,31z M24,19c-2.757,0-5,2.243-5,5 s2.243,5,5,5s5-2.243,5-5S26.757,19,24,19z"}),S("circle",{cx:"31.5",cy:"16.5",r:"1.5",fill:"#fff"}),S("path",{fill:"#fff",d:"M30,37H18c-3.859,0-7-3.14-7-7V18c0-3.86,3.141-7,7-7h12c3.859,0,7,3.14,7,7v12 C37,33.86,33.859,37,30,37z M18,13c-2.757,0-5,2.243-5,5v12c0,2.757,2.243,5,5,5h12c2.757,0,5-2.243,5-5V18c0-2.757-2.243-5-5-5H18z"})]}),jse=({className:e="",fill:t})=>S("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:e,children:S("path",{fill:t||"currentColor",fillRule:"evenodd",d:"M5.75 5.25h12.5a.75.75 0 1 1 0 1.5H5.75a.75.75 0 0 1 0-1.5zm0 6h12.5a.75.75 0 1 1 0 1.5H5.75a.75.75 0 1 1 0-1.5zm0 6h12.5a.75.75 0 1 1 0 1.5H5.75a.75.75 0 1 1 0-1.5z"})}),Bse=({designName:e})=>{const[t,n]=M.useState(!1),r=M.useRef(null),i=_r(),{actions:o,query:s,activePage:a,pageSize:l,isPageLocked:c}=Ot(O=>({activePage:O.activePage,sidebar:O.sidebar,pageSize:O.pageSize,isPageLocked:O.pages[O.activePage]&&O.pages[O.activePage].layers.ROOT.data.locked})),[h,f]=M.useState(!1),[g,d]=M.useState(!1),[m,y]=M.useState({width:0,height:0}),[C,x]=M.useState(!1),w=M.useRef(null),E=M.useRef(null),N=[{label:"Create new design",type:"submenu",icon:S(i8,{}),items:[{label:"Custom size",type:"normal",icon:S(C9,{}),action:()=>{y({width:0,height:0}),d(!0),f(!0)}},{label:"Suggested",type:"groupname"},{label:"Facebook Post (Landscape)",type:"normal",icon:S(E9,{}),hint:"940  788 px",action:()=>{G(),W({width:940,height:688})}},{label:"Facebook Cover",type:"normal",icon:S(E9,{}),hint:"1640  924 px",action:()=>{G(),W({width:1640,height:924})}},{label:"Instagram Post (Square)",type:"normal",icon:S(Fse,{}),hint:"1080  1080 px",action:()=>{G(),W({width:1080,height:1080})}}]},{label:"Divider",type:"divider"},{label:"Save",type:"normal",icon:S(vI,{}),shortcut:"All changes saved",action:()=>{}},{label:"Preview",type:"normal",icon:S(KR,{}),action:()=>{n(!0)}},{label:"Export",type:"submenu",icon:S(wI,{}),items:[{label:`Page ${a+1} as PNG`,type:"normal",action:()=>{o.fireDownloadPNGCmd(1)}},{label:"All pages as PNG",type:"normal",action:()=>{o.fireDownloadPNGCmd(0)}},{label:"All pages as PDF",type:"normal",action:()=>{o.fireDownloadPDFCmd(0)}}]},{label:"Divider",type:"divider"},{label:"View settings",type:"submenu",icon:S(Mse,{}),items:[{label:`Resize page (${a+1})`,type:"normal",icon:S(C9,{}),disabled:c,action:()=>{d(!1),y(l),f(!0)}}]},{label:"Divider",type:"divider"},{label:"Import design",type:"normal",icon:S(yI,{}),action:()=>{var O;(O=r.current)==null||O.click()}},{label:"Download design",type:"normal",icon:S(Pse,{}),action:()=>{Lse("file",iy(s.serialize(),ry)[0])}},{label:"Divider",type:"divider"},{label:"Help",type:"normal",icon:S(Tse,{}),shortcut:"H",action:()=>{o.goToGithubPage()}}],_=O=>{const z=O.target.files&&O.target.files[0];if(z){const U=new FileReader;U.onload=function(){const $=JSON.parse(U.result);o.setData(xg($))},U.readAsText(z),O.target.value=""}},D=M.useMemo(()=>((m==null?void 0:m.width)||0)<100||((m==null?void 0:m.height)||0)<100,[m]),P=(O,z)=>{const U=((m==null?void 0:m.width)||0)/((m==null?void 0:m.height)||0),$=parseInt(O,10);z==="width"&&(C&&(E.current.value=String(Math.round($/U*10)/10)),y({...m,width:$||0})),z==="height"&&(C&&(w.current.value=String(Math.round($*U*10)/10)),y({...m,height:$||0}))},I=()=>{D||(g?W(m):o.changePageSize(m),G())},W=O=>{o.setData([{name:"",notes:"",layers:{ROOT:{type:{resolvedName:"RootLayer"},props:{boxSize:O,position:{x:0,y:0},rotate:0,color:"rgb(255, 255, 255)",image:null},locked:!1,child:[],parent:null}}}])},G=()=>{d(!1),y({width:0,height:0}),f(!1)};return me(jl,{children:[S(Nse,{text:i?S(jse,{}):"File",items:N,header:me("div",{css:{padding:"16px 16px 8px"},children:[S("div",{css:{fontSize:18,fontWeight:700,color:"#000"},children:e||"Untitled design"}),S("div",{css:{fontSize:13,color:"#909090",marginTop:8,fontFamily:"Arial"},children:`${l.width}px x ${l.height}px`})]})}),S("input",{ref:r,type:"file",accept:"application/json",onChange:_,css:{display:"none"}}),S(Ose,{open:h,onClose:G,children:me("div",{css:{padding:"0 16px 16px",width:300},children:[me("div",{css:{display:"flex",gap:8,alignItems:"flex-end"},children:[me("div",{children:[S("div",{css:{fontSize:12,fontWeight:600,marginBottom:8},children:"Width"}),S("div",{css:{border:"1px solid rgba(43,59,74,.3)",height:40,padding:"0 12px",width:80,borderRadius:4},children:S("input",{ref:w,css:{width:"100%",minWidth:8,height:"100%"},onChange:O=>P(O.target.value,"width"),value:(m==null?void 0:m.width)||""})})]}),me("div",{children:[S("div",{css:{fontSize:12,fontWeight:600,marginBottom:8},children:"Height"}),S("div",{css:{border:"1px solid rgba(43,59,74,.3)",height:40,padding:"0 12px",width:80,borderRadius:4},children:S("input",{ref:E,css:{width:"100%",minWidth:8,height:"100%"},onChange:O=>P(O.target.value,"height"),value:(m==null?void 0:m.height)||""})})]}),S(Il,{disabled:D,onClick:()=>x(!C),css:{fontSize:20,cursor:"pointer",margin:"5px 0"},children:C?S(T2,{}):S(r8,{})})]}),D&&S("div",{css:{color:"#db1436",fontSize:12,marginTop:5},children:"Dimensions must be at least 40px and no more than 8000px."}),S("div",{css:{marginTop:12},children:S("button",{css:{background:D?"#8383A2":"#3a3a4c",padding:"8px 14px",lineHeight:1,color:"#FFF",borderRadius:4,cursor:D?"not-allowed":"pointer",fontSize:16,textAlign:"center",fontWeight:700,width:"100%"},onClick:I,disabled:D,children:g?"Create new design":"Resize"})})]})}),t&&S(zse,{onClose:()=>n(!1)})]})},$se=({className:e=""})=>me("svg",{className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.5 13.875c0 2.98 2.318 5.42 5.25 5.613v.012h10.5v-.012a5.625 5.625 0 0 0-.296-11.237 6.001 6.001 0 0 0-11.945.41A5.627 5.627 0 0 0 1.5 13.875ZM7.25 18h9.5v-.002l.125.002a4.125 4.125 0 1 0-1.493-7.972 4.5 4.5 0 1 0-8.813-.241 4.126 4.126 0 0 0 .681 8.211V18Z",fill:"currentColor"}),S("rect",{x:"7",y:"13",width:"2",height:"2",rx:"1",fill:"currentColor"}),S("rect",{x:"11",y:"13",width:"2",height:"2",rx:"1",fill:"currentColor"}),S("rect",{x:"15",y:"13",width:"2",height:"2",rx:"1",fill:"currentColor"})]}),Vse=Vl("button")`
  display: flex;
  align-items: center;
  color: #fff;
  line-height: 1;
  background: rgb(255 255 255 / 7%);
  padding: 8px;
  border-radius: 4px;
  cursor: pointer;
  &:hover {
    background: rgb(255 255 255 / 15%);
  }
`,Use=({logoUrl:e,designName:t,saving:n,onChanges:r},i)=>{const[o,s]=M.useState(t),{actions:a,query:l}=Ot(),c=_r();return me("div",{ref:i,css:{background:"linear-gradient(90deg,#00c4cc,#7d2ae8)",padding:"12px 24px",display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:31,"@media (max-width: 900px)":{padding:12}},children:[!c&&S("div",{css:{fontSize:36},children:S("div",{children:e?S("img",{src:e,css:{maxHeight:35}}):S(kse,{fill:"white"})})}),S("div",{css:{marginRight:"auto"},children:S("div",{css:{margin:c?"0 16px 0 0":"0 16px"},children:S(Bse,{designName:o})})}),me("div",{css:{display:"flex",alignItems:"center",verticalAlign:"middle"},children:[me("div",{css:{display:"flex",alignItems:"center",columnGap:15},children:[S(bw,{text:o,placeholder:"Untitled design",autoRow:!1,styles:{placeholderColor:"hsla(0,0%,100%,.5)"},onSetText:h=>{s(h),o!==h&&(r(h),a.setName(h))},handleStyle:h=>({color:"#fff",borderRadius:6,padding:8,minHeight:18,minWidth:18,border:`1px solid ${h?"hsla(0,0%,100%,.8)":"transparent"}`,":hover":{border:"1px solid hsla(0,0%,100%,.8)"}}),inputCss:{borderBottomColor:"transparent",backgroundColor:"transparent"}}),S("div",{css:{color:"hsla(0,0%,100%,.7)"},children:n?S($se,{}):S(vI,{})})]}),S("div",{css:{margin:"0 16px"},children:S(a2,{background:"hsla(0,0%,100%,.15)"})}),me("div",{css:{display:"flex",columnGap:15},children:[S(Il,{onClick:a.history.undo,disabled:!l.history.canUndo(),styles:{disabledColor:"hsla(0,0%,100%,.4)",color:"#fff"},tooltip:"Undo",children:S(Ase,{})}),S(Il,{onClick:a.history.redo,disabled:!l.history.canRedo(),styles:{disabledColor:"hsla(0,0%,100%,.4)",color:"#fff"},tooltip:"Redo",children:S(Ese,{})})]}),!c&&me(jl,{children:[S("div",{css:{margin:"0 16px"},children:S(a2,{background:"hsla(0,0%,100%,.15)"})}),me(Vse,{onClick:()=>{a.fireDownloadPNGCmd(0)},children:[S("div",{css:{fontSize:20},children:S(wI,{})})," ",S("span",{css:{marginRight:4,marginLeft:4},children:"Export"})]})]})]})]})},qse=M.forwardRef(Use),Wse=({tabs:e,active:t,onChange:n})=>{const r=e.findIndex(i=>i.name===t);return S("div",{css:{color:"#5E6278",borderRight:t?"1px solid rgba(217, 219, 228, 0.6)":"none","@media (max-width: 900px)":{position:"fixed",bottom:0,left:0,right:0,background:"#fff",display:"flex",justifyContent:"center",borderTop:"1px solid rgb(146 146 146 / 15%)",zIndex:10}},children:me("div",{css:{overflow:"hidden",position:"relative","@media (max-width: 900px)":{display:"flex"}},children:[r>=0&&me("div",{css:{background:"#fff",width:72,height:72,position:"absolute",left:0,top:0,transform:`translateY(${r*100}%)`,"@media (max-width: 900px)":{display:"none"}},children:[S("div",{css:{position:"absolute",height:8,width:8,right:0,top:-8,background:"radial-gradient(circle closest-side,transparent 0,transparent 50%,#fff 0) 200% 200% /400% 400%"}}),S("div",{css:{position:"absolute",height:8,width:8,right:0,bottom:-8,transform:"scaleY(-1)",background:"radial-gradient(circle closest-side,transparent 0,transparent 50%,#fff 0) 200% 200% /400% 400%"}})]}),e.map((i,o)=>me("button",{css:{color:o===r?"#000":void 0,borderRadius:6,position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"0 2px",height:60,width:72,margin:2,cursor:"pointer",":hover":{color:"#000",backgroundColor:"#0000000f"}},onClick:s=>n(s,i.name),children:[S("div",{css:{fontSize:24,height:28},children:i.icon}),S("span",{css:{fontSize:10,lineHeight:1.6,fontWeight:600},children:i.name})]},o))]})})};function bI(e,t){return function(){return e.apply(t,arguments)}}const{toString:Hse}=Object.prototype,{getPrototypeOf:C8}=Object,Mw=(e=>t=>{const n=Hse.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Gl=e=>(e=e.toLowerCase(),t=>Mw(t)===e),Rw=e=>t=>typeof t===e,{isArray:Fg}=Array,l2=Rw("undefined");function Gse(e){return e!==null&&!l2(e)&&e.constructor!==null&&!l2(e.constructor)&&sa(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const xI=Gl("ArrayBuffer");function Kse(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&xI(e.buffer),t}const Yse=Rw("string"),sa=Rw("function"),SI=Rw("number"),Dw=e=>e!==null&&typeof e=="object",Jse=e=>e===!0||e===!1,Kv=e=>{if(Mw(e)!=="object")return!1;const t=C8(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Xse=Gl("Date"),Qse=Gl("File"),Zse=Gl("Blob"),eae=Gl("FileList"),tae=e=>Dw(e)&&sa(e.pipe),nae=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||sa(e.append)&&((t=Mw(e))==="formdata"||t==="object"&&sa(e.toString)&&e.toString()==="[object FormData]"))},rae=Gl("URLSearchParams"),iae=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function j2(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Fg(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;let a;for(r=0;r<s;r++)a=o[r],t.call(null,e[a],a,e)}}function CI(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const kI=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,EI=e=>!l2(e)&&e!==kI;function H6(){const{caseless:e}=EI(this)&&this||{},t={},n=(r,i)=>{const o=e&&CI(t,i)||i;Kv(t[o])&&Kv(r)?t[o]=H6(t[o],r):Kv(r)?t[o]=H6({},r):Fg(r)?t[o]=r.slice():t[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&j2(arguments[r],n);return t}const oae=(e,t,n,{allOwnKeys:r}={})=>(j2(t,(i,o)=>{n&&sa(i)?e[o]=bI(i,n):e[o]=i},{allOwnKeys:r}),e),sae=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),aae=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},lae=(e,t,n,r)=>{let i,o,s;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],(!r||r(s,e,t))&&!a[s]&&(t[s]=e[s],a[s]=!0);e=n!==!1&&C8(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},cae=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},uae=e=>{if(!e)return null;if(Fg(e))return e;let t=e.length;if(!SI(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},hae=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&C8(Uint8Array)),fae=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const i=r.value;t.call(e,i[0],i[1])}},dae=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},pae=Gl("HTMLFormElement"),gae=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,r){return n.toUpperCase()+r}),A9=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),mae=Gl("RegExp"),AI=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};j2(n,(i,o)=>{let s;(s=t(i,o,e))!==!1&&(r[o]=s||i)}),Object.defineProperties(e,r)},vae=e=>{AI(e,(t,n)=>{if(sa(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(sa(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},yae=(e,t)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Fg(e)?r(e):r(String(e).split(t)),n},wae=()=>{},bae=(e,t)=>(e=+e,Number.isFinite(e)?e:t),h4="abcdefghijklmnopqrstuvwxyz",N9="0123456789",NI={DIGIT:N9,ALPHA:h4,ALPHA_DIGIT:h4+h4.toUpperCase()+N9},xae=(e=16,t=NI.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function Sae(e){return!!(e&&sa(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Cae=e=>{const t=new Array(10),n=(r,i)=>{if(Dw(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const o=Fg(r)?[]:{};return j2(r,(s,a)=>{const l=n(s,i+1);!l2(l)&&(o[a]=l)}),t[i]=void 0,o}}return r};return n(e,0)},kae=Gl("AsyncFunction"),Eae=e=>e&&(Dw(e)||sa(e))&&sa(e.then)&&sa(e.catch),Xe={isArray:Fg,isArrayBuffer:xI,isBuffer:Gse,isFormData:nae,isArrayBufferView:Kse,isString:Yse,isNumber:SI,isBoolean:Jse,isObject:Dw,isPlainObject:Kv,isUndefined:l2,isDate:Xse,isFile:Qse,isBlob:Zse,isRegExp:mae,isFunction:sa,isStream:tae,isURLSearchParams:rae,isTypedArray:hae,isFileList:eae,forEach:j2,merge:H6,extend:oae,trim:iae,stripBOM:sae,inherits:aae,toFlatObject:lae,kindOf:Mw,kindOfTest:Gl,endsWith:cae,toArray:uae,forEachEntry:fae,matchAll:dae,isHTMLForm:pae,hasOwnProperty:A9,hasOwnProp:A9,reduceDescriptors:AI,freezeMethods:vae,toObjectSet:yae,toCamelCase:gae,noop:wae,toFiniteNumber:bae,findKey:CI,global:kI,isContextDefined:EI,ALPHABET:NI,generateString:xae,isSpecCompliantForm:Sae,toJSONObject:Cae,isAsyncFn:kae,isThenable:Eae};function bn(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Xe.inherits(bn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Xe.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const LI=bn.prototype,_I={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{_I[e]={value:e}});Object.defineProperties(bn,_I);Object.defineProperty(LI,"isAxiosError",{value:!0});bn.from=(e,t,n,r,i,o)=>{const s=Object.create(LI);return Xe.toFlatObject(e,s,function(a){return a!==Error.prototype},a=>a!=="isAxiosError"),bn.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const Aae=null;function G6(e){return Xe.isPlainObject(e)||Xe.isArray(e)}function OI(e){return Xe.endsWith(e,"[]")?e.slice(0,-2):e}function L9(e,t,n){return e?e.concat(t).map(function(r,i){return r=OI(r),!n&&i?"["+r+"]":r}).join(n?".":""):t}function Nae(e){return Xe.isArray(e)&&!e.some(G6)}const Lae=Xe.toFlatObject(Xe,{},null,function(e){return/^is[A-Z]/.test(e)});function Iw(e,t,n){if(!Xe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Xe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(d,m){return!Xe.isUndefined(m[d])});const r=n.metaTokens,i=n.visitor||c,o=n.dots,s=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&Xe.isSpecCompliantForm(t);if(!Xe.isFunction(i))throw new TypeError("visitor must be a function");function l(d){if(d===null)return"";if(Xe.isDate(d))return d.toISOString();if(!a&&Xe.isBlob(d))throw new bn("Blob is not supported. Use a Buffer instead.");return Xe.isArrayBuffer(d)||Xe.isTypedArray(d)?a&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function c(d,m,y){let C=d;if(d&&!y&&typeof d=="object"){if(Xe.endsWith(m,"{}"))m=r?m:m.slice(0,-2),d=JSON.stringify(d);else if(Xe.isArray(d)&&Nae(d)||(Xe.isFileList(d)||Xe.endsWith(m,"[]"))&&(C=Xe.toArray(d)))return m=OI(m),C.forEach(function(x,w){!(Xe.isUndefined(x)||x===null)&&t.append(s===!0?L9([m],w,o):s===null?m:m+"[]",l(x))}),!1}return G6(d)?!0:(t.append(L9(y,m,o),l(d)),!1)}const h=[],f=Object.assign(Lae,{defaultVisitor:c,convertValue:l,isVisitable:G6});function g(d,m){if(!Xe.isUndefined(d)){if(h.indexOf(d)!==-1)throw Error("Circular reference detected in "+m.join("."));h.push(d),Xe.forEach(d,function(y,C){(!(Xe.isUndefined(y)||y===null)&&i.call(t,y,Xe.isString(C)?C.trim():C,m,f))===!0&&g(y,m?m.concat(C):[C])}),h.pop()}}if(!Xe.isObject(e))throw new TypeError("data must be an object");return g(e),t}function _9(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function k8(e,t){this._pairs=[],e&&Iw(e,this,t)}const PI=k8.prototype;PI.append=function(e,t){this._pairs.push([e,t])};PI.toString=function(e){const t=e?function(n){return e.call(this,n,_9)}:_9;return this._pairs.map(function(n){return t(n[0])+"="+t(n[1])},"").join("&")};function _ae(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function TI(e,t,n){if(!t)return e;const r=n&&n.encode||_ae,i=n&&n.serialize;let o;if(i?o=i(t,n):o=Xe.isURLSearchParams(t)?t.toString():new k8(t,n).toString(r),o){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Oae{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Xe.forEach(this.handlers,function(n){n!==null&&t(n)})}}const O9=Oae,MI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Pae=typeof URLSearchParams<"u"?URLSearchParams:k8,Tae=typeof FormData<"u"?FormData:null,Mae=typeof Blob<"u"?Blob:null,Rae={isBrowser:!0,classes:{URLSearchParams:Pae,FormData:Tae,Blob:Mae},protocols:["http","https","file","blob","url","data"]},RI=typeof window<"u"&&typeof document<"u",Dae=(e=>RI&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),Iae=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zae=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:RI,hasStandardBrowserEnv:Dae,hasStandardBrowserWebWorkerEnv:Iae},Symbol.toStringTag,{value:"Module"})),Pl={...zae,...Rae};function Fae(e,t){return Iw(e,new Pl.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return Pl.isNode&&Xe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function jae(e){return Xe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Bae(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}function DI(e){function t(n,r,i,o){let s=n[o++];const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&Xe.isArray(i)?i.length:s,l?(Xe.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!Xe.isObject(i[s]))&&(i[s]=[]),t(n,r,i[s],o)&&Xe.isArray(i[s])&&(i[s]=Bae(i[s])),!a)}if(Xe.isFormData(e)&&Xe.isFunction(e.entries)){const n={};return Xe.forEachEntry(e,(r,i)=>{t(jae(r),i,n,0)}),n}return null}function $ae(e,t,n){if(Xe.isString(e))try{return(t||JSON.parse)(e),Xe.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const E8={transitional:MI,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=Xe.isObject(e);if(i&&Xe.isHTMLForm(e)&&(e=new FormData(e)),Xe.isFormData(e))return r&&r?JSON.stringify(DI(e)):e;if(Xe.isArrayBuffer(e)||Xe.isBuffer(e)||Xe.isStream(e)||Xe.isFile(e)||Xe.isBlob(e))return e;if(Xe.isArrayBufferView(e))return e.buffer;if(Xe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Fae(e,this.formSerializer).toString();if((o=Xe.isFileList(e))||n.indexOf("multipart/form-data")>-1){const s=this.env&&this.env.FormData;return Iw(o?{"files[]":e}:e,s&&new s,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),$ae(e)):e}],transformResponse:[function(e){const t=this.transitional||E8.transitional,n=t&&t.forcedJSONParsing,r=this.responseType==="json";if(e&&Xe.isString(e)&&(n&&!this.responseType||r)){const i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(o){if(i)throw o.name==="SyntaxError"?bn.from(o,bn.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pl.classes.FormData,Blob:Pl.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Xe.forEach(["delete","get","head","post","put","patch"],e=>{E8.headers[e]={}});const A8=E8,Vae=Xe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Uae=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||t[n]&&Vae[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},P9=Symbol("internals");function Tm(e){return e&&String(e).trim().toLowerCase()}function Yv(e){return e===!1||e==null?e:Xe.isArray(e)?e.map(Yv):String(e)}function qae(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Wae=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function f4(e,t,n,r,i){if(Xe.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!Xe.isString(t)){if(Xe.isString(r))return t.indexOf(r)!==-1;if(Xe.isRegExp(r))return r.test(t)}}function Hae(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Gae(e,t){const n=Xe.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,o,s){return this[r].call(this,t,i,o,s)},configurable:!0})})}class zw{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function o(a,l,c){const h=Tm(l);if(!h)throw new Error("header name must be a non-empty string");const f=Xe.findKey(i,h);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||l]=Yv(a))}const s=(a,l)=>Xe.forEach(a,(c,h)=>o(c,h,l));return Xe.isPlainObject(t)||t instanceof this.constructor?s(t,n):Xe.isString(t)&&(t=t.trim())&&!Wae(t)?s(Uae(t),n):t!=null&&o(n,t,r),this}get(t,n){if(t=Tm(t),t){const r=Xe.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return qae(i);if(Xe.isFunction(n))return n.call(this,i,r);if(Xe.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Tm(t),t){const r=Xe.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||f4(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function o(s){if(s=Tm(s),s){const a=Xe.findKey(r,s);a&&(!n||f4(r,r[a],a,n))&&(delete r[a],i=!0)}}return Xe.isArray(t)?t.forEach(o):o(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!t||f4(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const n=this,r={};return Xe.forEach(this,(i,o)=>{const s=Xe.findKey(r,o);if(s){n[s]=Yv(i),delete n[o];return}const a=t?Hae(o):String(o).trim();a!==o&&delete n[o],n[a]=Yv(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Xe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&Xe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const n=(this[P9]=this[P9]={accessors:{}}).accessors,r=this.prototype;function i(o){const s=Tm(o);n[s]||(Gae(r,o),n[s]=!0)}return Xe.isArray(t)?t.forEach(i):i(t),this}}zw.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Xe.reduceDescriptors(zw.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});Xe.freezeMethods(zw);const kc=zw;function d4(e,t){const n=this||A8,r=t||n,i=kc.from(r.headers);let o=r.data;return Xe.forEach(e,function(s){o=s.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function II(e){return!!(e&&e.__CANCEL__)}function B2(e,t,n){bn.call(this,e??"canceled",bn.ERR_CANCELED,t,n),this.name="CanceledError"}Xe.inherits(B2,bn,{__CANCEL__:!0});function Kae(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new bn("Request failed with status code "+n.status,[bn.ERR_BAD_REQUEST,bn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Yae=Pl.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const s=[e+"="+encodeURIComponent(t)];Xe.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Xe.isString(r)&&s.push("path="+r),Xe.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Jae(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Xae(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function zI(e,t){return e&&!Jae(t)?Xae(e,t):t}const Qae=Pl.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(i){let o=i;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(i){const o=Xe.isString(i)?r(i):i;return o.protocol===n.protocol&&o.host===n.host}}():function(){return function(){return!0}}();function Zae(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ele(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,o=0,s;return t=t!==void 0?t:1e3,function(a){const l=Date.now(),c=r[o];s||(s=l),n[i]=a,r[i]=l;let h=o,f=0;for(;h!==i;)f+=n[h++],h=h%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),l-s<t)return;const g=c&&l-c;return g?Math.round(f*1e3/g):void 0}}function T9(e,t){let n=0;const r=ele(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-n,l=r(a),c=o<=s;n=o;const h={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&c?(s-o)/l:void 0,event:i};h[t?"download":"upload"]=!0,e(h)}}const tle=typeof XMLHttpRequest<"u",nle=tle&&function(e){return new Promise(function(t,n){let r=e.data;const i=kc.from(e.headers).normalize();let{responseType:o,withXSRFToken:s}=e,a;function l(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}let c;if(Xe.isFormData(r)){if(Pl.hasStandardBrowserEnv||Pl.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if((c=i.getContentType())!==!1){const[m,...y]=c?c.split(";").map(C=>C.trim()).filter(Boolean):[];i.setContentType([m||"multipart/form-data",...y].join("; "))}}let h=new XMLHttpRequest;if(e.auth){const m=e.auth.username||"",y=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(m+":"+y))}const f=zI(e.baseURL,e.url);h.open(e.method.toUpperCase(),TI(f,e.params,e.paramsSerializer),!0),h.timeout=e.timeout;function g(){if(!h)return;const m=kc.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),y={data:!o||o==="text"||o==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:m,config:e,request:h};Kae(function(C){t(C),l()},function(C){n(C),l()},y),h=null}if("onloadend"in h?h.onloadend=g:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(g)},h.onabort=function(){h&&(n(new bn("Request aborted",bn.ECONNABORTED,e,h)),h=null)},h.onerror=function(){n(new bn("Network Error",bn.ERR_NETWORK,e,h)),h=null},h.ontimeout=function(){let m=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const y=e.transitional||MI;e.timeoutErrorMessage&&(m=e.timeoutErrorMessage),n(new bn(m,y.clarifyTimeoutError?bn.ETIMEDOUT:bn.ECONNABORTED,e,h)),h=null},Pl.hasStandardBrowserEnv&&(s&&Xe.isFunction(s)&&(s=s(e)),s||s!==!1&&Qae(f))){const m=e.xsrfHeaderName&&e.xsrfCookieName&&Yae.read(e.xsrfCookieName);m&&i.set(e.xsrfHeaderName,m)}r===void 0&&i.setContentType(null),"setRequestHeader"in h&&Xe.forEach(i.toJSON(),function(m,y){h.setRequestHeader(y,m)}),Xe.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),o&&o!=="json"&&(h.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&h.addEventListener("progress",T9(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",T9(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=m=>{h&&(n(!m||m.type?new B2(null,e,h):m),h.abort(),h=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const d=Zae(f);if(d&&Pl.protocols.indexOf(d)===-1){n(new bn("Unsupported protocol "+d+":",bn.ERR_BAD_REQUEST,e));return}h.send(r||null)})},K6={http:Aae,xhr:nle};Xe.forEach(K6,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const M9=e=>`- ${e}`,rle=e=>Xe.isFunction(e)||e===null||e===!1,FI={getAdapter:e=>{e=Xe.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){n=e[o];let s;if(r=n,!rle(n)&&(r=K6[(s=String(n)).toLowerCase()],r===void 0))throw new bn(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=t?o.length>1?`since :
`+o.map(M9).join(`
`):" "+M9(o[0]):"as no adapter specified";throw new bn("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:K6};function p4(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new B2(null,e)}function R9(e){return p4(e),e.headers=kc.from(e.headers),e.data=d4.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),FI.getAdapter(e.adapter||A8.adapter)(e).then(function(t){return p4(e),t.data=d4.call(e,e.transformResponse,t),t.headers=kc.from(t.headers),t},function(t){return II(t)||(p4(e),t&&t.response&&(t.response.data=d4.call(e,e.transformResponse,t.response),t.response.headers=kc.from(t.response.headers))),Promise.reject(t)})}const D9=e=>e instanceof kc?e.toJSON():e;function kg(e,t){t=t||{};const n={};function r(c,h,f){return Xe.isPlainObject(c)&&Xe.isPlainObject(h)?Xe.merge.call({caseless:f},c,h):Xe.isPlainObject(h)?Xe.merge({},h):Xe.isArray(h)?h.slice():h}function i(c,h,f){if(Xe.isUndefined(h)){if(!Xe.isUndefined(c))return r(void 0,c,f)}else return r(c,h,f)}function o(c,h){if(!Xe.isUndefined(h))return r(void 0,h)}function s(c,h){if(Xe.isUndefined(h)){if(!Xe.isUndefined(c))return r(void 0,c)}else return r(void 0,h)}function a(c,h,f){if(f in t)return r(c,h);if(f in e)return r(void 0,c)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,h)=>i(D9(c),D9(h),!0)};return Xe.forEach(Object.keys(Object.assign({},e,t)),function(c){const h=l[c]||i,f=h(e[c],t[c],c);Xe.isUndefined(f)&&h!==a||(n[c]=f)}),n}const jI="1.6.2",N8={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{N8[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const I9={};N8.transitional=function(e,t,n){function r(i,o){return"[Axios v"+jI+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,s)=>{if(e===!1)throw new bn(r(o," has been removed"+(t?" in "+t:"")),bn.ERR_DEPRECATED);return t&&!I9[o]&&(I9[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,o,s):!0}};function ile(e,t,n){if(typeof e!="object")throw new bn("options must be an object",bn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const a=e[o],l=a===void 0||s(a,o,e);if(l!==!0)throw new bn("option "+o+" must be "+l,bn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new bn("Unknown option "+o,bn.ERR_BAD_OPTION)}}const Y6={assertOptions:ile,validators:N8},Ou=Y6.validators;class hy{constructor(t){this.defaults=t,this.interceptors={request:new O9,response:new O9}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=kg(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Y6.assertOptions(r,{silentJSONParsing:Ou.transitional(Ou.boolean),forcedJSONParsing:Ou.transitional(Ou.boolean),clarifyTimeoutError:Ou.transitional(Ou.boolean)},!1),i!=null&&(Xe.isFunction(i)?n.paramsSerializer={serialize:i}:Y6.assertOptions(i,{encode:Ou.function,serialize:Ou.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&Xe.merge(o.common,o[n.method]);o&&Xe.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),n.headers=kc.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let h,f=0,g;if(!l){const m=[R9.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,c),g=m.length,h=Promise.resolve(n);f<g;)h=h.then(m[f++],m[f++]);return h}g=a.length;let d=n;for(f=0;f<g;){const m=a[f++],y=a[f++];try{d=m(d)}catch(C){y.call(this,C);break}}try{h=R9.call(this,d)}catch(m){return Promise.reject(m)}for(f=0,g=c.length;f<g;)h=h.then(c[f++],c[f++]);return h}getUri(t){t=kg(this.defaults,t);const n=zI(t.baseURL,t.url);return TI(n,t.params,t.paramsSerializer)}}Xe.forEach(["delete","get","head","options"],function(e){hy.prototype[e]=function(t,n){return this.request(kg(n||{},{method:e,url:t,data:(n||{}).data}))}});Xe.forEach(["post","put","patch"],function(e){function t(n){return function(r,i,o){return this.request(kg(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:i}))}}hy.prototype[e]=t(),hy.prototype[e+"Form"]=t(!0)});const Jv=hy;class L8{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},t(function(i,o,s){r.reason||(r.reason=new B2(i,o,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new L8(function(n){t=n}),cancel:t}}}const ole=L8;function sle(e){return function(t){return e.apply(null,t)}}function ale(e){return Xe.isObject(e)&&e.isAxiosError===!0}const J6={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(J6).forEach(([e,t])=>{J6[t]=e});const lle=J6;function BI(e){const t=new Jv(e),n=bI(Jv.prototype.request,t);return Xe.extend(n,Jv.prototype,t,{allOwnKeys:!0}),Xe.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return BI(kg(e,r))},n}const oi=BI(A8);oi.Axios=Jv;oi.CanceledError=B2;oi.CancelToken=ole;oi.isCancel=II;oi.VERSION=jI;oi.toFormData=Iw;oi.AxiosError=bn;oi.Cancel=oi.CanceledError;oi.all=function(e){return Promise.all(e)};oi.spread=sle;oi.isAxiosError=ale;oi.mergeConfig=kg;oi.AxiosHeaders=kc;oi.formToJSON=e=>DI(Xe.isHTMLForm(e)?new FormData(e):e);oi.getAdapter=FI.getAdapter;oi.HttpStatusCode=lle;oi.default=oi;const Wa=oi,Fw=({children:e,onDrop:t,onClick:n})=>{const r=M.useRef(null),i=M.useRef(null),[o,s]=M.useState(!1),[a,l]=M.useState(!1),[c,h]=M.useState({x:0,y:0}),[f,g]=M.useState({w:50,h:50}),d=y=>{var C,x,w;l(!0),setTimeout(()=>{a&&(s(!1),y.preventDefault())},200);const E=y.nativeEvent.offsetX,N=y.nativeEvent.offsetY,_=((C=r.current)==null?void 0:C.offsetWidth)||0,D=(x=r.current)!=null&&x.offsetHeight?((w=r.current)==null?void 0:w.offsetHeight)/2:0;h({x:y.clientX-E,y:y.clientY-N-D}),g({w:_,h:D});function P(G){const O=m(G,"page-content");if(!O)return!1;const z=G.clientX,U=G.clientY,$=O.getBoundingClientRect(),ne=$.left,se=$.top,ae=$.width,Z=$.height;return z>=ne&&z<=ne+ae&&U>=se&&U<=se+Z}const I=G=>{l(!1),s(!0);const O=G.clientX-E,z=G.clientY-N-D;h({x:O,y:z})},W=G=>{s(!1),t(P(G)?{x:G.clientX-_,y:G.clientY-D}:null),document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",W)};document.addEventListener("mousemove",I),document.addEventListener("mouseup",W)};function m(y,C){const x=y.clientX,w=y.clientY,E=document.querySelectorAll(`.${C}`);let N=null,_=1/0;for(const D of E){const P=D.getBoundingClientRect(),I=Math.sqrt(Math.pow(x-P.left,2)+Math.pow(w-P.top,2));I<_&&(N=D,_=I)}return N}return S(jl,{children:me("div",{ref:r,onMouseDown:d,onClick:()=>{a&&n&&n()},children:[o&&S("div",{css:{width:f.w,height:f.h},children:""}),S("div",{ref:i,style:{...o&&{position:"absolute",left:c.x,top:c.y,width:f.w,height:f.h,zIndex:1}},children:e})]})})},jw=Un.forwardRef(({icon:e,text:t,onClick:n,type:r="button",style:i,children:o,...s},a)=>me("button",{ref:a,type:r,onClick:n,css:{border:0,borderRadius:4,cursor:"pointer",color:"#fff",backgroundColor:"#8b3dff",transition:"background-color 0.3s ease",height:40,padding:"0 6px",boxShadow:"inset 0 0 0 1px rgba(57,76,96,.15)",fontWeight:400,"&:hover":{backgroundColor:"#7300e6"},...i},...s,children:[e&&S("span",{css:{marginRight:5},children:e}),t&&S("span",{css:{verticalAlign:"middle"},children:t}),o]})),jg=({onClose:e})=>S("div",{css:{position:"absolute",right:0,top:"50%",transform:"translate(100%,-50%)",zIndex:40},children:me("button",{css:{position:"relative",display:"grid"},onClick:e,children:[me("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 96",width:"13",height:"96",fill:"none",children:[S("path",{fill:"#fff",d:"M0,0 h1 c0,20,12,12,12,32 v32 c0,20,-12,12,-12,32 H0 z"}),S("path",{stroke:"#e8e9ef",d:"M0.5,0 c0,20,12,12,12,32 v32 c0,20,-12,12,-12,32"})]}),S("span",{css:{position:"absolute",alignSelf:"center"},children:S("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",children:S("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"1.25",d:"M7 3.17 4.88 5.3a1 1 0 0 0 0 1.42L7 8.83"})})})]})});var uo=function(){return uo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},uo.apply(this,arguments)};function fy(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var hr="-ms-",d0="-moz-",Vn="-webkit-",$I="comm",Bw="rule",_8="decl",cle="@import",VI="@keyframes",ule="@layer",UI=Math.abs,O8=String.fromCharCode,X6=Object.assign;function hle(e,t){return Ci(e,0)^45?(((t<<2^Ci(e,0))<<2^Ci(e,1))<<2^Ci(e,2))<<2^Ci(e,3):0}function qI(e){return e.trim()}function gc(e,t){return(e=t.exec(e))?e[0]:e}function on(e,t,n){return e.replace(t,n)}function Xv(e,t,n){return e.indexOf(t,n)}function Ci(e,t){return e.charCodeAt(t)|0}function Eg(e,t,n){return e.slice(t,n)}function kl(e){return e.length}function WI(e){return e.length}function Hm(e,t){return t.push(e),e}function fle(e,t){return e.map(t).join("")}function z9(e,t){return e.filter(function(n){return!gc(n,t)})}var $w=1,Ag=1,HI=0,ua=0,ni=0,Bg="";function Vw(e,t,n,r,i,o,s,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:$w,column:Ag,length:s,return:"",siblings:a}}function Du(e,t){return X6(Vw("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function cp(e){for(;e.root;)e=Du(e.root,{children:[e]});Hm(e,e.siblings)}function dle(){return ni}function ple(){return ni=ua>0?Ci(Bg,--ua):0,Ag--,ni===10&&(Ag=1,$w--),ni}function Ba(){return ni=ua<HI?Ci(Bg,ua++):0,Ag++,ni===10&&(Ag=1,$w++),ni}function Vf(){return Ci(Bg,ua)}function Qv(){return ua}function Uw(e,t){return Eg(Bg,e,t)}function Q6(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function gle(e){return $w=Ag=1,HI=kl(Bg=e),ua=0,[]}function mle(e){return Bg="",e}function g4(e){return qI(Uw(ua-1,Z6(e===91?e+2:e===40?e+1:e)))}function vle(e){for(;(ni=Vf())&&ni<33;)Ba();return Q6(e)>2||Q6(ni)>3?"":" "}function yle(e,t){for(;--t&&Ba()&&!(ni<48||ni>102||ni>57&&ni<65||ni>70&&ni<97););return Uw(e,Qv()+(t<6&&Vf()==32&&Ba()==32))}function Z6(e){for(;Ba();)switch(ni){case e:return ua;case 34:case 39:e!==34&&e!==39&&Z6(ni);break;case 40:e===41&&Z6(e);break;case 92:Ba();break}return ua}function wle(e,t){for(;Ba()&&e+ni!==57&&!(e+ni===84&&Vf()===47););return"/*"+Uw(t,ua-1)+"*"+O8(e===47?e:Ba())}function ble(e){for(;!Q6(Vf());)Ba();return Uw(e,ua)}function xle(e){return mle(Zv("",null,null,null,[""],e=gle(e),0,[0],e))}function Zv(e,t,n,r,i,o,s,a,l){for(var c=0,h=0,f=s,g=0,d=0,m=0,y=1,C=1,x=1,w=0,E="",N=i,_=o,D=r,P=E;C;)switch(m=w,w=Ba()){case 40:if(m!=108&&Ci(P,f-1)==58){Xv(P+=on(g4(w),"&","&\f"),"&\f",UI(c?a[c-1]:0))!=-1&&(x=-1);break}case 34:case 39:case 91:P+=g4(w);break;case 9:case 10:case 13:case 32:P+=vle(m);break;case 92:P+=yle(Qv()-1,7);continue;case 47:switch(Vf()){case 42:case 47:Hm(Sle(wle(Ba(),Qv()),t,n,l),l);break;default:P+="/"}break;case 123*y:a[c++]=kl(P)*x;case 125*y:case 59:case 0:switch(w){case 0:case 125:C=0;case 59+h:x==-1&&(P=on(P,/\f/g,"")),d>0&&kl(P)-f&&Hm(d>32?j9(P+";",r,n,f-1,l):j9(on(P," ","")+";",r,n,f-2,l),l);break;case 59:P+=";";default:if(Hm(D=F9(P,t,n,c,h,i,a,E,N=[],_=[],f,o),o),w===123)if(h===0)Zv(P,t,D,D,N,o,f,a,_);else switch(g===99&&Ci(P,3)===110?100:g){case 100:case 108:case 109:case 115:Zv(e,D,D,r&&Hm(F9(e,D,D,0,0,i,a,E,i,N=[],f,_),_),i,_,f,a,r?N:_);break;default:Zv(P,D,D,D,[""],_,0,a,_)}}c=h=d=0,y=x=1,E=P="",f=s;break;case 58:f=1+kl(P),d=m;default:if(y<1){if(w==123)--y;else if(w==125&&y++==0&&ple()==125)continue}switch(P+=O8(w),w*y){case 38:x=h>0?1:(P+="\f",-1);break;case 44:a[c++]=(kl(P)-1)*x,x=1;break;case 64:Vf()===45&&(P+=g4(Ba())),g=Vf(),h=f=kl(E=P+=ble(Qv())),w++;break;case 45:m===45&&kl(P)==2&&(y=0)}}return o}function F9(e,t,n,r,i,o,s,a,l,c,h,f){for(var g=i-1,d=i===0?o:[""],m=WI(d),y=0,C=0,x=0;y<r;++y)for(var w=0,E=Eg(e,g+1,g=UI(C=s[y])),N=e;w<m;++w)(N=qI(C>0?d[w]+" "+E:on(E,/&\f/g,d[w])))&&(l[x++]=N);return Vw(e,t,n,i===0?Bw:a,l,c,h,f)}function Sle(e,t,n,r){return Vw(e,t,n,$I,O8(dle()),Eg(e,2,-2),0,r)}function j9(e,t,n,r,i){return Vw(e,t,n,_8,Eg(e,0,r),Eg(e,r+1,-1),r,i)}function GI(e,t,n){switch(hle(e,t)){case 5103:return Vn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Vn+e+e;case 4789:return d0+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Vn+e+d0+e+hr+e+e;case 5936:switch(Ci(e,t+11)){case 114:return Vn+e+hr+on(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Vn+e+hr+on(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Vn+e+hr+on(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Vn+e+hr+e+e;case 6165:return Vn+e+hr+"flex-"+e+e;case 5187:return Vn+e+on(e,/(\w+).+(:[^]+)/,Vn+"box-$1$2"+hr+"flex-$1$2")+e;case 5443:return Vn+e+hr+"flex-item-"+on(e,/flex-|-self/g,"")+(gc(e,/flex-|baseline/)?"":hr+"grid-row-"+on(e,/flex-|-self/g,""))+e;case 4675:return Vn+e+hr+"flex-line-pack"+on(e,/align-content|flex-|-self/g,"")+e;case 5548:return Vn+e+hr+on(e,"shrink","negative")+e;case 5292:return Vn+e+hr+on(e,"basis","preferred-size")+e;case 6060:return Vn+"box-"+on(e,"-grow","")+Vn+e+hr+on(e,"grow","positive")+e;case 4554:return Vn+on(e,/([^-])(transform)/g,"$1"+Vn+"$2")+e;case 6187:return on(on(on(e,/(zoom-|grab)/,Vn+"$1"),/(image-set)/,Vn+"$1"),e,"")+e;case 5495:case 3959:return on(e,/(image-set\([^]*)/,Vn+"$1$`$1");case 4968:return on(on(e,/(.+:)(flex-)?(.*)/,Vn+"box-pack:$3"+hr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Vn+e+e;case 4200:if(!gc(e,/flex-|baseline/))return hr+"grid-column-align"+Eg(e,t)+e;break;case 2592:case 3360:return hr+on(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,i){return t=i,gc(r.props,/grid-\w+-end/)})?~Xv(e+(n=n[t].value),"span",0)?e:hr+on(e,"-start","")+e+hr+"grid-row-span:"+(~Xv(n,"span",0)?gc(n,/\d+/):+gc(n,/\d+/)-+gc(e,/\d+/))+";":hr+on(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return gc(r.props,/grid-\w+-start/)})?e:hr+on(on(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return on(e,/(.+)-inline(.+)/,Vn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(kl(e)-1-t>6)switch(Ci(e,t+1)){case 109:if(Ci(e,t+4)!==45)break;case 102:return on(e,/(.+:)(.+)-([^]+)/,"$1"+Vn+"$2-$3$1"+d0+(Ci(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Xv(e,"stretch",0)?GI(on(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return on(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,o,s,a,l,c){return hr+i+":"+o+c+(s?hr+i+"-span:"+(a?l:+l-+o)+c:"")+e});case 4949:if(Ci(e,t+6)===121)return on(e,":",":"+Vn)+e;break;case 6444:switch(Ci(e,Ci(e,14)===45?18:11)){case 120:return on(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Vn+(Ci(e,14)===45?"inline-":"")+"box$3$1"+Vn+"$2$3$1"+hr+"$2box$3")+e;case 100:return on(e,":",":"+hr)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return on(e,"scroll-","scroll-snap-")+e}return e}function dy(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function Cle(e,t,n,r){switch(e.type){case ule:if(e.children.length)break;case cle:case _8:return e.return=e.return||e.value;case $I:return"";case VI:return e.return=e.value+"{"+dy(e.children,r)+"}";case Bw:if(!kl(e.value=e.props.join(",")))return""}return kl(n=dy(e.children,r))?e.return=e.value+"{"+n+"}":""}function kle(e){var t=WI(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function Ele(e){return function(t){t.root||(t=t.return)&&e(t)}}function Ale(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case _8:e.return=GI(e.value,e.length,n);return;case VI:return dy([Du(e,{value:on(e.value,"@","@"+Vn)})],r);case Bw:if(e.length)return fle(n=e.props,function(i){switch(gc(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":cp(Du(e,{props:[on(i,/:(read-\w+)/,":"+d0+"$1")]})),cp(Du(e,{props:[i]})),X6(e,{props:z9(n,r)});break;case"::placeholder":cp(Du(e,{props:[on(i,/:(plac\w+)/,":"+Vn+"input-$1")]})),cp(Du(e,{props:[on(i,/:(plac\w+)/,":"+d0+"$1")]})),cp(Du(e,{props:[on(i,/:(plac\w+)/,hr+"input-$1")]})),cp(Du(e,{props:[i]})),X6(e,{props:z9(n,r)});break}return""})}}var Nle={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ng=typeof process<"u"&&bs!==void 0&&(bs.REACT_APP_SC_ATTR||bs.SC_ATTR)||"data-styled",KI="active",YI="data-styled-version",qw="6.1.8",P8=`/*!sc*/
`,T8=typeof window<"u"&&"HTMLElement"in window,Lle=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&bs!==void 0&&bs.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&bs.REACT_APP_SC_DISABLE_SPEEDY!==""?bs.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&bs.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&bs!==void 0&&bs.SC_DISABLE_SPEEDY!==void 0&&bs.SC_DISABLE_SPEEDY!==""&&bs.SC_DISABLE_SPEEDY!=="false"&&bs.SC_DISABLE_SPEEDY),Ww=Object.freeze([]),Lg=Object.freeze({});function _le(e,t,n){return n===void 0&&(n=Lg),e.theme!==n.theme&&e.theme||t||n.theme}var JI=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Ole=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ple=/(^-|-$)/g;function B9(e){return e.replace(Ole,"-").replace(Ple,"")}var Tle=/(a)(d)/gi,uv=52,$9=function(e){return String.fromCharCode(e+(e>25?39:97))};function eS(e){var t,n="";for(t=Math.abs(e);t>uv;t=t/uv|0)n=$9(t%uv)+n;return($9(t%uv)+n).replace(Tle,"$1-$2")}var m4,XI=5381,Pp=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},QI=function(e){return Pp(XI,e)};function Mle(e){return eS(QI(e)>>>0)}function Rle(e){return e.displayName||e.name||"Component"}function v4(e){return typeof e=="string"&&!0}var ZI=typeof Symbol=="function"&&Symbol.for,ez=ZI?Symbol.for("react.memo"):60115,Dle=ZI?Symbol.for("react.forward_ref"):60112,Ile={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},zle={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},tz={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Fle=((m4={})[Dle]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},m4[ez]=tz,m4);function V9(e){return("type"in(t=e)&&t.type.$$typeof)===ez?tz:"$$typeof"in e?Fle[e.$$typeof]:Ile;var t}var jle=Object.defineProperty,Ble=Object.getOwnPropertyNames,U9=Object.getOwnPropertySymbols,$le=Object.getOwnPropertyDescriptor,Vle=Object.getPrototypeOf,q9=Object.prototype;function nz(e,t,n){if(typeof t!="string"){if(q9){var r=Vle(t);r&&r!==q9&&nz(e,r,n)}var i=Ble(t);U9&&(i=i.concat(U9(t)));for(var o=V9(e),s=V9(t),a=0;a<i.length;++a){var l=i[a];if(!(l in zle||n&&n[l]||s&&l in s||o&&l in o)){var c=$le(t,l);try{jle(e,l,c)}catch{}}}}return e}function ad(e){return typeof e=="function"}function M8(e){return typeof e=="object"&&"styledComponentId"in e}function Of(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function W9(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function c2(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function tS(e,t,n){if(n===void 0&&(n=!1),!n&&!c2(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=tS(e[r],t[r]);else if(c2(t))for(var r in t)e[r]=tS(e[r],t[r]);return e}function R8(e,t){Object.defineProperty(e,"toString",{value:t})}function xh(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var Ule=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,o=i;t>=o;)if((o<<=1)<0)throw xh(16,"".concat(t));this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var s=i;s<o;s++)this.groupSizes[s]=0}for(var a=this.indexOfGroup(t+1),l=(s=0,n.length);s<l;s++)this.tag.insertRule(a,n[s])&&(this.groupSizes[t]++,a++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),i=r+n;this.groupSizes[t]=0;for(var o=r;o<i;o++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],i=this.indexOfGroup(t),o=i+r,s=i;s<o;s++)n+="".concat(this.tag.getRule(s)).concat(P8);return n},e}(),e5=new Map,py=new Map,t5=1,hv=function(e){if(e5.has(e))return e5.get(e);for(;py.has(t5);)t5++;var t=t5++;return e5.set(e,t),py.set(t,e),t},qle=function(e,t){t5=t+1,e5.set(e,t),py.set(t,e)},Wle="style[".concat(Ng,"][").concat(YI,'="').concat(qw,'"]'),Hle=new RegExp("^".concat(Ng,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Gle=function(e,t,n){for(var r,i=n.split(","),o=0,s=i.length;o<s;o++)(r=i[o])&&e.registerName(t,r)},Kle=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(P8),i=[],o=0,s=r.length;o<s;o++){var a=r[o].trim();if(a){var l=a.match(Hle);if(l){var c=0|parseInt(l[1],10),h=l[2];c!==0&&(qle(h,c),Gle(e,h,l[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}};function Yle(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var rz=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(Ng,"]")));return l[l.length-1]}(n),o=i!==void 0?i.nextSibling:null;r.setAttribute(Ng,KI),r.setAttribute(YI,qw);var s=Yle();return s&&r.setAttribute("nonce",s),n.insertBefore(r,o),r},Jle=function(){function e(t){this.element=rz(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,o=r.length;i<o;i++){var s=r[i];if(s.ownerNode===n)return s}throw xh(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),Xle=function(){function e(t){this.element=rz(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),Qle=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),H9=T8,Zle={isServer:!T8,useCSSOMInjection:!Lle},iz=function(){function e(t,n,r){t===void 0&&(t=Lg),n===void 0&&(n={});var i=this;this.options=uo(uo({},Zle),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&T8&&H9&&(H9=!1,function(o){for(var s=document.querySelectorAll(Wle),a=0,l=s.length;a<l;a++){var c=s[a];c&&c.getAttribute(Ng)!==KI&&(Kle(o,c),c.parentNode&&c.parentNode.removeChild(c))}}(this)),R8(this,function(){return function(o){for(var s=o.getTag(),a=s.length,l="",c=function(f){var g=function(x){return py.get(x)}(f);if(g===void 0)return"continue";var d=o.names.get(g),m=s.getGroup(f);if(d===void 0||m.length===0)return"continue";var y="".concat(Ng,".g").concat(f,'[id="').concat(g,'"]'),C="";d!==void 0&&d.forEach(function(x){x.length>0&&(C+="".concat(x,","))}),l+="".concat(m).concat(y,'{content:"').concat(C,'"}').concat(P8)},h=0;h<a;h++)c(h);return l}(i)})}return e.registerId=function(t){return hv(t)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(uo(uo({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new Qle(i):r?new Jle(i):new Xle(i)}(this.options),new Ule(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(hv(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(hv(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(hv(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),ece=/&/g,tce=/^\s*\/\/.*$/gm;function oz(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=oz(n.children,t)),n})}function nce(e){var t,n,r,i=e===void 0?Lg:e,o=i.options,s=o===void 0?Lg:o,a=i.plugins,l=a===void 0?Ww:a,c=function(g,d,m){return m.startsWith(n)&&m.endsWith(n)&&m.replaceAll(n,"").length>0?".".concat(t):g},h=l.slice();h.push(function(g){g.type===Bw&&g.value.includes("&")&&(g.props[0]=g.props[0].replace(ece,n).replace(r,c))}),s.prefix&&h.push(Ale),h.push(Cle);var f=function(g,d,m,y){d===void 0&&(d=""),m===void 0&&(m=""),y===void 0&&(y="&"),t=y,n=d,r=new RegExp("\\".concat(n,"\\b"),"g");var C=g.replace(tce,""),x=xle(m||d?"".concat(m," ").concat(d," { ").concat(C," }"):C);s.namespace&&(x=oz(x,s.namespace));var w=[];return dy(x,kle(h.concat(Ele(function(E){return w.push(E)})))),w};return f.hash=l.length?l.reduce(function(g,d){return d.name||xh(15),Pp(g,d.name)},XI).toString():"",f}var rce=new iz,nS=nce(),sz=Un.createContext({shouldForwardProp:void 0,styleSheet:rce,stylis:nS});sz.Consumer;Un.createContext(void 0);function G9(){return M.useContext(sz)}var ice=function(){function e(t,n){var r=this;this.inject=function(i,o){o===void 0&&(o=nS);var s=r.name+o.hash;i.hasNameForId(r.id,s)||i.insertRules(r.id,s,o(r.rules,s,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,R8(this,function(){throw xh(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=nS),this.name+t.hash},e}(),oce=function(e){return e>="A"&&e<="Z"};function K9(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;oce(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var az=function(e){return e==null||e===!1||e===""},lz=function(e){var t,n,r=[];for(var i in e){var o=e[i];e.hasOwnProperty(i)&&!az(o)&&(Array.isArray(o)&&o.isCss||ad(o)?r.push("".concat(K9(i),":"),o,";"):c2(o)?r.push.apply(r,fy(fy(["".concat(i," {")],lz(o),!1),["}"],!1)):r.push("".concat(K9(i),": ").concat((t=i,(n=o)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in Nle||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Uf(e,t,n,r){if(az(e))return[];if(M8(e))return[".".concat(e.styledComponentId)];if(ad(e)){if(!ad(o=e)||o.prototype&&o.prototype.isReactComponent||!t)return[e];var i=e(t);return Uf(i,t,n,r)}var o;return e instanceof ice?n?(e.inject(n,r),[e.getName(r)]):[e]:c2(e)?lz(e):Array.isArray(e)?Array.prototype.concat.apply(Ww,e.map(function(s){return Uf(s,t,n,r)})):[e.toString()]}function sce(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(ad(n)&&!M8(n))return!1}return!0}var ace=QI(qw),lce=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&sce(t),this.componentId=n,this.baseHash=Pp(ace,n),this.baseStyle=r,iz.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Of(i,this.staticRulesId);else{var o=W9(Uf(this.rules,t,n,r)),s=eS(Pp(this.baseHash,o)>>>0);if(!n.hasNameForId(this.componentId,s)){var a=r(o,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,a)}i=Of(i,s),this.staticRulesId=s}else{for(var l=Pp(this.baseHash,r.hash),c="",h=0;h<this.rules.length;h++){var f=this.rules[h];if(typeof f=="string")c+=f;else if(f){var g=W9(Uf(f,t,n,r));l=Pp(l,g+h),c+=g}}if(c){var d=eS(l>>>0);n.hasNameForId(this.componentId,d)||n.insertRules(this.componentId,d,r(c,".".concat(d),void 0,this.componentId)),i=Of(i,d)}}return i},e}(),u2=Un.createContext(void 0);u2.Consumer;function cce(){var e=M.useContext(u2);if(!e)throw xh(18);return e}function uce(e){var t=Un.useContext(u2),n=M.useMemo(function(){return function(r,i){if(!r)throw xh(14);if(ad(r)){var o=r(i);return o}if(Array.isArray(r)||typeof r!="object")throw xh(8);return i?uo(uo({},i),r):r}(e.theme,t)},[e.theme,t]);return e.children?Un.createElement(u2.Provider,{value:n},e.children):null}var y4={};function hce(e,t,n){var r=M8(e),i=e,o=!v4(e),s=t.attrs,a=s===void 0?Ww:s,l=t.componentId,c=l===void 0?function(N,_){var D=typeof N!="string"?"sc":B9(N);y4[D]=(y4[D]||0)+1;var P="".concat(D,"-").concat(Mle(qw+D+y4[D]));return _?"".concat(_,"-").concat(P):P}(t.displayName,t.parentComponentId):l,h=t.displayName,f=h===void 0?function(N){return v4(N)?"styled.".concat(N):"Styled(".concat(Rle(N),")")}(e):h,g=t.displayName&&t.componentId?"".concat(B9(t.displayName),"-").concat(t.componentId):t.componentId||c,d=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,m=t.shouldForwardProp;if(r&&i.shouldForwardProp){var y=i.shouldForwardProp;if(t.shouldForwardProp){var C=t.shouldForwardProp;m=function(N,_){return y(N,_)&&C(N,_)}}else m=y}var x=new lce(n,g,r?i.componentStyle:void 0);function w(N,_){return function(D,P,I){var W=D.attrs,G=D.componentStyle,O=D.defaultProps,z=D.foldedComponentIds,U=D.styledComponentId,$=D.target,ne=Un.useContext(u2),se=G9(),ae=D.shouldForwardProp||se.shouldForwardProp,Z=_le(P,ne,O)||Lg,le=function(he,pe,Se){for(var xe,Ee=uo(uo({},pe),{className:void 0,theme:Se}),Ge=0;Ge<he.length;Ge+=1){var Be=ad(xe=he[Ge])?xe(Ee):xe;for(var Ke in Be)Ee[Ke]=Ke==="className"?Of(Ee[Ke],Be[Ke]):Ke==="style"?uo(uo({},Ee[Ke]),Be[Ke]):Be[Ke]}return pe.className&&(Ee.className=Of(Ee.className,pe.className)),Ee}(W,P,Z),ue=le.as||$,ge={};for(var F in le)le[F]===void 0||F[0]==="$"||F==="as"||F==="theme"&&le.theme===Z||(F==="forwardedAs"?ge.as=le.forwardedAs:ae&&!ae(F,ue)||(ge[F]=le[F]));var Q=function(he,pe){var Se=G9(),xe=he.generateAndInjectStyles(pe,Se.styleSheet,Se.stylis);return xe}(G,le),re=Of(z,U);return Q&&(re+=" "+Q),le.className&&(re+=" "+le.className),ge[v4(ue)&&!JI.has(ue)?"class":"className"]=re,ge.ref=I,M.createElement(ue,ge)}(E,N,_)}w.displayName=f;var E=Un.forwardRef(w);return E.attrs=d,E.componentStyle=x,E.displayName=f,E.shouldForwardProp=m,E.foldedComponentIds=r?Of(i.foldedComponentIds,i.styledComponentId):"",E.styledComponentId=g,E.target=r?i.target:e,Object.defineProperty(E,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(N){this._foldedDefaultProps=r?function(_){for(var D=[],P=1;P<arguments.length;P++)D[P-1]=arguments[P];for(var I=0,W=D;I<W.length;I++)tS(_,W[I],!0);return _}({},i.defaultProps,N):N}}),R8(E,function(){return".".concat(E.styledComponentId)}),o&&nz(E,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),E}function Y9(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var J9=function(e){return Object.assign(e,{isCss:!0})};function fce(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ad(e)||c2(e))return J9(Uf(Y9(Ww,fy([e],t,!0))));var r=e;return t.length===0&&r.length===1&&typeof r[0]=="string"?Uf(r):J9(Uf(Y9(r,t)))}function rS(e,t,n){if(n===void 0&&(n=Lg),!t)throw xh(1,t);var r=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return e(t,n,fce.apply(void 0,fy([i],o,!1)))};return r.attrs=function(i){return rS(e,t,uo(uo({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return rS(e,t,uo(uo({},n),i))},r}var cz=function(e){return rS(hce,e)},gd=cz;JI.forEach(function(e){gd[e]=cz(e)});const dce={height:"44px",border:"1px solid #dfe1e5",borderRadius:"4px",backgroundColor:"white",boxShadow:"none",hoverBackgroundColor:"#eee",color:"#212121",fontSize:"16px",fontFamily:"Arial",iconColor:"#fff",lineColor:"rgb(232, 234, 237)",placeholderColor:"#fff",zIndex:0,clearIconMargin:"3px 10px 0 0",searchIconMargin:"0 0 0 8px"};function pce(e,t,n){let r;return function(){const i=this,o=arguments,s=function(){r=null,n||e.apply(i,o)};n&&!r&&e.apply(i,o),r&&clearTimeout(r),r=setTimeout(s,t)}}const iS=({icon:e,showIcon:t})=>t?e?S(X9,{children:e}):S(X9,{children:me(gce,{className:"search-icon",width:24,height:24,focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[S("path",{d:"M17.928 1.048c.013-.064.13-.064.144 0 .115.543.38 1.51.875 2.005.495.496 1.462.76 2.006.875.063.013.063.13 0 .144-.544.115-1.51.38-2.006.875-.496.495-.76 1.462-.875 2.005-.013.064-.13.064-.144 0-.115-.543-.38-1.51-.875-2.005-.495-.496-1.462-.76-2.006-.875-.063-.013-.063-.13 0-.144.544-.115 1.51-.38 2.006-.875.496-.495.76-1.462.875-2.005ZM13.067 4.046c-.012-.061-.122-.061-.134 0-.133.67-.477 2.044-1.16 2.727-.683.683-2.057 1.027-2.727 1.16-.061.012-.061.122 0 .134.67.133 2.044.477 2.727 1.16.683.683 1.027 2.057 1.16 2.727.012.061.122.061.134 0 .133-.67.477-2.044 1.16-2.727.683-.683 2.057-1.027 2.727-1.16.061-.012.061-.122 0-.134-.67-.133-2.044-.477-2.727-1.16-.683-.683-1.027-2.057-1.16-2.727Z",fill:"currentColor"}),S("path",{d:"M2 11.5a7.5 7.5 0 0 0 12.202 5.843l4.156 4.157a1 1 0 1 0 1.415-1.414l-4.193-4.193A7.46 7.46 0 0 0 16.984 12h-1.505A6 6 0 1 1 9 5.52V4.017A7.5 7.5 0 0 0 2 11.5Z",fill:"currentColor"})]})}):null,X9=gd.div`
  margin: ${e=>e.theme.searchIconMargin};
`,gce=gd.svg`
  flex-shrink: 0;
  fill: ${e=>e.theme.iconColor};
`;function mce({results:e=[],onClick:t,setSearchString:n,searchIcon:r,maxResults:i,resultStringKeyName:o="name",highlightedItem:s,setHighlightedItem:a,formatResult:l,showNoResultsFlag:c=!0,showNoResultsText:h="No results"}){const f=l||(m=>m[o]),g=m=>{t(m),n(m[o])},d=({event:m,result:y})=>{m.button===0&&(m.preventDefault(),g(y))};return c?S(Q9,{children:me("li",{"data-test":"no-results-message",children:[r&&S(iS,{showIcon:!0}),S("div",{className:"ellipsis",children:h})]})}):(e==null?void 0:e.length)<=0&&!c?null:S(Q9,{children:e.slice(0,i).map((m,y)=>me("li",{className:s===y?"selected":"",onMouseEnter:()=>a({index:y}),"data-test":"result",onMouseDown:C=>d({event:C,result:m}),onClick:()=>g(m),children:[r&&S(iS,{showIcon:!0}),S("div",{className:"ellipsis",title:m[o],children:f(m)})]},`rsa-result-${m.id}`))})}const Q9=({children:e})=>me(vce,{children:[S("div",{className:"line"}),S("ul",{children:e})]}),vce=gd.div`
  > div.line {
    border-top-color: ${e=>e.theme.lineColor};
    border-top-style: solid;
    border-top-width: 1px;

    margin-bottom: 0px;
    margin-left: 14px;
    margin-right: 20px;
    margin-top: 0px;

    padding-bottom: 4px;
  }

  > ul {
    list-style-type: none;
    margin: 0;
    padding: 0px 0 16px 0;
    max-height: ${e=>e.theme.maxHeight};

    > li {
      display: flex;
      align-items: center;
      padding: 8px 0;
      cursor: pointer;

      > div {
        margin-left: 13px;
      }
    }
  }

  .ellipsis {
    text-align: left;
    width: 100%;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .selected {
    background-color: ${e=>e.theme.hoverBackgroundColor};
  }
`,yce=({showClear:e,setSearchString:t,searchString:n,setFocus:r,onClear:i})=>{const o=()=>{t({target:{value:""}}),r(),i()};return!e||!n||(n==null?void 0:n.length)<=0?null:S(Il,{onClick:o,css:{margin:cce().clearIconMargin},children:S(wce,{className:"clear-icon",children:S("svg",{width:12,height:12,focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:S("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.58 12 5 17.58 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})})},wce=gd.div`
  background-color: grey;
  border-radius: 50%;
  padding: 2px;
  &:hover {
    cursor: pointer;
  }

  > svg {
    fill: ${e=>e.theme.iconColor};
  }
`;function bce({searchString:e,setSearchString:t,setHighlightedItem:n,eraseResults:r,autoFocus:i,onFocus:o,onClear:s,placeholder:a,svgIcon:l,showIcon:c=!0,showClear:h=!0,maxLength:f}){const g=M.useRef(null);let d=!0;const m=()=>{d=!1,g!=null&&g.current&&g.current.focus(),d=!0};return me(xce,{children:[S(iS,{icon:l,showIcon:c}),S("input",{type:"text",ref:g,spellCheck:!1,value:e,onChange:t,onFocus:y=>{d&&o(y)},placeholder:a,autoFocus:i,onBlur:()=>r(),onKeyDown:y=>n({event:y}),"data-test":"search-input",...f?{maxLength:f}:{}}),S(yce,{showClear:h,setSearchString:t,searchString:e,onClear:s,setFocus:m})]})}const xce=gd.div`
  min-height: ${e=>e.theme.height};
  width: 100%;

  display: flex;
  align-items: center;

  > input {
    width: 100%;

    padding: 2px 0 0 13px;

    border: none;
    outline: none;

    background-color: rgba(0, 0, 0, 0);
    font-size: inherit;
    font-family: inherit;

    color: ${e=>e.theme.color};

    ::placeholder {
      color: ${e=>e.theme.placeholderColor};
      opacity: 1;

      :-ms-input-placeholder {
        color: ${e=>e.theme.placeholderColor};
      }

      ::-ms-input-placeholder {
        color: ${e=>e.theme.placeholderColor};
      }
    }
  }
`,Sce=200,Cce=10;function $g({items:e=[],inputDebounce:t=Sce,onSearch:n=()=>{},onHover:r=()=>{},onSelect:i=()=>{},onFocus:o=()=>{},onClear:s=()=>{},svgIcon:a,showIcon:l=!0,showClear:c=!0,maxResults:h=Cce,placeholder:f="",autoFocus:g=!1,styling:d={},resultStringKeyName:m="name",inputSearchString:y="",formatResult:C,showNoResults:x=!0,showNoResultsText:w="No results",showItemsOnFocus:E=!1,maxLength:N=0,className:_}){const D={...dce,...d},[P,I]=M.useState(y),[W,G]=M.useState([]),[O,z]=M.useState(-1),[U,$]=M.useState(!1),[ne,se]=M.useState(!1),[ae,Z]=M.useState(!1),[le,ue]=M.useState(!1);M.useEffect(()=>{I(y)},[y]),M.useEffect(()=>{G(e)},[e]),M.useEffect(()=>{x&&P.length>0&&!ne&&W.length===0&&!U?Z(!0):Z(!1)},[ne,x,U,P,W]),M.useEffect(()=>{E&&W.length===0&&P.length===0&&le&&G(e.slice(0,h))},[E,W,P,le]),M.useEffect(()=>{const xe=()=>{pe(),ue(!1)};return document.addEventListener("click",xe),()=>document.removeEventListener("click",xe)},[]);const ge=xe=>{o(xe),ue(!0)},F=xe=>{pe(),i(xe),I(xe[m]),z(0)},Q=xe=>{n(xe),se(!1)},re=Un.useCallback(t>0?pce(xe=>Q(xe),t):xe=>Q(xe),[e]),he=({target:xe})=>{const Ee=xe.value;I(Ee),re(Ee),se(!0),U&&$(!1)},pe=()=>{G([]),$(!0)},Se=({index:xe,event:Ee})=>{let Ge=-1;const Be=Ke=>{z(Ke),W!=null&&W[Ke]&&r(W[Ke])};if(xe!==void 0)z(xe),W!=null&&W[xe]&&r(W[xe]);else if(Ee)switch(Ee.key){case"Enter":W.length>0&&W[O]?(Ee.preventDefault(),i(W[O]),I(W[O][m]),n(W[O][m])):n(P),z(-1),pe();break;case"ArrowUp":Ee.preventDefault(),Ge=O>-1?O-1:W.length-1,Be(Ge);break;case"ArrowDown":Ee.preventDefault(),Ge=O<W.length-1?O+1:-1,Be(Ge);break}};return S(uce,{theme:D,children:S(kce,{className:_,children:me("div",{className:"wrapper",children:[S(bce,{searchString:P,setSearchString:he,eraseResults:pe,autoFocus:g,onFocus:ge,onClear:s,placeholder:f,svgIcon:a,showIcon:l,showClear:c,setHighlightedItem:Se,maxLength:N}),S(mce,{results:W,onClick:F,setSearchString:I,searchIcon:null,maxResults:h,resultStringKeyName:m,formatResult:C,highlightedItem:O,setHighlightedItem:Se,showNoResultsFlag:ae,showNoResultsText:w})]})})})}const kce=gd.div`
  position: relative;

  height: ${e=>parseInt(e.theme.height)+2+"px"};

  .wrapper {
    position: absolute;
    display: flex;
    flex-direction: column;
    width: 100%;

    border: ${e=>e.theme.border};
    border-radius: ${e=>e.theme.borderRadius};

    background-color: ${e=>e.theme.backgroundColor};
    color: ${e=>e.theme.color};

    font-size: ${e=>e.theme.fontSize};
    font-family: ${e=>e.theme.fontFamily};

    z-index: ${e=>e.theme.zIndex};

    &:hover {
      box-shadow: ${e=>e.theme.boxShadow};
    }
    &:active {
      box-shadow: ${e=>e.theme.boxShadow};
    }
    &:focus-within {
      box-shadow: ${e=>e.theme.boxShadow};
    }
  }
`,Ece=({onStartSearch:e})=>{var t;const{config:n}=Ot(),r=_r(),[i,o]=M.useState([]),s=async h=>{const f=await Wa.get(`${n.apis.url}${n.apis.textKeywordSuggestion}?kw=`+h);o((f==null?void 0:f.data)||[])},a=()=>{},l=h=>{e(h.name)},c=()=>{};return S($g,{items:i,placeholder:((t=n.placeholders)==null?void 0:t.searchText)||"Search texts",onSearch:s,onHover:a,onSelect:l,onClear:()=>e(""),onFocus:c,autoFocus:!r,styling:{zIndex:2}})},w4=Vl(jw)`
  background-color: #313334;
  color: #fff;
`,Ace=(e,t,n,r=18)=>({type:{resolvedName:"TextLayer"},props:{position:n,boxSize:t,scale:1,rotate:0,text:`<p style="text-align: center;font-family: 'Canva Sans Regular';font-size: ${r}px;color: rgb(0, 0, 0);line-height: 1.4;letter-spacing: normal;"><strong><span style="color: rgb(0, 0, 0);">${e}</span></strong></p>`,fonts:[{family:"Canva Sans",name:"Canva Sans Regular",url:"http://fonts.gstatic.com/s/alexandria/v3/UMBCrPdDqW66y0Y2usFeQCH18mulUxBvI9r7TqbCHJ8BRq0b.woff2",style:"regular",styles:[{family:"Canva Sans",name:"Canva Sans Bold 300",url:"http://fonts.gstatic.com/s/alexandria/v3/UMBCrPdDqW66y0Y2usFeQCH18mulUxBvI9qlTqbCHJ8BRq0b.woff2",style:"300"},{family:"Canva Sans",name:"Canva Sans Bold 500",url:"http://fonts.gstatic.com/s/alexandria/v3/UMBCrPdDqW66y0Y2usFeQCH18mulUxBvI9rJTqbCHJ8BRq0b.woff2",style:"500"}]}],colors:["rgb(0, 0, 0)"],fontSizes:[r],effect:null},locked:!1,child:[],parent:"ROOT"}),Nce=({onClose:e})=>{const{actions:t,state:n,config:r}=Ot(),[i,o]=M.useState([]),[s,a]=M.useState(!0),l=M.useRef(null),[c,h]=M.useState(0),f=M.useRef(!1),[g,d]=M.useState(""),m=_r(),y=M.useCallback(async(E=0,N="")=>{f.current=!0,a(!0);const _=await Wa.get(`${r.apis.url}${r.apis.searchTexts}?ps=6&pi=${E}&kw=${N}`);o(D=>[...D,..._.data]),a(!1),_.data.length>0&&(f.current=!1)},[a]);M.useEffect(()=>{y(c,g)},[c,g]),M.useEffect(()=>{var E;const N=async _=>{const D=_.target;D.scrollHeight-D.scrollTop-80<=D.clientHeight&&!f.current&&h(P=>P+1)};return(E=l.current)==null||E.addEventListener("scroll",N),()=>{var _;(_=l.current)==null||_.removeEventListener("scroll",N)}},[y]);const C=async E=>{l.current&&(l.current.scrollTop=0),h(0),d(E),o([])},x=E=>{t.addLayerTree(E),m&&e()},w=(E="Your text here!",N={width:309.91666666666606,height:28},_=18)=>{const D=pp(n.pageSize,{width:N.width,height:N.height}),P={},I=Q7();P[I]=Ace(E,N,D,_),t.addLayerTree({rootId:I,layers:P}),m&&e()};return me("div",{css:{width:"100%",height:"100%",flexDirection:"column",display:"flex",padding:16},children:[!m&&S(jg,{onClose:e}),S("div",{css:{marginBottom:16},children:S(Ece,{onStartSearch:C})}),S("div",{css:{marginBottom:16},children:S(jw,{onClick:()=>w(),text:"Add a text box",style:{width:"100%"}})}),me("div",{ref:l,css:{flexDirection:"column",overflowY:"auto",display:"flex"},children:[S("p",{css:{fontWeight:600,margin:"0 16px 16px 0"},children:"Default text styles"}),me("div",{css:{display:"flex",flexDirection:"column",rowGap:8},children:[S(w4,{onClick:()=>w("Add a heading",{width:400,height:70},45),text:"Add a heading",css:{fontSize:28,height:"auto",fontWeight:600,padding:"10px 6px"}}),S(w4,{onClick:()=>w("Add a subheading",{width:300,height:45},32),text:"Add a subheading",css:{fontSize:18,height:52,fontWeight:600}}),S(w4,{onClick:()=>w("Add a little bit of body text",{width:300,height:22},16),text:"Add a little bit of body text",css:{fontSize:14,height:48}})]}),S("p",{css:{fontWeight:600,margin:"16px 0"},children:"Font combinations"}),me("div",{css:{flexGrow:1,display:"grid",gridTemplateColumns:"repeat(2,minmax(0,1fr))",gridGap:8,padding:"16px"},children:[i.map(({img:E,data:N},_)=>S(Fw,{onDrop:D=>{D&&x(JSON.parse(N))},onClick:()=>{x(JSON.parse(N))},children:S("div",{css:{cursor:"pointer",position:"relative",paddingBottom:"100%",width:"100%"},children:S("img",{src:E,css:{position:"absolute",top:0,bottom:0,objectFit:"cover",margin:"auto"}})})},_)),s&&S("div",{children:"Loading..."})]})]})]})},Lce=({onStartSearch:e})=>{var t;const{config:n}=Ot(),r=_r(),[i,o]=M.useState([]),s=async h=>{const f=await Wa.get(`${n.apis.url}${n.apis.shapeKeywordSuggestion}?kw=`+h);o((f==null?void 0:f.data)||[])},a=()=>{},l=h=>{e(h.name)},c=()=>{};return S($g,{items:i,placeholder:((t=n.placeholders)==null?void 0:t.searchShape)||"Search shapes",onSearch:s,onHover:a,onSelect:l,onFocus:c,onClear:()=>e(""),autoFocus:!r,styling:{zIndex:2}})},_ce=({onClose:e})=>{const{actions:t,query:n,config:r}=Ot(),[i,o]=M.useState([]),[s,a]=M.useState(!0),l=M.useRef(null),[c,h]=M.useState(0),f=M.useRef(!1),[g,d]=M.useState(""),m=_r(),y=M.useCallback(async(w=0,E="")=>{f.current=!0,a(!0);const N=await Wa.get(`${r.apis.url}${r.apis.searchShapes}?ps=40&pi=${w}&kw=${E}`);o(_=>[..._,...N.data]),a(!1),N.data.length>0&&(f.current=!1)},[a]);M.useEffect(()=>{y(c,g)},[c,g]),M.useEffect(()=>{var w;const E=async N=>{const _=N.target;_.scrollHeight-_.scrollTop-80<=_.clientHeight&&!f.current&&h(D=>D+1)};return(w=l.current)==null||w.addEventListener("scroll",E),()=>{var N;(N=l.current)==null||N.removeEventListener("scroll",E)}},[y]);const C=async w=>{l.current&&(l.current.scrollTop=0),h(0),d(w),o([])},x=(w,E)=>{const N=n.getPageSize(),_=N.width/N.height,D=w.width/w.height,P=_>D?N.height*.5/w.height:N.width*.5/w.width;t.addShapeLayer({type:{resolvedName:"ShapeLayer"},props:{position:E,boxSize:{width:w.width*P,height:w.height*P},rotate:0,clipPath:w.clipPath,scale:P,color:w.background,shapeSize:{width:w.width,height:w.height}}}),m&&e()};return me("div",{css:{width:"100%",height:"100%",flexDirection:"column",overflowY:"auto",display:"flex",padding:16},children:[!m&&S(jg,{onClose:e}),S("div",{css:{marginBottom:16},children:S(Lce,{onStartSearch:C})}),S("div",{css:{flexDirection:"column",overflowY:"auto",display:"flex"},children:me("div",{ref:l,css:{flexGrow:1,overflowY:"auto",display:"grid",gridTemplateColumns:"repeat(4,minmax(0,1fr))",gridGap:8},children:[i.map((w,E)=>S(Fw,{onDrop:N=>{N&&x(w,N)},onClick:()=>{x(w)},children:me("div",{css:{cursor:"pointer",position:"relative"},children:[S("div",{css:{paddingBottom:"100%"}}),S("div",{css:{position:"absolute",top:0,left:0,height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:S("img",{src:w.img,css:{maxHeight:"100%",maxWidth:"100%"}})})]})},E)),s&&S("div",{children:"Loading..."})]})})]})},Oce=({searchString:e,onStartSearch:t})=>{var n;const{config:r}=Ot(),i=_r(),[o,s]=M.useState([]),a=async f=>{const g=await Wa.get(`${r.apis.url}${r.apis.imageKeywordSuggestion}?kw=`+f);s((g==null?void 0:g.data)||[])},l=()=>{},c=f=>{t(f.name)},h=()=>{};return S($g,{items:o,inputSearchString:e,placeholder:((n=r.placeholders)==null?void 0:n.searchImage)||"Search photos",onSearch:a,onHover:l,onSelect:c,onFocus:h,onClear:()=>t(""),autoFocus:!i,styling:{zIndex:2}})},D8=({children:e})=>{const t=M.useRef(null),[n,r]=M.useState(!1),[i,o]=M.useState(!1),[s,a]=M.useState(0),l=()=>{t.current&&(t.current.scrollLeft-=200)},c=()=>{t.current&&(t.current.scrollLeft+=200)},h=()=>{if(t.current){const f=t.current.scrollLeft>0,g=t.current.scrollLeft+t.current.clientWidth<t.current.scrollWidth,d=t.current.scrollWidth>t.current.clientWidth;r(f&&d),o(g&&d)}};return M.useEffect(()=>(h(),t.current&&(a(t.current.scrollHeight),t.current.addEventListener("scroll",h)),()=>{t.current&&t.current.removeEventListener("scroll",h)}),[]),me("div",{className:"horizontal-carousel",children:[S("div",{className:"carousel-container",ref:t,children:e}),n&&S("button",{className:"arrow left",onClick:l,css:{height:s},children:S(o8,{})}),i&&S("button",{className:"arrow right",onClick:c,css:{height:s},children:S(Q0,{})})]})},I8=Un.forwardRef(({icon:e,onClick:t,children:n,...r},i)=>S(jw,{ref:i,icon:e,onClick:t,style:{backgroundColor:"#fff",color:"#000",":hover":{backgroundColor:"rgba(64,87,109,.07)"}},...r,children:n})),Pce=({onClose:e})=>{const[t,n]=M.useState([]),[r,i]=M.useState(!0),{actions:o,config:s}=Ot(),a=M.useRef(null),[l,c]=M.useState(0),h=M.useRef(!1),[f,g]=M.useState(""),d=_r(),m=M.useCallback(async(x=0,w="")=>{h.current=!0,i(!0);const E=await Wa.get(`${s.apis.url}${s.apis.searchImages}?ps=18&pi=${x}&kw=${w}`);n(N=>[...N,...E.data]),i(!1),E.data.length>0&&(h.current=!1)},[i]);M.useEffect(()=>{m(l,f)},[l,f]),M.useEffect(()=>{var x;const w=async E=>{const N=E.target;N.scrollHeight-N.scrollTop-80<=N.clientHeight&&!h.current&&c(_=>_+1)};return(x=a.current)==null||x.addEventListener("scroll",w),()=>{var E;(E=a.current)==null||E.removeEventListener("scroll",w)}},[m]);const y=async x=>{a.current&&(a.current.scrollTop=0),c(0),g(x),n([])},C=async(x,w,E)=>{const N=new Image;N.onerror=_=>{console.error(_)},N.src=w,N.crossOrigin="anonymous",N.onload=()=>{o.addImageLayer({thumb:x,url:w,position:E},{width:N.naturalWidth,height:N.naturalHeight}),d&&e()}};return me("div",{css:{width:"100%",height:"100%",flexDirection:"column",overflowY:"auto",display:"flex",padding:16},children:[!d&&S(jg,{onClose:e}),me("div",{children:[S(Oce,{searchString:f,onStartSearch:y}),S("div",{css:{paddingTop:8},children:S(D8,{children:s.imageKeywordSuggestions&&s.imageKeywordSuggestions.split(",").map(x=>S("div",{className:"carousel-item",children:S(I8,{onClick:()=>{g(x),y(x)},children:x})},x))})})]}),S("div",{css:{flexDirection:"column",overflowY:"auto",display:"flex"},children:me("div",{ref:a,css:{flexGrow:1,overflowY:"auto",display:"grid",gridTemplateColumns:"repeat(3,minmax(0,1fr))",gridGap:8},children:[t.map((x,w)=>S(Fw,{onDrop:E=>{E&&C(x.img,x.img,E)},onClick:()=>{C(x.img,x.img)},children:S("div",{css:{cursor:"pointer",position:"relative",paddingBottom:"100%",width:"100%"},children:S("img",{src:x.img,loading:"lazy",css:{position:"absolute",top:0,left:0,height:"100%",width:"100%",objectFit:"cover"}})})},w)),r&&S("div",{children:"Loading..."})]})})]})},Tce=({visibility:e,onClose:t})=>{const n=M.useRef(null),{actions:r}=Ot(),i=_r(),[o,s]=M.useState([]),a=async l=>{const c=new Image;c.onerror=h=>window.alert(h),c.src=l,c.crossOrigin="anonymous",c.onload=()=>{r.addImageLayer({url:l,thumb:l},{width:c.naturalWidth,height:c.naturalHeight}),i&&t()}};return me("div",{css:{width:"100%",height:"100%",flexDirection:"column",overflowY:"auto",display:e?"flex":"none"},children:[!i&&S(jg,{onClose:t}),S("div",{css:{margin:16},children:S(jw,{css:{width:"100%"},onClick:()=>{var l;return(l=n.current)==null?void 0:l.click()},children:"Upload"})}),S("input",{ref:n,type:"file",accept:"image/*",css:{display:"none"},onChange:l=>{const c=l.target.files&&l.target.files[0];if(c){const h=new FileReader;h.onloadend=()=>{s(f=>f.concat([{url:h.result,type:"image"}]))},h.readAsDataURL(c)}}}),S("div",{css:{padding:"16px"},children:S("div",{css:{flexGrow:1,overflowY:"auto",display:"grid",gridTemplateColumns:"repeat(2,minmax(0,1fr))",gridGap:8},children:o.map((l,c)=>me("div",{css:{cursor:"pointer",position:"relative"},onClick:()=>a(l.url),children:[S("div",{css:{paddingBottom:"100%",height:0}}),S("div",{css:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center"},children:S("img",{src:l.url,loading:"lazy",css:{maxHeight:"100%"}})})]},c))})})]})},Mce=({searchString:e,onStartSearch:t})=>{var n;const{config:r}=Ot(),i=_r(),[o,s]=M.useState([]),a=async f=>{const g=await Wa.get(`${r.apis.url}${r.apis.templateKeywordSuggestion}?kw=`+f);s((g==null?void 0:g.data)||[])},l=()=>{},c=f=>{t(f.name)},h=()=>{};return S($g,{items:o,inputSearchString:e,placeholder:((n=r.placeholders)==null?void 0:n.searchTemplate)||"Search templates",onSearch:a,onHover:l,onSelect:c,onFocus:h,onClear:()=>t(""),autoFocus:!i,styling:{zIndex:2}})},Rce=({onClose:e})=>{const[t,n]=M.useState([]),[r,i]=M.useState(!0),{actions:o,activePage:s,config:a}=Ot((w,E)=>({config:E,activePage:w.activePage})),l=M.useRef(null),[c,h]=M.useState(0),f=M.useRef(!1),[g,d]=M.useState(""),m=_r(),y=M.useCallback(async(w=0,E="")=>{f.current=!0,i(!0);const N=await Wa.get(`${a.apis.url}${a.apis.searchTemplates}?ps=18&pi=${w}&kw=${E}`);n(_=>[..._,...N.data]),i(!1),N.data.length>0&&(f.current=!1)},[i]);M.useEffect(()=>{y(c,g)},[c,g]),M.useEffect(()=>{var w;const E=async N=>{const _=N.target;_.scrollHeight-_.scrollTop-80<=_.clientHeight&&!f.current&&h(D=>D+1)};return(w=l.current)==null||w.addEventListener("scroll",E),()=>{var N;(N=l.current)==null||N.removeEventListener("scroll",E)}},[y]);const C=async w=>{l.current&&(l.current.scrollTop=0),h(0),d(w),n([])},x=async w=>{try{if(Array.isArray(w))w.forEach((E,N)=>{const _=xg(E);o.changePageSize(_.layers.ROOT.props.boxSize),o.setPage(s+N,_)});else{const E=xg(w);o.changePageSize(E.layers.ROOT.props.boxSize),o.setPage(s,E)}}catch(E){console.warn("Something went wrong!"),console.log(E)}m&&e()};return me("div",{css:{width:"100%",height:"100%",flexDirection:"column",overflowY:"auto",display:"flex",padding:16},children:[!m&&S(jg,{onClose:e}),me("div",{children:[S(Mce,{searchString:g,onStartSearch:C}),S("div",{css:{paddingTop:8},children:S(D8,{children:a.templateKeywordSuggestions&&a.templateKeywordSuggestions.split(",").map(w=>S("div",{className:"carousel-item",children:S(I8,{onClick:()=>{d(w),C(w)},children:w})},w))})})]}),S("div",{css:{flexDirection:"column",overflowY:"auto",display:"flex"},children:me("div",{ref:l,css:{flexGrow:1,overflowY:"auto",display:"grid",gridTemplateColumns:"repeat(2,minmax(0,1fr))",gridGap:8},children:[t.map((w,E)=>me("div",{css:{cursor:"pointer",position:"relative"},onClick:()=>x(JSON.parse(w.data)),children:[S("img",{src:w.img,loading:"lazy"}),w.pages>1&&S("span",{css:{position:"absolute",bottom:5,right:5,backgroundColor:"rgba(17,23,29,.6)",padding:"1px 6px",borderRadius:6,color:"#fff",fontSize:10},children:w.pages})]},E)),r&&S("div",{children:"Loading..."})]})})]})},Dce=({onStartSearch:e})=>{var t;const{config:n}=Ot(),r=_r(),[i,o]=M.useState([]),s=async h=>{const f=await Wa.get(`${n.apis.url}${n.apis.frameKeywordSuggestion}?kw=`+h);o((f==null?void 0:f.data)||[])},a=()=>{},l=h=>{e(h.name)},c=()=>{};return S($g,{items:i,placeholder:((t=n.placeholders)==null?void 0:t.searchFrame)||"Search frames",onSearch:s,onHover:a,onSelect:l,onClear:()=>e(""),onFocus:c,autoFocus:!r,styling:{zIndex:2}})},Ice=({onClose:e})=>{const[t,n]=M.useState([]),[r,i]=M.useState(!0),{actions:o,query:s,config:a}=Ot(),l=M.useRef(null),[c,h]=M.useState(0),f=M.useRef(!1),[g,d]=M.useState(""),m=_r(),y=M.useCallback(async(w=0,E="")=>{f.current=!0,i(!0);const N=await Wa.get(`${a.apis.url}${a.apis.searchFrames}?ps=18&pi=${w}&kw=${E}`);n(_=>[..._,...N.data]),i(!1),N.data.length>0&&(f.current=!1)},[i]);M.useEffect(()=>{y(c,g)},[c,g]),M.useEffect(()=>{var w;const E=async N=>{const _=N.target;_.scrollHeight-_.scrollTop-80<=_.clientHeight&&!f.current&&h(D=>D+1)};return(w=l.current)==null||w.addEventListener("scroll",E),()=>{var N;(N=l.current)==null||N.removeEventListener("scroll",E)}},[y]);const C=async w=>{l.current&&(l.current.scrollTop=0),h(0),d(w),n([])},x=async(w,E)=>{const N=s.getPageSize(),_=N.width/N.height,D=w.width/w.height,P=_>D?N.height*.5/w.height:N.width*.5/w.width;o.addFrameLayer({type:{resolvedName:"FrameLayer"},props:{position:E,boxSize:{width:w.width*P,height:w.height*P},rotate:0,clipPath:`path("${w.clipPath}")`,scale:P,image:{boxSize:{width:w.width,height:w.height},position:{x:0,y:0},rotate:0,thumb:w.img,url:w.img}}}),m&&e()};return me("div",{css:{width:"100%",height:"100%",flexDirection:"column",overflowY:"auto",display:"flex",padding:16},children:[!m&&S(jg,{onClose:e}),S("div",{css:{marginBottom:16},children:S(Dce,{onStartSearch:C})}),S("div",{css:{flexDirection:"column",overflowY:"auto",display:"flex"},children:me("div",{ref:l,css:{flexGrow:1,overflowY:"auto",display:"grid",gridTemplateColumns:"repeat(3,minmax(0,1fr))",gridGap:8},children:[t.map((w,E)=>S(Fw,{onDrop:N=>{N&&x(w,N)},onClick:()=>{x(w)},children:me("div",{css:{cursor:"pointer",position:"relative"},children:[S("div",{css:{paddingBottom:"100%"}}),S("div",{css:{position:"absolute",top:0,left:0,height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:S("img",{src:w.img,css:{maxHeight:"100%",maxWidth:"100%"}})})]})},E)),r&&S("div",{children:"Loading..."})]})})]})},zce=({className:e=""})=>S("svg",{className:e,width:"24",height:"24",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:S("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.333 4H6.667A2.667 2.667 0 0 0 4 6.667v18.666A2.667 2.667 0 0 0 6.667 28h18.666A2.667 2.667 0 0 0 28 25.333V6.667A2.667 2.667 0 0 0 25.333 4ZM6 6.667C6 6.298 6.298 6 6.667 6h10.666v20H6.667A.667.667 0 0 1 6 25.333V6.667Zm13.333 6.666V6h6c.369 0 .667.298.667.667v6.666h-6.667Zm0 2V26h6a.667.667 0 0 0 .667-.667v-10h-6.667Z",fill:"currentColor"})}),Fce=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",fillRule:"evenodd",d:"M18 5.5h-5.25V18c0 .28.22.5.5.5h2a.75.75 0 1 1 0 1.5h-6.5a.75.75 0 1 1 0-1.5h2a.5.5 0 0 0 .5-.5V5.5H6a.5.5 0 0 0-.5.5v1.25a.75.75 0 0 1-1.5 0V5.5C4 4.67 4.67 4 5.5 4h13c.83 0 1.5.67 1.5 1.5v1.75a.75.75 0 1 1-1.5 0V6a.5.5 0 0 0-.5-.5z"})}),jce=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round",d:"m6.5 4.25.75-.75a2.121 2.121 0 0 1 3 3L6.5 10.25 2.75 6.5a2.121 2.121 0 0 1 3-3l.75.75zm7 6 4-7.5 4 7.5h-8zm-10.75 3.5h7.5v7.5h-7.5v-7.5zm14.75-.25a4 4 0 1 0 0 8 4 4 0 0 0 0-8z"})}),Bce=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 32 32",children:S("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.334 4H6.666A2.667 2.667 0 0 0 4 6.666v18.668A2.67 2.67 0 0 0 6.666 28h18.668A2.667 2.667 0 0 0 28 25.334V6.666A2.667 2.667 0 0 0 25.334 4ZM6.666 26h9.994l-4.878-6.608a.666.666 0 0 0-1.074.004L6.116 25.71c.12.174.32.29.55.29Zm18.668 0a.668.668 0 0 0 .666-.666v-3.63l-4.914-6.588a.666.666 0 0 0-1.072.004l-4.44 6.04 3.57 4.84h6.19Zm-2.646-12.08L26 18.36V6.666A.666.666 0 0 0 25.334 6H6.666A.666.666 0 0 0 6 6.666v15.802l3.09-4.248a2.666 2.666 0 0 1 4.302-.014l.938 1.27 4.07-5.54a2.666 2.666 0 0 1 4.288-.016ZM9.334 11.334a2 2 0 1 0 4 0 2 2 0 0 0-4 0Z",fill:"currentColor"})}),$ce=({placeholder:e="Notes will be displayed in Presenter View",charLimit:t=5e3})=>{const{activePage:n,pageName:r,notes:i,actions:o}=Ot(l=>{const c=l.pages[l.activePage];return{activePage:l.activePage,pageName:c.name,notes:c.notes}}),s=l=>{const c=l.target.value;if(c.length<=t)o.setPageNotes(n,c);else{const h=c.slice(0,t);o.setPageNotes(n,h)}},a=i.length;return me("div",{css:{width:"100%",height:"100%",flexDirection:"column",overflowY:"auto",display:"flex"},children:[S("div",{css:{display:"flex",height:50,borderBottom:"1px solid rgba(57,76,96,.15)",padding:"0 20px"},children:me("div",{css:{fontWeight:600,color:"rgba(13,18,22,.7)",flexGrow:1,display:"flex",marginTop:16},children:["Page ",n+1," -",S(bw,{text:r,placeholder:"Add page title",onSetText:l=>{o.setPageName(n,l)}})]})}),me("div",{css:{height:"calc(100% - 98px)"},children:[S("textarea",{value:i,onChange:s,placeholder:e,css:{width:"100%",height:"100%",padding:"24px 24px 0",fontSize:18}}),me("p",{css:{padding:"12px 24px",textAlign:"right"},children:[a," / ",t]})]})]})},Vce=({className:e=""})=>S("svg",{className:e,height:"20",width:"20",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 42.621 42.621",xmlSpace:"preserve",children:me("g",{children:[S("path",{fill:"currentColor",d:`M0,7.698v31.787h38.061c2.516,0,4.56-2.043,4.56-4.562V3.136H4.563C2.041,3.136,0,5.179,0,7.698z
		 M8.625,7.484h29.934v23.092c0,2.519-2.045,4.561-4.561,4.561H4.065V12.046C4.065,9.526,6.104,7.484,8.625,7.484z`}),S("circle",{fill:"currentColor",cx:"21.311",cy:"14.79",r:"3.991"}),S("path",{fill:"currentColor",d:`M9.207,33.463h23.092c1.258,0,2.279-0.628,2.279-1.401v-1.4l-5.006-9.849
		c-0.961-2.33-2.906-2.539-4.342-0.468l-5.381,7.75l-5.875-4.151c-2.057-1.454-4.285-0.668-4.979,1.753l-2.07,4.965
		c0,0,0,0.626,0,1.4C6.926,32.835,7.948,33.463,9.207,33.463z`})]})}),z8=M.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Hw=M.createContext({}),Gw=M.createContext(null),Kw=typeof document<"u",Yw=Kw?M.useLayoutEffect:M.useEffect,uz=M.createContext({strict:!1});function Uce(e,t,n,r){const{visualElement:i}=M.useContext(Hw),o=M.useContext(uz),s=M.useContext(Gw),a=M.useContext(z8).reducedMotion,l=M.useRef();r=r||o.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;M.useInsertionEffect(()=>{c&&c.update(n,s)});const h=M.useRef(!!window.HandoffAppearAnimations);return Yw(()=>{c&&(c.render(),h.current&&c.animationState&&c.animationState.animateChanges())}),M.useEffect(()=>{c&&(c.updateFeatures(),!h.current&&c.animationState&&c.animationState.animateChanges(),window.HandoffAppearAnimations=!1,h.current=!1)}),c}function Tp(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function qce(e,t,n){return M.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Tp(n)&&(n.current=r))},[t])}function h2(e){return typeof e=="string"||Array.isArray(e)}function Jw(e){return typeof e=="object"&&typeof e.start=="function"}const F8=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],j8=["initial",...F8];function Xw(e){return Jw(e.animate)||j8.some(t=>h2(e[t]))}function hz(e){return!!(Xw(e)||e.variants)}function Wce(e,t){if(Xw(e)){const{initial:n,animate:r}=e;return{initial:n===!1||h2(n)?n:void 0,animate:h2(r)?r:void 0}}return e.inherit!==!1?t:{}}function Hce(e){const{initial:t,animate:n}=Wce(e,M.useContext(Hw));return M.useMemo(()=>({initial:t,animate:n}),[Z9(t),Z9(n)])}function Z9(e){return Array.isArray(e)?e.join(" "):e}const eL={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},f2={};for(const e in eL)f2[e]={isEnabled:t=>eL[e].some(n=>!!t[n])};function Gce(e){for(const t in e)f2[t]={...f2[t],...e[t]}}const B8=M.createContext({}),fz=M.createContext({}),Kce=Symbol.for("motionComponentSymbol");function Yce({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&Gce(e);function o(a,l){let c;const h={...M.useContext(z8),...a,layoutId:Jce(a)},{isStatic:f}=h,g=Hce(a),d=r(a,f);if(!f&&Kw){g.visualElement=Uce(i,d,h,t);const m=M.useContext(fz),y=M.useContext(uz).strict;g.visualElement&&(c=g.visualElement.loadFeatures(h,y,e,m))}return M.createElement(Hw.Provider,{value:g},c&&g.visualElement?M.createElement(c,{visualElement:g.visualElement,...h}):null,n(i,a,qce(d,g.visualElement,l),d,f,g.visualElement))}const s=M.forwardRef(o);return s[Kce]=i,s}function Jce({layoutId:e}){const t=M.useContext(B8).id;return t&&e!==void 0?t+"-"+e:e}function Xce(e){function t(r,i={}){return Yce(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const Qce=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $8(e){return typeof e!="string"||e.includes("-")?!1:!!(Qce.indexOf(e)>-1||/[A-Z]/.test(e))}const gy={};function Zce(e){Object.assign(gy,e)}const $2=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],md=new Set($2);function dz(e,{layout:t,layoutId:n}){return md.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!gy[e]||e==="opacity")}const ss=e=>!!(e&&e.getVelocity),eue={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tue=$2.length;function nue(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let o="";for(let s=0;s<tue;s++){const a=$2[s];if(e[a]!==void 0){const l=eue[a]||a;o+=`${l}(${e[a]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(e,r?"":o):n&&r&&(o="none"),o}const pz=e=>t=>typeof t=="string"&&t.startsWith(e),gz=pz("--"),oS=pz("var(--"),rue=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,iue=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Sh=(e,t,n)=>Math.min(Math.max(n,e),t),vd={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},p0={...vd,transform:e=>Sh(0,1,e)},fv={...vd,default:1},g0=e=>Math.round(e*1e5)/1e5,Qw=/(-)?([\d]*\.?[\d])+/g,mz=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,oue=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function V2(e){return typeof e=="string"}const U2=e=>({test:t=>V2(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Iu=U2("deg"),Fl=U2("%"),$t=U2("px"),sue=U2("vh"),aue=U2("vw"),tL={...Fl,parse:e=>Fl.parse(e)/100,transform:e=>Fl.transform(e*100)},nL={...vd,transform:Math.round},vz={borderWidth:$t,borderTopWidth:$t,borderRightWidth:$t,borderBottomWidth:$t,borderLeftWidth:$t,borderRadius:$t,radius:$t,borderTopLeftRadius:$t,borderTopRightRadius:$t,borderBottomRightRadius:$t,borderBottomLeftRadius:$t,width:$t,maxWidth:$t,height:$t,maxHeight:$t,size:$t,top:$t,right:$t,bottom:$t,left:$t,padding:$t,paddingTop:$t,paddingRight:$t,paddingBottom:$t,paddingLeft:$t,margin:$t,marginTop:$t,marginRight:$t,marginBottom:$t,marginLeft:$t,rotate:Iu,rotateX:Iu,rotateY:Iu,rotateZ:Iu,scale:fv,scaleX:fv,scaleY:fv,scaleZ:fv,skew:Iu,skewX:Iu,skewY:Iu,distance:$t,translateX:$t,translateY:$t,translateZ:$t,x:$t,y:$t,z:$t,perspective:$t,transformPerspective:$t,opacity:p0,originX:tL,originY:tL,originZ:$t,zIndex:nL,fillOpacity:p0,strokeOpacity:p0,numOctaves:nL};function V8(e,t,n,r){const{style:i,vars:o,transform:s,transformOrigin:a}=e;let l=!1,c=!1,h=!0;for(const f in t){const g=t[f];if(gz(f)){o[f]=g;continue}const d=vz[f],m=iue(g,d);if(md.has(f)){if(l=!0,s[f]=m,!h)continue;g!==(d.default||0)&&(h=!1)}else f.startsWith("origin")?(c=!0,a[f]=m):i[f]=m}if(t.transform||(l||r?i.transform=nue(e.transform,n,h,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:g="50%",originZ:d=0}=a;i.transformOrigin=`${f} ${g} ${d}`}}const U8=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yz(e,t,n){for(const r in t)!ss(t[r])&&!dz(r,n)&&(e[r]=t[r])}function lue({transformTemplate:e},t,n){return M.useMemo(()=>{const r=U8();return V8(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function cue(e,t,n){const r=e.style||{},i={};return yz(i,r,e),Object.assign(i,lue(e,t,n)),e.transformValues?e.transformValues(i):i}function uue(e,t,n){const r={},i=cue(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const hue=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function my(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||hue.has(e)}let wz=e=>!my(e);function fue(e){e&&(wz=t=>t.startsWith("on")?!my(t):e(t))}try{fue(require("@emotion/is-prop-valid").default)}catch{}function due(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(wz(i)||n===!0&&my(i)||!t&&!my(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function rL(e,t,n){return typeof e=="string"?e:$t.transform(t+n*e)}function pue(e,t,n){const r=rL(t,e.x,e.width),i=rL(n,e.y,e.height);return`${r} ${i}`}const gue={offset:"stroke-dashoffset",array:"stroke-dasharray"},mue={offset:"strokeDashoffset",array:"strokeDasharray"};function vue(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?gue:mue;e[o.offset]=$t.transform(-r);const s=$t.transform(t),a=$t.transform(n);e[o.array]=`${s} ${a}`}function q8(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},h,f,g){if(V8(e,c,h,g),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:m,dimensions:y}=e;d.transform&&(y&&(m.transform=d.transform),delete d.transform),y&&(i!==void 0||o!==void 0||m.transform)&&(m.transformOrigin=pue(y,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),s!==void 0&&vue(d,s,a,l,!1)}const bz=()=>({...U8(),attrs:{}}),W8=e=>typeof e=="string"&&e.toLowerCase()==="svg";function yue(e,t,n,r){const i=M.useMemo(()=>{const o=bz();return q8(o,t,{enableHardwareAcceleration:!1},W8(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};yz(o,e.style,e),i.style={...o,...i.style}}return i}function wue(e=!1){return(t,n,r,{latestValues:i},o)=>{const s=($8(t)?yue:uue)(n,i,o,t),a={...due(n,typeof t=="string",e),...s,ref:r},{children:l}=n,c=M.useMemo(()=>ss(l)?l.get():l,[l]);return M.createElement(t,{...a,children:c})}}const H8=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function xz(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const Sz=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Cz(e,t,n,r){xz(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Sz.has(i)?i:H8(i),t.attrs[i])}function G8(e,t){const{style:n}=e,r={};for(const i in n)(ss(n[i])||t.style&&ss(t.style[i])||dz(i,e))&&(r[i]=n[i]);return r}function kz(e,t){const n=G8(e,t);for(const r in e)if(ss(e[r])||ss(t[r])){const i=$2.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function K8(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function q2(e){const t=M.useRef(null);return t.current===null&&(t.current=e()),t.current}const vy=e=>Array.isArray(e),bue=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),xue=e=>vy(e)?e[e.length-1]||0:e;function n5(e){const t=ss(e)?e.get():e;return bue(t)?t.toValue():t}function Sue({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,o){const s={latestValues:Cue(r,i,o,e),renderState:t()};return n&&(s.mount=a=>n(r,a,s)),s}const Ez=e=>(t,n)=>{const r=M.useContext(Hw),i=M.useContext(Gw),o=()=>Sue(e,t,r,i);return n?o():q2(o)};function Cue(e,t,n,r){const i={},o=r(e,{});for(const g in o)i[g]=n5(o[g]);let{initial:s,animate:a}=e;const l=Xw(e),c=hz(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let h=n?n.initial===!1:!1;h=h||s===!1;const f=h?a:s;return f&&typeof f!="boolean"&&!Jw(f)&&(Array.isArray(f)?f:[f]).forEach(g=>{const d=K8(e,g);if(!d)return;const{transitionEnd:m,transition:y,...C}=d;for(const x in C){let w=C[x];if(Array.isArray(w)){const E=h?w.length-1:0;w=w[E]}w!==null&&(i[x]=w)}for(const x in m)i[x]=m[x]}),i}const Kr=e=>e;class iL{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function kue(e){let t=new iL,n=new iL,r=0,i=!1,o=!1;const s=new WeakSet,a={schedule:(l,c=!1,h=!1)=>{const f=h&&i,g=f?t:n;return c&&s.add(l),g.add(l)&&f&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){o=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let c=0;c<r;c++){const h=t.order[c];h(l),s.has(h)&&(a.schedule(h),e())}i=!1,o&&(o=!1,a.process(l))}};return a}const dv=["prepare","read","update","preRender","render","postRender"],Eue=40;function Aue(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=dv.reduce((c,h)=>(c[h]=kue(()=>n=!0),c),{}),s=c=>o[c].process(i),a=()=>{const c=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(c-i.timestamp,Eue),1),i.timestamp=c,i.isProcessing=!0,dv.forEach(s),i.isProcessing=!1,n&&t&&(r=!1,e(a))},l=()=>{n=!0,r=!0,i.isProcessing||e(a)};return{schedule:dv.reduce((c,h)=>{const f=o[h];return c[h]=(g,d=!1,m=!1)=>(n||l(),f.schedule(g,d,m)),c},{}),cancel:c=>dv.forEach(h=>o[h].cancel(c)),state:i,steps:o}}const{schedule:or,cancel:Rc,state:bi,steps:b4}=Aue(typeof requestAnimationFrame<"u"?requestAnimationFrame:Kr,!0),Nue={useVisualState:Ez({scrapeMotionValuesFromProps:kz,createRenderState:bz,onMount:(e,t,{renderState:n,latestValues:r})=>{or.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),or.render(()=>{q8(n,r,{enableHardwareAcceleration:!1},W8(t.tagName),e.transformTemplate),Cz(t,n)})}})},Lue={useVisualState:Ez({scrapeMotionValuesFromProps:G8,createRenderState:U8})};function _ue(e,{forwardMotionProps:t=!1},n,r){return{...$8(e)?Nue:Lue,preloadedFeatures:n,useRender:wue(t),createVisualElement:r,Component:e}}function xc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Az=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Zw(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Oue=e=>t=>Az(t)&&e(t,Zw(t));function Ec(e,t,n,r){return xc(e,t,Oue(n),r)}const Pue=(e,t)=>n=>t(e(n)),fh=(...e)=>e.reduce(Pue);function Nz(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const oL=Nz("dragHorizontal"),sL=Nz("dragVertical");function Lz(e){let t=!1;if(e==="y")t=sL();else if(e==="x")t=oL();else{const n=oL(),r=sL();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function _z(){const e=Lz(!0);return e?(e(),!1):!0}class Ph{constructor(t){this.isMounted=!1,this.node=t}update(){}}function aL(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(o,s)=>{if(o.type==="touch"||_z())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&or.update(()=>a[r](o,s))};return Ec(e.current,n,i,{passive:!e.getProps()[r]})}class Tue extends Ph{mount(){this.unmount=fh(aL(this.node,!0),aL(this.node,!1))}unmount(){}}class Mue extends Ph{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fh(xc(this.node.current,"focus",()=>this.onFocus()),xc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Oz=(e,t)=>t?e===t?!0:Oz(e,t.parentElement):!1;function x4(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Zw(n))}class Rue extends Ph{constructor(){super(...arguments),this.removeStartListeners=Kr,this.removeEndListeners=Kr,this.removeAccessibleListeners=Kr,this.startPointerPress=(t,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),i=Ec(window,"pointerup",(s,a)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:c}=this.node.getProps();or.update(()=>{Oz(this.node.current,s.target)?l&&l(s,a):c&&c(s,a)})},{passive:!(r.onTap||r.onPointerUp)}),o=Ec(window,"pointercancel",(s,a)=>this.cancelPress(s,a),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=fh(i,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||x4("up",(l,c)=>{const{onTap:h}=this.node.getProps();h&&or.update(()=>h(l,c))})};this.removeEndListeners(),this.removeEndListeners=xc(this.node.current,"keyup",s),x4("down",(a,l)=>{this.startPress(a,l)})},n=xc(this.node.current,"keydown",t),r=()=>{this.isPressing&&x4("cancel",(o,s)=>this.cancelPress(o,s))},i=xc(this.node.current,"blur",r);this.removeAccessibleListeners=fh(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&or.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!_z()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&or.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Ec(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=xc(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=fh(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const sS=new WeakMap,S4=new WeakMap,Due=e=>{const t=sS.get(e.target);t&&t(e)},Iue=e=>{e.forEach(Due)};function zue({root:e,...t}){const n=e||document;S4.has(n)||S4.set(n,{});const r=S4.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Iue,{root:e,...t})),r[i]}function Fue(e,t,n){const r=zue(t);return sS.set(e,n),r.observe(e),()=>{sS.delete(e),r.unobserve(e)}}const jue={some:0,all:1};class Bue extends Ph{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:jue[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),g=c?h:f;g&&g(l)};return Fue(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some($ue(t,n))&&this.startObserver()}unmount(){}}function $ue({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Vue={inView:{Feature:Bue},tap:{Feature:Rue},focus:{Feature:Mue},hover:{Feature:Tue}};function Pz(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Uue(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function que(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function eb(e,t,n){const r=e.getProps();return K8(r,t,n!==void 0?n:r.custom,Uue(e),que(e))}const Wue="framerAppearId",Hue="data-"+H8(Wue);let yy=Kr;const qf=e=>e*1e3,Ac=e=>e/1e3,Gue={current:!1},Tz=e=>Array.isArray(e)&&typeof e[0]=="number";function Mz(e){return!!(!e||typeof e=="string"&&Rz[e]||Tz(e)||Array.isArray(e)&&e.every(Mz))}const Gm=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Rz={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gm([0,.65,.55,1]),circOut:Gm([.55,0,1,.45]),backIn:Gm([.31,.01,.66,-.59]),backOut:Gm([.33,1.53,.69,.99])};function Dz(e){if(e)return Tz(e)?Gm(e):Array.isArray(e)?e.map(Dz):Rz[e]}function Kue(e,t,n,{delay:r=0,duration:i,repeat:o=0,repeatType:s="loop",ease:a,times:l}={}){const c={[t]:n};l&&(c.offset=l);const h=Dz(a);return Array.isArray(h)&&(c.easing=h),e.animate(c,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}function Yue(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const Iz=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Jue=1e-7,Xue=12;function Que(e,t,n,r,i){let o,s,a=0;do s=t+(n-t)/2,o=Iz(s,r,i)-e,o>0?n=s:t=s;while(Math.abs(o)>Jue&&++a<Xue);return s}function W2(e,t,n,r){if(e===t&&n===r)return Kr;const i=o=>Que(o,0,1,e,n);return o=>o===0||o===1?o:Iz(i(o),t,r)}const Zue=W2(.42,0,1,1),ehe=W2(0,0,.58,1),zz=W2(.42,0,.58,1),the=e=>Array.isArray(e)&&typeof e[0]!="number",Fz=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,jz=e=>t=>1-e(1-t),Bz=e=>1-Math.sin(Math.acos(e)),Y8=jz(Bz),nhe=Fz(Y8),$z=W2(.33,1.53,.69,.99),J8=jz($z),rhe=Fz(J8),ihe=e=>(e*=2)<1?.5*J8(e):.5*(2-Math.pow(2,-10*(e-1))),ohe={linear:Kr,easeIn:Zue,easeInOut:zz,easeOut:ehe,circIn:Bz,circInOut:nhe,circOut:Y8,backIn:J8,backInOut:rhe,backOut:$z,anticipate:ihe},lL=e=>{if(Array.isArray(e)){yy(e.length===4);const[t,n,r,i]=e;return W2(t,n,r,i)}else if(typeof e=="string")return ohe[e];return e},X8=(e,t)=>n=>!!(V2(n)&&oue.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Vz=(e,t,n)=>r=>{if(!V2(r))return r;const[i,o,s,a]=r.match(Qw);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},she=e=>Sh(0,255,e),C4={...vd,transform:e=>Math.round(she(e))},Pf={test:X8("rgb","red"),parse:Vz("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+C4.transform(e)+", "+C4.transform(t)+", "+C4.transform(n)+", "+g0(p0.transform(r))+")"};function ahe(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const aS={test:X8("#"),parse:ahe,transform:Pf.transform},Mp={test:X8("hsl","hue"),parse:Vz("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Fl.transform(g0(t))+", "+Fl.transform(g0(n))+", "+g0(p0.transform(r))+")"},No={test:e=>Pf.test(e)||aS.test(e)||Mp.test(e),parse:e=>Pf.test(e)?Pf.parse(e):Mp.test(e)?Mp.parse(e):aS.parse(e),transform:e=>V2(e)?e:e.hasOwnProperty("red")?Pf.transform(e):Mp.transform(e)},Ar=(e,t,n)=>-n*e+n*t+e;function k4(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function lhe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,s=0;if(!t)i=o=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=k4(l,a,e+1/3),o=k4(l,a,e),s=k4(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}const E4=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},che=[aS,Pf,Mp],uhe=e=>che.find(t=>t.test(e));function cL(e){const t=uhe(e);let n=t.parse(e);return t===Mp&&(n=lhe(n)),n}const Uz=(e,t)=>{const n=cL(e),r=cL(t),i={...n};return o=>(i.red=E4(n.red,r.red,o),i.green=E4(n.green,r.green,o),i.blue=E4(n.blue,r.blue,o),i.alpha=Ar(n.alpha,r.alpha,o),Pf.transform(i))};function hhe(e){var t,n;return isNaN(e)&&V2(e)&&(((t=e.match(Qw))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(mz))===null||n===void 0?void 0:n.length)||0)>0}const qz={regex:rue,countKey:"Vars",token:"${v}",parse:Kr},Wz={regex:mz,countKey:"Colors",token:"${c}",parse:No.parse},Hz={regex:Qw,countKey:"Numbers",token:"${n}",parse:vd.parse};function A4(e,{regex:t,countKey:n,token:r,parse:i}){const o=e.tokenised.match(t);o&&(e["num"+n]=o.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...o.map(i)))}function wy(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&A4(n,qz),A4(n,Wz),A4(n,Hz),n}function Gz(e){return wy(e).values}function Kz(e){const{values:t,numColors:n,numVars:r,tokenised:i}=wy(e),o=t.length;return s=>{let a=i;for(let l=0;l<o;l++)l<r?a=a.replace(qz.token,s[l]):l<r+n?a=a.replace(Wz.token,No.transform(s[l])):a=a.replace(Hz.token,g0(s[l]));return a}}const fhe=e=>typeof e=="number"?0:e;function dhe(e){const t=Gz(e);return Kz(e)(t.map(fhe))}const Ch={test:hhe,parse:Gz,createTransformer:Kz,getAnimatableNone:dhe},Yz=(e,t)=>n=>`${n>0?t:e}`;function Jz(e,t){return typeof e=="number"?n=>Ar(e,t,n):No.test(e)?Uz(e,t):e.startsWith("var(")?Yz(e,t):Qz(e,t)}const Xz=(e,t)=>{const n=[...e],r=n.length,i=e.map((o,s)=>Jz(o,t[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}},phe=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Jz(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}},Qz=(e,t)=>{const n=Ch.createTransformer(t),r=wy(e),i=wy(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?fh(Xz(r.values,i.values),n):Yz(e,t)},d2=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},uL=(e,t)=>n=>Ar(e,t,n);function ghe(e){return typeof e=="number"?uL:typeof e=="string"?No.test(e)?Uz:Qz:Array.isArray(e)?Xz:typeof e=="object"?phe:uL}function mhe(e,t,n){const r=[],i=n||ghe(e[0]),o=e.length-1;for(let s=0;s<o;s++){let a=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Kr:t;a=fh(l,a)}r.push(a)}return r}function Zz(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(yy(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=mhe(t,r,i),a=s.length,l=c=>{let h=0;if(a>1)for(;h<e.length-2&&!(c<e[h+1]);h++);const f=d2(e[h],e[h+1],c);return s[h](f)};return n?c=>l(Sh(e[0],e[o-1],c)):l}function vhe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=d2(0,t,r);e.push(Ar(n,1,i))}}function yhe(e){const t=[0];return vhe(t,e.length-1),t}function whe(e,t){return e.map(n=>n*t)}function bhe(e,t){return e.map(()=>t||zz).splice(0,e.length-1)}function by({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=the(r)?r.map(lL):lL(r),o={done:!1,value:t[0]},s=whe(n&&n.length===t.length?n:yhe(t),e),a=Zz(s,t,{ease:Array.isArray(i)?i:bhe(t,i)});return{calculatedDuration:e,next:l=>(o.value=a(l),o.done=l>=e,o)}}function eF(e,t){return t?e*(1e3/t):0}const xhe=5;function tF(e,t,n){const r=Math.max(t-xhe,0);return eF(n-e(r),t-r)}const N4=.001,She=.01,Che=10,khe=.05,Ehe=1;function Ahe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,o,s=1-t;s=Sh(khe,Ehe,s),e=Sh(She,Che,Ac(e)),s<1?(i=c=>{const h=c*s,f=h*e,g=h-n,d=lS(c,s),m=Math.exp(-f);return N4-g/d*m},o=c=>{const h=c*s*e,f=h*n+n,g=Math.pow(s,2)*Math.pow(c,2)*e,d=Math.exp(-h),m=lS(Math.pow(c,2),s);return(-i(c)+N4>0?-1:1)*((f-g)*d)/m}):(i=c=>{const h=Math.exp(-c*e),f=(c-n)*e+1;return-N4+h*f},o=c=>{const h=Math.exp(-c*e),f=(n-c)*(e*e);return h*f});const a=5/e,l=Lhe(i,o,a);if(e=qf(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:e}}}const Nhe=12;function Lhe(e,t,n){let r=n;for(let i=1;i<Nhe;i++)r=r-e(r)/t(r);return r}function lS(e,t){return e*Math.sqrt(1-t*t)}const _he=["duration","bounce"],Ohe=["stiffness","damping","mass"];function hL(e,t){return t.some(n=>e[n]!==void 0)}function Phe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!hL(e,Ohe)&&hL(e,_he)){const n=Ahe(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}function nF({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],o=e[e.length-1],s={done:!1,value:i},{stiffness:a,damping:l,mass:c,velocity:h,duration:f,isResolvedFromDuration:g}=Phe(r),d=h?-Ac(h):0,m=l/(2*Math.sqrt(a*c)),y=o-i,C=Ac(Math.sqrt(a/c)),x=Math.abs(y)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let w;if(m<1){const E=lS(C,m);w=N=>{const _=Math.exp(-m*C*N);return o-_*((d+m*C*y)/E*Math.sin(E*N)+y*Math.cos(E*N))}}else if(m===1)w=E=>o-Math.exp(-C*E)*(y+(d+C*y)*E);else{const E=C*Math.sqrt(m*m-1);w=N=>{const _=Math.exp(-m*C*N),D=Math.min(E*N,300);return o-_*((d+m*C*y)*Math.sinh(D)+E*y*Math.cosh(D))/E}}return{calculatedDuration:g&&f||null,next:E=>{const N=w(E);if(g)s.done=E>=f;else{let _=d;E!==0&&(m<1?_=tF(w,E,N):_=0);const D=Math.abs(_)<=n,P=Math.abs(o-N)<=t;s.done=D&&P}return s.value=s.done?o:N,s}}}function fL({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:h}){const f=e[0],g={done:!1,value:f},d=I=>a!==void 0&&I<a||l!==void 0&&I>l,m=I=>a===void 0?l:l===void 0||Math.abs(a-I)<Math.abs(l-I)?a:l;let y=n*t;const C=f+y,x=s===void 0?C:s(C);x!==C&&(y=x-f);const w=I=>-y*Math.exp(-I/r),E=I=>x+w(I),N=I=>{const W=w(I),G=E(I);g.done=Math.abs(W)<=c,g.value=g.done?x:G};let _,D;const P=I=>{d(g.value)&&(_=I,D=nF({keyframes:[g.value,m(g.value)],velocity:tF(E,I,g.value),damping:i,stiffness:o,restDelta:c,restSpeed:h}))};return P(0),{calculatedDuration:null,next:I=>{let W=!1;return!D&&_===void 0&&(W=!0,N(I),P(I)),_!==void 0&&I>_?D.next(I-_):(!W&&N(I),g)}}}const The=e=>{const t=({timestamp:n})=>e(n);return{start:()=>or.update(t,!0),stop:()=>Rc(t),now:()=>bi.isProcessing?bi.timestamp:performance.now()}},dL=2e4;function pL(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<dL;)t+=n,r=e.next(t);return t>=dL?1/0:t}const Mhe={decay:fL,inertia:fL,tween:by,keyframes:by,spring:nF};function xy({autoplay:e=!0,delay:t=0,driver:n=The,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:h,onUpdate:f,...g}){let d=1,m=!1,y,C;const x=()=>{C=new Promise(ge=>{y=ge})};x();let w;const E=Mhe[i]||by;let N;E!==by&&typeof r[0]!="number"&&(N=Zz([0,100],r,{clamp:!1}),r=[0,100]);const _=E({...g,keyframes:r});let D;a==="mirror"&&(D=E({...g,keyframes:[...r].reverse(),velocity:-(g.velocity||0)}));let P="idle",I=null,W=null,G=null;_.calculatedDuration===null&&o&&(_.calculatedDuration=pL(_));const{calculatedDuration:O}=_;let z=1/0,U=1/0;O!==null&&(z=O+s,U=z*(o+1)-s);let $=0;const ne=ge=>{if(W===null)return;d>0&&(W=Math.min(W,ge)),d<0&&(W=Math.min(ge-U/d,W)),I!==null?$=I:$=Math.round(ge-W)*d;const F=$-t*(d>=0?1:-1),Q=d>=0?F<0:F>U;$=Math.max(F,0),P==="finished"&&I===null&&($=U);let re=$,he=_;if(o){const Ee=$/z;let Ge=Math.floor(Ee),Be=Ee%1;!Be&&Ee>=1&&(Be=1),Be===1&&Ge--,Ge=Math.min(Ge,o+1);const Ke=!!(Ge%2);Ke&&(a==="reverse"?(Be=1-Be,s&&(Be-=s/z)):a==="mirror"&&(he=D));let it=Sh(0,1,Be);$>U&&(it=a==="reverse"&&Ke?1:0),re=it*z}const pe=Q?{done:!1,value:r[0]}:he.next(re);N&&(pe.value=N(pe.value));let{done:Se}=pe;!Q&&O!==null&&(Se=d>=0?$>=U:$<=0);const xe=I===null&&(P==="finished"||P==="running"&&Se);return f&&f(pe.value),xe&&Z(),pe},se=()=>{w&&w.stop(),w=void 0},ae=()=>{P="idle",se(),y(),x(),W=G=null},Z=()=>{P="finished",h&&h(),se(),y()},le=()=>{if(m)return;w||(w=n(ne));const ge=w.now();l&&l(),I!==null?W=ge-I:(!W||P==="finished")&&(W=ge),P==="finished"&&x(),G=W,I=null,P="running",w.start()};e&&le();const ue={then(ge,F){return C.then(ge,F)},get time(){return Ac($)},set time(ge){ge=qf(ge),$=ge,I!==null||!w||d===0?I=ge:W=w.now()-ge/d},get duration(){const ge=_.calculatedDuration===null?pL(_):_.calculatedDuration;return Ac(ge)},get speed(){return d},set speed(ge){ge===d||!w||(d=ge,ue.time=Ac($))},get state(){return P},play:le,pause:()=>{P="paused",I=$},stop:()=>{m=!0,P!=="idle"&&(P="idle",c&&c(),ae())},cancel:()=>{G!==null&&ne(G),ae()},complete:()=>{P="finished"},sample:ge=>(W=0,ne(ge))};return ue}function Rhe(e){let t;return()=>(t===void 0&&(t=e()),t)}const Dhe=Rhe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ihe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),pv=10,zhe=2e4,Fhe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Mz(t.ease);function jhe(e,t,{onUpdate:n,onComplete:r,...i}){if(!(Dhe()&&Ihe.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,s,a;const l=()=>{a=new Promise(C=>{s=C})};l();let{keyframes:c,duration:h=300,ease:f,times:g}=i;if(Fhe(t,i)){const C=xy({...i,repeat:0,delay:0});let x={done:!1,value:c[0]};const w=[];let E=0;for(;!x.done&&E<zhe;)x=C.sample(E),w.push(x.value),E+=pv;g=void 0,c=w,h=E-pv,f="linear"}const d=Kue(e.owner.current,t,c,{...i,duration:h,ease:f,times:g});i.syncStart&&(d.startTime=bi.isProcessing?bi.timestamp:document.timeline?document.timeline.currentTime:performance.now());const m=()=>d.cancel(),y=()=>{or.update(m),s(),l()};return d.onfinish=()=>{e.set(Yue(c,i)),r&&r(),y()},{then(C,x){return a.then(C,x)},attachTimeline(C){return d.timeline=C,d.onfinish=null,Kr},get time(){return Ac(d.currentTime||0)},set time(C){d.currentTime=qf(C)},get speed(){return d.playbackRate},set speed(C){d.playbackRate=C},get duration(){return Ac(h)},play:()=>{o||(d.play(),Rc(m))},pause:()=>d.pause(),stop:()=>{if(o=!0,d.playState==="idle")return;const{currentTime:C}=d;if(C){const x=xy({...i,autoplay:!1});e.setWithVelocity(x.sample(C-pv).value,x.sample(C).value,pv)}y()},complete:()=>d.finish(),cancel:y}}function Bhe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Kr,pause:Kr,stop:Kr,then:o=>(o(),Promise.resolve()),cancel:Kr,complete:Kr});return t?xy({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const $he={type:"spring",stiffness:500,damping:25,restSpeed:10},Vhe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Uhe={type:"keyframes",duration:.8},qhe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Whe=(e,{keyframes:t})=>t.length>2?Uhe:md.has(e)?e.startsWith("scale")?Vhe(t[1]):$he:qhe,cS=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ch.test(t)||t==="0")&&!t.startsWith("url(")),Hhe=new Set(["brightness","contrast","saturate","opacity"]);function Ghe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Qw)||[];if(!r)return e;const i=n.replace(r,"");let o=Hhe.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const Khe=/([a-z-]*)\(.*?\)/g,uS={...Ch,getAnimatableNone:e=>{const t=e.match(Khe);return t?t.map(Ghe).join(" "):e}},Yhe={...vz,color:No,backgroundColor:No,outlineColor:No,fill:No,stroke:No,borderColor:No,borderTopColor:No,borderRightColor:No,borderBottomColor:No,borderLeftColor:No,filter:uS,WebkitFilter:uS},Q8=e=>Yhe[e];function rF(e,t){let n=Q8(e);return n!==uS&&(n=Ch),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const iF=e=>/^0[^.\s]+$/.test(e);function Jhe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||iF(e)}function Xhe(e,t,n,r){const i=cS(t,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const s=r.from!==void 0?r.from:e.get();let a;const l=[];for(let c=0;c<o.length;c++)o[c]===null&&(o[c]=c===0?s:o[c-1]),Jhe(o[c])&&l.push(c),typeof o[c]=="string"&&o[c]!=="none"&&o[c]!=="0"&&(a=o[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const h=l[c];o[h]=rF(t,a)}return o}function Qhe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}function Z8(e,t){return e[t]||e.default||e}const eC=(e,t,n,r={})=>i=>{const o=Z8(r,e)||{},s=o.delay||r.delay||0;let{elapsed:a=0}=r;a=a-qf(s);const l=Xhe(t,e,n,o),c=l[0],h=l[l.length-1],f=cS(e,c),g=cS(e,h);let d={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-a,onUpdate:m=>{t.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(Qhe(o)||(d={...d,...Whe(e,d)}),d.duration&&(d.duration=qf(d.duration)),d.repeatDelay&&(d.repeatDelay=qf(d.repeatDelay)),!f||!g||Gue.current||o.type===!1)return Bhe(d);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const m=jhe(t,e,d);if(m)return m}return xy(d)};function Sy(e){return!!(ss(e)&&e.add)}const oF=e=>/^\-?\d*\.?\d+$/.test(e);function tC(e,t){e.indexOf(t)===-1&&e.push(t)}function nC(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class rC{constructor(){this.subscriptions=[]}add(t){return tC(this.subscriptions,t),()=>nC(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Zhe=e=>!isNaN(parseFloat(e));class efe{constructor(t,n={}){this.version="10.16.9",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:s}=bi;this.lastUpdated!==s&&(this.timeDelta=o,this.lastUpdated=s,or.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>or.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Zhe(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new rC);const r=this.events[t].add(n);return t==="change"?()=>{r(),or.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?eF(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ld(e,t){return new efe(e,t)}const sF=e=>t=>t.test(e),tfe={test:e=>e==="auto",parse:e=>e},aF=[vd,$t,Fl,Iu,aue,sue,tfe],Mm=e=>aF.find(sF(e)),nfe=[...aF,No,Ch],rfe=e=>nfe.find(sF(e));function ife(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ld(n))}function iC(e,t){const n=eb(e,t);let{transitionEnd:r={},transition:i={},...o}=n?e.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const s in o){const a=xue(o[s]);ife(e,s,a)}}function hS(e,t){[...t].reverse().forEach(n=>{const r=e.getVariant(n);r&&iC(e,r),e.variantChildren&&e.variantChildren.forEach(i=>{hS(i,t)})})}function ofe(e,t){if(Array.isArray(t))return hS(e,t);if(typeof t=="string")return hS(e,[t]);iC(e,t)}function sfe(e,t,n){var r,i;const o=Object.keys(t).filter(a=>!e.hasValue(a)),s=o.length;if(s)for(let a=0;a<s;a++){const l=o[a],c=t[l];let h=null;Array.isArray(c)&&(h=c[0]),h===null&&(h=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),h!=null&&(typeof h=="string"&&(oF(h)||iF(h))?h=parseFloat(h):!rfe(h)&&Ch.test(c)&&(h=rF(l,c)),e.addValue(l,ld(h,{owner:e})),n[l]===void 0&&(n[l]=h),h!==null&&e.setBaseTarget(l,h))}}function afe(e,t){return t?(t[e]||t.default||t).from:void 0}function lfe(e,t,n){const r={};for(const i in e){const o=afe(i,t);if(o!==void 0)r[i]=o;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function cfe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function lF(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:s,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(o=r);const c=[],h=i&&e.animationState&&e.animationState.getState()[i];for(const f in a){const g=e.getValue(f),d=a[f];if(!g||d===void 0||h&&cfe(h,f))continue;const m={delay:n,elapsed:0,...Z8(o||{},f)};let y=!0;if(window.HandoffAppearAnimations&&!g.hasAnimated){const w=e.getProps()[Hue];w&&(y=!1,m.elapsed=window.HandoffAppearAnimations(w,f,g,or),m.syncStart=!0)}let C=y&&d===g.get();if(m.type==="spring"&&(g.getVelocity()||m.velocity)&&(C=!1),C||y&&d===g.get()&&(m.type!=="spring"||!g.getVelocity()&&!m.velocity))continue;g.start(eC(f,g,d,e.shouldReduceMotion&&md.has(f)?{type:!1}:m));const x=g.animation;Sy(l)&&(l.add(f),x.then(()=>l.remove(f))),c.push(x)}return s&&Promise.all(c).then(()=>{s&&iC(e,s)}),c}function fS(e,t,n={}){const r=eb(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(lF(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:f}=i;return ufe(e,t,c+l,h,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[o,s]:[s,o];return l().then(()=>c())}else return Promise.all([o(),s(n.delay)])}function ufe(e,t,n=0,r=0,i=1,o){const s=[],a=(e.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(hfe).forEach((c,h)=>{c.notify("AnimationStart",t),s.push(fS(c,t,{...o,delay:n+l(h)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function hfe(e,t){return e.sortNodePosition(t)}function cF(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>fS(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=fS(e,t,n);else{const i=typeof t=="function"?eb(e,t,n.custom):t;r=Promise.all(lF(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const ffe=[...F8].reverse(),dfe=F8.length;function pfe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>cF(e,n,r)))}function gfe(e){let t=pfe(e);const n=vfe();let r=!0;const i=(l,c)=>{const h=eb(e,c);if(h){const{transition:f,transitionEnd:g,...d}=h;l={...l,...d,...g}}return l};function o(l){t=l(e)}function s(l,c){const h=e.getProps(),f=e.getVariantContext(!0)||{},g=[],d=new Set;let m={},y=1/0;for(let x=0;x<dfe;x++){const w=ffe[x],E=n[w],N=h[w]!==void 0?h[w]:f[w],_=h2(N),D=w===c?E.isActive:null;D===!1&&(y=x);let P=N===f[w]&&N!==h[w]&&_;if(P&&r&&e.manuallyAnimateOnMount&&(P=!1),E.protectedKeys={...m},!E.isActive&&D===null||!N&&!E.prevProp||Jw(N)||typeof N=="boolean")continue;const I=mfe(E.prevProp,N);let W=I||w===c&&E.isActive&&!P&&_||x>y&&_;const G=Array.isArray(N)?N:[N];let O=G.reduce(i,{});D===!1&&(O={});const{prevResolvedValues:z={}}=E,U={...z,...O},$=ne=>{W=!0,d.delete(ne),E.needsAnimating[ne]=!0};for(const ne in U){const se=O[ne],ae=z[ne];m.hasOwnProperty(ne)||(se!==ae?vy(se)&&vy(ae)?!Pz(se,ae)||I?$(ne):E.protectedKeys[ne]=!0:se!==void 0?$(ne):d.add(ne):se!==void 0&&d.has(ne)?$(ne):E.protectedKeys[ne]=!0)}E.prevProp=N,E.prevResolvedValues=O,E.isActive&&(m={...m,...O}),r&&e.blockInitialAnimation&&(W=!1),W&&!P&&g.push(...G.map(ne=>({animation:ne,options:{type:w,...l}})))}if(d.size){const x={};d.forEach(w=>{const E=e.getBaseTarget(w);E!==void 0&&(x[w]=E)}),g.push({animation:x})}let C=!!g.length;return r&&h.initial===!1&&!e.manuallyAnimateOnMount&&(C=!1),r=!1,C?t(g):Promise.resolve()}function a(l,c,h){var f;if(n[l].isActive===c)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(d=>{var m;return(m=d.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const g=s(h,l);for(const d in n)n[d].protectedKeys={};return g}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n}}function mfe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Pz(t,e):!1}function uf(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vfe(){return{animate:uf(!0),whileInView:uf(),whileHover:uf(),whileTap:uf(),whileDrag:uf(),whileFocus:uf(),exit:uf()}}class yfe extends Ph{constructor(t){super(t),t.animationState||(t.animationState=gfe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Jw(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let wfe=0;class bfe extends Ph{constructor(){super(...arguments),this.id=wfe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const o=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const xfe={animation:{Feature:yfe},exit:{Feature:bfe}},gL=(e,t)=>Math.abs(e-t);function Sfe(e,t){const n=gL(e.x,t.x),r=gL(e.y,t.y);return Math.sqrt(n**2+r**2)}class uF{constructor(t,n,{transformPagePoint:r,contextWindow:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=_4(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=Sfe(h.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:d}=h,{timestamp:m}=bi;this.history.push({...d,timestamp:m});const{onStart:y,onMove:C}=this.handlers;f||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=L4(f,this.transformPagePoint),or.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:g,onSessionEnd:d}=this.handlers,m=_4(h.type==="pointercancel"?this.lastMoveEventInfo:L4(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,m),d&&d(h,m)},!Az(t))return;this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Zw(t),s=L4(o,this.transformPagePoint),{point:a}=s,{timestamp:l}=bi;this.history=[{...a,timestamp:l}];const{onSessionStart:c}=n;c&&c(t,_4(s,this.history)),this.removeListeners=fh(Ec(this.contextWindow,"pointermove",this.handlePointerMove),Ec(this.contextWindow,"pointerup",this.handlePointerUp),Ec(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Rc(this.updatePoint)}}function L4(e,t){return t?{point:t(e.point)}:e}function mL(e,t){return{x:e.x-t.x,y:e.y-t.y}}function _4({point:e},t){return{point:e,delta:mL(e,hF(t)),offset:mL(e,Cfe(t)),velocity:kfe(t,.1)}}function Cfe(e){return e[0]}function hF(e){return e[e.length-1]}function kfe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=hF(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>qf(t)));)n--;if(!r)return{x:0,y:0};const o=Ac(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Ms(e){return e.max-e.min}function dS(e,t=0,n=.01){return Math.abs(e-t)<=n}function vL(e,t,n,r=.5){e.origin=r,e.originPoint=Ar(t.min,t.max,e.origin),e.scale=Ms(n)/Ms(t),(dS(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Ar(n.min,n.max,e.origin)-e.originPoint,(dS(e.translate)||isNaN(e.translate))&&(e.translate=0)}function m0(e,t,n,r){vL(e.x,t.x,n.x,r?r.originX:void 0),vL(e.y,t.y,n.y,r?r.originY:void 0)}function yL(e,t,n){e.min=n.min+t.min,e.max=e.min+Ms(t)}function Efe(e,t,n){yL(e.x,t.x,n.x),yL(e.y,t.y,n.y)}function wL(e,t,n){e.min=t.min-n.min,e.max=e.min+Ms(t)}function v0(e,t,n){wL(e.x,t.x,n.x),wL(e.y,t.y,n.y)}function Afe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ar(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ar(n,e,r.max):Math.min(e,n)),e}function bL(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Nfe(e,{top:t,left:n,bottom:r,right:i}){return{x:bL(e.x,n,i),y:bL(e.y,t,r)}}function xL(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Lfe(e,t){return{x:xL(e.x,t.x),y:xL(e.y,t.y)}}function _fe(e,t){let n=.5;const r=Ms(e),i=Ms(t);return i>r?n=d2(t.min,t.max-r,e.min):r>i&&(n=d2(e.min,e.max-i,t.min)),Sh(0,1,n)}function Ofe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const pS=.35;function Pfe(e=pS){return e===!1?e=0:e===!0&&(e=pS),{x:SL(e,"left","right"),y:SL(e,"top","bottom")}}function SL(e,t,n){return{min:CL(e,t),max:CL(e,n)}}function CL(e,t){return typeof e=="number"?e:e[t]||0}const kL=()=>({translate:0,scale:1,origin:0,originPoint:0}),Rp=()=>({x:kL(),y:kL()}),EL=()=>({min:0,max:0}),Zr=()=>({x:EL(),y:EL()});function wl(e){return[e("x"),e("y")]}function fF({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Tfe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Mfe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function O4(e){return e===void 0||e===1}function gS({scale:e,scaleX:t,scaleY:n}){return!O4(e)||!O4(t)||!O4(n)}function vf(e){return gS(e)||dF(e)||e.z||e.rotate||e.rotateX||e.rotateY}function dF(e){return AL(e.x)||AL(e.y)}function AL(e){return e&&e!=="0%"}function Cy(e,t,n){const r=e-n,i=t*r;return n+i}function NL(e,t,n,r,i){return i!==void 0&&(e=Cy(e,i,r)),Cy(e,n,r)+t}function mS(e,t=0,n=1,r,i){e.min=NL(e.min,t,n,r,i),e.max=NL(e.max,t,n,r,i)}function pF(e,{x:t,y:n}){mS(e.x,t.translate,t.scale,t.originPoint),mS(e.y,n.translate,n.scale,n.originPoint)}function Rfe(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const l=o.instance;l&&l.style&&l.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Dp(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,pF(e,s)),r&&vf(o.latestValues)&&Dp(e,o.latestValues))}t.x=LL(t.x),t.y=LL(t.y)}function LL(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function $u(e,t){e.min=e.min+t,e.max=e.max+t}function _L(e,t,[n,r,i]){const o=t[i]!==void 0?t[i]:.5,s=Ar(e.min,e.max,o);mS(e,t[n],t[r],s,t.scale)}const Dfe=["x","scaleX","originX"],Ife=["y","scaleY","originY"];function Dp(e,t){_L(e.x,t,Dfe),_L(e.y,t,Ife)}function gF(e,t){return fF(Mfe(e.getBoundingClientRect(),t))}function zfe(e,t,n){const r=gF(e,n),{scroll:i}=t;return i&&($u(r.x,i.offset.x),$u(r.y,i.offset.y)),r}const mF=({current:e})=>e?e.ownerDocument.defaultView:null,Ffe=new WeakMap;class jfe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Zr(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),n&&this.snapToCursor(Zw(l,"page").point)},o=(l,c)=>{const{drag:h,dragPropagation:f,onDragStart:g}=this.getProps();if(h&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Lz(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wl(m=>{let y=this.getAxisMotionValue(m).get()||0;if(Fl.test(y)){const{projection:C}=this.visualElement;if(C&&C.layout){const x=C.layout.layoutBox[m];x&&(y=Ms(x)*(parseFloat(y)/100))}}this.originPoint[m]=y}),g&&or.update(()=>g(l,c),!1,!0);const{animationState:d}=this.visualElement;d&&d.setActive("whileDrag",!0)},s=(l,c)=>{const{dragPropagation:h,dragDirectionLock:f,onDirectionLock:g,onDrag:d}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:m}=c;if(f&&this.currentDirection===null){this.currentDirection=Bfe(m),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",c.point,m),this.updateAxis("y",c.point,m),this.visualElement.render(),d&&d(l,c)},a=(l,c)=>this.stop(l,c);this.panSession=new uF(t,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint(),contextWindow:mF(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&or.update(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!gv(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=Afe(s,this.constraints[t],this.elastic[t])),o.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&Tp(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Nfe(i.layoutBox,n):this.constraints=!1,this.elastic=Pfe(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&wl(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=Ofe(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Tp(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=zfe(r,i.root,this.visualElement.getTransformPagePoint());let s=Lfe(i.layout.layoutBox,o);if(n){const a=n(Tfe(s));this.hasMutatedConstraints=!!a,a&&(s=fF(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=wl(h=>{if(!gv(h,n,this.currentDirection))return;let f=l&&l[h]||{};s&&(f={min:0,max:0});const g=i?200:1e6,d=i?40:1e7,m={type:"inertia",velocity:r?t[h]:0,bounceStiffness:g,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(h,m)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(eC(t,r,0,n))}stopAnimation(){wl(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){wl(n=>{const{drag:r}=this.getProps();if(!gv(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(t[n]-Ar(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Tp(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};wl(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();i[s]=_fe({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),wl(s=>{if(!gv(s,t,null))return;const a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(Ar(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;Ffe.set(this.visualElement,this);const t=this.visualElement.current,n=Ec(t,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Tp(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=xc(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(wl(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=l[h].translate,f.set(f.get()+l[h].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=pS,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function gv(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Bfe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class $fe extends Ph{constructor(t){super(t),this.removeGroupControls=Kr,this.removeListeners=Kr,this.controls=new jfe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Kr}unmount(){this.removeGroupControls(),this.removeListeners()}}const OL=e=>(t,n)=>{e&&or.update(()=>e(t,n))};class Vfe extends Ph{constructor(){super(...arguments),this.removePointerDownListener=Kr}onPointerDown(t){this.session=new uF(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mF(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:OL(t),onStart:OL(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&or.update(()=>i(o,s))}}}mount(){this.removePointerDownListener=Ec(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Ufe(){const e=M.useContext(Gw);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=M.useId();return M.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const r5={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function PL(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Rm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if($t.test(e))e=parseFloat(e);else return e;const n=PL(e,t.target.x),r=PL(e,t.target.y);return`${n}% ${r}%`}},qfe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Ch.parse(e);if(i.length>5)return r;const o=Ch.createTransformer(e),s=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=a,i[1+s]/=l;const c=Ar(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),o(i)}};class Wfe extends Un.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;Zce(Hfe),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),r5.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?s.promote():s.relegate()||or.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function vF(e){const[t,n]=Ufe(),r=M.useContext(B8);return Un.createElement(Wfe,{...e,layoutGroup:r,switchLayoutGroup:M.useContext(fz),isPresent:t,safeToRemove:n})}const Hfe={borderRadius:{...Rm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rm,borderTopRightRadius:Rm,borderBottomLeftRadius:Rm,borderBottomRightRadius:Rm,boxShadow:qfe},yF=["TopLeft","TopRight","BottomLeft","BottomRight"],Gfe=yF.length,TL=e=>typeof e=="string"?parseFloat(e):e,ML=e=>typeof e=="number"||$t.test(e);function Kfe(e,t,n,r,i,o){i?(e.opacity=Ar(0,n.opacity!==void 0?n.opacity:1,Yfe(r)),e.opacityExit=Ar(t.opacity!==void 0?t.opacity:1,0,Jfe(r))):o&&(e.opacity=Ar(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<Gfe;s++){const a=`border${yF[s]}Radius`;let l=RL(t,a),c=RL(n,a);l===void 0&&c===void 0||(l||(l=0),c||(c=0),l===0||c===0||ML(l)===ML(c)?(e[a]=Math.max(Ar(TL(l),TL(c),r),0),(Fl.test(c)||Fl.test(l))&&(e[a]+="%")):e[a]=c)}(t.rotate||n.rotate)&&(e.rotate=Ar(t.rotate||0,n.rotate||0,r))}function RL(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Yfe=wF(0,.5,Y8),Jfe=wF(.5,.95,Kr);function wF(e,t,n){return r=>r<e?0:r>t?1:n(d2(e,t,r))}function DL(e,t){e.min=t.min,e.max=t.max}function Qs(e,t){DL(e.x,t.x),DL(e.y,t.y)}function IL(e,t,n,r,i){return e-=t,e=Cy(e,1/n,r),i!==void 0&&(e=Cy(e,1/i,r)),e}function Xfe(e,t=0,n=1,r=.5,i,o=e,s=e){if(Fl.test(t)&&(t=parseFloat(t),t=Ar(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=Ar(o.min,o.max,r);e===o&&(a-=t),e.min=IL(e.min,t,n,a,i),e.max=IL(e.max,t,n,a,i)}function zL(e,t,[n,r,i],o,s){Xfe(e,t[n],t[r],t[i],t.scale,o,s)}const Qfe=["x","scaleX","originX"],Zfe=["y","scaleY","originY"];function FL(e,t,n,r){zL(e.x,t,Qfe,n?n.x:void 0,r?r.x:void 0),zL(e.y,t,Zfe,n?n.y:void 0,r?r.y:void 0)}function jL(e){return e.translate===0&&e.scale===1}function bF(e){return jL(e.x)&&jL(e.y)}function ede(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function xF(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function BL(e){return Ms(e.x)/Ms(e.y)}class tde{constructor(){this.members=[]}add(t){tC(this.members,t),t.scheduleRender()}remove(t){if(nC(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $L(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:h}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),h&&(r+=`rotateY(${h}deg) `)}const s=e.x.scale*t.x,a=e.y.scale*t.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const nde=(e,t)=>e.depth-t.depth;class rde{constructor(){this.children=[],this.isDirty=!1}add(t){tC(this.children,t),this.isDirty=!0}remove(t){nC(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(nde),this.isDirty=!1,this.children.forEach(t)}}function ide(e,t){const n=performance.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(Rc(r),e(o-t))};return or.read(r,!0),()=>Rc(r)}function ode(e){window.MotionDebug&&window.MotionDebug.record(e)}function sde(e){return e instanceof SVGElement&&e.tagName!=="svg"}function ade(e,t,n){const r=ss(e)?e:ld(e);return r.start(eC("",r,t,n)),r.animation}const VL=["","X","Y","Z"],lde={visibility:"hidden"},UL=1e3;let cde=0;const yf={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function SF({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},s=t==null?void 0:t()){this.id=cde++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,yf.totalNodes=yf.resolvedTargetDeltas=yf.recalculatedProjection=0,this.nodes.forEach(fde),this.nodes.forEach(vde),this.nodes.forEach(yde),this.nodes.forEach(dde),ode(yf)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new rde)}addEventListener(o,s){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new rC),this.eventHandlers.get(o).add(s)}notifyListeners(o,...s){const a=this.eventHandlers.get(o);a&&a.notify(...s)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,s=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=sde(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(l||a)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=ide(f,250),r5.hasAnimatedSinceResize&&(r5.hasAnimatedSinceResize=!1,this.nodes.forEach(WL))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:g,layout:d})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||c.getDefaultTransition()||Cde,{onLayoutAnimationStart:y,onLayoutAnimationComplete:C}=c.getProps(),x=!this.targetLayout||!xF(this.targetLayout,d)||g,w=!f&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const E={...Z8(m,"layout"),onPlay:y,onComplete:C};(c.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else f||WL(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=d})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Rc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wde),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:s,layout:a}=this.options;if(s===void 0&&!a)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qL);return}this.isUpdating||this.nodes.forEach(gde),this.isUpdating=!1,this.nodes.forEach(mde),this.nodes.forEach(ude),this.nodes.forEach(hde),this.clearAllSnapshots();const o=performance.now();bi.delta=Sh(0,1e3/60,o-bi.timestamp),bi.timestamp=o,bi.isProcessing=!0,b4.update.process(bi),b4.preRender.process(bi),b4.render.process(bi),bi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(pde),this.sharedNodes.forEach(bde)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,or.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){or.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let a=0;a<this.path.length;a++)this.path[a].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Zr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let s=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(s=!1),s&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,s=this.projectionDelta&&!bF(this.projectionDelta),a=this.getTransformTemplate(),l=a?a(this.latestValues,""):void 0,c=l!==this.prevTransformTemplateValue;o&&(s||vf(this.latestValues)||c)&&(i(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const s=this.measurePageBox();let a=this.removeElementScroll(s);return o&&(a=this.removeTransform(a)),kde(a),{animationId:this.root.animationId,measuredBox:s,layoutBox:a,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Zr();const s=o.measureViewportBox(),{scroll:a}=this.root;return a&&($u(s.x,a.offset.x),$u(s.y,a.offset.y)),s}removeElementScroll(o){const s=Zr();Qs(s,o);for(let a=0;a<this.path.length;a++){const l=this.path[a],{scroll:c,options:h}=l;if(l!==this.root&&c&&h.layoutScroll){if(c.isRoot){Qs(s,o);const{scroll:f}=this.root;f&&($u(s.x,-f.offset.x),$u(s.y,-f.offset.y))}$u(s.x,c.offset.x),$u(s.y,c.offset.y)}}return s}applyTransform(o,s=!1){const a=Zr();Qs(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];!s&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Dp(a,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),vf(c.latestValues)&&Dp(a,c.latestValues)}return vf(this.latestValues)&&Dp(a,this.latestValues),a}removeTransform(o){const s=Zr();Qs(s,o);for(let a=0;a<this.path.length;a++){const l=this.path[a];if(!l.instance||!vf(l.latestValues))continue;gS(l.latestValues)&&l.updateSnapshot();const c=Zr(),h=l.measurePageBox();Qs(c,h),FL(s,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,c)}return vf(this.latestValues)&&FL(s,this.latestValues),s}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var s;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:c,layoutId:h}=this.options;if(!(!this.layout||!(c||h))){if(this.resolvedRelativeTargetAt=bi.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zr(),this.relativeTargetOrigin=Zr(),v0(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Qs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Zr(),this.targetWithTransforms=Zr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Efe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qs(this.target,this.layout.layoutBox),pF(this.target,this.targetDelta)):Qs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zr(),this.relativeTargetOrigin=Zr(),v0(this.relativeTargetOrigin,this.target,f.target),Qs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}yf.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||gS(this.parent.latestValues)||dF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const s=this.getLead(),a=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===bi.timestamp&&(l=!1),l)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;Qs(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;Rfe(this.layoutCorrected,this.treeScale,this.path,a),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox);const{target:d}=s;if(!d){this.projectionTransform&&(this.projectionDelta=Rp(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Rp(),this.projectionDeltaWithTransform=Rp());const m=this.projectionTransform;m0(this.projectionDelta,this.layoutCorrected,d,this.latestValues),this.projectionTransform=$L(this.projectionDelta,this.treeScale),(this.projectionTransform!==m||this.treeScale.x!==f||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",d)),yf.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const s=this.getStack();s&&s.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,s=!1){const a=this.snapshot,l=a?a.latestValues:{},c={...this.latestValues},h=Rp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const f=Zr(),g=a?a.source:void 0,d=this.layout?this.layout.source:void 0,m=g!==d,y=this.getStack(),C=!y||y.members.length<=1,x=!!(m&&!C&&this.options.crossfade===!0&&!this.path.some(Sde));this.animationProgress=0;let w;this.mixTargetDelta=E=>{const N=E/1e3;HL(h.x,o.x,N),HL(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(v0(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xde(this.relativeTarget,this.relativeTargetOrigin,f,N),w&&ede(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Zr()),Qs(w,this.relativeTarget)),m&&(this.animationValues=c,Kfe(c,l,this.latestValues,N,x,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Rc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=or.update(()=>{r5.hasAnimatedSinceResize=!0,this.currentAnimation=ade(0,UL,{...o,onUpdate:s=>{this.mixTargetDelta(s),o.onUpdate&&o.onUpdate(s)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(UL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:s,target:a,layout:l,latestValues:c}=o;if(!(!s||!a||!l)){if(this!==o&&this.layout&&l&&CF(this.options.animationType,this.layout.layoutBox,l.layoutBox)){a=this.target||Zr();const h=Ms(this.layout.layoutBox.x);a.x.min=o.target.x.min,a.x.max=a.x.min+h;const f=Ms(this.layout.layoutBox.y);a.y.min=o.target.y.min,a.y.max=a.y.min+f}Qs(s,a),Dp(s,c),m0(this.projectionDeltaWithTransform,this.layoutCorrected,s,c)}}registerSharedNode(o,s){this.sharedNodes.has(o)||this.sharedNodes.set(o,new tde),this.sharedNodes.get(o).add(s);const a=s.options.initialPromotionConfig;s.promote({transition:a?a.transition:void 0,preserveFollowOpacity:a&&a.shouldPreserveFollowOpacity?a.shouldPreserveFollowOpacity(s):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:s,preserveFollowOpacity:a}={}){const l=this.getStack();l&&l.promote(this,a),o&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let s=!1;const{latestValues:a}=o;if((a.rotate||a.rotateX||a.rotateY||a.rotateZ)&&(s=!0),!s)return;const l={};for(let c=0;c<VL.length;c++){const h="rotate"+VL[c];a[h]&&(l[h]=a[h],o.setStaticValue(h,0))}o.render();for(const c in l)o.setStaticValue(c,l[c]);o.scheduleRender()}getProjectionStyles(o){var s,a;if(!this.instance||this.isSVG)return;if(!this.isVisible)return lde;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=n5(o==null?void 0:o.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=n5(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!vf(this.latestValues)&&(m.transform=c?c({},""):"none",this.hasProjected=!1),m}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),l.transform=$L(this.projectionDeltaWithTransform,this.treeScale,f),c&&(l.transform=c(f,l.transform));const{x:g,y:d}=this.projectionDelta;l.transformOrigin=`${g.origin*100}% ${d.origin*100}% 0`,h.animationValues?l.opacity=h===this?(a=(s=f.opacity)!==null&&s!==void 0?s:this.latestValues.opacity)!==null&&a!==void 0?a:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const m in gy){if(f[m]===void 0)continue;const{correct:y,applyTo:C}=gy[m],x=l.transform==="none"?f[m]:y(f[m],h);if(C){const w=C.length;for(let E=0;E<w;E++)l[C[E]]=x}else l[m]=x}return this.options.layoutId&&(l.pointerEvents=h===this?n5(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var s;return(s=o.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach(qL),this.root.sharedNodes.clear()}}}function ude(e){e.updateLayout()}function hde(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,s=n.source!==e.layout.source;o==="size"?wl(f=>{const g=s?n.measuredBox[f]:n.layoutBox[f],d=Ms(g);g.min=r[f].min,g.max=g.min+d}):CF(o,n.layoutBox,r)&&wl(f=>{const g=s?n.measuredBox[f]:n.layoutBox[f],d=Ms(r[f]);g.max=g.min+d,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+d)});const a=Rp();m0(a,r,n.layoutBox);const l=Rp();s?m0(l,e.applyTransform(i,!0),n.measuredBox):m0(l,r,n.layoutBox);const c=!bF(a);let h=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:g,layout:d}=f;if(g&&d){const m=Zr();v0(m,n.layoutBox,g.layoutBox);const y=Zr();v0(y,r,d.layoutBox),xF(m,y)||(h=!0),f.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=m,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function fde(e){yf.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function dde(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function pde(e){e.clearSnapshot()}function qL(e){e.clearMeasurements()}function gde(e){e.isLayoutDirty=!1}function mde(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function WL(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function vde(e){e.resolveTargetDelta()}function yde(e){e.calcProjection()}function wde(e){e.resetRotation()}function bde(e){e.removeLeadSnapshot()}function HL(e,t,n){e.translate=Ar(t.translate,0,n),e.scale=Ar(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function GL(e,t,n,r){e.min=Ar(t.min,n.min,r),e.max=Ar(t.max,n.max,r)}function xde(e,t,n,r){GL(e.x,t.x,n.x,r),GL(e.y,t.y,n.y,r)}function Sde(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Cde={duration:.45,ease:[.4,0,.1,1]},KL=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),YL=KL("applewebkit/")&&!KL("chrome/")?Math.round:Kr;function JL(e){e.min=YL(e.min),e.max=YL(e.max)}function kde(e){JL(e.x),JL(e.y)}function CF(e,t,n){return e==="position"||e==="preserve-aspect"&&!dS(BL(t),BL(n),.2)}const Ede=SF({attachResizeListener:(e,t)=>xc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),P4={current:void 0},kF=SF({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!P4.current){const e=new Ede({});e.mount(window),e.setOptions({layoutScroll:!0}),P4.current=e}return P4.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Ade={pan:{Feature:Vfe},drag:{Feature:$fe,ProjectionNode:kF,MeasureLayout:vF}},Nde=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Lde(e){const t=Nde.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function vS(e,t,n=1){const[r,i]=Lde(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const s=o.trim();return oF(s)?parseFloat(s):s}else return oS(i)?vS(i,t,n+1):i}function _de(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const o=i.get();if(!oS(o))return;const s=vS(o,r);s&&i.set(s)});for(const i in t){const o=t[i];if(!oS(o))continue;const s=vS(o,r);s&&(t[i]=s,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:t,transitionEnd:n}}const Ode=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),EF=e=>Ode.has(e),Pde=e=>Object.keys(e).some(EF),mv=e=>e===vd||e===$t,XL=(e,t)=>parseFloat(e.split(", ")[t]),QL=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return XL(i[1],t);{const o=r.match(/^matrix\((.+)\)$/);return o?XL(o[1],e):0}},Tde=new Set(["x","y","z"]),Mde=$2.filter(e=>!Tde.has(e));function Rde(e){const t=[];return Mde.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const _g={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:QL(4,13),y:QL(5,14)};_g.translateX=_g.x;_g.translateY=_g.y;const Dde=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,o=getComputedStyle(i),{display:s}=o,a={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{a[c]=_g[c](r,o)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const h=t.getValue(c);h&&h.jump(a[c]),e[c]=_g[c](l,o)}),e},Ide=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(EF);let o=[],s=!1;const a=[];if(i.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let h=n[l],f=Mm(h);const g=t[l];let d;if(vy(g)){const m=g.length,y=g[0]===null?1:0;h=g[y],f=Mm(h);for(let C=y;C<m&&g[C]!==null;C++)d?yy(Mm(g[C])===d):(d=Mm(g[C]),yy(d===f||mv(f)&&mv(d)))}else d=Mm(g);if(f!==d)if(mv(f)&&mv(d)){const m=c.get();typeof m=="string"&&c.set(parseFloat(m)),typeof g=="string"?t[l]=parseFloat(g):Array.isArray(g)&&d===$t&&(t[l]=g.map(parseFloat))}else f!=null&&f.transform&&d!=null&&d.transform&&(h===0||g===0)?h===0?c.set(d.transform(h)):t[l]=f.transform(g):(s||(o=Rde(e),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:t[l],c.jump(g))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=Dde(t,e,a);return o.length&&o.forEach(([h,f])=>{e.getValue(h).set(f)}),e.render(),Kw&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function zde(e,t,n,r){return Pde(t)?Ide(e,t,n,r):{target:t,transitionEnd:r}}const Fde=(e,t,n,r)=>{const i=_de(e,t,r);return t=i.target,r=i.transitionEnd,zde(e,t,n,r)},yS={current:null},AF={current:!1};function jde(){if(AF.current=!0,!!Kw)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>yS.current=e.matches;e.addListener(t),t()}else yS.current=!1}function Bde(e,t,n){const{willChange:r}=t;for(const i in t){const o=t[i],s=n[i];if(ss(o))e.addValue(i,o),Sy(r)&&r.add(i);else if(ss(s))e.addValue(i,ld(o,{owner:e})),Sy(r)&&r.remove(i);else if(s!==o)if(e.hasValue(i)){const a=e.getValue(i);!a.hasAnimated&&a.set(o)}else{const a=e.getStaticValue(i);e.addValue(i,ld(a!==void 0?a:o,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const ZL=new WeakMap,NF=Object.keys(f2),$de=NF.length,e_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Vde=j8.length;class Ude{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>or.render(this.render,!1,!0);const{latestValues:a,renderState:l}=o;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=Xw(n),this.isVariantNode=hz(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(n,{});for(const f in h){const g=h[f];a[f]!==void 0&&ss(g)&&(g.set(a[f],!1),Sy(c)&&c.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,ZL.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),AF.current||jde(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yS.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ZL.delete(this.current),this.projection&&this.projection.unmount(),Rc(this.notifyUpdate),Rc(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=md.has(t),i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&or.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,o){let s,a;for(let l=0;l<$de;l++){const c=NF[l],{isEnabled:h,Feature:f,ProjectionNode:g,MeasureLayout:d}=f2[c];g&&(s=g),h(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),d&&(a=d))}if(!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:h,dragConstraints:f,layoutScroll:g,layoutRoot:d}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!h||f&&Tp(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,layoutScroll:g,layoutRoot:d})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Zr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<e_.length;r++){const i=e_[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=t["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Bde(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Vde;r++){const i=j8[r],o=this.props[i];(h2(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ld(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=K8(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!ss(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new rC),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class LF extends Ude{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},o){let s=lfe(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),o){sfe(this,r,s);const a=Fde(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function qde(e){return window.getComputedStyle(e)}class Wde extends LF{readValueFromInstance(t,n){if(md.has(n)){const r=Q8(n);return r&&r.default||0}else{const r=qde(t),i=(gz(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return gF(t,n)}build(t,n,r,i){V8(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return G8(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ss(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){xz(t,n,r,i)}}class Hde extends LF{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(md.has(n)){const r=Q8(n);return r&&r.default||0}return n=Sz.has(n)?n:H8(n),t.getAttribute(n)}measureInstanceViewportBox(){return Zr()}scrapeMotionValuesFromProps(t,n){return kz(t,n)}build(t,n,r,i){q8(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){Cz(t,n,r,i)}mount(t){this.isSVGTag=W8(t.tagName),super.mount(t)}}const Gde=(e,t)=>$8(e)?new Hde(t,{enableHardwareAcceleration:!1}):new Wde(t,{enableHardwareAcceleration:!0}),Kde={layout:{ProjectionNode:kF,MeasureLayout:vF}},Yde={...xfe,...Vue,...Ade,...Kde},T4=Xce((e,t)=>_ue(e,t,Yde,Gde));function _F(){const e=M.useRef(!1);return Yw(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Jde(){const e=_F(),[t,n]=M.useState(0),r=M.useCallback(()=>{e.current&&n(t+1)},[t]);return[M.useCallback(()=>or.postRender(r),[r]),t]}class Xde extends M.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Qde({children:e,isPresent:t}){const n=M.useId(),r=M.useRef(null),i=M.useRef({width:0,height:0,top:0,left:0});return M.useInsertionEffect(()=>{const{width:o,height:s,top:a,left:l}=i.current;if(t||!r.current||!o||!s)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),M.createElement(Xde,{isPresent:t,childRef:r,sizeRef:i},M.cloneElement(e,{ref:r}))}const M4=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const a=q2(Zde),l=M.useId(),c=M.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},register:h=>(a.set(h,!1),()=>a.delete(h))}),o?void 0:[n]);return M.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),M.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(e=M.createElement(Qde,{isPresent:n},e)),M.createElement(Gw.Provider,{value:c},e)};function Zde(){return new Map}function epe(e){return M.useEffect(()=>()=>e(),[])}const wf=e=>e.key||"";function tpe(e,t){e.forEach(n=>{const r=wf(n);t.set(r,n)})}function npe(e){const t=[];return M.Children.forEach(e,n=>{M.isValidElement(n)&&t.push(n)}),t}const rpe=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:s="sync"})=>{const a=M.useContext(B8).forceRender||Jde()[0],l=_F(),c=npe(e);let h=c;const f=M.useRef(new Map).current,g=M.useRef(h),d=M.useRef(new Map).current,m=M.useRef(!0);if(Yw(()=>{m.current=!1,tpe(c,d),g.current=h}),epe(()=>{m.current=!0,d.clear(),f.clear()}),m.current)return M.createElement(M.Fragment,null,h.map(w=>M.createElement(M4,{key:wf(w),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:s},w)));h=[...h];const y=g.current.map(wf),C=c.map(wf),x=y.length;for(let w=0;w<x;w++){const E=y[w];C.indexOf(E)===-1&&!f.has(E)&&f.set(E,void 0)}return s==="wait"&&f.size&&(h=[]),f.forEach((w,E)=>{if(C.indexOf(E)!==-1)return;const N=d.get(E);if(!N)return;const _=y.indexOf(E);let D=w;if(!D){const P=()=>{f.delete(E);const I=Array.from(d.keys()).filter(W=>!C.includes(W));if(I.forEach(W=>d.delete(W)),g.current=c.filter(W=>{const G=wf(W);return G===E||I.includes(G)}),!f.size){if(l.current===!1)return;a(),r&&r()}};D=M.createElement(M4,{key:wf(N),isPresent:!1,onExitComplete:P,custom:t,presenceAffectsLayout:o,mode:s},N),f.set(E,D)}h.splice(_,0,D)}),h=h.map(w=>{const E=w.key;return f.has(E)?w:M.createElement(M4,{key:wf(w),isPresent:!0,presenceAffectsLayout:o,mode:s},w)}),M.createElement(M.Fragment,null,f.size?h:h.map(w=>M.cloneElement(w)))};function ipe(e){const t=q2(()=>ld(e)),{isStatic:n}=M.useContext(z8);if(n){const[,r]=M.useState(e);M.useEffect(()=>t.on("change",r),[])}return t}function ope(e){e.values.forEach(t=>t.stop())}function spe(){const e=new Set,t={subscribe(n){return e.add(n),()=>void e.delete(n)},start(n,r){const i=[];return e.forEach(o=>{i.push(cF(o,n,{transitionOverride:r}))}),Promise.all(i)},set(n){return e.forEach(r=>{ofe(r,n)})},stop(){e.forEach(n=>{ope(n)})},mount(){return()=>{t.stop()}}};return t}function ape(){const e=q2(spe);return Yw(e.mount,[]),e}const lpe=ape;class cpe{constructor(){this.componentControls=new Set}subscribe(t){return this.componentControls.add(t),()=>this.componentControls.delete(t)}start(t,n){this.componentControls.forEach(r=>{r.start(t.nativeEvent||t,n)})}}const upe=()=>new cpe;function hpe(){return q2(upe)}const OF=({isOpen:e,containerId:t,style:n={paddingBottom:65},zIndex:r=3,dragListener:i=!0,onClose:o,onOpen:s,children:a})=>{const l=lpe(),c=hpe(),h=ipe(0),f=M.useRef(null),[g,d]=M.useState(0),[m,y]=M.useState(0);M.useEffect(()=>{f.current&&d(f.current.offsetHeight)},[e]),M.useEffect(()=>{e?(s==null||s(),l.start({y:0}),y(0)):(l.start({y:g}),y(g))},[e,s,g,l]);const C=(D,P)=>{h.set(P.offset.y)},x=()=>{h.get()>g*.4?o():l.start({y:0})},w=()=>{o()},E=()=>me(rpe,{onExitComplete:()=>h.set(0),children:[m===0&&S(T4.div,{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.5)",zIndex:r||1},onClick:w},"backdrop"),me(T4.div,{drag:"y",dragControls:c,dragElastic:.1,dragListener:i,dragConstraints:{top:0,bottom:g},onDrag:C,onDragEnd:x,initial:{y:g},animate:l,exit:{y:g},ref:f,style:{position:"fixed",bottom:0,left:0,width:"100%",height:"92%",minHeight:"50%",background:"#fff",boxShadow:"0px -2px 10px rgba(0, 0, 0, 0.1)",borderTopLeftRadius:"10px",borderTopRightRadius:"10px",paddingTop:i?20:0,boxSizing:"border-box",overflow:"auto",zIndex:r?r+1:2,...n},children:[i&&S(T4.div,{onPointerDown:D=>{c.start(D)},style:{position:"absolute",top:"5px",left:"50%",transform:"translateX(-50%)",cursor:"grab",height:10,width:100,textAlign:"center"},children:S("button",{css:{width:50,height:6,background:"#ccc",borderRadius:5}})}),a]},"bottom-sheet")]});if(!t)return E();const[N,_]=M.useState(window.document.getElementById(t));return M.useEffect(()=>{_(window.document.getElementById(t))},[]),N?e?tw.createPortal(E(),N):null:E()},PF=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",d:"M5.5 4h4c.83 0 1.5.67 1.5 1.5v4c0 .83-.67 1.5-1.5 1.5h-4A1.5 1.5 0 0 1 4 9.5v-4C4 4.67 4.67 4 5.5 4zm9 0h4c.83 0 1.5.67 1.5 1.5v4c0 .83-.67 1.5-1.5 1.5h-4A1.5 1.5 0 0 1 13 9.5v-4c0-.83.67-1.5 1.5-1.5zm0 9h4c.83 0 1.5.67 1.5 1.5v4c0 .83-.67 1.5-1.5 1.5h-4a1.5 1.5 0 0 1-1.5-1.5v-4c0-.83.67-1.5 1.5-1.5zm-9 0h4c.83 0 1.5.67 1.5 1.5v4c0 .83-.67 1.5-1.5 1.5h-4A1.5 1.5 0 0 1 4 18.5v-4c0-.83.67-1.5 1.5-1.5zm0-7.5v4h4v-4h-4zm9 0v4h4v-4h-4zm0 9v4h4v-4h-4zm-9 0v4h4v-4h-4z"})}),t_=Vl("button")`
  position: fixed;
  bottom: 80px;
  background-color: #fff;
  width: 48px;
  height: 48px;
  border-radius: 50%;
  color: #0d1216;
  z-index: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  vertical-align: middle;
`,fpe=[{name:"Template",icon:S(zce,{})},{name:"Text",icon:S(Fce,{})},{name:"Image",icon:S(Bce,{})},{name:"Shape",icon:S(jce,{})},{name:"Frame",icon:S(Vce,{})},{name:"Upload",icon:S(yI,{})}],dpe=({version:e})=>{const{actions:t,state:n}=Ot(),r=_r(),i=o=>{switch(o){case"Template":return S(Rce,{onClose:()=>{t.setSidebarTab(),t.setSidebar()}});case"Text":return S(Nce,{onClose:()=>{t.setSidebarTab(),t.setSidebar()}});case"Frame":return S(Ice,{onClose:()=>{t.setSidebarTab(),t.setSidebar()}});case"Image":return S(Pce,{onClose:()=>{t.setSidebarTab(),t.setSidebar()}});case"Shape":return S(_ce,{onClose:()=>{t.setSidebarTab(),t.setSidebar()}});case"Notes":return S($ce,{});case"Upload":return S(Tce,{visibility:!0,onClose:()=>{t.setSidebarTab(),t.setSidebar()}})}};return me("div",{css:{display:"flex",position:"relative",backgroundColor:"#ffffff",borderLeft:"1px solid rgba(217, 219, 228, 0.6)",borderRight:"1px solid rgba(217, 219, 228, 0.6)"},children:[r&&me(jl,{children:[S(OF,{isOpen:!!n.sideBarTab,onClose:()=>{t.setSidebarTab(),t.setSidebar()},children:n.sideBarTab&&i(n.sideBarTab)}),S("div",{id:"bottom_sheet"})]}),me("div",{css:{display:"flex"},children:[S(Wse,{tabs:fpe,active:n.sideBarTab,onChange:(o,s)=>{t.setSidebar(),t.setSidebarTab(s)}}),!r&&me(jl,{children:[me("div",{css:{position:"absolute",bottom:10,left:10},children:["v",e]}),n.sideBarTab&&S("div",{css:{width:360,"@media (max-width: 900px)":{width:"100%",position:"fixed",bottom:0,left:0,top:0,background:"#fff"}},children:i(n.sideBarTab)})]})]}),S("div",{css:{width:n.sidebar?360:0,overflow:"hidden",height:"100%",pointerEvents:"none",borderLeft:"1px solid rgba(217, 219, 228, 0.6)",zIndex:r?1e3:30,...n.sideBarTab?{position:"absolute",top:0,left:77}:{}},id:"settings"}),r&&me("div",{children:[S(t_,{css:{left:10},onClick:()=>t.addPage(),children:S(bg,{})}),S(t_,{css:{right:10},onClick:()=>t.togglePageSettings(),children:S(PF,{})})]})]})},ppe=[{name:"",notes:"",layers:{ROOT:{type:{resolvedName:"RootLayer"},props:{boxSize:{width:1640,height:924},position:{x:0,y:0},rotate:0,color:"rgb(255, 255, 255)",image:null},locked:!1,child:[],parent:null}}}],gpe=({data:e=ppe,...t})=>S(tse,{data:e,...t}),mpe=({open:e,children:t},n)=>{const[r,i]=M.useState(window.document.getElementById("settings")),o=S("div",{ref:n,css:{background:"#fff",width:"100%",height:"100%",overflowY:"auto",pointerEvents:"auto","@media (max-width: 900px)":{width:"100%",position:"fixed",bottom:0,left:0,top:0,background:"#fff"}},children:t});return M.useEffect(()=>{i(window.document.getElementById("settings"))},[]),r&&e?tw.createPortal(o,r):null},tb=M.forwardRef(mpe),ky=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"})}),vpe=()=>{const{fontList:e}=Ot(n=>({fontList:n.fontList})),t=M.useMemo(()=>{const n=[];return e.forEach(r=>{n.push(`
                    @font-face {
                      font-family: '${r.name}';
                      src: url(${r.url}) format('woff2');
                      font-display: block;
                    }
                `)}),n.join(`
`)},[e]);return S(T7,{styles:M7`
        ${t}
      `})},ype=Un.memo(vpe),wpe=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",d:"M15.2 16.34a7.5 7.5 0 1 1 1.38-1.45l4.2 4.2a1 1 0 1 1-1.42 1.41l-4.16-4.16zm-4.7.16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z"})}),bpe=({onSearch:e})=>S($g,{items:[],svgIcon:S(wpe,{}),onSearch:e,autoFocus:!0,showNoResults:!1,styling:{zIndex:2},placeholder:"Search fonts"}),xpe=({className:e=""})=>S("svg",{className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 5.25a.75.75 0 0 0 0 1.5h3.19l-5.69 5.69-1.97-1.97a.75.75 0 0 0-1.06 0l-6.5 6.5a.75.75 0 1 0 1.06 1.06L10 12.06l1.97 1.97a.75.75 0 0 0 1.06 0l6.22-6.22V11a.75.75 0 0 0 1.5 0V6a.75.75 0 0 0-.75-.75h-5Z",fill:"currentColor"})}),Spe=({className:e=""})=>S("svg",{className:e,width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.333 13.333v-.044h.032l-.032-.031V13c0-.713-.285-1.396-.792-1.898l-7.762-7.666a2.667 2.667 0 0 0-1.874-.77H9.333a2.667 2.667 0 0 0-2.666 2.667v21.334a2.667 2.667 0 0 0 2.666 2.666h13.334a2.667 2.667 0 0 0 2.666-2.666V15.333h-2v11.334a.667.667 0 0 1-.666.666H9.333a.667.667 0 0 1-.666-.666V5.333c0-.368.298-.666.666-.666h5.334v5.955a2.667 2.667 0 0 0 2.666 2.667h6v.044h2Zm-8.666-7.197 5.216 5.153h-4.55a.667.667 0 0 1-.666-.667V6.136ZM13 16.333h6a1 1 0 1 1 0 2h-6a1 1 0 0 1 0-2Zm6 5.334h-6a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2Z",fill:"currentColor"})}),vv=Vl("div")`
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;
  padding: 0 12px;
  :hover: {
    background: #f9f9f9;
  }

  > span:nth-of-type(1) {
    flex: 0 1 auto;
    width: 24px;
    margin: 6px 8px 0 0;
    color: rgb(169 169 173);
  }

  > span:nth-of-type(2) {
    margin-right: auto;
    font-size: 16px;
  }
`,Dm=Vl("span")(({fontStyle:e})=>`
    text-transform: capitalize;
    ${cT(e)};
`),n_=e=>e.reduce((t,n)=>t.concat(n.styles.map(r=>({family:n.family,name:r.name,url:r.url,style:r.style}))),[]),Cpe=({selected:e,onChangeFontFamily:t,...n},r)=>{const i=M.useRef(!1),o=_r(),s=M.useRef(null),{usedFonts:a}=xw(),{actions:l,fontList:c,config:h}=Ot((O,z)=>({config:z,fontList:M.useMemo(()=>ZG(O.fontList),[O.fontList])})),[f,g]=M.useState(!1),[d,m]=M.useState(""),[y,C]=M.useState(0),[x,w]=M.useState([]),[E,N]=M.useState([]),[_,D]=M.useState(null),P=M.useCallback(O=>{const z=U=>{const $=new URLSearchParams;return Object.entries(U).forEach(([ne,se])=>{mt.isArray(se)?se.forEach(ae=>$.append(ne,ae)):$.append(ne,se)}),$};return Wa.get(`${h.apis.url}${h.apis.searchFonts}?${z(O)}`).then(U=>U.data)},[]),I=M.useCallback(async(O=0)=>{i.current=!0,g(!0);const z=await P({ps:"30",pi:O+"",kw:d});O?l.appendFontList(n_(z)):l.setFontList(n_(z)),g(!1),z.length>0&&(i.current=!1)},[P,l,g,d]);M.useEffect(()=>{I()},[I]),M.useEffect(()=>{!_&&c.length&&D(MZ(c))},[c]),M.useEffect(()=>{var O;const z=async U=>{const $=U.target;$.scrollHeight-$.scrollTop-80<=$.clientHeight&&!i.current&&(C(y+1),await I(y+1))};return(O=s.current)==null||O.addEventListener("scroll",z),()=>{var U;(U=s.current)==null||U.removeEventListener("scroll",z)}},[I]);const W=async O=>{s.current&&(s.current.scrollTop=0),m(O),await I(0)},G=(O,z)=>{const U=O.indexOf(z),$=[...O];return U!==-1?($.splice(U,1),$):($.push(z),$)};return me(tb,{ref:r,...n,children:[S(ype,{}),me("div",{css:{width:"100%",height:"100%",display:"flex",flexDirection:"column",overflowY:"auto"},children:[o&&me("div",{css:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,height:48,borderBottom:"1px solid rgba(57,76,96,.15)",padding:"0 20px"},children:[S("p",{css:{lineHeight:"48px",fontWeight:600,color:"#181C32",flexGrow:1},children:"Fonts"}),S("div",{css:{fontSize:20,flexShrink:0,width:32,height:32,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>{l.setSidebar()},children:S(dd,{})})]}),me("div",{css:{padding:"16px 16px 0"},children:[S(bpe,{onSearch:W}),S("div",{css:{marginTop:8},children:_&&S(D8,{children:_.map((O,z)=>{var U;return S("div",{className:"carousel-item",children:S(I8,{onClick:()=>t(O),children:S(Dm,{css:{fontFamily:`'${O.name}'`},fontStyle:O.style,children:(U=O.styles)!=null&&U.length?O.family:O.name})})},"rdf-"+z)})})})]}),me("div",{ref:s,css:{flexGrow:1,overflowY:"auto"},children:[me("div",{css:{padding:"16px 16px 8px 8px",fontWeight:700,display:"flex",columnGap:8,alignItems:"center"},children:[S(Spe,{css:{width:24}}),S("span",{children:"Document fonts"})]}),a.map((O,z)=>{var U,$;return me("div",{children:[me(vv,{onClick:()=>t(O),children:[S("span",{children:O.styles&&((U=O.styles)==null?void 0:U.length)>1&&S("button",{onClick:ne=>{ne.preventDefault(),ne.stopPropagation(),w(G(x,z))},children:x.indexOf(z)===-1?S(Q0,{}):S(Q5,{})})}),me(Dm,{css:{fontFamily:`'${O.name}'`},fontStyle:O.style,children:[O.family," (",bx(O.style),")"]}),S("span",{})]}),x.indexOf(z)>-1&&O.styles&&(($=O.styles)==null?void 0:$.length)>1&&O.styles.map((ne,se)=>me(vv,{css:{marginLeft:16},onClick:()=>t(ne),children:[S("span",{}),S(Dm,{css:{fontFamily:`'${ne.name}'`},fontStyle:ne.style,children:bx(ne.style)}),S("span",{})]},se+"-"+ne.name))]},z+"-"+O.family)}),me("div",{css:{borderTop:"1px solid rgba(217, 219, 228, 0.6)"},children:[me("div",{css:{padding:"16px 16px 8px 8px",fontWeight:700,display:"flex",columnGap:8},children:[S(xpe,{}),S("span",{children:"Popular fonts"})]}),c.map((O,z)=>{var U,$,ne;return me("div",{children:[me(vv,{onClick:()=>t(O),children:[S("span",{children:O.styles&&((U=O.styles)==null?void 0:U.length)>1&&S("button",{onClick:se=>{se.preventDefault(),se.stopPropagation(),N(G(E,z))},children:E.indexOf(z)===-1?S(Q0,{}):S(Q5,{})})}),S(Dm,{css:{fontFamily:`'${O.name}'`},fontStyle:O.style,children:($=O.styles)!=null&&$.length?O.family:O.name}),S("span",{children:E.indexOf(z)===-1&&mt.some(O.styles,se=>e.map(ae=>ae.name).includes(se.name))&&S(ky,{})})]}),E.indexOf(z)>-1&&O.styles&&((ne=O.styles)==null?void 0:ne.length)>1&&O.styles.map((se,ae)=>me(vv,{css:{marginLeft:16},onClick:()=>t(se),children:[S("span",{}),S(Dm,{css:{fontFamily:`'${se.name}'`},fontStyle:se.style,children:bx(se.style)}),S("span",{children:e.map(Z=>Z.name).includes(se.name)&&S(ky,{})})]},ae+"-"+se.name))]},z+"-"+O.name)}),f&&S("div",{css:{padding:16},children:"Loading..."})]})]})]})]})},kpe=M.forwardRef(Cpe),TF=(e,t)=>{if(e===t)return!0;for(const n in e)if(e[n]!==t[n])return!1;return!0},Epe=(e,t)=>e.toLowerCase()===t.toLowerCase()?!0:TF(V0(e),V0(t)),Og=(e,t=0,n=1)=>e>n?n:e<t?t:e;function Km(e){const t=M.useRef(e),n=M.useRef(r=>{t.current&&t.current(r)});return t.current=e,n.current}const p2=e=>"touches"in e,Ape=(e,t)=>{for(let n=0;n<e.length;n++)if(e[n].identifier===t)return e[n];return e[0]},wS=e=>e&&e.ownerDocument.defaultView||self,R4=(e,t,n)=>{const r=e.getBoundingClientRect(),i=p2(t)?Ape(t.touches,n):t;return{left:Og((i.pageX-(r.left+wS(e).pageXOffset))/r.width),top:Og((i.pageY-(r.top+wS(e).pageYOffset))/r.height)}},r_=e=>{!p2(e)&&e.preventDefault()},Npe=(e,t)=>t&&!p2(e),Lpe=({onMove:e,onMoveStart:t,onMoveEnd:n,onKey:r,...i})=>{const o=M.useRef(null),s=Km(e),a=Km(t),l=Km(n),c=Km(r),h=M.useRef(null),f=M.useRef(!1),[g,d,m]=M.useMemo(()=>{const y=({nativeEvent:N})=>{const _=o.current;if(_&&(r_(N),!(Npe(N,f.current)||!_))){if(p2(N)){f.current=!0;const D=N.changedTouches||[];D.length&&(h.current=D[0].identifier)}_.focus(),a&&a(R4(_,N,h.current)),s(R4(_,N,h.current)),E(!0)}},C=N=>{r_(N),(p2(N)?N.touches.length>0:N.buttons>0)&&o.current?s(R4(o.current,N,h.current)):E(!1)},x=()=>{E(!1),l&&l()},w=N=>{const _=N.which||N.keyCode;_<37||_>40||(N.preventDefault(),c({left:_===39?.05:_===37?-.05:0,top:_===40?.05:_===38?-.05:0}))};function E(N){const _=f.current,D=o.current,P=wS(D),I=N?P.addEventListener:P.removeEventListener;I(_?"touchmove":"mousemove",C),I(_?"touchend":"mouseup",x)}return[y,w,E]},[c,s]);return M.useEffect(()=>m,[m]),S("div",{...i,onTouchStart:g,onMouseDown:g,css:{position:"absolute",left:0,top:0,right:0,bottom:0,borderRadius:"inherit",outline:"none",touchAction:"none"},ref:o,onKeyDown:d,tabIndex:0})},oC=Un.memo(Lpe),MF=({style:e,left:t,top:n=.5})=>{const r={top:`${n*100}%`,left:`${t*100}%`};return S("div",{css:{position:"absolute",width:8,height:8,transform:"translate(-50%,-50%)",background:"#fff",borderRadius:"50%",boxShadow:"0 2px 5px rgba(57,76,96,.15), 0 0 0 1px rgba(64,87,109,.07)",zIndex:2,transition:"width height .1s",...e},style:r})},_pe=({hue:e,onChange:t})=>{const[n,r]=M.useState(!1);return S("div",{css:{borderRadius:6,position:"relative",height:12,background:"linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)",cursor:"pointer"},children:S(oC,{onMoveStart:()=>{r(!0)},onMoveEnd:()=>{r(!1)},onMove:i=>{t({h:360*i.left})},onKey:i=>{t({h:Og(e+i.left*360,0,360)})},"aria-label":"Hue","aria-valuenow":Math.round(e),"aria-valuemax":"360","aria-valuemin":"0",children:S(MF,{style:{width:n?12:8,height:n?12:8,":hover":{width:12,height:12}},left:e/360})})})},Ope=Un.memo(_pe),Ppe=({zIndex:e,color:t,left:n,top:r=.5})=>{const i={top:`${r*100}%`,left:`${n*100}%`};return S("div",{css:{position:"absolute",width:14,height:14,transform:"translate(-50%,-50%)",background:"#fff",border:"3px solid #fff",borderRadius:"50%",boxShadow:"0 2px 5px rgba(57,76,96,.15), 0 0 0 1px rgba(64,87,109,.07)",zIndex:e},style:i,children:S("div",{css:{position:"absolute",left:0,top:0,right:0,bottom:0,pointerEvents:"none",borderRadius:"inherit"},style:{backgroundColor:t}})})},Tpe=({hsva:e,onChange:t})=>{const n=o=>{t({s:o.left*100,v:100-o.top*100})},r=o=>{t({s:Og(e.s+o.left*100,0,100),v:Og(e.v-o.top*100,0,100)})},i={backgroundColor:O5({h:e.h,s:100,v:100,a:1})};return S("div",{css:{position:"relative",flexGrow:1,borderColor:"transparent",borderRadius:4,height:112,backgroundImage:"linear-gradient(to top, #000, rgba(0, 0, 0, 0)), linear-gradient(to right, #fff, rgba(255, 255, 255, 0))",cursor:"pointer"},style:i,children:S(oC,{onMove:n,onKey:r,"aria-label":"Color","aria-valuetext":`Saturation ${Math.round(e.s)}%, Brightness ${Math.round(e.v)}%`,children:S(Ppe,{zIndex:3,top:1-e.v/100,left:e.s/100,color:O5(e)})})})},Mpe=Un.memo(Tpe);function Rpe(e,t,n){const r=Km(n),[i,o]=M.useState(()=>e.toHsva(t)),s=M.useRef({color:t,hsva:i});M.useEffect(()=>{if(!e.equal(t,s.current.color)){const l=e.toHsva(t);s.current={hsva:l,color:t},o(l)}},[t,e]),M.useEffect(()=>{let l;!TF(i,s.current.hsva)&&!e.equal(l=e.fromHsva(i),s.current.color)&&(s.current={hsva:i,color:l},r(l))},[i,e,r]);const a=M.useCallback(l=>{o(c=>Object.assign({},c,l))},[]);return[i,a]}const Dpe=({hsva:e,onChange:t})=>{const[n,r]=M.useState(!1),i=()=>{r(!0)},o=()=>{r(!1)},s=f=>{t({a:f.left})},a=f=>{t({a:Og(e.a+f.left)})},l=O5(Object.assign({},e,{a:0})),c=O5(Object.assign({},e,{a:1})),h={backgroundImage:`linear-gradient(90deg, ${l}, ${c})`};return S("div",{css:{position:"relative",backgroundImage:"linear-gradient(-45deg,rgba(57,76,96,.15) 25%,transparent 25%,transparent 75%,rgba(57,76,96,.15) 75%),linear-gradient(-45deg,rgba(57,76,96,.15) 25%,transparent 25%,transparent 75%,rgba(57,76,96,.15) 75%)",backgroundSize:"8px 8px",backgroundPosition:"0  0, 4px 4px",backgroundColor:"#fff",boxShadow:"inset 0 0 0 1px rgba(57,76,96,.15)",cursor:"pointer",borderRadius:6},children:S("div",{css:{borderRadius:6,height:12,background:"linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)"},style:h,children:S(oC,{onMoveStart:i,onMoveEnd:o,onMove:s,onKey:a,children:S(MF,{style:{width:n?12:8,height:n?12:8,":hover":{width:12,height:12}},left:e.a})})})})},Ipe=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",d:"m14.33 8.26-6.8 6.8a4.5 4.5 0 0 0-.65.82h3.57l5.75-5.75-1.87-1.87zm1.06-1.06 1.87 1.87 2.4-2.41a1.32 1.32 0 1 0-1.86-1.87l-2.4 2.4zm2.93 2.93 1.54 1.54a.75.75 0 0 1-1.06 1.06l-1.54-1.54-6.81 6.8a6 6 0 0 1-2.04 1.34l-3.83 1.52a.75.75 0 0 1-.97-.98l1.51-3.83a6 6 0 0 1 1.34-2.03l6.8-6.81-1.53-1.54a.75.75 0 0 1 1.06-1.06l1.54 1.54 2.41-2.41a2.82 2.82 0 0 1 3.99 3.99l-2.41 2.4z"})}),zpe=({colorModel:e,color:t=e.defaultColor,onChange:n,enableAlpha:r,...i})=>{const o=M.useRef(null),s=M.useRef(null),[a,l]=M.useState(!1),[c,h]=Rpe(e,t,n),f=N=>{const _=W0(N.nativeEvent),D=Jp(_,N.nativeEvent);!/[a-f0-9]/.test(D)&&!["Backspace","Delete",fr("Mod-v"),fr("Mod-a")].includes(D)&&N.preventDefault()},g=N=>{const _=N.replace(/^#/,"");_.length>=3?h(J3(`#${_}`)):h(J3(_===""?"#ffffff":`#${_}${_}00000`.slice(0,7)))},d=N=>{const _=N.target.value.replace(/^#/,"");g(_),N.target.value=`#${_}`},m=N=>{const _=`${N.clipboardData.getData("text").replaceAll(/([^a-fA-F0-9])/g,"")}`.slice(0,6);g(_),N.target.value=`#${_}`,N.preventDefault()},y=N=>{const _=W0(N.nativeEvent),D=Jp(_,N.nativeEvent);!/[0-9]/.test(D)&&!["Backspace","Delete",fr("Mod-v"),fr("Mod-a")].includes(D)&&N.preventDefault()},C=N=>{const _=parseInt(N.target.value,10)||0,D=Math.max(0,Math.min(100,_));h({...c,a:D*.01}),N.target.value=D.toString()},x=N=>{const _=N.clipboardData.getData("text").replaceAll(/([^0-9])/g,""),D=Math.max(0,Math.min(100,parseInt(_,10)));N.target.value=D.toString(),h({...c,a:D*.01}),N.preventDefault()},w=N=>{s.current.value=P7({...c,...N}).slice(0,7),h(N)},E=async()=>{if(window.EyeDropper){const N=await new window.EyeDropper().open();s.current.value=new xr(N.sRGBHex).toHex(),g(new xr(N.sRGBHex).toHex())}};return me("div",{...i,ref:o,css:{position:"relative",width:"100%",display:"grid",rowGap:8},children:[S(Mpe,{hsva:c,onChange:w}),S(Ope,{hue:c.h,onChange:w}),r&&S(Dpe,{hsva:c,onChange:w}),me("div",{css:{display:"flex"},children:[me("div",{css:{flexGrow:1,borderWidth:1,borderRadius:4,fontSize:14,lineHeight:"36px",color:"rgb(94, 98, 120)",marginRight:8,display:"flex",overflow:"hidden",borderColor:a?"#3d8eff":"rgb(217, 219, 228)"},children:[S("div",{css:{flexGrow:1},children:S("input",{ref:s,type:"text",defaultValue:t,css:{width:"100%",height:"100%",textAlign:r?"left":"center",textTransform:"uppercase",padding:"0 12px"},onKeyDown:f,onChange:d,onFocus:N=>{N.target.select(),l(!0)},onBlur:()=>l(!1),onPaste:m,maxLength:7})}),r&&me("div",{css:{display:"flex",alignItems:"center",flexShrink:0,width:80,paddingLeft:12},children:[S("input",{type:"text",onKeyDown:y,onChange:C,onFocus:N=>{N.target.select()},onPaste:x,defaultValue:Math.round(c.a*100),css:{width:"100%",height:"100%",textAlign:"right",padding:"0 8px"}}),S("span",{css:{color:"rgba(13,18,22,.7)",padding:"0 8px",flexShrink:0},children:"%"})]})]}),S("div",{css:{},children:S("div",{css:{width:38,height:38,border:"1px solid rgb(217, 219, 228)",background:window.EyeDropper?void 0:t,borderRadius:4,fontSize:24,display:"flex",alignItems:"center",justifyContent:"center",cursor:window.EyeDropper?"pointer":void 0},onClick:E,children:window.EyeDropper&&S(Ipe,{})})})]})]})},Fpe={defaultColor:"000",toHsva:J3,fromHsva:({h:e,s:t,v:n,a:r})=>P7({h:e,s:t,v:n,a:r}),equal:Epe},Ey=e=>S(zpe,{...e,colorModel:Fpe}),jpe=({color:e,selected:t,...n},r)=>{const i=`c_${e.replace("#","")}`;return me("button",{ref:r,type:"button","data-tooltip-id":i,css:{paddingBottom:"100%",position:"relative",width:"100%"},...n,children:[me("div",{css:{backgroundColor:"#fff",backgroundPosition:"0 0, 6px 6px",backgroundSize:"12px 12px",inset:0,position:"absolute",backgroundImage:"linear-gradient(-45deg,rgba(57,76,96,.15) 25%,transparent 25%,transparent 75%,rgba(57,76,96,.15) 75%),linear-gradient(-45deg,rgba(57,76,96,.15) 25%,transparent 25%,transparent 75%,rgba(57,76,96,.15) 75%)"},children:[S("div",{css:{borderRadius:4,overflow:"hidden",background:e,width:"100%",height:"100%",position:"absolute",boxShadow:"inset 0 0 0 1px rgba(57,76,96,.15)"}}),S("div",{css:{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:4,boxShadow:t&&new xr(t).toRgbString()===new xr(e).toRgbString()?"0 0 0 1px #3d8eff,inset 0 0 0 1px #009ef7,inset 0 0 0 3px #fff":void 0}})]}),S(h8,{id:i,content:e})]})},Ip=M.forwardRef(jpe),Bpe=({open:e,children:t,anchorEl:n,placement:r="bottom-end",onClose:i,offsets:o},s)=>{const a=t8(s),l=M.useRef(null),[c,h]=M.useState({x:-9999,y:-9999}),[f,g]=M.useState({x:-9999,y:-9999});M.useEffect(()=>{const m=mt.throttle(()=>{if(n){const y=n.getBoundingClientRect(),[C]=r.split("-"),x={x:y.x,y:y.y};C==="right"&&(x.x+=y.width),C==="bottom"&&(x.y+=y.height),C==="top"&&(x.y-=y.height),C==="left"&&(x.x-=y.width),h(x)}},16);return m(),window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m)}},[e]),M.useEffect(()=>{const m=y=>{const C=a.current;let x=!0;if(C)for(let w=0;w<C.children.length;w++)C.children[w].contains(y.target)&&(x=!1);x&&i()};return window.addEventListener("mousedown",m,{capture:!0}),()=>{window.removeEventListener("mousedown",m,{capture:!0})}},[]),M.useEffect(()=>{const m=()=>{var C;const[x,w]=r.split("-");if(n){const E=(C=l.current)==null?void 0:C.getBoundingClientRect(),N=n.getBoundingClientRect(),_={x:0,y:0};x==="top"?(_.y=-E.height+N.height,w==="end"&&(_.x=-E.width+N.width)):x==="bottom"&&w==="end"&&(_.x=-E.width+N.width),g(_)}else g({x:0,y:0})},y=new MutationObserver(m);return l.current&&y.observe(l.current,{subtree:!0,childList:!0,attributes:!0}),()=>{y.disconnect()}},[r,n]);const d=M.useMemo(()=>{if(o&&o[r]){const m=o[r];return{x:c.x+m.x,y:c.y+m.y}}else return c},[o,c]);return S("div",{ref:a,css:{position:"fixed",top:0,left:0,zIndex:1040},children:S("div",{ref:l,css:{position:"absolute",top:d.y,left:d.x,transform:`translate(${f.x}px, ${f.y}px)`,boxShadow:"0 0 0 1px rgba(64,87,109,.07),0 2px 12px rgba(53,71,90,.2)",borderRadius:4},children:S("div",{css:{background:"#fff"},children:t})})})},$pe=M.forwardRef(Bpe),Vpe=({open:e,children:t,element:n,...r},i)=>{const[o]=M.useState(window.document.createElement("div"));M.useEffect(()=>(!n&&window.document.body.appendChild(o),()=>{!n&&window.document.body.removeChild(o)}),[n,o,e]);const s=S($pe,{ref:i,open:e,...r,children:t});return e?tw.createPortal(s,n||o):null},Dc=M.forwardRef(Vpe),cd=({label:e,min:t=0,max:n=100,step:r=1,defaultValue:i,value:o,hideLabel:s,hideInput:a,disabled:l,onChange:c})=>{const h=M.useRef(null),f=M.useRef(null),g=M.useRef(null),d=M.useRef({startPoint:0,startValue:0}),[m,y]=M.useState(0),[C,x]=M.useState(i||o||0),[w,E]=M.useState(!1);M.useEffect(()=>{o!==void 0&&(x(o),f.current&&(f.current.value=`${o}`))},[o]),M.useEffect(()=>{if(t<0){const U=n-t,$=-t/U*100;y($)}},[t,n]);const N=U=>{var $;const ne=($=h.current)==null?void 0:$.getBoundingClientRect();return U-ne.x},_=U=>{var $;x(U);const ne=(r+"").split("."),se=parseFloat((Math.round(U/r)*r).toFixed((($=ne[1])==null?void 0:$.length)||0));f.current&&(f.current.value=se+""),c&&c(se)},D=U=>{var $;const ne=(($=h.current)==null?void 0:$.getBoundingClientRect()).width/(n-t);return U/ne},P=mt.throttle(U=>{const{clientX:$}=zr(U),ne=$-d.current.startPoint,se=Math.max(t,Math.min(n,d.current.startValue+D(ne)));_(se)},16),I=U=>{const{clientX:$}=zr(U),ne=$-d.current.startPoint;if(ne){const se=Math.max(t,Math.min(n,d.current.startValue+D(ne)));_(se)}G()},W=()=>{E(!0),window.addEventListener("touchmove",P),window.addEventListener("mousemove",P),window.addEventListener("mouseup",I,{once:!0}),window.addEventListener("mouseleave",I,{once:!0}),window.addEventListener("touchend",I,{once:!0})},G=()=>{E(!1),window.removeEventListener("touchmove",P),window.removeEventListener("mousemove",P),window.removeEventListener("mouseup",I),window.removeEventListener("mouseleave",I),window.removeEventListener("touchend",I)},O=U=>{if(l)return;const{clientX:$}=zr(U.nativeEvent),ne=N($),se=D(ne);d.current.startPoint=$,d.current.startValue=t+se,_(t+se),W()},z=()=>{if(f.current){const U=Math.max(t,Math.min(n,parseInt(f.current.value,10)));f.current.blur(),_(U)}};return me("div",{css:{display:"grid",gridColumnGap:16,gridRowGap:8,gridTemplateColumns:"1fr auto",alignItems:"center"},children:[!s&&S("div",{css:{fontSize:14,textTransform:"capitalize",whiteSpace:"nowrap"},children:e}),!a&&S("div",{css:{background:"#fff",border:"1px solid rgba(43,59,74,.3)",width:40,height:24,borderRadius:4,overflow:"hidden"},children:S("input",{ref:f,css:{width:"100%",height:"100%",padding:2,textAlign:"center"},defaultValue:C,onBlur:z,onKeyDown:U=>{U.key.toLowerCase()==="enter"&&z()}})}),me("div",{css:{height:16,position:"relative",width:"100%",gridRow:a&&s?1:"2/auto",gridColumn:"1/-1"},onMouseDown:O,onTouchStart:O,children:[S("div",{ref:h,css:{width:"100%",position:"absolute",left:0,top:"49%",transform:"translateY(-49%)",height:2,borderRadius:2,cursor:"pointer",backgroundColor:l?"rgb(57 76 96 / 15%)":"#bbbbbb"}}),m>0&&me("div",{css:{position:"absolute",top:"49%",width:"100%",transform:"translateY(-49%)",display:"inline-flex"},children:[S("div",{css:{width:`calc(${m}% - 2px)`,maxWidth:"calc(100% - 4px)"}}),S("div",{css:{width:4,height:4,transform:"translateY(-6px)",borderRadius:"49%",background:"#bbbbbb"}})]}),S("div",{ref:g,css:{position:"absolute",top:"49%"},style:{width:`${(Math.abs(C)-(t>0?t:0))/(n-t)*100}%`,marginLeft:`${Math.min(m,m+C/(n-t)*100)}%`,transform:`scaleX(${C>=0?1:-1})`},children:S("div",{css:{backgroundColor:l?"rgb(57 76 96 / 15%)":"#3d8eff",width:"100%",height:2,transform:"translateY(-50%)",position:"absolute",borderRadius:2},children:me("div",{css:{width:16,height:16,transform:"translate(-50%, -44%)",background:"#fff",left:"100%",position:"absolute"},onMouseDown:O,onTouchStart:O,children:[S("div",{css:{position:"absolute",borderRadius:"50%",width:16,height:16,background:l?"#898d90":"transparent",transform:w?" scale(1.125)":void 0,border:w?"1px solid #3d8eff":"1px solid #5E6278"}}),S("div",{css:{position:"absolute",borderRadius:"50%",width:16,height:16,boxShadow:w?"0 0 0 8px #3d8eff":"0 0 4px 1px #bbbbbb",opacity:w?.5:1}})]})})})]})]})},D4=e=>[{value:"none",img:`${e}/text-effects/none.png`},{value:"shadow",img:`${e}/text-effects/shadow.png`,settings:{offset:50,direction:45,blur:0,transparency:40,color:"#000000"}},{value:"lift",img:`${e}/text-effects/lift.png`,settings:{intensity:50}},{value:"hollow",img:`${e}/text-effects/hollow.png`,settings:{thickness:50}},{value:"splice",img:`${e}/text-effects/splice.png`,settings:{thickness:50,offset:50,direction:45,color:"#000000"}},{value:"echo",img:`${e}/text-effects/echo.png`,settings:{offset:50,direction:45,color:"#000000"}},{value:"neon",img:`${e}/text-effects/neon.png`,settings:{intensity:50}},{value:"glitch",img:`${e}/text-effects/glitch.png`,settings:{offset:30,direction:90,color:"#000000"}},{value:"outline",img:`${e}/text-effects/outline.png`,settings:{thickness:50,color:"#000000"}}],Upe=({...e},t)=>{const{config:{editorAssetsUrl:n}}=M.useContext(fd),r=_r(),i=M.useRef(null),o=["shadow","lift","splice","echo","outline"],[s,a]=M.useState(!1),{selectedLayers:l}=Ni(),{actions:c,activePage:h}=Ot(C=>({activePage:C.activePage})),f=l.filter(C=>Tc(C)),{effect:g,settings:d}=M.useMemo(()=>f.reduce((C,x)=>{const w=x.data.props;return w.effect&&(w.effect.name===C.effect||w.effect.name&&C.effect==="none"?(C.effect=w.effect.name,C.settings=w.effect.settings):(C.effect="none",C.settings={})),C},{effect:"none",settings:{}}),[f]),m=C=>{c.history.new(),f.forEach(({id:x,data:{props:{colors:w}}})=>{var E;if(C==="none")c.setProp(h,x,{effect:null});else{const N=mt.cloneDeep((E=D4(n).find(_=>_.value===C))==null?void 0:E.settings);if(w.length>0){const _=new xr(w[0]);_.white()>50?N.color=_.darken(.5).toRgbString():N.color=_.whiten(.5).toRgbString()}c.history.merge().setProp(h,x,{effect:{name:C,settings:N}},(_,D)=>{if(D)return D})}})},y=mt.throttle((C,x)=>{const w=f.map(E=>E.id);c.history.throttle(2e3).setProp(h,w,{effect:{settings:{[C]:x}}})},16);return me(tb,{ref:t,...e,children:[me("div",{css:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,height:50,borderBottom:"1px solid rgba(57,76,96,.15)",padding:"0 20px"},children:[S("p",{css:{lineHeight:"48px",fontWeight:600,color:"#181C32",flexGrow:1},children:"Effects"}),r&&S("div",{css:{fontSize:20,flexShrink:0,width:32,height:32,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>{c.setSidebar()},children:S(dd,{})})]}),me("div",{css:{padding:"24px 16px"},children:[S("p",{css:{marginBottom:24},children:"Style"}),me("div",{css:{display:"grid",gridTemplateColumns:"repeat(3,minmax(0,1fr))",gap:12,fontSize:10},children:[D4(n).map(C=>me("div",{children:[me("div",{css:{cursor:"pointer",position:"relative"},onClick:()=>m(C.value),children:[S("div",{css:{paddingBottom:"100%",width:"100%"}}),S("img",{src:C.img,css:{width:"100%",height:"100%",position:"absolute",left:0,top:0,borderRadius:4,boxShadow:C.value===g?"0 0 0 2px #3d8eff,inset 0 0 0 2px #fff":"0 0 0 1px rgba(43,59,74,.3)",":hover":{boxShadow:"00 0 0 2px #3d8eff,inset 0 0 0 2px #fff"}}})]}),S("div",{css:{textAlign:"center",marginTop:4,lineHeight:"20px",textTransform:"capitalize"},children:C.value})]},C.value)),d&&S("div",{css:{gridRow:`${Math.ceil((1+D4(n).findIndex(C=>C.value===g))/3)+1} / auto`,gridColumn:"1/-1",padding:"8px 0"},children:S("div",{css:{display:"grid",rowGap:8},children:Object.entries(d).map(([C,x])=>me(M.Fragment,{children:[C!=="color"&&S(cd,{label:C,min:C==="direction"?-180:0,max:C==="direction"?180:g!=="outline"?100:200,defaultValue:x,onChange:w=>{y(C,w)}}),C==="color"&&o.includes(g)&&me("div",{css:{display:"flex",alignItems:"center"},children:[S("div",{css:{flexGrow:1,fontSize:14,textTransform:"capitalize",whiteSpace:"nowrap"},children:"Color"}),S("div",{ref:i,css:{width:32,height:32},children:S(Ip,{color:x,selected:null,onClick:()=>a(!0)})}),S(Dc,{open:s,anchorEl:i.current,placement:"bottom-end",onClose:()=>a(!1),children:S("div",{css:{padding:16,width:280},children:S(Ey,{color:new xr(x||"#f25022").toHex(),onChange:w=>{y(C,Y3(w))}})})})]})]},C))})})]})]})]})},qpe=M.forwardRef(Upe),Wpe=["leftToRight","topToBottom","topLeftToBottomRight","circleCenter","circleTopLeft"],I4=({selectedColor:e,gradient:t,event:n,children:r,onChangeGradient:i,onChangeColor:o})=>{const s=M.useRef(null),a=M.useRef(null),l=M.useRef([]),[c,h]=M.useState(!1),[f,g]=M.useState(null),[d,m]=M.useState(t?"gradient":"solid"),[y,C]=M.useState(),[x,w]=M.useState(e),E=M.useMemo(()=>{if(t!=null&&t.colors.length)return t==null?void 0:t.colors;{const G=new xr(e),O=G.toHsl();return O.l<50?O.l=Math.min(100,O.l+30):O.l=Math.max(0,O.l-30),[G.toRgbString(),new xr(O).toRgbString()]}},[t,e]);M.useEffect(()=>{c&&C({colors:E,style:(t==null?void 0:t.style)||"leftToRight"})},[c]),M.useEffect(()=>{y&&d==="gradient"&&i(y)},[y,d]);const N=G=>{w(G),o(G)},_=G=>{C({colors:E,style:G})},D=G=>{if(f){const O=[...E];O[f.index]=G,C({colors:O,style:(y==null?void 0:y.style)||"leftToRight"})}},P=()=>{const G=E[E.length-1];C({colors:[...E,G],style:(t==null?void 0:t.style)||"leftToRight"}),g({index:E.length,color:G})},I=()=>{C({colors:(y==null?void 0:y.colors)||[],style:(y==null?void 0:y.style)||"leftToRight"})},W=G=>{y&&C({colors:y.colors.filter((O,z)=>z!==G),style:y.style})};return me(M.Fragment,{children:[S("div",{ref:a,css:{cursor:"pointer"},onClick:()=>n==="click"&&h(!0),onDoubleClick:()=>n==="doubleClick"&&h(!0),children:r}),S(Dc,{ref:s,open:c,anchorEl:a.current,placement:"bottom",offsets:{bottom:{y:8,x:0}},onClose:()=>{h(!1),g(null)},children:me("div",{css:{padding:"0 16px 16px 16px",width:280},children:[me("div",{css:{display:"flex",justifyContent:"center",marginBottom:12,borderBottom:"1px solid rgba(217, 219, 228, 0.6)"},children:[S("div",{css:{display:"inline-block",cursor:"pointer",padding:8,flexGrow:1,textAlign:"center",overflow:"hidden",flexShrink:0,fontWeight:700,whiteSpace:"nowrap",color:d==="solid"?"#3d8eff":"rgba(13,18,22,.7)"},onClick:()=>{m("solid"),N(e)},children:"Solid Color"}),S("div",{css:{display:"inline-block",cursor:"pointer",padding:8,flexGrow:1,textAlign:"center",overflow:"hidden",flexShrink:0,fontWeight:700,whiteSpace:"nowrap",color:d==="gradient"?"#3d8eff":"rgba(13,18,22,.7)"},onClick:()=>{m("gradient"),I()},children:"Gradient"})]}),d==="solid"&&S("div",{css:{},children:S(Ey,{color:new xr(x).toHex(),onChange:N})}),d==="gradient"&&me("div",{css:{display:"grid",rowGap:12},children:[me("div",{children:[S("div",{css:{fontWeight:700,lineHeight:2.2},children:"Gradient colors"}),me("div",{css:{display:"grid",gridTemplateColumns:" repeat(auto-fill, minmax(40px, 1fr))",gridGap:8},children:[y==null?void 0:y.colors.map((G,O)=>me("div",{css:{position:"relative"},children:[S(Ip,{ref:z=>l.current[O]=z,selected:null,color:G,onClick:()=>g({index:O,color:G})}),S("div",{css:{position:"absolute",top:-8,right:-8,fontSize:12,padding:4,borderRadius:"50%",opacity:0,transition:"opacity .15s ease-in-out",background:"rgba(17,23,29,.6)",color:"#fff",display:(y==null?void 0:y.colors.length)>2?"block":"none",cursor:"pointer",":hover":{opacity:1}},onClick:()=>(y==null?void 0:y.colors.length)>2&&W(O),children:S(o8,{})})]},O)),S(Dc,{open:!!f,anchorEl:f&&l.current[f.index],element:s.current,placement:"bottom",offsets:{bottom:{y:8,x:0}},onClose:()=>g(null),children:S("div",{css:{padding:16,width:280},children:S(Ey,{enableAlpha:!0,color:new xr((f==null?void 0:f.color)||"#f25022").toHex(),onChange:D})})}),S("div",{css:{paddingBottom:"100%",position:"relative",width:"100%",cursor:"pointer"},onClick:P,children:S("div",{css:{background:"rgba(64,87,109,.07)",fontSize:24,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",inset:0,borderRadius:4,transition:"background-color .1s linear,border-color .1s linear,color .1s linear",":hover":{background:"rgba(57,76,96,.15)"}},children:S(bg,{})})})]})]}),me("div",{children:[S("div",{css:{fontWeight:700,lineHeight:2.2},children:"Style"}),S("div",{css:{display:"grid",columnGap:8,gridAutoFlow:"column"},children:Wpe.map(G=>S("div",{css:{width:"100%",height:40,borderRadius:4,overflow:"hidden"},onClick:()=>_(G),children:S("div",{css:{backgroundColor:"#fff",backgroundPosition:"0 0, 6px 6px",backgroundSize:"12px 12px",width:"100%",height:"100%",position:"relative",backgroundImage:"linear-gradient(-45deg,rgba(57,76,96,.15) 25%,transparent 25%,transparent 75%,rgba(57,76,96,.15) 75%),linear-gradient(-45deg,rgba(57,76,96,.15) 25%,transparent 25%,transparent 75%,rgba(57,76,96,.15) 75%)"},children:S("div",{css:{background:oh(E,G),position:"absolute",inset:0}})})},G))})]})]})]})})]})},i_=({color:e,event:t,onChange:n,children:r})=>{const i=M.useRef(null),[o,s]=M.useState(!1);return me(M.Fragment,{children:[S("div",{ref:i,css:{cursor:"pointer"},onClick:()=>t==="click"&&s(!0),onDoubleClick:()=>t==="doubleClick"&&s(!0),children:r}),S(Dc,{open:o,anchorEl:i.current,placement:"bottom",offsets:{bottom:{y:8,x:0}},onClose:()=>s(!1),children:S("div",{css:{padding:16,width:280},children:S(Ey,{color:new xr(e).toHex(),onChange:n})})})]})},z4=[["#000000","#545454","#737373","#a6a6a6","#d9d9d9","#ffffff"],["#ff3131","#FF5757","#FF66C4","#CB6CE6","#8C52FF","#5E17EB"],["#0097B2","#0CC0DF","#5CE1E6","#38B6FF","#5271FF","#004AAD"],["#00BF62","#7ED957","#C1FF72","#FFDE59","#FFBD59","#FF914D"]],o_=[[{colors:["rgb(0, 0, 0)","rgb(115, 115, 115) 100%"],style:"leftToRight"},{colors:["rgb(0, 0, 0)","rgb(200, 145, 22) 100%"],style:"leftToRight"},{colors:["rgb(0, 0, 0)","rgb(53, 51, 205) 100%"],style:"leftToRight"},{colors:["rgb(166, 166, 166)","rgb(255, 255, 255) 100%"],style:"leftToRight"},{colors:["rgb(255, 247, 173)","rgb(255, 169, 249) 100%"],style:"leftToRight"},{colors:["rgb(205, 255, 216)","rgb(148, 185, 255) 100%"],style:"leftToRight"}],[{colors:["rgb(255, 49, 49)","rgb(255, 145, 77) 100%"],style:"leftToRight"},{colors:["rgb(255, 87, 87)","rgb(140, 82, 255) 100%"],style:"leftToRight"},{colors:["rgb(81, 112, 255)","rgb(255, 102, 196) 100%"],style:"leftToRight"},{colors:["rgb(0, 74, 173)","rgb(203, 108, 230) 100%"],style:"leftToRight"},{colors:["rgb(140, 82, 255)","rgb(92, 225, 230) 100%"],style:"leftToRight"},{colors:["rgb(93, 224, 230)","rgb(0, 74, 173) 100%"],style:"leftToRight"}],[{colors:["rgb(140, 82, 255)","rgb(0, 191, 99) 100%"],style:"leftToRight"},{colors:["rgb(0, 151, 178)","rgb(126, 217, 87) 100%"],style:"leftToRight"},{colors:["rgb(12, 192, 223)","rgb(255, 222, 89) 100%"],style:"leftToRight"},{colors:["rgb(255, 222, 89)","rgb(255, 145, 77) 100%"],style:"leftToRight"},{colors:["rgb(255, 102, 196)","rgb(255, 222, 89) 100%"],style:"leftToRight"},{colors:["rgb(140, 82, 255)","rgb(255, 145, 77) 100%"],style:"leftToRight"}]],Hpe=({selected:e,gradient:t,useGradient:n,onSelect:r,onChangeGradient:i,...o},s)=>{const a=_r(),[l,c]=M.useState(null),[h,f]=M.useState(null),[g]=M.useState(e),{actions:d,state:m}=Ot(),y=M.useMemo(()=>m.pages.reduce((P,I)=>(Object.entries(I.layers).forEach(([,W])=>{hh(W)&&W.data.props.color||X5(W)&&W.data.props.color?P.push(W.data.props.color):Tc(W)?P.push(...W.data.props.colors):vg(W)&&W.data.props.color&&P.push(...W.data.props.color)}),mt.uniq(P)),[]),[]),C=M.useMemo(()=>{const P=m.pages.reduce((I,W)=>(Object.entries(W.layers).forEach(([,G])=>{(hh(G)&&G.data.props.gradientBackground||(X5(G)||vg(G))&&G.data.props.gradientBackground)&&I.push(G.data.props.gradientBackground)}),I),[]);return mt.uniqWith(P,mt.isEqual)},[]),x=M.useMemo(()=>{if(l){const P=y.findIndex(I=>g&&I===new xr(g).toRgbString());return mt.uniq([...y.slice(0,P),l,...y.slice(P,y.length)])}else return y},[y,l,g]),w=M.useMemo(()=>{if(h){const P=C.findIndex(I=>mt.isEqual(I,t));return mt.uniqWith([...C.slice(0,P),h,...C.slice(P,C.length)],mt.isEqual)}else return C},[C,h,t]),E=P=>{mt.isEqual(P,l)||(c(null),f(null)),r(new xr(P).toRgbString())},N=P=>{mt.isEqual(P,h)||(c(null),f(null)),i&&i(P)},_=P=>{c(P),f(null),r(P)},D=P=>{c(null),f(P),i&&i(P)};return me(tb,{ref:s,...o,children:[me("div",{css:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,height:50,borderBottom:"1px solid rgba(57,76,96,.15)",padding:"0 20px"},children:[S("p",{css:{lineHeight:"48px",fontWeight:600,color:"#181C32",flexGrow:1},children:"Colors"}),a&&S("div",{css:{fontSize:20,flexShrink:0,width:32,height:32,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>{d.setSidebar()},children:S(dd,{})})]}),me("div",{css:{padding:"0 20px",display:"grid",rowGap:24},children:[me("div",{children:[S("div",{css:{padding:"8px 0",fontWeight:700},children:"Document colors"}),me("div",{css:{display:"grid",gridGap:12,gridTemplateColumns:`repeat(${z4[0].length},minmax(0,1fr))`},children:[n&&i&&S(I4,{selectedColor:new xr(l||e||"#f25022").toHex(),event:"click",gradient:h||t,onChangeColor:P=>{_(new xr(P).toRgbString())},onChangeGradient:D,children:S("div",{css:{paddingBottom:"100%",position:"relative",width:"100%",marginTop:13},children:S("div",{css:{borderRadius:4,overflow:"hidden",background:"conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",width:"100%",height:"100%",position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:S("div",{css:{fontSize:16,width:24,height:24,background:"#ffffff",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:S(bg,{})})})})}),!n&&S(i_,{color:g||"#f25022",event:"click",onChange:E,children:S("div",{css:{paddingBottom:"100%",position:"relative",width:"100%",marginTop:13},children:S("div",{css:{borderRadius:4,overflow:"hidden",background:"conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",width:"100%",height:"100%",position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:S("div",{css:{fontSize:16,width:24,height:24,background:"#ffffff",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:S(bg,{})})})})}),x.map((P,I)=>{const W=S(Ip,{color:P,selected:e,onClick:()=>e!==P&&E(P)});return n&&i?S(I4,{selectedColor:new xr(l||e||"#f25022").toHex(),event:"doubleClick",gradient:h||t,onChangeColor:G=>{const O=Y3(G);_(O)},onChangeGradient:D,children:W},I):S(i_,{color:g||"#f25022",event:"doubleClick",onChange:E,children:W},I)}),n&&i&&w.map((P,I)=>S(I4,{selectedColor:new xr(l||e||"#f25022").toHex(),event:"doubleClick",gradient:h||t,onChangeColor:W=>{const G=Y3(W);_(G)},onChangeGradient:D,children:S(Ip,{color:oh(P.colors,P.style),selected:t&&oh(t.colors,t.style)||null,onClick:()=>N(P)})},I))]})]}),me("div",{css:{borderTop:"1px solid rgba(217, 219, 228, 0.6)"},children:[S("div",{css:{padding:"8px 0",fontWeight:700},children:"Default Colors"}),S("p",{css:{color:"rgba(13,18,22,.7)",fontSize:11,margin:"6px 0"},children:"Solid colors"}),S("div",{css:{display:"grid",gridGap:12,gridTemplateColumns:`repeat(${z4[0].length},minmax(0,1fr))`},children:z4.map(P=>P.map((I,W)=>S(Ip,{color:I,selected:null,onClick:()=>E(I)},W)))}),n&&me(jl,{children:[S("p",{css:{color:"rgba(13,18,22,.7)",fontSize:11,margin:"20px 0 6px 0"},children:"Gradient colors"}),S("div",{css:{display:"grid",gridGap:12,gridTemplateColumns:`repeat(${o_[0].length},minmax(0,1fr))`},children:o_.map(P=>P.map((I,W)=>S(Ip,{color:oh(I.colors,I.style),selected:null,onClick:()=>N(I)},W)))})]})]})]})]})},RF=M.forwardRef(Hpe),Im=e=>(t,n)=>{const r=t.tr,{doc:i}=r,o=Math.max(0,Math.min(i.content.size,e)),s=Mt.create(i,o);return r.setSelection(s),n?(n(r),!0):!1},F4=e=>(t,n)=>{const r=t.tr.setSelection(t.selection),{selection:i,doc:o}=r;if(!i||!o)return!1;const{from:s,to:a}=i,l=[],c=["paragraph"];return o.nodesBetween(s,a,(h,f)=>{const g=h.type;return c.includes(g.name)&&l.push({node:h,pos:f,nodeType:g}),!0}),l.length?(l.forEach(h=>{const{node:f,pos:g,nodeType:d}=h;let{attrs:m}=f;m={...m,indent:e,listType:""},r.setNodeMarkup(g,d,m,f.marks)}),n?(n(r),!0):!1):!1},yv=e=>(t,n)=>{const r=t.tr.setSelection(t.selection),{selection:i,doc:o}=r;if(!i||!o)return!1;const{from:s,to:a}=i,l=[],c=["paragraph"];return o.nodesBetween(s,a,(h,f)=>{const g=h.type;return c.includes(g.name)&&l.push({node:h,pos:f,nodeType:g}),!0}),l.length?(l.forEach(h=>{const{node:f,pos:g,nodeType:d}=h;let{attrs:m}=f;m={...m,fontFamily:e},r.setNodeMarkup(g,d,m,f.marks)}),n?(n(r),!0):!1):!1},Pu=e=>(t,n)=>{const r=t.tr.setSelection(t.selection),{selection:i,doc:o}=r;if(!i||!o)return!1;const{from:s,to:a}=i,l=[],c=["paragraph"];return o.nodesBetween(s,a,(h,f)=>{const g=h.type;return c.includes(g.name)&&l.push({node:h,pos:f,nodeType:g}),!0}),l.length?(l.forEach(h=>{const{node:f,pos:g,nodeType:d}=h;let{attrs:m}=f;m={...m,fontSize:`${e}px`},r.setNodeMarkup(g,d,m,f.marks)}),n?(n(r),!0):!1):!1},j4=e=>(t,n)=>{const r=t.tr.setSelection(t.selection),{selection:i,doc:o}=r;if(!i||!o)return!1;const{from:s,to:a}=i,l=[],c=["paragraph"];return o.nodesBetween(s,a,(h,f)=>{const g=h.type;return c.includes(g.name)&&l.push({node:h,pos:f,nodeType:g}),!0}),l.length?(l.forEach(h=>{const{node:f,pos:g,nodeType:d}=h;let{attrs:m}=f;m={...m,letterSpacing:e},r.setNodeMarkup(g,d,m,f.marks)}),n?(n(r),!0):!1):!1},B4=e=>(t,n)=>{const r=t.tr.setSelection(t.selection),{selection:i,doc:o}=r;if(!i||!o)return!1;const{from:s,to:a}=i,l=[],c=["paragraph"];return o.nodesBetween(s,a,(h,f)=>{const g=h.type;return c.includes(g.name)&&l.push({node:h,pos:f,nodeType:g}),!0}),l.length?(l.forEach(h=>{const{node:f,pos:g,nodeType:d}=h;let{attrs:m}=f;m={...m,lineHeight:e},r.setNodeMarkup(g,d,m,f.marks)}),n?(n(r),!0):!1):!1},$4=e=>(t,n)=>{const r=t.tr.setSelection(t.selection),{selection:i,doc:o}=r;if(!i||!o)return!1;const{from:s,to:a}=i,l=[],c=new Set(["list_item","paragraph"]);return o.nodesBetween(s,a,(h,f)=>{const g=h.type;return c.has(g.name)&&l.push({node:h,pos:f,nodeType:g}),!0}),l.length?(l.forEach(h=>{const{node:f,pos:g,nodeType:d}=h;let{attrs:m}=f;m={...m,indent:e,listType:"ordered"},r.setNodeMarkup(g,d,m,f.marks)}),n?(n(r),!0):!1):!1},V4=e=>(t,n)=>{const r=t.tr.setSelection(t.selection),{selection:i,doc:o}=r;if(!i||!o)return!1;const{from:s,to:a}=i,l=[],c=["paragraph"];return o.nodesBetween(s,a,(h,f)=>{const g=h.type;return(h.attrs.align||null)!==e&&c.includes(g.name)&&l.push({node:h,pos:f,nodeType:g}),!0}),l.length?(l.forEach(h=>{const{node:f,pos:g,nodeType:d}=h;let{attrs:m}=f;e?m={...m,textAlign:e}:m={...m,textAlign:null},r.setNodeMarkup(g,d,m,f.marks)}),n?(n(r),!0):!1):!1},U4=e=>(t,n)=>{const r=t.tr.setSelection(t.selection),{selection:i,doc:o}=r;if(!i||!o)return!1;const{from:s,to:a}=i,l=[],c=new Set(["list_item","paragraph"]);return o.nodesBetween(s,a,(h,f)=>{const g=h.type;return c.has(g.name)&&l.push({node:h,pos:f,nodeType:g}),!0}),l.length?(l.forEach(h=>{const{node:f,pos:g,nodeType:d}=h;let{attrs:m}=f;m={...m,textTransform:e??null},r.setNodeMarkup(g,d,m,f.marks)}),n?(n(r),!0):!1):!1},s_=e=>(t,n,r)=>(O2("color",{color:e})(t,n,r),!0),a_=e=>(t,n)=>{const r=t.tr.setSelection(t.selection),{$from:i,$to:o}=r.selection,s=i.blockRange(o);return s&&n?(t.doc.nodesBetween(s.start,s.end,(a,l)=>{if(a.isBlock){const c=a.type,h={...a.attrs,color:e};r.setNodeMarkup(l,c,h,a.marks)}}),n(r),!0):!1},l_=(...e)=>X7("underline")(...e),Gpe=(...e)=>mw("underline")(...e),Kpe=(...e)=>O2("underline")(...e);function Ype(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'!`);return t.nodes[e]}return e}const c_=(e,t,n={})=>{const{from:r,to:i,empty:o}=e.selection,s=t?Ype(t,e.schema):null,a=[];e.doc.nodesBetween(r,i,(h,f)=>{if(h.isText)return;const g=Math.max(r,f),d=Math.min(i,f+h.nodeSize);a.push({node:h,from:g,to:d})});const l=i-r,c=a.filter(h=>s?s.name===h.node.type.name:!0).filter(h=>K5(h.node.attrs,n));return o?!!c.length:c.reduce((h,f)=>h+f.to-f.from,0)>=l};function Jpe(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function Yt(e,t,n={}){if(!t)return c_(e,null,n)||y6(e,null,n);const r=Jpe(t,e.schema);return r==="node"?c_(e,t,n):r==="mark"?y6(e,t,n):!1}const Xpe=e=>{var t;const n=(t=e.doc.type.createAndFill())==null?void 0:t.toJSON(),r=e.doc.toJSON();return JSON.stringify(n)===JSON.stringify(r)},u_=e=>e.marks.reduce((t,n)=>(Object.entries(n.attrs).forEach(([r,i])=>{t[r]||(t[r]=[]),i&&t[r].push(i)}),t),{}),Ym=e=>{let t=e.marks.reduce((n,r)=>(Object.entries(r.attrs).forEach(([i,o])=>{n[i]||(n[i]=[]),o&&n[i].push(o)}),n),{});return e.content.forEach(n=>{t=mt.mergeWith(t,Ym(n),(r,i)=>{if(mt.isArray(r))return r.concat(i)})}),t},Qpe=e=>Object.entries(e.attrs).reduce((t,[n,r])=>(r&&(t[n]=[r]),t),{}),Tu=e=>{const t=Object.entries(e.attrs).reduce((n,[r,i])=>(n[r]=[i],n),{});return e.content.forEach(n=>{Object.entries(n.attrs).forEach(([r,i])=>{t[r]||(t[r]=[]),i&&t[r].push(i)})}),t},h_=e=>mt.uniq((e==null?void 0:e.fontFamily)||[]),hf=e=>mt.uniq((e==null?void 0:e.fontSize)||[]).map(t=>parseFloat(t)),q4=e=>mt.uniq((e==null?void 0:e.lineHeight)||[]).map(t=>parseFloat(t)),W4=e=>mt.uniq((e==null?void 0:e.letterSpacing)||[]).map(t=>parseFloat(t)),ff=(e,t)=>{const n=mt.mergeWith(e,t,(r,i)=>{if(mt.isArray(r))return r.concat(i)});return mt.uniq((n==null?void 0:n.color)||[]).map(r=>new xr(r).toRgbString())},Zpe=({children:e,tooltip:t,disabled:n,onClick:r,...i},o)=>S(Il,{ref:o,onClick:s=>!n&&r&&r(s),disabled:n,tooltip:t,...i,children:e}),Ur=M.forwardRef(Zpe),ege=({className:e=""})=>S("svg",{className:e,width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg",fill:"none",children:me("g",{children:[S("title",{children:"Layer 1"}),S("path",{stroke:"null",id:"svg_1",fill:"currentColor",d:"m2,8.12499a1.13672,0.75 0 0 1 1.13672,-0.75l9.85155,0a1.13672,0.75 0 0 1 0,1.5l-9.85155,0a1.13672,0.75 0 0 1 -1.13672,-0.75z",clipRule:"evenodd",fillRule:"evenodd"})]})}),tge=({className:e=""})=>S("svg",{className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.08 4.72h4.44c2.03 0 3.5.3 4.41.87.92.57 1.37 1.49 1.37 2.75 0 .85-.2 1.55-.6 2.1-.4.54-.93.87-1.6.98v.1c.91.2 1.56.58 1.96 1.13.4.56.6 1.3.6 2.2 0 1.31-.47 2.33-1.4 3.06A6.1 6.1 0 0 1 12.41 19H7.08V4.72zm3.03 5.66h1.75c.82 0 1.42-.13 1.79-.38.36-.26.55-.68.55-1.26 0-.55-.2-.94-.6-1.18a3.86 3.86 0 0 0-1.9-.36h-1.6v3.18zm0 2.4v3.72h1.97c.83 0 1.45-.16 1.84-.48.4-.32.6-.8.6-1.46 0-1.19-.85-1.78-2.54-1.78h-1.87z"})}),nge=({className:e=""})=>S("svg",{className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S("path",{fill:"currentColor",fillRule:"evenodd",d:"m14.73 6.5-3.67 11H14l-.3 1.5H6l.3-1.5h2.81l3.68-11H10l.3-1.5H18l-.3 1.5h-2.97z"})}),rge=({className:e=""})=>S("svg",{className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S("path",{d:"M6 21.25a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H6.75a.75.75 0 0 1-.75-.75ZM15.754 14.006V5h1.528v8.95c0 1.574-.476 2.807-1.424 3.703-.948.896-2.253 1.347-3.92 1.347-1.667 0-2.952-.454-3.862-1.356-.904-.902-1.358-2.145-1.358-3.733V5h1.528v9.025c0 1.168.32 2.072.966 2.704.646.632 1.592.945 2.83.945 1.183 0 2.1-.313 2.746-.945.646-.638.966-1.548.966-2.723Z",fill:"currentColor"})}),ige=({className:e=""})=>S("svg",{className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S("path",{fill:"currentColor",fillRule:"evenodd",d:"m8.77 19-.29-1.37h-.07c-.48.6-.96 1.01-1.44 1.22-.47.22-1.07.33-1.79.33-.95 0-1.7-.25-2.24-.74-.54-.5-.81-1.2-.81-2.1 0-1.95 1.55-2.97 4.66-3.06l1.64-.05v-.6c0-.76-.17-1.32-.5-1.68-.32-.36-.84-.54-1.55-.54-.8 0-1.71.25-2.73.74l-.44-1.11a6.86 6.86 0 0 1 3.26-.83c1.15 0 2 .25 2.55.76.55.51.83 1.33.83 2.46V19H8.77zm-3.3-1.03c.91 0 1.63-.25 2.14-.75.52-.5.78-1.2.78-2.09v-.87l-1.46.06a5.3 5.3 0 0 0-2.5.54c-.52.32-.78.82-.78 1.5 0 .52.16.92.48 1.2.32.27.77.41 1.34.41zM21.15 19l-1.6-4.09H14.4L12.82 19h-1.51l5.08-12.9h1.26L22.7 19h-1.55zm-2.06-5.43-1.5-3.98c-.19-.5-.39-1.13-.6-1.86-.12.56-.3 1.18-.55 1.86l-1.5 3.98h4.15z"})}),oge=({className:e=""})=>me("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24",children:[S("defs",{children:S("path",{id:"_310417673__a",d:"M3.75 5.25h16.5a.75.75 0 1 1 0 1.5H3.75a.75.75 0 0 1 0-1.5zm0 4h8.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5zm0 4h16.5a.75.75 0 1 1 0 1.5H3.75a.75.75 0 1 1 0-1.5zm0 4h8.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5z"})}),S("use",{fill:"currentColor",xlinkHref:"#_310417673__a",fillRule:"evenodd"})]}),sge=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.75 5.25h16.5a.75.75 0 1 1 0 1.5H3.75a.75.75 0 0 1 0-1.5zm4 4h8.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5zm-4 4h16.5a.75.75 0 1 1 0 1.5H3.75a.75.75 0 1 1 0-1.5zm4 4h8.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5z"})}),age=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",fillRule:"evenodd",d:"M20.25 5.25a.75.75 0 1 1 0 1.5H3.75a.75.75 0 0 1 0-1.5h16.5zm0 4a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zm0 4a.75.75 0 1 1 0 1.5H3.75a.75.75 0 1 1 0-1.5h16.5zm0 4a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5z"})}),lge=({className:e=""})=>me("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24",children:[S("defs",{children:S("path",{id:"_1025355287__a",d:"M3.8 17.3h16.6c.9 0 .9 1.6-.1 1.5H3.8c-.8 0-.9-1.4 0-1.5zm0-8h16.6c.9 0 .9 1.6-.1 1.5H3.8c-.8 0-.9-1.4 0-1.5zm0 4h16.6c.9 0 .9 1.6-.1 1.5H3.8c-.8 0-.9-1.4 0-1.5zm0-8c5.5 0 11-.1 16.5 0 .9 0 .9 1.5-.1 1.5-5.5-.1-11 0-16.5-.1-.9 0-.9-1.4-.1-1.4Z"})}),S("use",{fill:"currentColor",xlinkHref:"#_1025355287__a",fillRule:"evenodd"})]}),cge=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{d:"M11 2 5.5 16h2.25l1.12-3h6.25l1.12 3h2.25L13 2h-2zm-1.38 9L12 4.67 14.38 11H9.62z",fill:"currentColor"})}),uge=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.75 5.25h7.5a.75.75 0 1 1 0 1.5h-7.5a.75.75 0 1 1 0-1.5zm0 6h7.5a.75.75 0 1 1 0 1.5h-7.5a.75.75 0 1 1 0-1.5zm0 6h7.5a.75.75 0 1 1 0 1.5h-7.5a.75.75 0 1 1 0-1.5zM6 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 6a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 6a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"})}),hge=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.75 5.25h7.5a.75.75 0 1 1 0 1.5h-7.5a.75.75 0 1 1 0-1.5zm0 6h7.5a.75.75 0 1 1 0 1.5h-7.5a.75.75 0 1 1 0-1.5zm0 6h7.5a.75.75 0 1 1 0 1.5h-7.5a.75.75 0 1 1 0-1.5zM5.69 8V4.07h-.06l-1.21.84v-.96l1.28-.88h1.02V8H5.7zm-1.25 3.04c0-.95.73-1.6 1.8-1.6 1.03 0 1.75.6 1.75 1.44 0 .54-.3 1-1.15 1.8l-.94.9v.06h2.16v.86H4.5v-.72l1.6-1.58c.7-.67.88-.93.88-1.25 0-.4-.32-.68-.78-.68-.47 0-.8.32-.8.77v.02h-.96v-.02zm1.26 7.82v-.77h.6c.47 0 .79-.27.79-.68 0-.4-.3-.64-.79-.64-.48 0-.8.27-.82.7h-.96c.04-.94.73-1.53 1.8-1.53 1.02 0 1.75.56 1.75 1.33 0 .57-.36 1.02-.91 1.13v.06c.67.08 1.1.53 1.1 1.18 0 .86-.81 1.49-1.94 1.49-1.1 0-1.84-.61-1.89-1.54h.99c.03.42.38.68.91.68.52 0 .88-.3.88-.71 0-.43-.34-.7-.9-.7h-.6z"})}),fge=({className:e=""})=>me("svg",{className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 6a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 3 6Zm0 6a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 3 12Zm.75 5.25a.75.75 0 0 0 0 1.5h7.5a.75.75 0 0 0 0-1.5h-7.5Z",fill:"currentColor"}),S("path",{d:"M17.75 4a.75.75 0 0 0-.75.75v14.5a.75.75 0 0 0 1.5 0V4.75a.75.75 0 0 0-.75-.75Z",fill:"currentColor"}),S("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.72 16.43a.75.75 0 0 1 1.06 0l1.97 1.97 1.97-1.97a.75.75 0 1 1 1.06 1.06l-2.145 2.146a1.254 1.254 0 0 1-1.364.271 1.248 1.248 0 0 1-.406-.271L14.72 17.49a.75.75 0 0 1 0-1.06ZM20.78 7.573a.75.75 0 0 1-1.06 0l-1.97-1.97-1.97 1.97a.75.75 0 1 1-1.06-1.06l2.145-2.146a1.255 1.255 0 0 1 1.364-.272c.152.063.29.156.406.272l2.145 2.146a.75.75 0 0 1 0 1.06Z",fill:"currentColor"})]}),dge=[6,8,10,12,14,16,18,21,24,28,32,36,42,48,56,64,72,80,88,96,104,120,144],pge=({layers:e})=>{const t=_r(),n=M.useRef(null),r=M.useRef(null),i=M.useRef(null),[o,s]=M.useState(!1),{selectedLayers:a,selectedLayerIds:l}=Ni(),[c,h]=M.useState(!1),{usedFonts:f}=xw(),[{isBold:g,isItalic:d,isUnderline:m,isUppercase:y,isBulletList:C,isOrderedList:x,isAlignLeft:w,isAlignRight:E,isAlignCenter:N,isAlignJustify:_,...D},P]=M.useState(()=>{const oe={fontFamily:{},fontSize:{},color:{},isBold:!0,isItalic:!0,isUnderline:!0,isUppercase:!0,isBulletList:!0,isOrderedList:!0,isAlignLeft:!0,isAlignRight:!0,isAlignCenter:!0,isAlignJustify:!0,lineHeight:{},letterSpacing:{}};return e.forEach(ee=>{oe.fontFamily[ee.id]=ee.data.props.fonts,oe.fontSize[ee.id]=ee.data.props.fontSizes,oe.color[ee.id]=ee.data.props.colors;const te=ee.data.editor;te&&(Yt(te.state,"bold")||(oe.isBold=!1),Yt(te.state,"italic")||(oe.isItalic=!1),Yt(te.state,"underline")||(oe.isUnderline=!1),Yt(te.state,null,{indent:1,listType:""})||(oe.isBulletList=!1),Yt(te.state,null,{indent:1,listType:"ordered"})||(oe.isOrderedList=!1),Yt(te.state,null,{textTransform:"uppercase"})||(oe.isUppercase=!1),Yt(te.state,null,{textAlign:"left"})||(oe.isAlignLeft=!1),Yt(te.state,null,{textAlign:"right"})||(oe.isAlignRight=!1),Yt(te.state,null,{textAlign:"center"})||(oe.isAlignCenter=!1),Yt(te.state,null,{textAlign:"justify"})||(oe.isAlignJustify=!1))}),oe}),{actions:I,activePage:W,textEditor:G,editingLayer:O,sidebar:z,fontList:U}=Ot(oe=>({activePage:oe.activePage,sidebar:oe.sidebar,fontList:oe.fontList,textEditor:oe.textEditor,editingLayer:oe.textEditor?oe.pages[oe.textEditor.pageIndex].layers[oe.textEditor.layerId]:null})),$=oe=>mt.uniqBy(h_(oe).map(ee=>{const te=ge[ee]||ue[ee];return te||console.log("Font not found: "+ee),{family:te.family,name:te.name,url:te.url,style:te.style,styles:mt.filter(U,Ne=>Ne.family===te.family&&Ne.name!==te.name)}}),"name");M.useEffect(()=>{const oe={fontFamily:{},fontSize:{},color:{},isBold:!0,isItalic:!0,isUnderline:!0,isUppercase:!0,isBulletList:!0,isOrderedList:!0,isAlignLeft:!0,isAlignRight:!0,isAlignCenter:!0,isAlignJustify:!0,lineHeight:{},letterSpacing:{}};s(!1),h(!1),a.forEach(ee=>{const te=ee.data.editor;if(te){const Ne=Tu(te.state.doc);oe.fontFamily[ee.id]=$(Ne),oe.fontSize[ee.id]=hf(Ne),oe.lineHeight[ee.id]=q4(Ne),oe.letterSpacing[ee.id]=W4(Ne),oe.color[ee.id]=ff(Ne,Ym(te.state.doc)),Yt(te.state,"bold")||(oe.isBold=!1),Yt(te.state,"italic")||(oe.isItalic=!1),Yt(te.state,"underline")||(oe.isUnderline=!1),Yt(te.state,null,{indent:1,listType:""})||(oe.isBulletList=!1),Yt(te.state,null,{indent:1,listType:"ordered"})||(oe.isOrderedList=!1),Yt(te.state,null,{textTransform:"uppercase"})||(oe.isUppercase=!1),Yt(te.state,null,{textAlign:"left"})||(oe.isAlignLeft=!1),Yt(te.state,null,{textAlign:"right"})||(oe.isAlignRight=!1),Yt(te.state,null,{textAlign:"center"})||(oe.isAlignCenter=!1),Yt(te.state,null,{textAlign:"justify"})||(oe.isAlignJustify=!1),P(oe)}})},[JSON.stringify(l)]);const{fontFamily:ne,fontSize:se,color:ae,lineHeight:Z,letterSpacing:le}=M.useMemo(()=>e.reduce((oe,ee)=>{if(D.fontFamily[ee.id]){const te=ee.data.props;oe.fontFamily.push(...D.fontFamily[ee.id]),oe.fontFamily=mt.uniqBy(oe.fontFamily,"name"),D.fontSize[ee.id]&&(oe.fontSize=mt.uniq(oe.fontSize.concat(D.fontSize[ee.id].map(Ne=>Math.round(Ne*te.scale*10)/10)))),oe.color=mt.uniq(oe.color.concat(D.color[ee.id])),oe.lineHeight=mt.uniq(oe.lineHeight.concat(D.lineHeight[ee.id])),oe.letterSpacing=mt.uniq(oe.letterSpacing.concat(D.letterSpacing[ee.id]))}return oe},{fontSize:[],fontFamily:[],color:[],lineHeight:[],letterSpacing:[]}),[D,a]);M.useEffect(()=>{r.current&&(se.length===1?r.current.value=se[0]+"":r.current.value="--")},[se]);const ue=M.useMemo(()=>U.reduce((oe,ee)=>(oe[ee.name]=ee,oe),{}),[U]),ge=M.useMemo(()=>f.reduce((oe,ee)=>(oe[ee.name]=ee,oe),{}),[f]),F=M.useCallback(oe=>{const ee={fontFamily:{},fontSize:{},color:{},isBold:!0,isItalic:!0,isUnderline:!0,isUppercase:!0,isBulletList:!0,isOrderedList:!0,isAlignLeft:!0,isAlignRight:!0,isAlignCenter:!0,isAlignJustify:!0,lineHeight:{},letterSpacing:{}};if(O){ee.fontFamily[O.id]=[],ee.fontSize[O.id]=[],ee.color[O.id]=[],ee.lineHeight[O.id]=[],ee.letterSpacing[O.id]=[];const te=G==null?void 0:G.editor;if(te){const Ne=O.data.props;Xpe(te.state)&&(a_(Ne.colors[0])(te.state,te.dispatch),Pu(Ne.fontSizes[0])(te.state,te.dispatch),yv(Ne.fonts[0].name)(te.state,te.dispatch),te.focus());const Oe=new WebKitCSSMatrix(gn({position:O.data.props.position,rotate:O.data.props.rotate})),qe=ks(O.data.props.boxSize,Oe,O.data.props.position),Qe=ks({width:O.data.props.boxSize.width,height:te.dom.clientHeight*O.data.props.scale},Oe,O.data.props.position),{changeX:nt,changeY:lt}=b6(qe,Qe,"bottomRight");if(te.state.selection.empty){const Ve=(te.state.storedMarks||te.state.selection.$from.marks()).reduce((ot,Et)=>(Object.entries(Et.attrs).forEach(([mn,Jt])=>{ot[mn]||(ot[mn]=[]),ot[mn].push(Jt)}),ot),{});ee.color[O.id]=mt.uniq(ff({},Ve))}let xt=null;if(te.state.doc.nodesBetween(te.state.selection.ranges[0].$from.pos,te.state.selection.ranges[0].$to.pos,Ve=>{const ot=Qpe(Ve);if(Ve.isBlock){const Et=$(ot);ee.fontFamily[O.id].push(...Et),ee.fontFamily[O.id]=mt.uniqBy(ee.fontFamily[O.id],"name"),ee.fontSize[O.id]=mt.uniq(ee.fontSize[O.id].concat(hf(ot))),ee.lineHeight[O.id]=mt.uniq(ee.lineHeight[O.id].concat(q4(ot))),ee.letterSpacing[O.id]=mt.uniq(ee.letterSpacing[O.id].concat(W4(ot))),xt=ff(ot,u_(Ve))}if(Ve.isText&&!te.state.selection.empty){let Et=ff(ot,u_(Ve));Et.length===0&&xt&&(Et=xt),ee.color[O.id]=mt.uniq(ee.color[O.id].concat(Et)),xt=null}}),Yt(te.state,"bold")||(ee.isBold=!1),Yt(te.state,"italic")||(ee.isItalic=!1),Yt(te.state,"underline")||(ee.isUnderline=!1),Yt(te.state,null,{indent:1,listType:""})||(ee.isBulletList=!1),Yt(te.state,null,{indent:1,listType:"ordered"})||(ee.isOrderedList=!1),Yt(te.state,null,{textTransform:"uppercase"})||(ee.isUppercase=!1),Yt(te.state,null,{textAlign:"left"})||(ee.isAlignLeft=!1),Yt(te.state,null,{textAlign:"right"})||(ee.isAlignRight=!1),Yt(te.state,null,{textAlign:"center"})||(ee.isAlignCenter=!1),Yt(te.state,null,{textAlign:"justify"})||(ee.isAlignJustify=!1),P(ee),oe==="content"){const Ve=Tu(te.state.doc);I.history.merge().setProp(W,O.id,{text:te.dom.innerHTML,fontSizes:hf(Ve),fonts:$(Ve),colors:ff(Ve,Ym(te.state.doc)),boxSize:{width:Ne.boxSize.width,height:te.dom.clientHeight*Ne.scale},position:{x:Ne.position.x-nt,y:Ne.position.y-lt}}),I.setControlBox({boxSize:{width:Ne.boxSize.width,height:te.dom.clientHeight*Ne.scale},position:{x:Ne.position.x-nt,y:Ne.position.y-lt},scale:Ne.scale,rotate:Ne.rotate})}}}else{const te=a.reduce((Ne,Oe)=>{const qe=Oe.data.editor;if(qe){const Qe=Oe.data.props,nt=Tu(qe.state.doc);if(ee.fontFamily[Oe.id]=$(nt),ee.fontSize[Oe.id]=hf(nt),ee.lineHeight[Oe.id]=q4(nt),ee.letterSpacing[Oe.id]=W4(nt),ee.color[Oe.id]=ff(nt,Ym(qe.state.doc)),Yt(qe.state,"bold")||(ee.isBold=!1),Yt(qe.state,"italic")||(ee.isItalic=!1),Yt(qe.state,"underline")||(ee.isUnderline=!1),Yt(qe.state,null,{indent:1,listType:""})||(ee.isBulletList=!1),Yt(qe.state,null,{indent:1,listType:"ordered"})||(ee.isOrderedList=!1),Yt(qe.state,null,{textTransform:"uppercase"})||(ee.isUppercase=!1),Yt(qe.state,null,{textAlign:"left"})||(ee.isAlignLeft=!1),Yt(qe.state,null,{textAlign:"right"})||(ee.isAlignRight=!1),Yt(qe.state,null,{textAlign:"center"})||(ee.isAlignCenter=!1),Yt(qe.state,null,{textAlign:"justify"})||(ee.isAlignJustify=!1),oe==="content"){const lt=mt.isEqual(Qe.fontSizes,ee.fontSize[Oe.id])?Qe.scale:1,xt=document.createElement("div");xt.append(qe.dom);const{clientHeight:Ve}=HR(xt,Oe.data.props.boxSize.width,lt),ot=new WebKitCSSMatrix(gn({position:Oe.data.props.position,rotate:Oe.data.props.rotate})),Et=ks(Oe.data.props.boxSize,ot,Oe.data.props.position),mn=ks({width:Oe.data.props.boxSize.width,height:Ve},ot,Oe.data.props.position),{changeX:Jt,changeY:Rt}=b6(Et,mn,"bottomRight");I.history.merge().setProp(W,Oe.id,{text:qe.dom.innerHTML,fontSizes:ee.fontSize[Oe.id],fonts:ee.fontFamily[Oe.id],colors:ee.color[Oe.id],scale:lt,boxSize:{width:Oe.data.props.boxSize.width,height:Ve},position:{x:Oe.data.props.position.x-Jt,y:Oe.data.props.position.y-Rt}}),Ne[Oe.id]={...Oe.data.props,boxSize:{width:Oe.data.props.boxSize.width,height:Ve},position:{x:Oe.data.props.position.x-Jt,y:Oe.data.props.position.y-Rt}}}}else Ne[Oe.id]=Oe.data.props;return Ne},{});P(ee),I.setControlBox(X0(te))}},[JSON.stringify(a.map(oe=>({id:oe.id,boxSize:oe.data.props.boxSize,position:oe.data.props.position,rotate:oe.data.props.rotate,scale:oe.data.props.scale}))),O,G==null?void 0:G.editor,I,ue]),Q=M.useCallback(()=>{F("selection")},[F]),re=M.useCallback(()=>{F("content")},[F]);M.useEffect(()=>{var oe,ee;return(oe=G==null?void 0:G.editor)==null||oe.events.on("selectionUpdate",Q),(ee=G==null?void 0:G.editor)==null||ee.events.on("update",re),()=>{var te,Ne;(te=G==null?void 0:G.editor)==null||te.events.off("selectionUpdate",Q),(Ne=G==null?void 0:G.editor)==null||Ne.events.off("update",re)}},[G==null?void 0:G.editor,F]),M.useEffect(()=>(e.forEach(oe=>{var ee;(ee=oe.data.editor)==null||ee.events.on("update",re)}),()=>{e.forEach(oe=>{var ee;(ee=oe.data.editor)==null||ee.events.off("update",re)})}),[JSON.stringify(e.map(oe=>oe.id)),F]);const he=M.useCallback(oe=>{const ee=[];return oe.forEach(te=>{te.name.includes("Italic")||ee.push("Italic"),te.name.includes("Bold")?parseInt(te.style)<600&&ee.push("Bold"):ee.push("Bold")}),ee},[]),pe=oe=>{if(I.history.new(),O){const ee=G==null?void 0:G.editor;if(ee){yv(oe.name)(ee.state,ee.dispatch);const te=he([oe]);if(te.includes("Bold")||$x(ee.state,ee.dispatch),te.includes("Italic")||Vx(ee.state,ee.dispatch),ee.focus(),O.data.editor){const Ne=O.data.editor,{$from:Oe,$to:qe}=ee.state.selection;ro({from:Oe.pos,to:qe.pos})(Ne.state,Ne.dispatch),yv(oe.name)(Ne.state,Ne.dispatch);const Qe=he([oe]);Qe.includes("Bold")||$x(Ne.state,Ne.dispatch),Qe.includes("Italic")||Vx(Ne.state,Ne.dispatch)}}}else e.forEach(ee=>{const te=ee.data.editor;if(te){Ta(te.state,te.dispatch),yv(oe.name)(te.state,te.dispatch);const Ne=he([oe]);Ne.includes("Bold")||$x(te.state,te.dispatch),Ne.includes("Italic")||Vx(te.state,te.dispatch)}})},Se=oe=>{e.forEach(ee=>{const te=ee.data.editor;if(te){const Ne=te.state.doc;te.state.doc.nodesBetween(0,Ne.content.size,(Oe,qe)=>{if(Oe.isBlock){const Qe=Tu(Oe),nt=hf(Qe);if(nt.length>0){const lt=ee.data.props.scale||1;Im(qe)(te.state,te.dispatch),Pu(Math.round((nt[0]*lt+oe)*1e3)/1e3)(te.state,te.dispatch)}}})}})},xe=oe=>{I.history.new();const ee=Math.max(Math.min(800,oe),8);if(O){const te=G==null?void 0:G.editor;if(te){const Ne=Pu(Math.round(ee/O.data.props.scale*1e3)/1e3);if(Ne(te.state,te.dispatch),te.focus(),O.data.editor){const Oe=O.data.editor,{$from:qe,$to:Qe}=te.state.selection;ro({from:qe.pos,to:Qe.pos})(Oe.state,Oe.dispatch),Ne(Oe.state,Oe.dispatch)}}}else e.forEach(te=>{const Ne=te.data.editor;Ne&&(Ta(Ne.state,Ne.dispatch),Pu(ee)(Ne.state,Ne.dispatch))});h(!1)},Ee=()=>{if(I.history.new(),O){const oe=G==null?void 0:G.editor;if(oe){const ee={from:oe.state.selection.ranges[0].$from.pos,to:oe.state.selection.ranges[0].$to.pos};oe.state.doc.nodesBetween(ee.from,ee.to,(te,Ne)=>{if(te.isBlock){const Oe=Tu(te),[qe]=hf(Oe),Qe=O.data.props.scale;Im(Ne)(oe.state,oe.dispatch),Pu(Math.round((qe+1/Qe)*1e3)/1e3)(oe.state,oe.dispatch);const nt=O.data.editor;nt&&(Im(Ne)(nt.state,nt.dispatch),Pu(Math.round((qe+1/Qe)*1e3)/1e3)(nt.state,nt.dispatch))}}),ro(ee)(oe.state,oe.dispatch),oe.focus()}}else Se(1)},Ge=()=>{if(I.history.new(),O){const oe=G==null?void 0:G.editor;if(oe){const ee={from:oe.state.selection.ranges[0].$from.pos,to:oe.state.selection.ranges[0].$to.pos};oe.state.doc.nodesBetween(ee.from,ee.to,(te,Ne)=>{if(te.isBlock){const Oe=Tu(te),[qe]=hf(Oe),Qe=O.data.props.scale;Im(Ne)(oe.state,oe.dispatch),Pu(Math.round((qe-1/Qe)*1e3)/1e3)(oe.state,oe.dispatch);const nt=O.data.editor;nt&&(Im(Ne)(nt.state,nt.dispatch),Pu(Math.round((qe-1/Qe)*1e3)/1e3)(nt.state,nt.dispatch))}}),ro(ee)(oe.state,oe.dispatch),oe.focus()}}else Se(-1)},Be=M.useMemo(()=>{if(!ae)return{};if(ae.length===1&&new xr(ae[0]).white()===100)return{backgroundImage:"linear-gradient(to right, rgb(255, 0, 0) 0%, rgb(255, 255, 0) 17%, rgb(0, 255, 0) 33%, rgb(0, 255, 255) 50%, rgb(0, 0, 255) 67%, rgb(255, 0, 255) 83%, rgb(255, 0, 0) 100%)"};const oe=100/ae.length;return{backgroundImage:ae.map(ee=>`linear-gradient(to right, ${ee}, ${ee})`).join(", "),backgroundSize:ae.map((ee,te)=>`${oe*(te+1)}%`).join(", "),boxShadow:"inset 0 0 0 1px rgba(57,76,96,.15)"}},[ae]),Ke=mt.throttle(oe=>{if(oe)if(O){const ee=G==null?void 0:G.editor;if(ee){const te=s_(oe);if(te(ee.state,ee.dispatch),ee.focus(),O.data.editor){const Ne=O.data.editor,{$from:Oe,$to:qe}=ee.state.selection;ro({from:Oe.pos,to:qe.pos})(Ne.state,Ne.dispatch),te(Ne.state,Ne.dispatch)}}}else e.forEach(ee=>{const te=ee.data.editor;if(te){const Ne=Tu(te.state.doc);Ta(te.state,te.dispatch),s_(oe)(te.state,te.dispatch),a_(oe)(te.state,te.dispatch),I.history.throttle(2e3).setProp(W,ee.id,{colors:ff(Ne,Ym(te.state.doc))})}})},16),it=oe=>{if(I.history.new(),O){const ee=G==null?void 0:G.editor;if(ee)switch(oe){case"BOLD":{const te=O.data.props.fonts.reduce((Oe,qe)=>(Oe[qe.name]=qe,Oe),{});let Ne=!0;if(ee.state.doc.nodesBetween(ee.state.selection.ranges[0].$from.pos,ee.state.selection.ranges[0].$to.pos,Oe=>{const qe=Tu(Oe);h_(qe).every(Qe=>te[Qe]&&te[Qe].name.includes("Bold"))||(Ne=!1)}),Ne&&(Y5(ee.state,ee.dispatch),ee.focus(),O.data.editor)){const Oe=O.data.editor,{$from:qe,$to:Qe}=ee.state.selection;ro({from:qe.pos,to:Qe.pos})(Oe.state,Oe.dispatch),Y5(Oe.state,Oe.dispatch)}break}case"ITALIC":{if(J5(ee.state,ee.dispatch),ee.focus(),O.data.editor){const te=O.data.editor,{$from:Ne,$to:Oe}=ee.state.selection;ro({from:Ne.pos,to:Oe.pos})(te.state,te.dispatch),J5(te.state,te.dispatch)}break}case"UNDERLINE":{if(l_(ee.state,ee.dispatch),ee.focus(),O.data.editor){const te=O.data.editor,{$from:Ne,$to:Oe}=ee.state.selection;ro({from:Ne.pos,to:Oe.pos})(te.state,te.dispatch),l_(te.state,te.dispatch)}break}case"UPPERCASE":{const te=U4(Yt(ee.state,null,{textTransform:"uppercase"})?void 0:"uppercase");if(te(ee.state,ee.dispatch),ee.focus(),O.data.editor){const Ne=O.data.editor,{$from:Oe,$to:qe}=ee.state.selection;ro({from:Oe.pos,to:qe.pos})(Ne.state,Ne.dispatch),te(Ne.state,Ne.dispatch)}break}}}else e.forEach(ee=>{const te=ee.data.editor;if(te)switch(Ta(te.state,te.dispatch),oe){case"BOLD":{g?jZ(te.state,te.dispatch):BZ(te.state,te.dispatch);break}case"ITALIC":{d?$Z(te.state,te.dispatch):VZ(te.state,te.dispatch);break}case"UNDERLINE":{m?Gpe(te.state,te.dispatch):Kpe(te.state,te.dispatch);break}case"UPPERCASE":{y?U4()(te.state,te.dispatch):U4("uppercase")(te.state,te.dispatch);break}}})},at=oe=>{I.history.new();const ee=G==null?void 0:G.editor;if(O&&ee){if(V4(oe)(ee.state,ee.dispatch),ee.focus(),O.data.editor){const te=O.data.editor,{$from:Ne,$to:Oe}=ee.state.selection;ro({from:Ne.pos,to:Oe.pos})(te.state,te.dispatch),V4(oe)(te.state,te.dispatch)}}else e.forEach(te=>{const Ne=te.data.editor;Ne&&(Ta(Ne.state,Ne.dispatch),V4(oe)(Ne.state,Ne.dispatch))})},Re=oe=>{I.history.new();const ee=G==null?void 0:G.editor;if(O&&ee){if(j4(oe)(ee.state,ee.dispatch),ee.focus(),O.data.editor){const te=O.data.editor,{$from:Ne,$to:Oe}=ee.state.selection;ro({from:Ne.pos,to:Oe.pos})(te.state,te.dispatch),j4(oe)(te.state,te.dispatch)}}else e.forEach(te=>{const Ne=te.data.editor;Ne&&(Ta(Ne.state,Ne.dispatch),j4(oe)(Ne.state,Ne.dispatch))})},fe=oe=>{I.history.new();const ee=G==null?void 0:G.editor;if(O&&ee){if(B4(oe)(ee.state,ee.dispatch),ee.focus(),O.data.editor){const te=O.data.editor,{$from:Ne,$to:Oe}=ee.state.selection;ro({from:Ne.pos,to:Oe.pos})(te.state,te.dispatch),B4(oe)(te.state,te.dispatch)}}else e.forEach(te=>{const Ne=te.data.editor;Ne&&(Ta(Ne.state,Ne.dispatch),B4(oe)(Ne.state,Ne.dispatch))})},vt=()=>{if(I.history.new(),O){const oe=G==null?void 0:G.editor;if(oe){const ee=Yt(oe.state,null,{indent:1,listType:""});if(F4(ee?0:1)(oe.state,oe.dispatch),oe.focus(),O.data.editor){const te=O.data.editor,{$from:Ne,$to:Oe}=oe.state.selection;ro({from:Ne.pos,to:Oe.pos})(te.state,te.dispatch),F4(ee?0:1)(te.state,te.dispatch)}}}else{const oe=e.every(ee=>{const te=ee.data.editor;if(te)return Ta(te.state,te.dispatch),Yt(te.state,null,{indent:1,listType:""})});e.forEach(ee=>{const te=ee.data.editor;te&&F4(oe?0:1)(te.state,te.dispatch)})}},De=()=>{if(I.history.new(),O){const oe=G==null?void 0:G.editor;if(oe){const ee=Yt(oe.state,null,{indent:1,listType:"ordered"});if($4(ee?0:1)(oe.state,oe.dispatch),oe.focus(),O.data.editor){const te=O.data.editor,{$from:Ne,$to:Oe}=oe.state.selection;ro({from:Ne.pos,to:Oe.pos})(te.state,te.dispatch),$4(ee?0:1)(te.state,te.dispatch)}}}else{const oe=e.every(ee=>{const te=ee.data.editor;if(te)return Ta(te.state,te.dispatch),Yt(te.state,null,{indent:1,listType:"ordered"})});e.forEach(ee=>{const te=ee.data.editor;te&&(Ta(te.state,te.dispatch),$4(oe?0:1)(te.state,te.dispatch))})}},ze=oe=>{const ee=r.current,te=ee.value;oe.key.toLowerCase()==="enter"?(r.current&&xe(+parseFloat(te).toFixed(1)),ee.blur()):oe.key.match(/^[0-9]|./)||oe.preventDefault()},je=()=>{const oe=r.current.value;oe!=="--"&&oe!==se[0]+""&&r.current&&xe(+parseFloat(oe).toFixed(1))};return me(M.Fragment,{children:[S("div",{children:me("div",{css:{border:"1px solid rgba(43,59,74,.3)",height:32,padding:"0 2px",borderRadius:4,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",background:z==="FONT_FAMILY"?"rgba(57,76,96,.15)":"#fff"},onClick:()=>{I.setSidebar("FONT_FAMILY")},children:[S("div",{css:{padding:4,textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:14},children:ne.length===1?ne[0].family:"Multiple fonts"}),S("div",{css:{width:24,height:24,display:"flex",justifyContent:"center",alignItems:"center",fontSize:16},children:S(Q5,{})})]})}),S("div",{children:me("div",{css:{border:"1px solid rgba(43,59,74,.3)",display:"flex",alignItems:"center",justifyContent:"space-between",borderRadius:4},children:[S(Ur,{css:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:0},onClick:Ge,tooltip:"Decrease font size",children:S(ege,{})}),S("div",{ref:n,css:{width:42,height:32,borderLeft:"1px solid rgba(43,59,74,.3)",borderRight:"1px solid rgba(43,59,74,.3)"},onClick:()=>h(!0),children:S("input",{"data-tooltip-id":"btn-change-fontsize",ref:r,css:{width:38,height:"100%",outline:0,border:0,textAlign:"center"},onBlur:je,onKeyDown:ze,onClick:()=>{var oe;return(oe=r.current)==null?void 0:oe.select()}})}),S(Dc,{open:c,anchorEl:r.current,placement:t?"top":"bottom",onClose:()=>h(!1),children:S("div",{css:{maxHeight:"50vh",overflowY:"auto"},children:dge.map(oe=>me("div",{css:{height:40,minWidth:120,padding:"0 8px",display:"flex",alignItems:"center",cursor:"pointer",":hover":{backgroundColor:"rgba(64,87,109,.07)"}},onClick:()=>xe(oe),children:[S("div",{css:{flexGrow:1},children:oe}),se.includes(oe)&&S("div",{css:{fontSize:24,flexShrink:0},children:S(ky,{})})]},oe))})}),S(Ur,{css:{display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",borderRadius:0},onClick:Ee,tooltip:"Increase font size",children:S(bg,{})}),S(h8,{id:"btn-change-fontsize",content:"Font size",place:c?"left":"bottom"})]})}),me(Ur,{css:{position:"relative",display:"flex",justifyContent:"center",fontSize:24},onClick:()=>{I.setSidebar("CHOOSING_COLOR")},tooltip:"Text color",children:[S(cge,{}),S("div",{css:{bottom:1,left:"5%",width:"90%",position:"absolute"},children:S("div",{css:{paddingBottom:"16%",height:0,position:"relative",margin:"auto",width:"80%"},children:S("span",{css:{borderRadius:4,overflow:"hidden",position:"absolute",inset:0,backgroundRepeat:"no-repeat",...Be}})})})]}),S(Ur,{css:{fontSize:24},disabled:!he(ne).includes("Bold"),isActive:g,onClick:()=>it("BOLD"),tooltip:"Bold",children:S(tge,{})}),S(Ur,{css:{fontSize:24},disabled:!he(ne).includes("Italic"),isActive:d,onClick:()=>it("ITALIC"),tooltip:"Italics",children:S(nge,{})}),S(Ur,{css:{fontSize:24},isActive:m,onClick:()=>it("UNDERLINE"),tooltip:"Underline",children:S(rge,{})}),S(Ur,{css:{fontSize:24},isActive:y,onClick:()=>it("UPPERCASE"),tooltip:"Uppercase",children:S(ige,{})}),S("div",{css:{height:24,width:"1px",background:"rgba(57,76,96,.15)"}}),S(Ur,{css:{fontSize:24},isActive:w,onClick:()=>at("left"),tooltip:"Left",children:S(oge,{})}),S(Ur,{css:{fontSize:24},isActive:N,onClick:()=>at("center"),tooltip:"Center",children:S(sge,{})}),S(Ur,{css:{fontSize:24},isActive:E,onClick:()=>at("right"),tooltip:"Right",children:S(age,{})}),S(Ur,{css:{fontSize:24},isActive:_,onClick:()=>at("justify"),tooltip:"Justify",children:S(lge,{})}),S("div",{css:{height:24,width:"1px",background:"rgba(57,76,96,.15)"}}),S(Ur,{css:{fontSize:24},isActive:C,onClick:vt,tooltip:"List",children:S(uge,{})}),S(Ur,{css:{fontSize:24},isActive:x,onClick:De,tooltip:"List",children:S(hge,{})}),S(Ur,{ref:i,css:{fontSize:24},onClick:()=>s(!0),tooltip:"Spacing",children:S(fge,{})}),S(Dc,{open:o,anchorEl:i.current,placement:"bottom-end",onClose:()=>s(!1),offsets:{"bottom-end":{x:0,y:8}},children:me("div",{css:{padding:16,minWidth:220,display:"grid",rowGap:8},children:[S(cd,{label:"Letter spacing",min:-200,max:800,value:le[0]*1e3||0,onChange:oe=>Re(oe/1e3)}),S(cd,{label:"Line spacing",step:.01,min:.5,max:2.5,value:Z[0]||1.4,onChange:fe})]})}),S("div",{css:{height:24,width:"1px",background:"rgba(57,76,96,.15)"}}),S(Ur,{css:{minWidth:70},onClick:()=>{I.setSidebar("TEXT_EFFECT")},children:"Effects"}),S("div",{css:{height:24,width:"1px",background:"rgba(57,76,96,.15)"}}),z==="FONT_FAMILY"&&S(kpe,{open:!0,selected:ne,onChangeFontFamily:pe}),z==="CHOOSING_COLOR"&&S(RF,{open:!0,selected:ae[0],onSelect:Ke}),z==="TEXT_EFFECT"&&S(qpe,{open:!0})]})};var gge=Array.prototype,mge=gge.reverse;function vge(e){return e==null?e:mge.call(e)}var yge=vge;const wge=nw(yge),H4=231,G4=36,DF=({layer:e,hiddenChild:t})=>{const n=M.useMemo(()=>{const i={width:H4,height:G4,scale:1},o=i.width/i.height,s=e.data.props,a=fo(s.boxSize,s.position,s.rotate),l=a.width/a.height;return o>l?(i.height=G4,i.width=i.height*l,i.scale=i.height/a.height):(i.width=H4,i.height=i.width/l,i.scale=i.width/a.width),i},[e]),r=M.useMemo(()=>{const i=e.data.props;if(i.rotate===0)return{x:-i.position.x*n.scale,y:-i.position.y*n.scale};{const o=fo(i.boxSize,i.position,i.rotate);return{x:-o.x*n.scale,y:-o.y*n.scale}}},[e,n]);return S("div",{css:{width:H4,height:G4,display:"flex",alignItems:"center",justifyContent:"center"},children:S("div",{css:{width:n.width,height:n.height},children:S("div",{css:{transform:gn({position:r})},children:S("div",{css:{transformOrigin:"0px 0px",transform:`scale(${n.scale})`},children:t?M.createElement(e.data.comp,e.data.props,null):S(sT,{id:e.id,children:S(dT,{})})})})})})},bge=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:S("path",{d:"M8 2a2 2 0 1 1 0 4 2 2 0 0 1 0-4ZM8 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4ZM8 22a2 2 0 1 0 0-4 2 2 0 0 0 0 4ZM16 6a2 2 0 1 0 0-4 2 2 0 0 0 0 4ZM16 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4ZM16 22a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"})}),xge=Vl("button")`
  width: 100%;
  background: #f6f6f6;
  border-radius: 8px;
  padding: 8px;
  margin: 4px 0;
  cursor: pointer;
  border-width: 2px;
  border-style: solid;
  position: relative;

  .drag-icon: {
    font-size: 24px;
    width: 40px;
    height: 40px;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-shrink: 0;
  }

  .more-btn {
    display: none;
    position: absolute;
    right: 4px;
    top: 4px;
    background: #5e6278;
    border-radius: 8px;
    color: #fff;
    padding: 0 6px;
    @media (max-width: 900px) {
      display: none!important;
    }
  }
  :hover .more-btn {
    display: block;
  }
`,Sge=uD(({item:e,isSelected:t,onSelectLayer:n,onOpenContextMenu:r})=>S("li",{css:{listStyle:"none"},children:me(xge,{css:{borderColor:t?"#3d8eff":"transparent"},onContextMenu:r,onMouseDown:n,children:[me("div",{css:{display:"flex",alignItems:"center"},children:[S("div",{className:"drag-icon",children:S(bge,{})}),S("div",{css:{minWidth:0,flexGrow:1},children:S(DF,{layer:e})}),mg(e)&&S("div",{css:{flexShrink:0,fontSize:24},children:S(ZR,{})})]}),S("div",{className:"more-btn",onMouseDown:r,children:S(GR,{style:{width:16,height:16}})})]},e.id)})),Cge=lD(({items:e,checkIsSelected:t,onOpenContextMenu:n,onSelectLayer:r})=>S("ul",{children:e.map((i,o)=>S(Sge,{item:i,isSelected:t(i.id),onSelectLayer:()=>r(i.id),onOpenContextMenu:n,index:o},`item-${o}`))})),kge=({items:e,checkIsSelected:t,onSelectLayer:n,onOpenContextMenu:r,onChange:i})=>S(Cge,{items:e,checkIsSelected:t,onSelectLayer:n,onOpenContextMenu:r,onSortEnd:o=>{(o==null?void 0:o.newIndex)!==o.oldIndex&&i({layerId:e[o.oldIndex].id,fromIndex:o.oldIndex,toIndex:o.newIndex})}}),Ege=({...e},t)=>{const n=M.useRef({isMultipleSelect:!1}),{selectedLayerIds:r}=Ni(),i=_r(),{layers:o,actions:s,activePage:a}=Ot(y=>({layers:y.pages[y.activePage]&&y.pages[y.activePage].layers,activePage:y.activePage})),l=M.useMemo(()=>{if(o)return wge(o.ROOT.data.child.map(y=>o[y]))},[o]),c=M.useMemo(()=>{if(o)return o.ROOT},[o]);M.useEffect(()=>{const y=C=>{n.current.isMultipleSelect=C.shiftKey};return window.addEventListener("keydown",y),window.addEventListener("keyup",y),()=>{window.removeEventListener("keydown",y),window.removeEventListener("keyup",y)}},[]);const h=y=>r.includes(y),f=y=>{s.selectLayers(a,y,n.current.isMultipleSelect?"add":"replace")},g=y=>{y.preventDefault(),s.showContextMenu(zr(y.nativeEvent))},d=(y,C,x)=>{if(!l)return;const w=l.length-1-x;C>x?s.bringToFront(a,y,w):s.sendToBack(a,y,w)},m=()=>S(Ig.Provider,{value:{pageIndex:a},children:me("div",{css:{width:"100%",height:"100%",display:"flex",flexDirection:"column",overflowY:"auto"},children:[me("div",{css:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,height:50,borderBottom:"1px solid rgba(57,76,96,.15)",padding:"0 20px"},children:[S("p",{css:{lineHeight:"48px",fontWeight:600,color:"#181C32",flexGrow:1},children:"Layers"}),S("div",{css:{fontSize:20,flexShrink:0,width:32,height:32,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>{s.setSidebar()},children:S(dd,{})})]}),S("div",{ref:t,css:{flexGrow:1,overflowY:"auto"},children:me("div",{css:{display:"grid",gridTemplateColumns:"minmax(0,1fr)",gridRowGap:8,padding:16},children:[S(kge,{items:mt.cloneDeep(l),checkIsSelected:h,onSelectLayer:f,onOpenContextMenu:g,onChange:y=>{d(y.layerId,y.fromIndex,y.toIndex)}}),c&&S("div",{css:{background:"#F6F6F6",borderRadius:8,padding:8,cursor:"pointer",position:"relative",borderWidth:2,borderStyle:"solid",borderColor:r.includes(c.id)?"#3d8eff":"transparent"},onMouseDown:()=>{s.selectLayers(a,c.id,n.current.isMultipleSelect?"add":"replace")},children:me("div",{css:{display:"flex",alignItems:"center"},children:[S("div",{css:{width:40,height:40,display:"flex",justifyContent:"center",alignItems:"center",flexShrink:0}}),S("div",{css:{minWidth:0,flexGrow:1},children:S(DF,{layer:c,hiddenChild:!0})}),S("div",{css:{flexShrink:0,fontSize:24},children:S(S6,{})})]})})]})})]})});return i?S(OF,{isOpen:e.open,containerId:"bottom_sheet",dragListener:!1,zIndex:12,style:{paddingBottom:0},onClose:()=>{},children:m()}):S(tb,{...e,children:m()})},Age=M.forwardRef(Ege),Nge=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:me("g",{fill:"currentColor",fillRule:"evenodd",children:[S("path",{d:"M3 2h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1zm0 8h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1zm0 8h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1z"}),S("path",{d:"M11 2h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1zm0 8h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1zm0 8h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1z",opacity:".45"}),S("path",{d:"M19 2h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1zm0 8h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1zm0 8h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1z",opacity:".15"}),S("path",{d:"M7 6h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm0 8h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1z",opacity:".7"}),S("path",{d:"M15 6h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm0 8h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1z",opacity:".3"})]})}),Lge=()=>{const e=_r(),t=M.useRef(null),[n,r]=M.useState(!1),{selectedLayers:i,selectedLayerIds:o}=Ni(),{actions:s,activePage:a,sidebar:l,pageSize:c,isPageLocked:h}=Ot(x=>({activePage:x.activePage,sidebar:x.sidebar,pageSize:x.pageSize,isPageLocked:x.pages[x.activePage]&&x.pages[x.activePage].layers.ROOT.data.locked})),[f,g]=M.useState(c);M.useEffect(()=>{g(c)},[c]);const{transparency:d}=M.useMemo(()=>Object.entries(i).reduce((x,[,w])=>{var E;return hh(w)?x.transparency=Math.max(x.transparency,typeof((E=w.data.props.image)==null?void 0:E.transparency)<"u"?w.data.props.image.transparency:1):x.transparency=Math.max(x.transparency,typeof w.data.props.transparency<"u"?w.data.props.transparency:1),x},{transparency:0}),[i]),m=!!i.find(x=>x.data.locked),y=()=>{m?s.unlock(a,o):s.lock(a,o)},C=x=>{o.forEach(w=>{w==="ROOT"?s.history.throttle(2e3).setProp(a,w,{image:{transparency:x/100}}):s.history.throttle(2e3).setProp(a,w,{transparency:x/100})})};return M.useEffect(()=>{r(!1)},[JSON.stringify(o)]),me(M.Fragment,{children:[me("div",{css:{display:"grid",alignItems:"center",gridAutoFlow:"column",gridGap:8},children:[S(Ur,{css:{minWidth:75},onClick:()=>{s.setSidebar("LAYER_MANAGEMENT")},children:S("span",{css:{padding:"0 4px"},children:"Position"})}),o.length>0&&!m&&!h&&S(M.Fragment,{children:(!hh(i[0])||hh(i[0])&&i[0].data.props.image)&&me(M.Fragment,{children:[S(a2,{}),S(Ur,{ref:t,css:{fontSize:20,minWidth:30},onClick:()=>r(!0),children:S(Nge,{})}),S(Dc,{open:n,anchorEl:t.current,placement:e?"top-end":"bottom-end",onClose:()=>r(!1),offsets:{"bottom-end":{x:0,y:8}},children:S("div",{css:{padding:16},children:S(cd,{label:"Transparency",defaultValue:d*100,onChange:C})})})]})}),o.length>0&&me(jl,{children:[S(a2,{}),me(Ur,{css:{fontSize:20},isActive:m,onClick:y,children:[m&&S(T2,{}),!m&&S(r8,{})]})]})]}),l==="LAYER_MANAGEMENT"&&S(Age,{open:!0})]})},bS=({colors:e,gradient:t,useGradient:n,children:r,onChange:i,onChangeGradient:o,onClickCallback:s})=>{const{actions:a,sidebar:l}=Ot(h=>({sidebar:h.sidebar})),c=M.useMemo(()=>(e.length===0||e.length===1&&new xr(e[0]).white()===100)&&!t?"conic-gradient(red, yellow, lime, aqua, blue, magenta, red)":t?oh(t.colors,t.style):e.map(h=>`linear-gradient(to right, ${h}, ${h})`).join(", "),[e]);return me(M.Fragment,{children:[me(Ur,{onClick:()=>{a.setSidebar("CHOOSING_COLOR"),s&&s()},children:[!r&&S("div",{css:{width:24,height:24,boxShadow:"inset 0 0 0 1px rgba(57,76,96,.15)",borderRadius:2,position:"relative",overflow:"hidden"},children:S("div",{css:{backgroundColor:"#fff",backgroundPosition:"0 0, 6px 6px",backgroundSize:"12px 12px",inset:0,position:"absolute",backgroundImage:"linear-gradient(-45deg,rgba(57,76,96,.15) 25%,transparent 25%,transparent 75%,rgba(57,76,96,.15) 75%),linear-gradient(-45deg,rgba(57,76,96,.15) 25%,transparent 25%,transparent 75%,rgba(57,76,96,.15) 75%)"},children:S("div",{css:{position:"absolute",inset:0,background:c}})})}),r]}),l==="CHOOSING_COLOR"&&S(RF,{open:!0,selected:e.length===1?e[0]:null,gradient:t,useGradient:n,onChangeGradient:o,onSelect:i})]})},_ge=({className:e=""})=>me("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",children:[S("rect",{width:"18",height:"1.5",x:"3",y:"4",fill:"currentColor",rx:".75"}),S("rect",{width:"18",height:"3",x:"3",y:"8.5",fill:"currentColor",rx:"1"}),S("rect",{width:"18",height:"5.5",x:"3",y:"14.5",fill:"currentColor",rx:"1"})]}),Oge=({className:e=""})=>S("svg",{className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S("line",{x2:"24",y1:"50%",y2:"50%",stroke:"currentColor",strokeWidth:"2",shapeRendering:"crispEdges"})}),Pge=({className:e=""})=>S("svg",{className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S("line",{x1:"-1",x2:"25",y1:"50%",y2:"50%",stroke:"currentColor",strokeDasharray:"12 2",strokeWidth:"2",shapeRendering:"crispEdges"})}),Tge=({className:e=""})=>S("svg",{className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S("line",{x1:"1",x2:"23",y1:"50%",y2:"50%",stroke:"currentColor",strokeDasharray:"6 2",strokeWidth:"2",shapeRendering:"crispEdges"})}),Mge=({className:e=""})=>S("svg",{className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S("line",{x1:"1",x2:"23",y1:"50%",y2:"50%",stroke:"currentColor",strokeDasharray:"2 2",strokeWidth:"2",shapeRendering:"crispEdges"})}),Rge=({className:e=""})=>S("svg",{className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.071 19.071c-3.905 3.905-10.237 3.905-14.142 0-3.905-3.905-3.905-10.237 0-14.142 3.905-3.905 10.237-3.905 14.142 0 3.905 3.905 3.905 10.237 0 14.142ZM5.482 17.457 17.457 5.482A8.5 8.5 0 0 0 5.482 17.457Zm1.06 1.06A8.501 8.501 0 0 0 18.519 6.544L6.543 18.518Z",fill:"currentColor"})}),Dge=({className:e=""})=>S("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"24",height:"24",children:S("g",{children:S("rect",{rx:"0.02",strokeWidth:"6",id:"svg_3",height:"18",width:"18",y:"3",x:"3",stroke:"currentColor",fill:"#fff"})})}),Ige=[{type:"none",icon:S(Rge,{})},{type:"solid",icon:S(Oge,{})},{type:"longDashes",icon:S(Pge,{})},{type:"shortDashes",icon:S(Tge,{})},{type:"dots",icon:S(Mge,{})}],zge=({layers:e})=>{const[t,n]=M.useState("background"),r=M.useRef(null),{actions:i,activePage:o}=Ot(E=>({activePage:E.activePage})),[s,a]=M.useState(!1),l=e.reduce((E,N)=>(E<N.data.props.roundedCorners&&(E=N.data.props.roundedCorners),E),0),c=E=>{const N=e.map(_=>_.id);i.history.throttle(2e3).setProp(o,N,{roundedCorners:E})},h=M.useMemo(()=>e.filter(E=>E.data.props.color&&!E.data.props.gradientBackground).map(E=>E.data.props.color),[e]),f=M.useMemo(()=>e.map(E=>E.data.props.gradientBackground).filter(E=>!!E),[e]),g=M.useMemo(()=>{const E=e.map(N=>N.data.props.border).filter(N=>!!N);return E[0]?E[0]:{style:"none",weight:0,color:"rgb(0, 0, 0)"}},[e]),d=E=>{e.forEach(N=>{i.history.throttle(2e3).setProp(o,N.id,{color:E,gradientBackground:null})})},m=E=>{e.forEach(N=>{i.history.throttle(2e3).setProp(o,N.id,{gradientBackground:E})})},y=E=>{e.forEach(N=>{var _,D;i.history.throttle(2e3).setProp(o,N.id,{border:{style:E,weight:E==="none"?0:((_=N.data.props.border)==null?void 0:_.weight)||4,color:((D=N.data.props.border)==null?void 0:D.color)||"rgb(0, 0, 0)"}})})},C=E=>{const N=e.map(_=>_.id);i.history.throttle(2e3).setProp(o,N,{border:{style:(E===0?"none":g.style)||"solid",weight:E,color:g.color}})},x=E=>{const N=e.filter(_=>{var D;return(D=_.data.props.border)==null?void 0:D.weight}).map(_=>_.id);i.history.throttle(2e3).setProp(o,N,{border:{color:E}})},w=E=>{t==="background"?d(E):t==="border"&&x(E)};return S(M.Fragment,{children:me("div",{css:{display:"grid",alignItems:"center",gridAutoFlow:"column",gridGap:8},children:[S(bS,{colors:h,useGradient:!0,gradient:f.length>0?f[0]:null,onChange:w,onChangeGradient:m,onClickCallback:()=>{n("background")}}),g&&g.weight>0&&S(M.Fragment,{children:S(bS,{colors:[g.color],onChange:w,onClickCallback:()=>{n("border")},children:S("div",{css:{width:24,height:24,borderRadius:2,position:"relative",fontSize:24,overflow:"hidden",color:g.color},children:S(Dge,{})})})}),S(Ur,{ref:r,css:{fontSize:20},onClick:()=>a(!0),children:S(_ge,{})}),S(a2,{}),S(Dc,{open:s,anchorEl:r.current,placement:"bottom",onClose:()=>a(!1),offsets:{"bottom-end":{x:0,y:8}},children:me("div",{css:{padding:16,display:"grid",gap:12},children:[S("div",{children:S("div",{css:{display:"grid",gridAutoFlow:"column",alignItems:"center",gap:8},children:Ige.map(E=>S("div",{css:{fontSize:24,borderRadius:4,boxShadow:E.type===(g==null?void 0:g.style)?"inset 0 0 0 2px #3d8eff":"inset 0 0 0 1px rgba(43,59,74,.3)",padding:8,cursor:"pointer",":hover":{boxShadow:E.type!==(g==null?void 0:g.style)?"inset 0 0 0 1px rgba(28,39,48,.5)":void 0}},onClick:()=>y(E.type),children:E.icon},E.type))})}),S(cd,{label:"Border Weight",value:(g==null?void 0:g.weight)||0,onChange:C}),e.length===1&&S(cd,{label:"Corner Rounding",value:l,onChange:c})]})})]})})},Fge=({layer:e})=>{const{actions:t,activePage:n}=Ot(o=>({activePage:o.activePage,sidebar:o.sidebar})),r=M.useMemo(()=>e.data.props.color,[e]),i=M.useMemo(()=>e.data.props.gradientBackground,[e]);return S(bS,{colors:r?[r]:[],gradient:i,useGradient:!0,onChange:o=>{t.history.throttle(2e3).setProp(n,e.id,{color:o,gradientBackground:null})},onChangeGradient:o=>{t.history.throttle(2e3).setProp(n,e.id,{gradientBackground:o,color:null})}})},jge=()=>{const{selectedLayers:e,selectedLayerIds:t}=Ni(),{actions:n,sidebar:r,isPageLocked:i}=Ot(l=>({sidebar:l.sidebar,isPageLocked:l.pages[l.activePage]&&l.pages[l.activePage].layers.ROOT.data.locked})),{rootLayer:o,textLayers:s,shapeLayers:a}=M.useMemo(()=>e.reduce((l,c)=>(c.data.locked||(hh(c)?l.rootLayer=c:Tc(c)?l.textLayers.push(c):X5(c)?l.shapeLayers.push(c):vg(c)&&l.frameLayers.push(c)),l),{textLayers:[],shapeLayers:[],frameLayers:[],rootLayer:null}),[e]);return M.useEffect(()=>{const l=[];r&&r!=="LAYER_MANAGEMENT"&&(e.forEach(c=>{l.push(c.data.type)}),(r&&l.includes("Text")&&!["FONT_FAMILY","TEXT_EFFECT","CHOOSING_COLOR"].includes(r)||r&&(l.includes("Shape")||l.includes("Root"))&&!["CHOOSING_COLOR"].includes(r))&&n.setSidebar())},[r,t]),S("div",{css:{display:"flex",width:"100%",height:"100%",alignItems:"center",justifyContent:"space-between",fontSize:14,fontWeight:600,padding:"0 8px"},children:me("div",{css:{display:"grid",alignItems:"center",gridAutoFlow:"column",gridGap:8,paddingRight:20},children:[o&&!i&&S(Fge,{layer:o}),a.length>0&&!i&&S(zge,{layers:a}),s.length>0&&!i&&S(pge,{layers:s}),S(Lge,{})]})})},Bge=({className:e=""})=>me("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[S("path",{d:"M4.75 5.25a.75.75 0 0 0 0 1.5h11.5a.75.75 0 0 0 0-1.5H4.75ZM4.75 9.25a.75.75 0 0 0 0 1.5h7.5a.75.75 0 0 0 0-1.5h-7.5ZM4 14a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5A.75.75 0 0 1 4 14ZM4.75 17.25a.75.75 0 0 0 0 1.5h1.5a.75.75 0 0 0 0-1.5h-1.5Z",fill:"currentColor"}),S("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.192 8.308a2.04 2.04 0 0 0-2.884 0l-6.9 6.9a4.625 4.625 0 0 0-1.046 1.61l-.945 2.458a.625.625 0 0 0 .807.807l2.458-.945a4.625 4.625 0 0 0 1.61-1.046l6.9-6.9a2.04 2.04 0 0 0 0-2.884Zm-2 .884a.79.79 0 1 1 1.116 1.116l-.558.558-1.116-1.116.558-.558Zm-1.442 1.442L13.384 15l1.116 1.116 4.366-4.366-1.116-1.116Zm-5.458 5.458.208-.208L13.616 17l-.208.208a3.375 3.375 0 0 1-1.175.763l-.761.293-.236-.235.293-.762c.17-.441.43-.841.763-1.175Z",fill:"currentColor"})]}),$ge=({className:e=""})=>S("svg",{className:e,height:"20",viewBox:"0 0 16 16",width:"20",children:S("path",{d:"M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z"})}),Vge=()=>{const e=M.useRef(null),[t,n]=M.useState(!1),{actions:r,activePage:i,totalPages:o,scale:s,isOpenPageSettings:a,isOpenNotes:l}=Ot(h=>({activePage:h.activePage,totalPages:h.pages.length,scale:h.scale,isOpenPageSettings:h.openPageSettings,isOpenNotes:h.sideBarTab==="Notes"})),c=h=>{r.setScale(h/100)};return me("div",{css:{display:"flex",alignItems:"center",padding:"0 8px",fontWeight:700,zIndex:999},children:[S("div",{css:{flexGrow:1},children:me(Il,{isActive:l,onClick:()=>{r.setSidebar(),r.setSidebarTab(l?null:"Notes")},children:[S(Bge,{}),S("span",{css:{padding:"0 4px"},children:"Notes"})]})}),me("div",{css:{flexShrink:0,display:"grid",gridAutoFlow:"column",gridColumnGap:8,alignItems:"center"},children:[me("div",{css:{flexGrow:1},children:["Page ",i+1," / ",o]}),S("div",{css:{height:24,width:"1px",background:"rgba(57,76,96,.15)",margin:"0 8px"}}),S("div",{css:{width:200,paddingRight:8},children:S(cd,{hideInput:!0,hideLabel:!0,value:s*100,min:10,max:500,disabled:a,onChange:c})}),S(Ur,{ref:e,tooltip:"Zoom",onClick:()=>n(!0),children:me("div",{css:{width:48,textAlign:"center"},children:[Math.round(s*100),"%"]})}),S(Dc,{open:t,anchorEl:e.current,placement:"top-end",onClose:()=>n(!1),children:S("div",{css:{padding:"8px 0"},children:[400,500,300,200,150,100,75,50,25,10].map(h=>me("div",{css:{padding:"0 8px",display:"flex",height:40,alignItems:"center",cursor:"pointer",":hover":{backgroundColor:"rgba(64,87,109,.07)"}},onClick:()=>{r.setScale(h/100),n(!1)},children:[me("span",{css:{padding:"0 8px",whiteSpace:"nowrap",flexGrow:1},children:[h,"%"]}),h/100===s&&S(ky,{})]},h))})}),S(Il,{isActive:a,tooltip:"Grid view",onClick:()=>{r.togglePageSettings()},children:S(PF,{})}),S(Il,{tooltip:"Source code",onClick:()=>{r.goToGithubPage()},children:S($ge,{})})]})]})},Uge=()=>{const{selectedLayerIds:e}=Ni();return S("div",{css:{background:"white",borderBottom:"1px solid rgba(57,76,96,.15)",height:50,overflow:"auto",flexShrink:0,"@media (max-width: 900px)":{position:"fixed",bottom:0,left:0,right:0,background:"#fff",display:e.length>0?"flex":"none",justifyContent:"center",zIndex:11,height:65}},children:S(jge,{})})},qge=({data:e,config:t,saving:n,onChanges:r,onDesignNameChanges:i})=>{const o="1.0.62",{getState:s,actions:a,query:l}=Cse(),c=M.useRef(null),[h,f]=M.useState();return M.useEffect(()=>{const g=()=>{f(window.innerHeight)};return window.addEventListener("resize",g),g(),()=>{window.removeEventListener("resize",g)}},[]),S(fd.Provider,{value:{config:t,getState:s,actions:a,query:l},children:me("div",{css:{display:"flex",flexDirection:"column",width:"100vw",height:"100vh",maxHeight:h?`${h}px`:"auto"},children:[S(qse,{logoUrl:t.logoUrl,designName:(e==null?void 0:e.name)||"",saving:n||!1,onChanges:i}),me("div",{css:{display:"flex",flexDirection:"row",flex:"auto",overflow:"auto",background:"#EBECF0","@media (max-width: 900px)":{flexDirection:"column-reverse"}},children:[S("div",{ref:c,css:{display:"flex",background:"white"},children:S(dpe,{version:o})}),me("div",{css:{flexGrow:1,position:"relative",display:"flex",flexDirection:"column",overflow:"auto"},children:[S(Uge,{}),S(gpe,{data:e==null?void 0:e.editorConfig,onChanges:r}),S("div",{css:{height:40,background:"#fff",borderTop:"1px solid rgba(57,76,96,.15)",display:"grid",alignItems:"center",flexShrink:0,zIndex:3,"@media (max-width: 900px)":{display:"none"}},children:S(Vge,{})})]})]})]})})},Wge=[{a:"",b:"",c:{d:{e:{f:"RootLayer"},g:{h:{i:1640,j:924},k:{l:0,m:0},n:0,o:"rgb(0, 0, 0)",p:null,q:null},r:!1,s:["ca_VRMC9TP","ca_Bcpl8by","ca_WMp9UAF","ca_yAERg62","ca_3h1bsYQ","ca_lfHwy04","ca_6DDvf39","ca_lPVWEk4","ca_lUfLwLL"],t:null},ca_VRMC9TP:{e:{f:"FrameLayer"},g:{k:{l:25.670635809198785,m:377.16647633720015},h:{i:433.2307692307692,j:462},n:0,ah:'path("M 34.3461 238.4 C 45.8374 250 60.2653 258.8 76.9915 264.6 C 93.4623 270.2 112.231 273.1 132.788 273.1 C 150.153 273.1 166.496 270.9 181.307 266.7 C 196.501 262.4 209.78 255.7 220.888 246.9 C 231.996 238.1 240.678 227.1 246.935 213.9 C 253.063 201 256.128 185.8 256.128 168.6 L 256.128 160.1 L 178.625 160.1 L 178.625 168.6 C 178.625 177.2 177.476 184.8 175.178 191 C 173.007 196.9 169.943 201.8 166.113 205.5 C 162.41 209.1 158.069 211.7 152.962 213.4 C 147.599 215.2 141.47 216.1 134.703 216.1 C 125.766 216.1 117.977 214.6 111.593 211.8 C 104.954 208.9 99.591 204.7 95.1222 199.1 C 90.398 193.2 86.8229 185.7 84.5247 176.9 C 82.0988 167.7 80.8219 157.1 80.8219 145.5 L 80.8219 127.4 C 80.8219 115.7 81.9711 105.1 84.397 95.9 C 86.6953 87.1 90.1426 79.6 94.7392 73.7 C 99.0803 68.1 104.315 63.9 110.699 61 C 116.956 58.1 124.233 56.7 133.043 56.7 C 139.427 56.7 145.428 57.6 150.536 59.4 C 155.515 61.1 159.856 63.8 163.559 67.4 C 167.39 71.2 170.454 76.1 172.752 82.1 C 175.05 88.4 176.2 96 176.2 104.6 L 176.2 113.1 L 256.255 113.1 L 256.255 104.6 C 256.255 86.9 253.191 71.3 246.935 58.3 C 240.678 45 231.868 33.9 220.76 25.3 C 209.652 16.6 196.245 10.1 181.051 6 C 165.985 2.1 149.77 0 132.66 0 C 112.104 0 93.3347 2.8 76.8638 8.4 C 60.1377 14.2 45.8374 23 34.3461 34.6 C 22.9825 46 14.3002 60.5 8.55461 77.6 C 2.80898 94.3 0 114.1 0 136.6 C 0 159.1 2.80898 178.9 8.55461 195.5 C 14.3002 212.6 22.9825 227 34.3461 238.4 Z")',u:1.6923076923076923,p:{h:{i:256,j:384},k:{l:0,m:-55.5},n:0,aj:"https://canva-editor-api.vercel.app/images/photos/christmas/002.jpg",y:"https://canva-editor-api.vercel.app/images/photos/christmas/006.jpg"},ag:1},r:!1,s:[],t:"ROOT"},ca_Bcpl8by:{e:{f:"TextLayer"},g:{k:{l:68.12582109382848,m:158.88000467155902},h:{i:805.9213867785503,j:237.47011404398754,l:212.81344289254488,m:441.67674400520934},u:3.7693668895871038,n:0,v:`<p style="text-align: center;font-family: 'Alumni Sans Pinstripe Regular';font-size: 45px;color: rgb(255, 255, 255);line-height: 1.4;letter-spacing: normal;"><span style="color: rgb(255, 255, 255);">Canva Editor</span></p>`,w:[{x:"Alumni Sans Pinstripe",a:"Alumni Sans Pinstripe Regular",y:"https://fonts.gstatic.com/s/alumnisanspinstripe/v6/ZgNNjOFFPq_AUJD1umyS30W-Xub8zD1ObhezZ7VIpcDA5w.woff2",z:"regular",aa:[{x:"Alumni Sans Pinstripe",a:"Alumni Sans Pinstripe Italic",y:"https://fonts.gstatic.com/s/alumnisanspinstripe/v6/ZgNDjOFFPq_AUJD1umyS30W-Xub8zD1ObheDYL9Jh8XQ5_cY.woff2",z:"italic"}]}],ab:["rgb(255, 255, 255)"],ac:[45],ad:null,ag:1},r:!1,s:[],t:"ROOT"},ca_WMp9UAF:{e:{f:"ShapeLayer"},g:{k:{l:1018,m:-56.23277270266345},h:{i:1102,j:1102,l:589,m:231},n:0,ah:"M 64 0 L 256 0 L 192 256 L 0 256 L 64 0 Z",u:4.3046875,o:"rgb(230, 0, 18)",q:null,ag:1,ai:{i:256,j:256}},r:!1,s:[],t:"ROOT"},ca_yAERg62:{e:{f:"TextLayer"},g:{k:{l:242.28602042458343,m:377.16647633720015},h:{i:486.4600528044839,j:82.59182118917317,l:175.73573017317892,m:231.94423856945727},u:1.3109812887170342,n:0,v:`<p style="text-align: center;font-family: 'Alfa Slab One Regular';font-size: 45px;color: rgb(0, 0, 0);line-height: 1.4;letter-spacing: 0.182em;"><strong><span style="color: rgb(0, 0, 0);">WELCOME!</span></strong></p>`,w:[{x:"Alfa Slab One",a:"Alfa Slab One Regular",y:"https://fonts.gstatic.com/s/alfaslabone/v19/6NUQ8FmMKwSEKjnm5-4v-4Jh6dBretWvYmE.woff2",z:"regular",aa:[]}],ab:["rgb(0, 0, 0)"],ac:[45],ad:{a:"outline",ae:{af:25,o:"rgb(255, 255, 255)"}},ag:1},r:!1,s:[],t:"ROOT"},ca_3h1bsYQ:{e:{f:"GroupLayer"},g:{k:{l:948.2166993978026,m:215.25829752637338},h:{i:489,j:488.99999999999994},u:1,n:0,ag:1},r:!1,s:["ca_lTHfi2W","ca_rKQqanA"],t:"ROOT"},ca_lTHfi2W:{e:{f:"ShapeLayer"},g:{k:{l:0,m:0},h:{i:489,j:489,l:371,m:73.25829752637338},n:0,ah:"M 128 0 C 57.3076 0 0 57.3076 0 128 C 0 198.692 57.3076 256 128 256 C 198.692 256 256 198.692 256 128 C 256 57.3076 198.692 0 128 0 Z",u:1.91015625,o:"rgb(230, 0, 18)",q:null,ag:1,ai:{i:256,j:256}},r:!1,s:[],t:"ca_3h1bsYQ"},ca_rKQqanA:{e:{f:"FrameLayer"},g:{k:{l:13.5,m:13.5},h:{i:462,j:462},n:0,ah:'path("M 500 250.003 C 500 388.069 388.069 500 250 500 C 111.929 500 0 388.069 0 250.003 C 0 111.93 111.929 0 250 0 C 388.071 0 500 111.93 500 250.003 Z")',u:.924,p:{h:{i:500,j:750},k:{l:0,m:-125},n:0,aj:"https://canva-editor-api.vercel.app/images/photos/animals/003.jpg",y:"https://canva-editor-api.vercel.app/images/photos/animals/003.jpg"},ag:1},r:!1,s:[],t:"ca_3h1bsYQ"},ca_lfHwy04:{e:{f:"FrameLayer"},g:{k:{l:242.28602042458337,m:637.1797140049287},h:{i:179.11321606542015,j:185.41016506772007,l:267.44073740571537,m:525.1087137227618},n:0,ah:'path("M 84.2927 216.353 L 168.697 216.353 L 185.087 265.1 L 256 265.1 L 164.125 0 L 92.0976 0 L 0 265 L 68.3484 265 L 84.2927 216.353 Z M 126.662 87.765 L 149.408 157.977 L 103.582 157.977 L 126.662 87.765 Z")',u:.6996610002555474,p:{h:{i:397.1896955503513,j:265},k:{l:-70.59484777517565,m:0},n:0,aj:"https://canva-editor-api.vercel.app/images/photos/christmas/002.jpg",y:"https://canva-editor-api.vercel.app/images/photos/christmas/009.jpg"},ag:1},r:!1,s:[],t:"ROOT"},ca_6DDvf39:{e:{f:"FrameLayer"},g:{k:{l:435.50758863447305,m:642.0074157543643},h:{i:169.78573193066148,j:175.7547615688488,l:440.9106126133477,m:386.8137962566218},n:0,ah:'path("M 175.868 133.002 L 74.5085 0 L 0 0 L 0 265 L 79.2883 265 L 79.2883 131.998 L 180.789 265 L 256 265 L 256 0 L 175.868 0 Z")',u:.6632255153541464,p:{h:{i:256,j:384},k:{l:0,m:-59.5},n:0,aj:"https://canva-editor-api.vercel.app/images/photos/christmas/002.jpg",y:"https://canva-editor-api.vercel.app/images/photos/christmas/002.jpg"},ag:1},r:!1,s:[],t:"ROOT"},ca_lPVWEk4:{e:{f:"FrameLayer"},g:{k:{l:628.1239746156139,m:642.0074157543643},h:{i:175.62073342135525,j:181.79489983069976,l:647.6353507389581,m:529.9364154721974},n:0,ah:'path("M 182.396 0 L 129.735 157.074 L 76.4769 0 L 0 0 L 93.4717 265 L 162.528 265 L 256 0 Z")',u:.686018489927169,p:{h:{i:256,j:341.2},k:{l:0,m:-38.099999999999994},n:0,aj:"https://canva-editor-api.vercel.app/images/photos/christmas/005.jpg",y:"https://canva-editor-api.vercel.app/images/photos/christmas/005.jpg"},ag:1},r:!1,s:[],t:"ROOT"},ca_lUfLwLL:{e:{f:"FrameLayer"},g:{k:{l:787.0319349205673,m:584.7142794676826},h:{i:230.96806507943268,j:239.08803611738148,l:839.5089399037438,m:453.9119638826185},n:0,ah:'path("M 84.2927 216.353 L 168.697 216.353 L 185.087 265.1 L 256 265.1 L 164.125 0 L 92.0976 0 L 0 265 L 68.3484 265 L 84.2927 216.353 Z M 126.662 87.765 L 149.408 157.977 L 103.582 157.977 L 126.662 87.765 Z")',u:.9022190042165339,p:{h:{i:256,j:383.6},k:{l:0,m:-59.30000000000001},n:0,aj:"https://canva-editor-api.vercel.app/images/photos/birthdays/004.jpg",y:"https://canva-editor-api.vercel.app/images/photos/birthdays/004.jpg"},ag:1},r:!1,s:[],t:"ROOT"}}}],Hge={apis:{url:"https://canva-editor-api.vercel.app/api",searchFonts:"/fonts",searchTemplates:"/templates",searchTexts:"/texts",searchImages:"/images",searchShapes:"/shapes",searchFrames:"/frames",templateKeywordSuggestion:"/template-suggestion",textKeywordSuggestion:"/text-suggestion",imageKeywordSuggestion:"/image-suggestion",shapeKeywordSuggestion:"/shape-suggestion",frameKeywordSuggestion:"/frame-suggestion"},placeholders:{searchTemplate:"Search templates",searchText:"Search texts",searchImage:"Search images",searchShape:"Search shapes",searchFrame:"Search frames"},editorAssetsUrl:"https://canva-editor-api.vercel.app/editor",imageKeywordSuggestions:"animal,sport,love,scene,dog,cat,whale",templateKeywordSuggestions:"mother,sale,discount,fashion,model,deal,motivation,quote"},Gge=()=>{const[e,t]=M.useState(!1);return TS(qge,{data:{name:"",editorConfig:Wge},config:Hge,saving:e,onChanges:o=>{console.log("On changes"),console.log(o),t(!0),setTimeout(()=>{t(!1)},1e3)},onDesignNameChanges:o=>{console.log("On name changes"),console.log(o),t(!0),setTimeout(()=>{t(!1)},1e3)}})};function Kge(){return TS(Gge,{})}X4.createRoot(document.getElementById("root")).render(TS(Kge,{}));export{Al as E,Hn as i,nw as l};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}